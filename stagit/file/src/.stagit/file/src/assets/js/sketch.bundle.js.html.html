<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>sketch.bundle.js.html - bitbyte-blog - Unnamed repository; edit this file &#39;description&#39; to name the repository.
</title>
<link rel="icon" type="image/png" href="../../../../../../../favicon.png" />
<link rel="alternate" type="application/atom+xml" title="bitbyte-blog Atom Feed" href="../../../../../../../atom.xml" />
<link rel="alternate" type="application/atom+xml" title="bitbyte-blog Atom Feed (tags)" href="../../../../../../../tags.xml" />
<link rel="stylesheet" type="text/css" href="../../../../../../../style.css" />
</head>
<body>
<table><tr><td><a href="../../../../../../../../"><img src="../../../../../../../logo.png" alt="" width="32" height="32" /></a></td><td><h1>bitbyte-blog</h1><span class="desc">Unnamed repository; edit this file &#39;description&#39; to name the repository.
</span></td></tr><tr><td></td><td>
<a href="../../../../../../../log.html">Log</a> | <a href="../../../../../../../files.html">Files</a> | <a href="../../../../../../../refs.html">Refs</a> | <a href="../../../../../../../file/LICENSE.html">LICENSE</a></td></tr></table>
<hr/>
<div id="content">
<p> sketch.bundle.js.html (1384461B)</p><hr/><pre id="blob">
<a href="#l1" class="line" id="l1">      1</a> &lt;!DOCTYPE html&gt;
<a href="#l2" class="line" id="l2">      2</a> &lt;html&gt;
<a href="#l3" class="line" id="l3">      3</a> &lt;head&gt;
<a href="#l4" class="line" id="l4">      4</a> &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;
<a href="#l5" class="line" id="l5">      5</a> &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot; /&gt;
<a href="#l6" class="line" id="l6">      6</a> &lt;title&gt;sketch.bundle.js - bitbyte-blog - Unnamed repository; edit this file &amp;#39;description&amp;#39; to name the repository.
<a href="#l7" class="line" id="l7">      7</a> &lt;/title&gt;
<a href="#l8" class="line" id="l8">      8</a> &lt;link rel=&quot;icon&quot; type=&quot;image/png&quot; href=&quot;../../../../favicon.png&quot; /&gt;
<a href="#l9" class="line" id="l9">      9</a> &lt;link rel=&quot;alternate&quot; type=&quot;application/atom+xml&quot; title=&quot;bitbyte-blog Atom Feed&quot; href=&quot;../../../../atom.xml&quot; /&gt;
<a href="#l10" class="line" id="l10">     10</a> &lt;link rel=&quot;alternate&quot; type=&quot;application/atom+xml&quot; title=&quot;bitbyte-blog Atom Feed (tags)&quot; href=&quot;../../../../tags.xml&quot; /&gt;
<a href="#l11" class="line" id="l11">     11</a> &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;../../../../style.css&quot; /&gt;
<a href="#l12" class="line" id="l12">     12</a> &lt;/head&gt;
<a href="#l13" class="line" id="l13">     13</a> &lt;body&gt;
<a href="#l14" class="line" id="l14">     14</a> &lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;a href=&quot;../../../../../&quot;&gt;&lt;img src=&quot;../../../../logo.png&quot; alt=&quot;&quot; width=&quot;32&quot; height=&quot;32&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;td&gt;&lt;h1&gt;bitbyte-blog&lt;/h1&gt;&lt;span class=&quot;desc&quot;&gt;Unnamed repository; edit this file &amp;#39;description&amp;#39; to name the repository.
<a href="#l15" class="line" id="l15">     15</a> &lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;
<a href="#l16" class="line" id="l16">     16</a> &lt;a href=&quot;../../../../log.html&quot;&gt;Log&lt;/a&gt; | &lt;a href=&quot;../../../../files.html&quot;&gt;Files&lt;/a&gt; | &lt;a href=&quot;../../../../refs.html&quot;&gt;Refs&lt;/a&gt; | &lt;a href=&quot;../../../../file/LICENSE.html&quot;&gt;LICENSE&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
<a href="#l17" class="line" id="l17">     17</a> &lt;hr/&gt;
<a href="#l18" class="line" id="l18">     18</a> &lt;div id=&quot;content&quot;&gt;
<a href="#l19" class="line" id="l19">     19</a> &lt;p&gt; sketch.bundle.js (1118457B)&lt;/p&gt;&lt;hr/&gt;&lt;pre id=&quot;blob&quot;&gt;
<a href="#l20" class="line" id="l20">     20</a> &lt;a href=&quot;#l1&quot; class=&quot;line&quot; id=&quot;l1&quot;&gt;      1&lt;/a&gt; (()=&amp;gt;{var qy=Object.create;var Yo=Object.defineProperty;var Zy=Object.getOwnPropertyDescriptor;var Yy=Object.getOwnPropertyNames;var Xy=Object.getPrototypeOf,Ky=Object.prototype.hasOwnProperty;var ln=(i,t)=&amp;gt;()=&amp;gt;(i&amp;amp;&amp;amp;(t=i(i=0)),t);var ut=(i,t)=&amp;gt;()=&amp;gt;(t||i((t={exports:{}}).exports,t),t.exports),Jy=(i,t)=&amp;gt;{for(var r in t)Yo(i,r,{get:t[r],enumerable:!0})},ed=(i,t,r,n)=&amp;gt;{if(t&amp;amp;&amp;amp;typeof t==&amp;quot;object&amp;quot;||typeof t==&amp;quot;function&amp;quot;)for(let s of Yy(t))!Ky.call(i,s)&amp;amp;&amp;amp;s!==r&amp;amp;&amp;amp;Yo(i,s,{get:()=&amp;gt;t[s],enumerable:!(n=Zy(t,s))||n.enumerable});return i};var Se=(i,t,r)=&amp;gt;(r=i!=null?qy(Xy(i)):{},ed(t||!i||!i.__esModule?Yo(r,&amp;quot;default&amp;quot;,{value:i,enumerable:!0}):r,i)),Qy=i=&amp;gt;ed(Yo({},&amp;quot;__esModule&amp;quot;,{value:!0}),i);var Bt=ut((Qd,Pu)=&amp;gt;{var Yh=Yh||function(i){&amp;quot;use strict&amp;quot;;if(!(typeof i&amp;gt;&amp;quot;u&amp;quot;||typeof navigator&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;/MSIE [1-9]\./.test(navigator.userAgent))){var t=i.document,r=function(){return i.URL||i.webkitURL||i},n=t.createElementNS(&amp;quot;http://www.w3.org/1999/xhtml&amp;quot;,&amp;quot;a&amp;quot;),s=&amp;quot;download&amp;quot;in n,a=function(w){var y=new MouseEvent(&amp;quot;click&amp;quot;);w.dispatchEvent(y)},o=/constructor/i.test(i.HTMLElement)||i.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent),h=function(w){(i.setImmediate||i.setTimeout)(function(){throw w},0)},l=&amp;quot;application/octet-stream&amp;quot;,c=1e3*40,p=function(w){var y=function(){typeof w==&amp;quot;string&amp;quot;?r().revokeObjectURL(w):w.remove()};setTimeout(y,c)},f=function(w,y,S){y=[].concat(y);for(var _=y.length;_--;){var b=w[&amp;quot;on&amp;quot;+y[_]];if(typeof b==&amp;quot;function&amp;quot;)try{b.call(w,S||w)}catch(I){h(I)}}},d=function(w){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(w.type)?new Blob([&amp;quot;\uFEFF&amp;quot;,w],{type:w.type}):w},m=function(w,y,S){S||(w=d(w));var _=this,b=w.type,I=b===l,E,A=function(){f(_,&amp;quot;writestart progress write writeend&amp;quot;.split(&amp;quot; &amp;quot;))},C=function(){if((u||I&amp;amp;&amp;amp;o)&amp;amp;&amp;amp;i.FileReader){var T=new FileReader;T.onloadend=function(){var F=u?T.result:T.result.replace(/^data:[^;]*;/,&amp;quot;data:attachment/file;&amp;quot;),N=i.open(F,&amp;quot;_blank&amp;quot;);N||(i.location.href=F),F=void 0,_.readyState=_.DONE,A()},T.readAsDataURL(w),_.readyState=_.INIT;return}if(E||(E=r().createObjectURL(w)),I)i.location.href=E;else{var D=i.open(E,&amp;quot;_blank&amp;quot;);D||(i.location.href=E)}_.readyState=_.DONE,A(),p(E)};if(_.readyState=_.INIT,s){E=r().createObjectURL(w),setTimeout(function(){n.href=E,n.download=y,a(n),A(),p(E),_.readyState=_.DONE});return}C()},g=m.prototype,v=function(w,y,S){return new m(w,y||w.name||&amp;quot;download&amp;quot;,S)};return typeof navigator&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;navigator.msSaveOrOpenBlob?function(w,y,S){return y=y||w.name||&amp;quot;download&amp;quot;,S||(w=d(w)),navigator.msSaveOrOpenBlob(w,y)}:(g.abort=function(){},g.readyState=g.INIT=0,g.WRITING=1,g.DONE=2,g.error=g.onwritestart=g.onprogress=g.onwrite=g.onabort=g.onerror=g.onwriteend=null,v)}}(typeof self&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;self||typeof window&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;window||Qd.content);typeof Pu&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;Pu.exports?Pu.exports.saveAs=Yh:typeof define&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;define!==null&amp;amp;&amp;amp;define.amd!==null&amp;amp;&amp;amp;define(&amp;quot;FileSaver.js&amp;quot;,function(){return Yh})});var or=ut(ec=&amp;gt;{&amp;quot;use strict&amp;quot;;function Bx(i,t,r,a){var s=0,a=a===void 0?{}:a,o=a.loop===void 0?null:a.loop,u=a.palette===void 0?null:a.palette;if(t&amp;lt;=0||r&amp;lt;=0||t&amp;gt;65535||r&amp;gt;65535)throw new Error(&amp;quot;Width/Height invalid.&amp;quot;);function h(v){var w=v.length;if(w&amp;lt;2||w&amp;gt;256||w&amp;amp;w-1)throw new Error(&amp;quot;Invalid code/color length, must be power of 2 and 2 .. 256.&amp;quot;);return w}i[s++]=71,i[s++]=73,i[s++]=70,i[s++]=56,i[s++]=57,i[s++]=97;var l=0,c=0;if(u!==null){for(var p=h(u);p&amp;gt;&amp;gt;=1;)++l;if(p=1&amp;lt;&amp;lt;l,--l,a.background!==void 0){if(c=a.background,c&amp;gt;=p)throw new Error(&amp;quot;Background index out of range.&amp;quot;);if(c===0)throw new Error(&amp;quot;Background index explicitly passed as 0.&amp;quot;)}}if(i[s++]=t&amp;amp;255,i[s++]=t&amp;gt;&amp;gt;8&amp;amp;255,i[s++]=r&amp;amp;255,i[s++]=r&amp;gt;&amp;gt;8&amp;amp;255,i[s++]=(u!==null?128:0)|l,i[s++]=c,i[s++]=0,u!==null)for(var f=0,d=u.length;f&amp;lt;d;++f){var m=u[f];i[s++]=m&amp;gt;&amp;gt;16&amp;amp;255,i[s++]=m&amp;gt;&amp;gt;8&amp;amp;255,i[s++]=m&amp;amp;255}if(o!==null){if(o&amp;lt;0||o&amp;gt;65535)throw new Error(&amp;quot;Loop count invalid.&amp;quot;);i[s++]=33,i[s++]=255,i[s++]=11,i[s++]=78,i[s++]=69,i[s++]=84,i[s++]=83,i[s++]=67,i[s++]=65,i[s++]=80,i[s++]=69,i[s++]=50,i[s++]=46,i[s++]=48,i[s++]=3,i[s++]=1,i[s++]=o&amp;amp;255,i[s++]=o&amp;gt;&amp;gt;8&amp;amp;255,i[s++]=0}var g=!1;this.addFrame=function(v,w,y,S,_,b){if(g===!0&amp;amp;&amp;amp;(--s,g=!1),b=b===void 0?{}:b,v&amp;lt;0||w&amp;lt;0||v&amp;gt;65535||w&amp;gt;65535)throw new Error(&amp;quot;x/y invalid.&amp;quot;);if(y&amp;lt;=0||S&amp;lt;=0||y&amp;gt;65535||S&amp;gt;65535)throw new Error(&amp;quot;Width/Height invalid.&amp;quot;);if(_.length&amp;lt;y*S)throw new Error(&amp;quot;Not enough pixels for the frame size.&amp;quot;);var I=!0,E=b.palette;if(E==null&amp;amp;&amp;amp;(I=!1,E=u),E==null)throw new Error(&amp;quot;Must supply either a local or global palette.&amp;quot;);for(var A=h(E),C=0;A&amp;gt;&amp;gt;=1;)++C;A=1&amp;lt;&amp;lt;C;var T=b.delay===void 0?0:b.delay,D=b.disposal===void 0?0:b.disposal;if(D&amp;lt;0||D&amp;gt;3)throw new Error(&amp;quot;Disposal out of range.&amp;quot;);var F=!1,N=0;if(b.transparent!==void 0&amp;amp;&amp;amp;b.transparent!==null&amp;amp;&amp;amp;(F=!0,N=b.transparent,N&amp;lt;0||N&amp;gt;=A))throw new Error(&amp;quot;Transparent color index.&amp;quot;);if((D!==0||F||T!==0)&amp;amp;&amp;amp;(i[s++]=33,i[s++]=249,i[s++]=4,i[s++]=D&amp;lt;&amp;lt;2|(F===!0?1:0),i[s++]=T&amp;amp;255,i[s++]=T&amp;gt;&amp;gt;8&amp;amp;255,i[s++]=N,i[s++]=0),i[s++]=44,i[s++]=v&amp;amp;255,i[s++]=v&amp;gt;&amp;gt;8&amp;amp;255,i[s++]=w&amp;amp;255,i[s++]=w&amp;gt;&amp;gt;8&amp;amp;255,i[s++]=y&amp;amp;255,i[s++]=y&amp;gt;&amp;gt;8&amp;amp;255,i[s++]=S&amp;amp;255,i[s++]=S&amp;gt;&amp;gt;8&amp;amp;255,i[s++]=I===!0?128|C-1:0,I===!0)for(var B=0,U=E.length;B&amp;lt;U;++B){var j=E[B];i[s++]=j&amp;gt;&amp;gt;16&amp;amp;255,i[s++]=j&amp;gt;&amp;gt;8&amp;amp;255,i[s++]=j&amp;amp;255}return s=Px(i,s,C&amp;lt;2?2:C,_),s},this.end=function(){return g===!1&amp;amp;&amp;amp;(i[s++]=59,g=!0),s},this.getOutputBuffer=function(){return i},this.setOutputBuffer=function(v){i=v},this.getOutputBufferPosition=function(){return s},this.setOutputBufferPosition=function(v){s=v}}function Px(i,t,r,n){i[t++]=r;var s=t++,a=1&amp;lt;&amp;lt;r,o=a-1,u=a+1,h=u+1,l=r+1,c=0,p=0;function f(b){for(;c&amp;gt;=b;)i[t++]=p&amp;amp;255,p&amp;gt;&amp;gt;=8,c-=8,t===s+256&amp;amp;&amp;amp;(i[s]=255,s=t++)}function d(b){p|=b&amp;lt;&amp;lt;c,c+=l,f(8)}var m=n[0]&amp;amp;o,g={};d(a);for(var v=1,w=n.length;v&amp;lt;w;++v){var y=n[v]&amp;amp;o,S=m&amp;lt;&amp;lt;8|y,_=g[S];if(_===void 0){for(p|=m&amp;lt;&amp;lt;c,c+=l;c&amp;gt;=8;)i[t++]=p&amp;amp;255,p&amp;gt;&amp;gt;=8,c-=8,t===s+256&amp;amp;&amp;amp;(i[s]=255,s=t++);h===4096?(d(a),h=u+1,l=r+1,g={}):(h&amp;gt;=1&amp;lt;&amp;lt;l&amp;amp;&amp;amp;++l,g[S]=h++),m=y}else m=_}return d(m),d(u),f(1),s+1===t?i[s]=0:(i[s]=t-s-1,i[t++]=0),t}function Ox(i){var t=0;if(i[t++]!==71||i[t++]!==73||i[t++]!==70||i[t++]!==56||(i[t++]+1&amp;amp;253)!==56||i[t++]!==97)throw new Error(&amp;quot;Invalid GIF 87a/89a header.&amp;quot;);var r=i[t++]|i[t++]&amp;lt;&amp;lt;8,n=i[t++]|i[t++]&amp;lt;&amp;lt;8,s=i[t++],a=s&amp;gt;&amp;gt;7,o=s&amp;amp;7,u=1&amp;lt;&amp;lt;o+1,h=i[t++];i[t++];var l=null,c=null;a&amp;amp;&amp;amp;(l=t,c=u,t+=u*3);var p=!0,f=[],d=0,m=null,g=0,v=null;for(this.width=r,this.height=n;p&amp;amp;&amp;amp;t&amp;lt;i.length;)switch(i[t++]){case 33:switch(i[t++]){case 255:if(i[t]!==11||i[t+1]==78&amp;amp;&amp;amp;i[t+2]==69&amp;amp;&amp;amp;i[t+3]==84&amp;amp;&amp;amp;i[t+4]==83&amp;amp;&amp;amp;i[t+5]==67&amp;amp;&amp;amp;i[t+6]==65&amp;amp;&amp;amp;i[t+7]==80&amp;amp;&amp;amp;i[t+8]==69&amp;amp;&amp;amp;i[t+9]==50&amp;amp;&amp;amp;i[t+10]==46&amp;amp;&amp;amp;i[t+11]==48&amp;amp;&amp;amp;i[t+12]==3&amp;amp;&amp;amp;i[t+13]==1&amp;amp;&amp;amp;i[t+16]==0)t+=14,v=i[t++]|i[t++]&amp;lt;&amp;lt;8,t++;else for(t+=12;;){var w=i[t++];if(!(w&amp;gt;=0))throw Error(&amp;quot;Invalid block size&amp;quot;);if(w===0)break;t+=w}break;case 249:if(i[t++]!==4||i[t+4]!==0)throw new Error(&amp;quot;Invalid graphics extension block.&amp;quot;);var y=i[t++];d=i[t++]|i[t++]&amp;lt;&amp;lt;8,m=i[t++],(y&amp;amp;1)===0&amp;amp;&amp;amp;(m=null),g=y&amp;gt;&amp;gt;2&amp;amp;7,t++;break;case 254:for(;;){var w=i[t++];if(!(w&amp;gt;=0))throw Error(&amp;quot;Invalid block size&amp;quot;);if(w===0)break;t+=w}break;default:throw new Error(&amp;quot;Unknown graphic control label: 0x&amp;quot;+i[t-1].toString(16))}break;case 44:var S=i[t++]|i[t++]&amp;lt;&amp;lt;8,_=i[t++]|i[t++]&amp;lt;&amp;lt;8,b=i[t++]|i[t++]&amp;lt;&amp;lt;8,I=i[t++]|i[t++]&amp;lt;&amp;lt;8,E=i[t++],A=E&amp;gt;&amp;gt;7,C=E&amp;gt;&amp;gt;6&amp;amp;1,T=E&amp;amp;7,D=1&amp;lt;&amp;lt;T+1,F=l,N=c,B=!1;if(A){var B=!0;F=t,N=D,t+=D*3}var U=t;for(t++;;){var w=i[t++];if(!(w&amp;gt;=0))throw Error(&amp;quot;Invalid block size&amp;quot;);if(w===0)break;t+=w}f.push({x:S,y:_,width:b,height:I,has_local_palette:B,palette_offset:F,palette_size:N,data_offset:U,data_length:t-U,transparent_index:m,interlaced:!!C,delay:d,disposal:g});break;case 59:p=!1;break;default:throw new Error(&amp;quot;Unknown gif block: 0x&amp;quot;+i[t-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return v},this.frameInfo=function(j){if(j&amp;lt;0||j&amp;gt;=f.length)throw new Error(&amp;quot;Frame index out of range.&amp;quot;);return f[j]},this.decodeAndBlitFrameBGRA=function(j,W){var te=this.frameInfo(j),X=te.width*te.height,Z=new Uint8Array(X);rm(i,te.data_offset,Z,X);var G=te.palette_offset,q=te.transparent_index;q===null&amp;amp;&amp;amp;(q=256);var J=te.width,Y=r-J,Q=J,fe=(te.y*r+te.x)*4,de=((te.y+te.height)*r+te.x)*4,me=fe,ie=Y*4;te.interlaced===!0&amp;amp;&amp;amp;(ie+=r*4*7);for(var ee=8,se=0,ce=Z.length;se&amp;lt;ce;++se){var ue=Z[se];if(Q===0&amp;amp;&amp;amp;(me+=ie,Q=J,me&amp;gt;=de&amp;amp;&amp;amp;(ie=Y*4+r*4*(ee-1),me=fe+(J+Y)*(ee&amp;lt;&amp;lt;1),ee&amp;gt;&amp;gt;=1)),ue===q)me+=4;else{var pe=i[G+ue*3],O=i[G+ue*3+1],P=i[G+ue*3+2];W[me++]=P,W[me++]=O,W[me++]=pe,W[me++]=255}--Q}},this.decodeAndBlitFrameRGBA=function(j,W){var te=this.frameInfo(j),X=te.width*te.height,Z=new Uint8Array(X);rm(i,te.data_offset,Z,X);var G=te.palette_offset,q=te.transparent_index;q===null&amp;amp;&amp;amp;(q=256);var J=te.width,Y=r-J,Q=J,fe=(te.y*r+te.x)*4,de=((te.y+te.height)*r+te.x)*4,me=fe,ie=Y*4;te.interlaced===!0&amp;amp;&amp;amp;(ie+=r*4*7);for(var ee=8,se=0,ce=Z.length;se&amp;lt;ce;++se){var ue=Z[se];if(Q===0&amp;amp;&amp;amp;(me+=ie,Q=J,me&amp;gt;=de&amp;amp;&amp;amp;(ie=Y*4+r*4*(ee-1),me=fe+(J+Y)*(ee&amp;lt;&amp;lt;1),ee&amp;gt;&amp;gt;=1)),ue===q)me+=4;else{var pe=i[G+ue*3],O=i[G+ue*3+1],P=i[G+ue*3+2];W[me++]=pe,W[me++]=O,W[me++]=P,W[me++]=255}--Q}}}function rm(i,t,r,n){for(var s=i[t++],a=1&amp;lt;&amp;lt;s,o=a+1,u=o+1,h=s+1,l=(1&amp;lt;&amp;lt;h)-1,c=0,p=0,f=0,d=i[t++],m=new Int32Array(4096),g=null;;){for(;c&amp;lt;16&amp;amp;&amp;amp;d!==0;)p|=i[t++]&amp;lt;&amp;lt;c,c+=8,d===1?d=i[t++]:--d;if(c&amp;lt;h)break;var v=p&amp;amp;l;if(p&amp;gt;&amp;gt;=h,c-=h,v===a){u=o+1,h=s+1,l=(1&amp;lt;&amp;lt;h)-1,g=null;continue}else if(v===o)break;for(var w=v&amp;lt;u?v:g,y=0,S=w;S&amp;gt;a;)S=m[S]&amp;gt;&amp;gt;8,++y;var _=S,b=f+y+(w!==v?1:0);if(b&amp;gt;n){console.log(&amp;quot;Warning, gif stream longer than expected.&amp;quot;);return}r[f++]=_,f+=y;var I=f;for(w!==v&amp;amp;&amp;amp;(r[f++]=_),S=w;y--;)S=m[S],r[--I]=S&amp;amp;255,S&amp;gt;&amp;gt;=8;g!==null&amp;amp;&amp;amp;u&amp;lt;4096&amp;amp;&amp;amp;(m[u++]=g&amp;lt;&amp;lt;8|_,u&amp;gt;=l+1&amp;amp;&amp;amp;h&amp;lt;12&amp;amp;&amp;amp;(++h,l=l&amp;lt;&amp;lt;1|1)),g=v}return f!==n&amp;amp;&amp;amp;console.log(&amp;quot;Warning, gif stream shorter than expected.&amp;quot;),r}try{ec.GifWriter=Bx,ec.GifReader=Ox}catch{}});var ur=ut(nc=&amp;gt;{var um=Object.defineProperty,Ux=i=&amp;gt;um(i,&amp;quot;__esModule&amp;quot;,{value:!0}),Gx=(i,t)=&amp;gt;{for(var r in t)um(i,r,{get:t[r],enumerable:!0})};Ux(nc);Gx(nc,{GIFEncoder:()=&amp;gt;mm,applyPalette:()=&amp;gt;Xx,default:()=&amp;gt;ab,nearestColor:()=&amp;gt;eb,nearestColorIndex:()=&amp;gt;pm,nearestColorIndexWithDistance:()=&amp;gt;dm,prequantize:()=&amp;gt;Yx,quantize:()=&amp;gt;qx,snapColorsToPalette:()=&amp;gt;Qx});var zx={signature:&amp;quot;GIF&amp;quot;,version:&amp;quot;89a&amp;quot;,trailer:59,extensionIntroducer:33,applicationExtensionLabel:255,graphicControlExtensionLabel:249,imageSeparator:44,signatureSize:3,versionSize:3,globalColorTableFlagMask:128,colorResolutionMask:112,sortFlagMask:8,globalColorTableSizeMask:7,applicationIdentifierSize:8,applicationAuthCodeSize:3,disposalMethodMask:28,userInputFlagMask:2,transparentColorFlagMask:1,localColorTableFlagMask:128,interlaceFlagMask:64,idSortFlagMask:32,localColorTableSizeMask:7};function lm(i=256){let t=0,r=new Uint8Array(i);return{get buffer(){return r.buffer},reset(){t=0},bytesView(){return r.subarray(0,t)},bytes(){return r.slice(0,t)},writeByte(s){n(t+1),r[t]=s,t++},writeBytes(s,a=0,o=s.length){n(t+o);for(let u=0;u&amp;lt;o;u++)r[t++]=s[u+a]},writeBytesView(s,a=0,o=s.byteLength){n(t+o),r.set(s.subarray(a,a+o),t),t+=o}};function n(s){var a=r.length;if(a&amp;gt;=s)return;var o=1024*1024;s=Math.max(s,a*(a&amp;lt;o?2:1.125)&amp;gt;&amp;gt;&amp;gt;0),a!=0&amp;amp;&amp;amp;(s=Math.max(s,256));let u=r;r=new Uint8Array(s),t&amp;gt;0&amp;amp;&amp;amp;r.set(u.subarray(0,t),0)}}var tc=12,sm=5003,jx=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535];function $x(i,t,r,n,s=lm(512),a=new Uint8Array(256),o=new Int32Array(sm),u=new Int32Array(sm)){let h=o.length,l=Math.max(2,n);a.fill(0),u.fill(0),o.fill(-1);let c=0,p=0,f=l+1,d=f,m=!1,g=d,v=(1&amp;lt;&amp;lt;g)-1,w=1&amp;lt;&amp;lt;f-1,y=w+1,S=w+2,_=0,b=r[0],I=0;for(let C=h;C&amp;lt;65536;C*=2)++I;I=8-I,s.writeByte(l),A(w);let E=r.length;for(let C=1;C&amp;lt;E;C++)e:{let T=r[C],D=(T&amp;lt;&amp;lt;tc)+b,F=T&amp;lt;&amp;lt;I^b;if(o[F]===D){b=u[F];break e}let N=F===0?1:h-F;for(;o[F]&amp;gt;=0;)if(F-=N,F&amp;lt;0&amp;amp;&amp;amp;(F+=h),o[F]===D){b=u[F];break e}A(b),b=T,S&amp;lt;1&amp;lt;&amp;lt;tc?(u[F]=S++,o[F]=D):(o.fill(-1),S=w+2,m=!0,A(w))}return A(b),A(y),s.writeByte(0),s.bytesView();function A(C){for(c&amp;amp;=jx[p],p&amp;gt;0?c|=C&amp;lt;&amp;lt;p:c=C,p+=g;p&amp;gt;=8;)a[_++]=c&amp;amp;255,_&amp;gt;=254&amp;amp;&amp;amp;(s.writeByte(_),s.writeBytesView(a,0,_),_=0),c&amp;gt;&amp;gt;=8,p-=8;if((S&amp;gt;v||m)&amp;amp;&amp;amp;(m?(g=d,v=(1&amp;lt;&amp;lt;g)-1,m=!1):(++g,v=g===tc?1&amp;lt;&amp;lt;g:(1&amp;lt;&amp;lt;g)-1)),C==y){for(;p&amp;gt;0;)a[_++]=c&amp;amp;255,_&amp;gt;=254&amp;amp;&amp;amp;(s.writeByte(_),s.writeBytesView(a,0,_),_=0),c&amp;gt;&amp;gt;=8,p-=8;_&amp;gt;0&amp;amp;&amp;amp;(s.writeByte(_),s.writeBytesView(a,0,_),_=0)}}}var Hx=$x;function hm(i,t,r){return i&amp;lt;&amp;lt;8&amp;amp;63488|t&amp;lt;&amp;lt;2&amp;amp;992|r&amp;gt;&amp;gt;3}function cm(i,t,r,n){return i&amp;gt;&amp;gt;4|t&amp;amp;240|(r&amp;amp;240)&amp;lt;&amp;lt;4|(n&amp;amp;240)&amp;lt;&amp;lt;8}function fm(i,t,r){return i&amp;gt;&amp;gt;4&amp;lt;&amp;lt;8|t&amp;amp;240|r&amp;gt;&amp;gt;4}function Vu(i,t,r){return i&amp;lt;t?t:i&amp;gt;r?r:i}function Za(i){return i*i}function am(i,t,r){var n=0,s=1e100;let a=i[t],o=a.cnt,u=a.ac,h=a.rc,l=a.gc,c=a.bc;for(var p=a.fw;p!=0;p=i[p].fw){let d=i[p],m=d.cnt,g=o*m/(o+m);if(!(g&amp;gt;=s)){var f=0;r&amp;amp;&amp;amp;(f+=g*Za(d.ac-u),f&amp;gt;=s)||(f+=g*Za(d.rc-h),!(f&amp;gt;=s)&amp;amp;&amp;amp;(f+=g*Za(d.gc-l),!(f&amp;gt;=s)&amp;amp;&amp;amp;(f+=g*Za(d.bc-c),!(f&amp;gt;=s)&amp;amp;&amp;amp;(s=f,n=p))))}}a.err=s,a.nn=n}function rc(){return{ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0}}function Wx(i,t){let r=t===&amp;quot;rgb444&amp;quot;?4096:65536,n=new Array(r),s=i.length;if(t===&amp;quot;rgba4444&amp;quot;)for(let a=0;a&amp;lt;s;++a){let o=i[a],u=o&amp;gt;&amp;gt;24&amp;amp;255,h=o&amp;gt;&amp;gt;16&amp;amp;255,l=o&amp;gt;&amp;gt;8&amp;amp;255,c=o&amp;amp;255,p=cm(c,l,h,u),f=p in n?n[p]:n[p]=rc();f.rc+=c,f.gc+=l,f.bc+=h,f.ac+=u,f.cnt++}else if(t===&amp;quot;rgb444&amp;quot;)for(let a=0;a&amp;lt;s;++a){let o=i[a],u=o&amp;gt;&amp;gt;16&amp;amp;255,h=o&amp;gt;&amp;gt;8&amp;amp;255,l=o&amp;amp;255,c=fm(l,h,u),p=c in n?n[c]:n[c]=rc();p.rc+=l,p.gc+=h,p.bc+=u,p.cnt++}else for(let a=0;a&amp;lt;s;++a){let o=i[a],u=o&amp;gt;&amp;gt;16&amp;amp;255,h=o&amp;gt;&amp;gt;8&amp;amp;255,l=o&amp;amp;255,c=hm(l,h,u),p=c in n?n[c]:n[c]=rc();p.rc+=l,p.gc+=h,p.bc+=u,p.cnt++}return n}function qx(i,t,r={}){let{format:n=&amp;quot;rgb565&amp;quot;,clearAlpha:s=!0,clearAlphaColor:a=0,clearAlphaThreshold:o=0,oneBitAlpha:u=!1}=r;if(!i||!i.buffer)throw new Error(&amp;quot;quantize() expected RGBA Uint8Array data&amp;quot;);if(!(i instanceof Uint8Array)&amp;amp;&amp;amp;!(i instanceof Uint8ClampedArray))throw new Error(&amp;quot;quantize() expected RGBA Uint8Array data&amp;quot;);let h=new Uint32Array(i.buffer),l=r.useSqrt!==!1,c=n===&amp;quot;rgba4444&amp;quot;,p=Wx(h,n),f=p.length,d=f-1,m=new Uint32Array(f+1);for(var g=0,w=0;w&amp;lt;f;++w){let U=p[w];if(U!=null){var v=1/U.cnt;c&amp;amp;&amp;amp;(U.ac*=v),U.rc*=v,U.gc*=v,U.bc*=v,p[g++]=U}}Za(t)/g&amp;lt;.022&amp;amp;&amp;amp;(l=!1);for(var w=0;w&amp;lt;g-1;++w)p[w].fw=w+1,p[w+1].bk=w,l&amp;amp;&amp;amp;(p[w].cnt=Math.sqrt(p[w].cnt));l&amp;amp;&amp;amp;(p[w].cnt=Math.sqrt(p[w].cnt));var y,S,_;for(w=0;w&amp;lt;g;++w){am(p,w,!1);var b=p[w].err;for(S=++m[0];S&amp;gt;1&amp;amp;&amp;amp;(_=S&amp;gt;&amp;gt;1,!(p[y=m[_]].err&amp;lt;=b));S=_)m[S]=y;m[S]=w}var I=g-t;for(w=0;w&amp;lt;I;){for(var E;;){var A=m[1];if(E=p[A],E.tm&amp;gt;=E.mtm&amp;amp;&amp;amp;p[E.nn].mtm&amp;lt;=E.tm)break;E.mtm==d?A=m[1]=m[m[0]--]:(am(p,A,!1),E.tm=w);var b=p[A].err;for(S=1;(_=S+S)&amp;lt;=m[0]&amp;amp;&amp;amp;(_&amp;lt;m[0]&amp;amp;&amp;amp;p[m[_]].err&amp;gt;p[m[_+1]].err&amp;amp;&amp;amp;_++,!(b&amp;lt;=p[y=m[_]].err));S=_)m[S]=y;m[S]=A}var C=p[E.nn],T=E.cnt,D=C.cnt,v=1/(T+D);c&amp;amp;&amp;amp;(E.ac=v*(T*E.ac+D*C.ac)),E.rc=v*(T*E.rc+D*C.rc),E.gc=v*(T*E.gc+D*C.gc),E.bc=v*(T*E.bc+D*C.bc),E.cnt+=C.cnt,E.mtm=++w,p[C.bk].fw=C.fw,p[C.fw].bk=C.bk,C.mtm=d}let F=[];var N=0;for(w=0;;++N){let B=Vu(Math.round(p[w].rc),0,255),U=Vu(Math.round(p[w].gc),0,255),j=Vu(Math.round(p[w].bc),0,255),W=255;c&amp;amp;&amp;amp;(W=Vu(Math.round(p[w].ac),0,255),u&amp;amp;&amp;amp;(W=W&amp;lt;=(typeof u==&amp;quot;number&amp;quot;?u:127)?0:255),s&amp;amp;&amp;amp;W&amp;lt;=o&amp;amp;&amp;amp;(B=U=j=a,W=0));let te=c?[B,U,j,W]:[B,U,j];if(Zx(F,te)||F.push(te),(w=p[w].fw)==0)break}return F}function Zx(i,t){for(let r=0;r&amp;lt;i.length;r++){let n=i[r],s=n[0]===t[0]&amp;amp;&amp;amp;n[1]===t[1]&amp;amp;&amp;amp;n[2]===t[2],a=n.length&amp;gt;=4&amp;amp;&amp;amp;t.length&amp;gt;=4?n[3]===t[3]:!0;if(s&amp;amp;&amp;amp;a)return!0}return!1}function Gu(i,t){var r=0,n;for(n=0;n&amp;lt;i.length;n++){let s=i[n]-t[n];r+=s*s}return r}function Uu(i,t){return t&amp;gt;1?Math.round(i/t)*t:i}function Yx(i,{roundRGB:t=5,roundAlpha:r=10,oneBitAlpha:n=null}={}){let s=new Uint32Array(i.buffer);for(let a=0;a&amp;lt;s.length;a++){let o=s[a],u=o&amp;gt;&amp;gt;24&amp;amp;255,h=o&amp;gt;&amp;gt;16&amp;amp;255,l=o&amp;gt;&amp;gt;8&amp;amp;255,c=o&amp;amp;255;u=Uu(u,r),n&amp;amp;&amp;amp;(u=u&amp;lt;=(typeof n==&amp;quot;number&amp;quot;?n:127)?0:255),c=Uu(c,t),l=Uu(l,t),h=Uu(h,t),s[a]=u&amp;lt;&amp;lt;24|h&amp;lt;&amp;lt;16|l&amp;lt;&amp;lt;8|c&amp;lt;&amp;lt;0}}function Xx(i,t,r=&amp;quot;rgb565&amp;quot;){if(!i||!i.buffer)throw new Error(&amp;quot;quantize() expected RGBA Uint8Array data&amp;quot;);if(!(i instanceof Uint8Array)&amp;amp;&amp;amp;!(i instanceof Uint8ClampedArray))throw new Error(&amp;quot;quantize() expected RGBA Uint8Array data&amp;quot;);if(t.length&amp;gt;256)throw new Error(&amp;quot;applyPalette() only works with 256 colors or less&amp;quot;);let n=new Uint32Array(i.buffer),s=n.length,a=r===&amp;quot;rgb444&amp;quot;?4096:65536,o=new Uint8Array(s),u=new Array(a),h=r===&amp;quot;rgba4444&amp;quot;;if(r===&amp;quot;rgba4444&amp;quot;)for(let l=0;l&amp;lt;s;l++){let c=n[l],p=c&amp;gt;&amp;gt;24&amp;amp;255,f=c&amp;gt;&amp;gt;16&amp;amp;255,d=c&amp;gt;&amp;gt;8&amp;amp;255,m=c&amp;amp;255,g=cm(m,d,f,p),v=g in u?u[g]:u[g]=Kx(m,d,f,p,t);o[l]=v}else{let l=r===&amp;quot;rgb444&amp;quot;?fm:hm;for(let c=0;c&amp;lt;s;c++){let p=n[c],f=p&amp;gt;&amp;gt;16&amp;amp;255,d=p&amp;gt;&amp;gt;8&amp;amp;255,m=p&amp;amp;255,g=l(m,d,f),v=g in u?u[g]:u[g]=Jx(m,d,f,t);o[c]=v}}return o}function Kx(i,t,r,n,s){let a=0,o=1e100;for(let u=0;u&amp;lt;s.length;u++){let h=s[u],l=h[3],c=kn(l-n);if(c&amp;gt;o)continue;let p=h[0];if(c+=kn(p-i),c&amp;gt;o)continue;let f=h[1];if(c+=kn(f-t),c&amp;gt;o)continue;let d=h[2];c+=kn(d-r),!(c&amp;gt;o)&amp;amp;&amp;amp;(o=c,a=u)}return a}function Jx(i,t,r,n){let s=0,a=1e100;for(let o=0;o&amp;lt;n.length;o++){let u=n[o],h=u[0],l=kn(h-i);if(l&amp;gt;a)continue;let c=u[1];if(l+=kn(c-t),l&amp;gt;a)continue;let p=u[2];l+=kn(p-r),!(l&amp;gt;a)&amp;amp;&amp;amp;(a=l,s=o)}return s}function Qx(i,t,r=5){if(!i.length||!t.length)return;let n=i.map(o=&amp;gt;o.slice(0,3)),s=r*r,a=i[0].length;for(let o=0;o&amp;lt;t.length;o++){let u=t[o];u.length&amp;lt;a?u=[u[0],u[1],u[2],255]:u.length&amp;gt;a?u=u.slice(0,3):u=u.slice();let h=dm(n,u.slice(0,3),Gu),l=h[0],c=h[1];c&amp;gt;0&amp;amp;&amp;amp;c&amp;lt;=s&amp;amp;&amp;amp;(i[l]=u)}}function kn(i){return i*i}function pm(i,t,r=Gu){let n=1/0,s=-1;for(let a=0;a&amp;lt;i.length;a++){let o=i[a],u=r(t,o);u&amp;lt;n&amp;amp;&amp;amp;(n=u,s=a)}return s}function dm(i,t,r=Gu){let n=1/0,s=-1;for(let a=0;a&amp;lt;i.length;a++){let o=i[a],u=r(t,o);u&amp;lt;n&amp;amp;&amp;amp;(n=u,s=a)}return[s,n]}function eb(i,t,r=Gu){return i[pm(i,t,r)]}function mm(i={}){let{initialCapacity:t=4096,auto:r=!0}=i,n=lm(t),s=5003,a=new Uint8Array(256),o=new Int32Array(s),u=new Int32Array(s),h=!1;return{reset(){n.reset(),h=!1},finish(){n.writeByte(zx.trailer)},bytes(){return n.bytes()},bytesView(){return n.bytesView()},get buffer(){return n.buffer},get stream(){return n},writeHeader:l,writeFrame(c,p,f,d={}){let{transparent:m=!1,transparentIndex:g=0,delay:v=0,palette:w=null,repeat:y=0,colorDepth:S=8,dispose:_=-1}=d,b=!1;if(r?h||(b=!0,l(),h=!0):b=!!d.first,p=Math.max(0,Math.floor(p)),f=Math.max(0,Math.floor(f)),b){if(!w)throw new Error(&amp;quot;First frame must include a { palette } option&amp;quot;);rb(n,p,f,w,S),om(n,w),y&amp;gt;=0&amp;amp;&amp;amp;ib(n,y)}let I=Math.round(v/10);tb(n,_,I,m,g);let E=!!w&amp;amp;&amp;amp;!b;nb(n,p,f,E?w:null),E&amp;amp;&amp;amp;om(n,w),sb(n,c,p,f,S,a,o,u)}};function l(){gm(n,&amp;quot;GIF89a&amp;quot;)}}function tb(i,t,r,n,s){i.writeByte(33),i.writeByte(249),i.writeByte(4),s&amp;lt;0&amp;amp;&amp;amp;(s=0,n=!1);var a,o;n?(a=1,o=2):(a=0,o=0),t&amp;gt;=0&amp;amp;&amp;amp;(o=t&amp;amp;7),o&amp;lt;&amp;lt;=2,i.writeByte(0|o|0|a),Wi(i,r),i.writeByte(s||0),i.writeByte(0)}function rb(i,t,r,n,s=8){let u=ic(n.length)-1,h=128|s-1&amp;lt;&amp;lt;4|0|u,l=0,c=0;Wi(i,t),Wi(i,r),i.writeBytes([h,l,c])}function ib(i,t){i.writeByte(33),i.writeByte(255),i.writeByte(11),gm(i,&amp;quot;NETSCAPE2.0&amp;quot;),i.writeByte(3),i.writeByte(1),Wi(i,t),i.writeByte(0)}function om(i,t){let r=1&amp;lt;&amp;lt;ic(t.length);for(let n=0;n&amp;lt;r;n++){let s=[0,0,0];n&amp;lt;t.length&amp;amp;&amp;amp;(s=t[n]),i.writeByte(s[0]),i.writeByte(s[1]),i.writeByte(s[2])}}function nb(i,t,r,n){if(i.writeByte(44),Wi(i,0),Wi(i,0),Wi(i,t),Wi(i,r),n){let o=ic(n.length)-1;i.writeByte(128|o)}else i.writeByte(0)}function sb(i,t,r,n,s=8,a,o,u){Hx(r,n,t,s,i,a,o,u)}function Wi(i,t){i.writeByte(t&amp;amp;255),i.writeByte(t&amp;gt;&amp;gt;8&amp;amp;255)}function gm(i,t){for(var r=0;r&amp;lt;t.length;r++)i.writeByte(t.charCodeAt(r))}function ic(i){return Math.max(Math.ceil(Math.log2(i)),1)}var ab=mm});var lr=ut((wc,mc)=&amp;gt;{&amp;quot;use strict&amp;quot;;var zr;function Ur(i,t){return i.b===t.b&amp;amp;&amp;amp;i.a===t.a}function it(i,t){return i.b&amp;lt;t.b||i.b===t.b&amp;amp;&amp;amp;i.a&amp;lt;=t.a}function $u(i,t,r){var n=t.b-i.b,s=r.b-t.b;return 0&amp;lt;n+s?n&amp;lt;s?t.a-i.a+n/(n+s)*(i.a-r.a):t.a-r.a+s/(n+s)*(r.a-i.a):0}function gt(i,t,r){var n=t.b-i.b,s=r.b-t.b;return 0&amp;lt;n+s?(t.a-r.a)*n+(t.a-i.a)*s:0}function Ja(i,t){return i.a&amp;lt;t.a||i.a===t.a&amp;amp;&amp;amp;i.b&amp;lt;=t.b}function ym(i,t,r){var n=t.a-i.a,s=r.a-t.a;return 0&amp;lt;n+s?n&amp;lt;s?t.b-i.b+n/(n+s)*(i.b-r.b):t.b-r.b+s/(n+s)*(r.b-i.b):0}function vm(i,t,r){var n=t.a-i.a,s=r.a-t.a;return 0&amp;lt;n+s?(t.b-r.b)*n+(t.b-i.b)*s:0}function lb(i){return it(i.b.a,i.a)}function hb(i){return it(i.a,i.b.a)}function ju(i,t,r,n){return i=0&amp;gt;i?0:i,r=0&amp;gt;r?0:r,i&amp;lt;=r?r===0?(t+n)/2:t+i/(i+r)*(n-t):n+r/(i+r)*(t-n)}function Sm(i){var t=gc(i.b);return Hu(t,i.c),Hu(t.b,i.c),Xu(t,i.a),t}function Pt(i,t){var r=!1,n=!1;i!==t&amp;amp;&amp;amp;(t.a!==i.a&amp;amp;&amp;amp;(n=!0,eo(t.a,i.a)),t.d!==i.d&amp;amp;&amp;amp;(r=!0,Wu(t.d,i.d)),ei(t,i),n||(Hu(t,i.a),i.a.c=i),r||(Xu(t,i.d),i.d.a=i))}function Vr(i){var t=i.b,r=!1;i.d!==i.b.d&amp;amp;&amp;amp;(r=!0,Wu(i.d,i.b.d)),i.c===i?eo(i.a,null):(i.b.d.a=vt(i),i.a.c=i.c,ei(i,vt(i)),r||Xu(i,i.d)),t.c===t?(eo(t.a,null),Wu(t.d,null)):(i.d.a=vt(t),t.a.c=t.c,ei(t,vt(t))),Am(i)}function br(i){var t=gc(i),r=t.b;return ei(t,i.e),t.a=i.b.a,Hu(r,t.a),t.d=r.d=i.d,t=t.b,ei(i.b,vt(i.b)),ei(i.b,t),i.b.a=t.a,t.b.a.c=t.b,t.b.d=i.b.d,t.f=i.f,t.b.f=i.b.f,t}function qi(i,t){var r=!1,n=gc(i),s=n.b;return t.d!==i.d&amp;amp;&amp;amp;(r=!0,Wu(t.d,i.d)),ei(n,i.e),ei(s,t),n.a=i.b.a,s.a=t.a,n.d=s.d=i.d,i.d.a=s,r||Xu(n,i.d),n}function gc(i){var t=new Zu,r=new Zu,n=i.b.h;return r.h=n,n.b.h=t,t.h=i,i.b.h=r,t.b=r,t.c=t,t.e=r,r.b=t,r.c=r,r.e=t}function ei(i,t){var r=i.c,n=t.c;r.b.e=t,n.b.e=i,i.c=n,t.c=r}function Hu(i,t){var r=t.f,n=new bc(t,r);r.e=n,t.f=n,r=n.c=i;do r.a=n,r=r.c;while(r!==i)}function Xu(i,t){var r=t.d,n=new Lm(t,r);r.b=n,t.d=n,n.a=i,n.c=t.c,r=i;do r.d=n,r=r.e;while(r!==i)}function Am(i){var t=i.h;i=i.b.h,t.b.h=i,i.b.h=t}function eo(i,t){var r=i.c,n=r;do n.a=t,n=n.c;while(n!==r);r=i.f,n=i.e,n.f=r,r.e=n}function Wu(i,t){var r=i.a,n=r;do n.d=t,n=n.e;while(n!==r);r=i.d,n=i.b,n.d=r,r.b=n}function xm(i){var t=0;return Math.abs(i[1])&amp;gt;Math.abs(i[0])&amp;amp;&amp;amp;(t=1),Math.abs(i[2])&amp;gt;Math.abs(i[t])&amp;amp;&amp;amp;(t=2),t}var qu=4*1e150;function yc(i,t){i.f+=t.f,i.b.f+=t.b.f}function cb(i,t,r){return i=i.a,t=t.a,r=r.a,t.b.a===i?r.b.a===i?it(t.a,r.a)?0&amp;gt;=gt(r.b.a,t.a,r.a):0&amp;lt;=gt(t.b.a,r.a,t.a):0&amp;gt;=gt(r.b.a,i,r.a):r.b.a===i?0&amp;lt;=gt(t.b.a,i,t.a):(t=$u(t.b.a,i,t.a),i=$u(r.b.a,i,r.a),t&amp;gt;=i)}function Ss(i){i.a.i=null;var t=i.e;t.a.c=t.c,t.c.a=t.a,i.e=null}function vc(i,t){Vr(i.a),i.c=!1,i.a=t,t.i=i}function cc(i){var t=i.a.a;do i=Gr(i);while(i.a.a===t);return i.c&amp;amp;&amp;amp;(t=qi(Ft(i).a.b,i.a.e),vc(i,t),i=Gr(i)),i}function Dm(i,t,r){var n=new _c;return n.a=r,n.e=km(i.f,t.e,n),r.i=n}function Fm(i,t){switch(i.s){case 100130:return(t&amp;amp;1)!==0;case 100131:return t!==0;case 100132:return 0&amp;lt;t;case 100133:return 0&amp;gt;t;case 100134:return 2&amp;lt;=t||-2&amp;gt;=t}return!1}function bm(i){var t=i.a,r=t.d;r.c=i.d,r.a=t,Ss(i)}function Qa(i,t,r){for(i=t,t=t.a;i!==r;){i.c=!1;var n=Ft(i),s=n.a;if(s.a!==t.a){if(!n.c){bm(i);break}s=qi(t.c.b,s.b),vc(n,s)}t.c!==s&amp;amp;&amp;amp;(Pt(vt(s),s),Pt(t,s)),bm(i),t=n.a,i=n}return t}function Es(i,t,r,n,s,a){var o=!0;do Dm(i,t,r.b),r=r.c;while(r!==n);for(s===null&amp;amp;&amp;amp;(s=Ft(t).a.b.c);n=Ft(t),r=n.a.b,r.a===s.a;)r.c!==s&amp;amp;&amp;amp;(Pt(vt(r),r),Pt(vt(s),r)),n.f=t.f-r.f,n.d=Fm(i,n.f),t.b=!0,!o&amp;amp;&amp;amp;xc(i,t)&amp;amp;&amp;amp;(yc(r,s),Ss(t),Vr(s)),o=!1,t=n,s=r;t.b=!0,a&amp;amp;&amp;amp;Im(i,t)}function Tm(i,t,r,n,s){var a=[t.g[0],t.g[1],t.g[2]];t.d=null,t.d=i.o&amp;amp;&amp;amp;i.o(a,r,n,i.c)||null,t.d===null&amp;amp;&amp;amp;(s?i.n||(Qr(i,100156),i.n=!0):t.d=r[0])}function fc(i,t,r){var n=[null,null,null,null];n[0]=t.a.d,n[1]=r.a.d,Tm(i,t.a,n,[.5,.5,0,0],!1),Pt(t,r)}function _m(i,t,r,n,s){var a=Math.abs(t.b-i.b)+Math.abs(t.a-i.a),o=Math.abs(r.b-i.b)+Math.abs(r.a-i.a),u=s+1;n[s]=.5*o/(a+o),n[u]=.5*a/(a+o),i.g[0]+=n[s]*t.g[0]+n[u]*r.g[0],i.g[1]+=n[s]*t.g[1]+n[u]*r.g[1],i.g[2]+=n[s]*t.g[2]+n[u]*r.g[2]}function xc(i,t){var r=Ft(t),n=t.a,s=r.a;if(it(n.a,s.a)){if(0&amp;lt;gt(s.b.a,n.a,s.a))return!1;if(!Ur(n.a,s.a))br(s.b),Pt(n,vt(s)),t.b=r.b=!0;else if(n.a!==s.a){var r=i.e,a=n.a.h;if(0&amp;lt;=a){var r=r.b,o=r.d,u=r.e,h=r.c,l=h[a];o[l]=o[r.a],h[o[l]]=l,l&amp;lt;=--r.a&amp;amp;&amp;amp;(1&amp;gt;=l||it(u[o[l&amp;gt;&amp;gt;1]],u[o[l]])?Yu(r,l):Pm(r,l)),u[a]=null,h[a]=r.b,r.b=a}else for(r.c[-(a+1)]=null;0&amp;lt;r.a&amp;amp;&amp;amp;r.c[r.d[r.a-1]]===null;)--r.a;fc(i,vt(s),n)}}else{if(0&amp;gt;gt(n.b.a,s.a,n.a))return!1;Gr(t).b=t.b=!0,br(n.b),Pt(vt(s),n)}return!0}function Nm(i,t){var r=Ft(t),n=t.a,s=r.a,a=n.a,o=s.a,u=n.b.a,h=s.b.a,l=new bc;if(gt(u,i.a,a),gt(h,i.a,o),a===o||Math.min(a.a,u.a)&amp;gt;Math.max(o.a,h.a))return!1;if(it(a,o)){if(0&amp;lt;gt(h,a,o))return!1}else if(0&amp;gt;gt(u,o,a))return!1;var c=u,p=a,f=h,d=o,m,g;if(it(c,p)||(m=c,c=p,p=m),it(f,d)||(m=f,f=d,d=m),it(c,f)||(m=c,c=f,f=m,m=p,p=d,d=m),it(f,p)?it(p,d)?(m=$u(c,f,p),g=$u(f,p,d),0&amp;gt;m+g&amp;amp;&amp;amp;(m=-m,g=-g),l.b=ju(m,f.b,g,p.b)):(m=gt(c,f,p),g=-gt(c,d,p),0&amp;gt;m+g&amp;amp;&amp;amp;(m=-m,g=-g),l.b=ju(m,f.b,g,d.b)):l.b=(f.b+p.b)/2,Ja(c,p)||(m=c,c=p,p=m),Ja(f,d)||(m=f,f=d,d=m),Ja(c,f)||(m=c,c=f,f=m,m=p,p=d,d=m),Ja(f,p)?Ja(p,d)?(m=ym(c,f,p),g=ym(f,p,d),0&amp;gt;m+g&amp;amp;&amp;amp;(m=-m,g=-g),l.a=ju(m,f.a,g,p.a)):(m=vm(c,f,p),g=-vm(c,d,p),0&amp;gt;m+g&amp;amp;&amp;amp;(m=-m,g=-g),l.a=ju(m,f.a,g,d.a)):l.a=(f.a+p.a)/2,it(l,i.a)&amp;amp;&amp;amp;(l.b=i.a.b,l.a=i.a.a),c=it(a,o)?a:o,it(c,l)&amp;amp;&amp;amp;(l.b=c.b,l.a=c.a),Ur(l,a)||Ur(l,o))return xc(i,t),!1;if(!Ur(u,i.a)&amp;amp;&amp;amp;0&amp;lt;=gt(u,i.a,l)||!Ur(h,i.a)&amp;amp;&amp;amp;0&amp;gt;=gt(h,i.a,l)){if(h===i.a)return br(n.b),Pt(s.b,n),t=cc(t),n=Ft(t).a,Qa(i,Ft(t),r),Es(i,t,vt(n),n,n,!0),!0;if(u===i.a){br(s.b),Pt(n.e,vt(s)),a=r=t,o=a.a.b.a;do a=Gr(a);while(a.a.b.a===o);return t=a,a=Ft(t).a.b.c,r.a=vt(s),s=Qa(i,r,null),Es(i,t,s.c,n.b.c,a,!0),!0}return 0&amp;lt;=gt(u,i.a,l)&amp;amp;&amp;amp;(Gr(t).b=t.b=!0,br(n.b),n.a.b=i.a.b,n.a.a=i.a.a),0&amp;gt;=gt(h,i.a,l)&amp;amp;&amp;amp;(t.b=r.b=!0,br(s.b),s.a.b=i.a.b,s.a.a=i.a.a),!1}return br(n.b),br(s.b),Pt(vt(s),n),n.a.b=l.b,n.a.a=l.a,n.a.h=Rm(i.e,n.a),n=n.a,s=[0,0,0,0],l=[a.d,u.d,o.d,h.d],n.g[0]=n.g[1]=n.g[2]=0,_m(n,a,u,s,0),_m(n,o,h,s,2),Tm(i,n,l,s,!0),Gr(t).b=t.b=r.b=!0,!1}function Im(i,t){for(var r=Ft(t);;){for(;r.b;)t=r,r=Ft(r);if(!t.b&amp;amp;&amp;amp;(r=t,t=Gr(t),t===null||!t.b))break;t.b=!1;var n=t.a,s=r.a,a;if(a=n.b.a!==s.b.a)e:{a=t;var o=Ft(a),u=a.a,h=o.a,l=void 0;if(it(u.b.a,h.b.a)){if(0&amp;gt;gt(u.b.a,h.b.a,u.a)){a=!1;break e}Gr(a).b=a.b=!0,l=br(u),Pt(h.b,l),l.d.c=a.d}else{if(0&amp;lt;gt(h.b.a,u.b.a,h.a)){a=!1;break e}a.b=o.b=!0,l=br(h),Pt(u.e,h.b),l.b.d.c=a.d}a=!0}if(a&amp;amp;&amp;amp;(r.c?(Ss(r),Vr(s),r=Ft(t),s=r.a):t.c&amp;amp;&amp;amp;(Ss(t),Vr(n),t=Gr(r),n=t.a)),n.a!==s.a){if(n.b.a===s.b.a||t.c||r.c||n.b.a!==i.a&amp;amp;&amp;amp;s.b.a!==i.a)xc(i,t);else if(Nm(i,t))break}n.a===s.a&amp;amp;&amp;amp;n.b.a===s.b.a&amp;amp;&amp;amp;(yc(s,n),Ss(t),Vr(n),t=Gr(r))}}function pc(i,t){i.a=t;for(var r=t.c;r.i===null;)if(r=r.c,r===t.c){var r=i,n=t,o=new _c;o.a=n.c.b;var s=r.f,u=s.a;do u=u.a;while(u.b!==null&amp;amp;&amp;amp;!s.c(s.b,o,u.b));var s=u.b,a=Ft(s),o=s.a,u=a.a;if(gt(o.b.a,n,o.a)===0)o=s.a,Ur(o.a,n)||Ur(o.b.a,n)||(br(o.b),s.c&amp;amp;&amp;amp;(Vr(o.c),s.c=!1),Pt(n.c,o),pc(r,n));else{var h=it(u.b.a,o.b.a)?s:a,a=void 0;s.d||h.c?(h===s?a=qi(n.c.b,o.e):a=qi(u.b.c.b,n.c).b,h.c?vc(h,a):(o=r,s=Dm(r,s,a),s.f=Gr(s).f+s.a.f,s.d=Fm(o,s.f)),pc(r,n)):Es(r,s,n.c,n.c,null,!0)}return}if(r=cc(r.i),o=Ft(r),s=o.a,o=Qa(i,o,null),o.c===s){var s=o,o=s.c,u=Ft(r),a=r.a,h=u.a,l=!1;a.b.a!==h.b.a&amp;amp;&amp;amp;Nm(i,r),Ur(a.a,i.a)&amp;amp;&amp;amp;(Pt(vt(o),a),r=cc(r),o=Ft(r).a,Qa(i,Ft(r),u),l=!0),Ur(h.a,i.a)&amp;amp;&amp;amp;(Pt(s,vt(h)),s=Qa(i,u,null),l=!0),l?Es(i,r,s.c,o,o,!0):(it(h.a,a.a)?n=vt(h):n=a,n=qi(s.c.b,n),Es(i,r,n,n.c,n.c,!1),n.b.i.c=!0,Im(i,r))}else Es(i,r,o.c,s,s,!0)}function wm(i,t){var r=new _c,n=Sm(i.b);n.a.b=qu,n.a.a=t,n.b.a.b=-qu,n.b.a.a=t,i.a=n.b.a,r.a=n,r.f=0,r.d=!1,r.c=!1,r.h=!0,r.b=!1,n=i.f,n=km(n,n.a,r),r.e=n}function fb(i){this.a=new Mm,this.b=i,this.c=cb}function km(i,t,r){do t=t.c;while(t.b!==null&amp;amp;&amp;amp;!i.c(i.b,t.b,r));return i=new Mm(r,t.a,t),t.a.c=i,t.a=i}function Mm(i,t,r){this.b=i||null,this.a=t||this,this.c=r||this}function mt(){this.d=to,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}var to=0;zr=mt.prototype;zr.x=function(){As(this,to)};zr.B=function(i,t){switch(i){case 100142:return;case 100140:switch(t){case 100130:case 100131:case 100132:case 100133:case 100134:this.s=t;return}break;case 100141:this.m=!!t;return;default:Qr(this,100900);return}Qr(this,100901)};zr.y=function(i){switch(i){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:Qr(this,100900)}return!1};zr.A=function(i,t,r){this.j[0]=i,this.j[1]=t,this.j[2]=r};zr.z=function(i,t){var r=t||null;switch(i){case 100100:case 100106:this.h=r;break;case 100104:case 100110:this.l=r;break;case 100101:case 100107:this.k=r;break;case 100102:case 100108:this.i=r;break;case 100103:case 100109:this.p=r;break;case 100105:case 100111:this.o=r;break;case 100112:this.r=r;break;default:Qr(this,100900)}};zr.C=function(i,t){var r=!1,n=[0,0,0];As(this,2);for(var s=0;3&amp;gt;s;++s){var a=i[s];-1e150&amp;gt;a&amp;amp;&amp;amp;(a=-1e150,r=!0),1e150&amp;lt;a&amp;amp;&amp;amp;(a=1e150,r=!0),n[s]=a}r&amp;amp;&amp;amp;Qr(this,100155),r=this.q,r===null?(r=Sm(this.b),Pt(r,r.b)):(br(r),r=r.e),r.a.d=t,r.a.g[0]=n[0],r.a.g[1]=n[1],r.a.g[2]=n[2],r.f=1,r.b.f=-1,this.q=r};zr.u=function(i){As(this,to),this.d=1,this.b=new pb,this.c=i};zr.t=function(){As(this,1),this.d=2,this.q=null};zr.v=function(){As(this,2),this.d=1};zr.w=function(){As(this,1),this.d=to;var i=this.j[0],t=this.j[1],r=this.j[2],n=!1,s=[i,t,r];if(i===0&amp;amp;&amp;amp;t===0&amp;amp;&amp;amp;r===0){for(var t=[-2*1e150,-2*1e150,-2*1e150],a=[2*1e150,2*1e150,2*1e150],r=[],o=[],n=this.b.c,i=n.e;i!==n;i=i.e)for(var u=0;3&amp;gt;u;++u){var h=i.g[u];h&amp;lt;a[u]&amp;amp;&amp;amp;(a[u]=h,o[u]=i),h&amp;gt;t[u]&amp;amp;&amp;amp;(t[u]=h,r[u]=i)}if(i=0,t[1]-a[1]&amp;gt;t[0]-a[0]&amp;amp;&amp;amp;(i=1),t[2]-a[2]&amp;gt;t[i]-a[i]&amp;amp;&amp;amp;(i=2),a[i]&amp;gt;=t[i])s[0]=0,s[1]=0,s[2]=1;else{for(t=0,a=o[i],r=r[i],o=[0,0,0],a=[a.g[0]-r.g[0],a.g[1]-r.g[1],a.g[2]-r.g[2]],u=[0,0,0],i=n.e;i!==n;i=i.e)u[0]=i.g[0]-r.g[0],u[1]=i.g[1]-r.g[1],u[2]=i.g[2]-r.g[2],o[0]=a[1]*u[2]-a[2]*u[1],o[1]=a[2]*u[0]-a[0]*u[2],o[2]=a[0]*u[1]-a[1]*u[0],h=o[0]*o[0]+o[1]*o[1]+o[2]*o[2],h&amp;gt;t&amp;amp;&amp;amp;(t=h,s[0]=o[0],s[1]=o[1],s[2]=o[2]);0&amp;gt;=t&amp;amp;&amp;amp;(s[0]=s[1]=s[2]=0,s[xm(a)]=1)}n=!0}for(o=xm(s),i=this.b.c,t=(o+1)%3,r=(o+2)%3,o=0&amp;lt;s[o]?1:-1,s=i.e;s!==i;s=s.e)s.b=s.g[t],s.a=o*s.g[r];if(n){for(s=0,n=this.b.a,i=n.b;i!==n;i=i.b)if(t=i.a,!(0&amp;gt;=t.f))do s+=(t.a.b-t.b.a.b)*(t.a.a+t.b.a.a),t=t.e;while(t!==i.a);if(0&amp;gt;s)for(s=this.b.c,n=s.e;n!==s;n=n.e)n.a=-n.a}for(this.n=!1,s=this.b.b,i=s.h;i!==s;i=n)n=i.h,t=i.e,Ur(i.a,i.b.a)&amp;amp;&amp;amp;i.e.e!==i&amp;amp;&amp;amp;(fc(this,t,i),Vr(i),i=t,t=i.e),t.e===i&amp;amp;&amp;amp;(t!==i&amp;amp;&amp;amp;((t===n||t===n.b)&amp;amp;&amp;amp;(n=n.h),Vr(t)),(i===n||i===n.b)&amp;amp;&amp;amp;(n=n.h),Vr(i));for(this.e=s=new db,n=this.b.c,i=n.e;i!==n;i=i.e)i.h=Rm(s,i);for(mb(s),this.f=new fb(this),wm(this,-qu),wm(this,qu);(s=Cm(this.e))!==null;){for(;;){e:if(i=this.e,i.a===0)n=dc(i.b);else if(n=i.c[i.d[i.a-1]],i.b.a!==0&amp;amp;&amp;amp;(i=dc(i.b),it(i,n))){n=i;break e}if(n===null||!Ur(n,s))break;n=Cm(this.e),fc(this,s.c,n.c)}pc(this,s)}for(this.a=this.f.a.a.b.a.a,s=0;(n=this.f.a.a.b)!==null;)n.h||++s,Ss(n);for(this.f=null,s=this.e,s.b=null,s.d=null,this.e=s.c=null,s=this.b,i=s.a.b;i!==s.a;i=n)n=i.b,i=i.a,i.e.e===i&amp;amp;&amp;amp;(yc(i.c,i),Vr(i));if(!this.n){if(s=this.b,this.m)for(i=s.b.h;i!==s.b;i=n)n=i.h,i.b.d.c!==i.d.c?i.f=i.d.c?1:-1:Vr(i);else for(i=s.a.b;i!==s.a;i=n)if(n=i.b,i.c){for(i=i.a;it(i.b.a,i.a);i=i.c.b);for(;it(i.a,i.b.a);i=i.e);for(t=i.c.b,r=void 0;i.e!==t;)if(it(i.b.a,t.a)){for(;t.e!==i&amp;amp;&amp;amp;(lb(t.e)||0&amp;gt;=gt(t.a,t.b.a,t.e.b.a));)r=qi(t.e,t),t=r.b;t=t.c.b}else{for(;t.e!==i&amp;amp;&amp;amp;(hb(i.c.b)||0&amp;lt;=gt(i.b.a,i.a,i.c.b.a));)r=qi(i,i.c.b),i=r.b;i=i.e}for(;t.e.e!==i;)r=qi(t.e,t),t=r.b}if(this.h||this.i||this.k||this.l)if(this.m){for(s=this.b,n=s.a.b;n!==s.a;n=n.b)if(n.c){this.h&amp;amp;&amp;amp;this.h(2,this.c),i=n.a;do this.k&amp;amp;&amp;amp;this.k(i.a.d,this.c),i=i.e;while(i!==n.a);this.i&amp;amp;&amp;amp;this.i(this.c)}}else{for(s=this.b,n=!!this.l,i=!1,t=-1,r=s.a.d;r!==s.a;r=r.d)if(r.c){i||(this.h&amp;amp;&amp;amp;this.h(4,this.c),i=!0),o=r.a;do n&amp;amp;&amp;amp;(a=o.b.d.c?0:1,t!==a&amp;amp;&amp;amp;(t=a,this.l&amp;amp;&amp;amp;this.l(!!t,this.c))),this.k&amp;amp;&amp;amp;this.k(o.a.d,this.c),o=o.e;while(o!==r.a)}i&amp;amp;&amp;amp;this.i&amp;amp;&amp;amp;this.i(this.c)}if(this.r){for(s=this.b,i=s.a.b;i!==s.a;i=n)if(n=i.b,!i.c){t=i.a,r=t.e,o=void 0;do o=r,r=o.e,o.d=null,o.b.d===null&amp;amp;&amp;amp;(o.c===o?eo(o.a,null):(o.a.c=o.c,ei(o,vt(o))),a=o.b,a.c===a?eo(a.a,null):(a.a.c=a.c,ei(a,vt(a))),Am(o));while(o!==t);t=i.d,i=i.b,i.d=t,t.b=i}this.r(this.b),this.c=this.b=null;return}}this.b=this.c=null};function As(i,t){if(i.d!==t)for(;i.d!==t;)if(i.d&amp;lt;t)switch(i.d){case to:Qr(i,100151),i.u(null);break;case 1:Qr(i,100152),i.t()}else switch(i.d){case 2:Qr(i,100154),i.v();break;case 1:Qr(i,100153),i.w()}}function Qr(i,t){i.p&amp;amp;&amp;amp;i.p(t,i.c)}function Lm(i,t){this.b=i||this,this.d=t||this,this.a=null,this.c=!1}function Zu(){this.h=this,this.i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function vt(i){return i.b.e}function pb(){this.c=new bc,this.a=new Lm,this.b=new Zu,this.d=new Zu,this.b.b=this.d,this.d.b=this.b}function bc(i,t){this.e=i||this,this.f=t||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function db(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new gb}function mb(i){i.d=[];for(var t=0;t&amp;lt;i.a;t++)i.d[t]=t;i.d.sort(function(r){return function(n,s){return it(r[n],r[s])?1:-1}}(i.c)),i.e=!0,yb(i.b)}function Rm(i,t){if(i.e){var r=i.b,n=++r.a;2*n&amp;gt;r.f&amp;amp;&amp;amp;(r.f*=2,r.c=Bm(r.c,r.f+1));var s;return r.b===0?s=n:(s=r.b,r.b=r.c[r.b]),r.e[s]=t,r.c[s]=n,r.d[n]=s,r.h&amp;amp;&amp;amp;Pm(r,n),s}return r=i.a++,i.c[r]=t,-(r+1)}function Cm(i){if(i.a===0)return Em(i.b);var t=i.c[i.d[i.a-1]];if(i.b.a!==0&amp;amp;&amp;amp;it(dc(i.b),t))return Em(i.b);do--i.a;while(0&amp;lt;i.a&amp;amp;&amp;amp;i.c[i.d[i.a-1]]===null);return t}function gb(){this.d=Bm([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function Bm(i,t){for(var r=Array(t),n=0;n&amp;lt;i.length;n++)r[n]=i[n];for(;n&amp;lt;t;n++)r[n]=0;return r}function yb(i){for(var t=i.a;1&amp;lt;=t;--t)Yu(i,t);i.h=!0}function dc(i){return i.e[i.d[1]]}function Em(i){var t=i.d,r=i.e,n=i.c,s=t[1],a=r[s];return 0&amp;lt;i.a&amp;amp;&amp;amp;(t[1]=t[i.a],n[t[1]]=1,r[s]=null,n[s]=i.b,i.b=s,0&amp;lt;--i.a&amp;amp;&amp;amp;Yu(i,1)),a}function Yu(i,t){for(var r=i.d,n=i.e,s=i.c,a=t,o=r[a];;){var u=a&amp;lt;&amp;lt;1;u&amp;lt;i.a&amp;amp;&amp;amp;it(n[r[u+1]],n[r[u]])&amp;amp;&amp;amp;(u+=1);var h=r[u];if(u&amp;gt;i.a||it(n[o],n[h])){r[a]=o,s[o]=a;break}r[a]=h,s[h]=a,a=u}}function Pm(i,t){for(var r=i.d,n=i.e,s=i.c,a=t,o=r[a];;){var u=a&amp;gt;&amp;gt;1,h=r[u];if(u===0||it(n[h],n[o])){r[a]=o,s[o]=a;break}r[a]=h,s[h]=a,a=u}}function _c(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function Ft(i){return i.e.c.b}function Gr(i){return i.e.a.b}wc.libtess={GluTesselator:mt,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}};mt.prototype.gluDeleteTess=mt.prototype.x;mt.prototype.gluTessProperty=mt.prototype.B;mt.prototype.gluGetTessProperty=mt.prototype.y;mt.prototype.gluTessNormal=mt.prototype.A;mt.prototype.gluTessCallback=mt.prototype.z;mt.prototype.gluTessVertex=mt.prototype.C;mt.prototype.gluTessBeginPolygon=mt.prototype.u;mt.prototype.gluTessBeginContour=mt.prototype.t;mt.prototype.gluTessEndContour=mt.prototype.v;mt.prototype.gluTessEndPolygon=mt.prototype.w;typeof mc&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;(mc.exports=wc.libtess)});var f0,c0=ln(()=&amp;gt;{f0={fes:{autoplay:`The media that tried to play (with &amp;#39;{{src}}&amp;#39;) wasn&amp;#39;t allowed to by this browser, most likely due to the browser&amp;#39;s autoplay policy.
<a href="#l21" class="line" id="l21">     21</a> &lt;a href=&quot;#l2&quot; class=&quot;line&quot; id=&quot;l2&quot;&gt;      2&lt;/a&gt; 
<a href="#l22" class="line" id="l22">     22</a> &lt;a href=&quot;#l3&quot; class=&quot;line&quot; id=&quot;l3&quot;&gt;      3&lt;/a&gt; + More info: {{url}}`,checkUserDefinedFns:&amp;quot;It seems that you may have accidentally written {{name}} instead of {{actualName}}. Please correct it if it&amp;#39;s not intentional.&amp;quot;,fileLoadError:{bytes:&amp;quot;It looks like there was a problem loading your file. {{suggestion}}&amp;quot;,font:&amp;quot;It looks like there was a problem loading your font. {{suggestion}}&amp;quot;,gif:&amp;quot;There was some trouble loading your GIF. Make sure that your GIF is using 87a or 89a encoding.&amp;quot;,image:&amp;quot;It looks like there was a problem loading your image. {{suggestion}}&amp;quot;,json:&amp;quot;It looks like there was a problem loading your JSON file. {{suggestion}}&amp;quot;,large:&amp;quot;If your large file isn&amp;#39;t fetched successfully, we recommend splitting the file into smaller segments and fetching those.&amp;quot;,strings:&amp;quot;It looks like there was a problem loading your text file. {{suggestion}}&amp;quot;,suggestion:`Try checking if the file path ({{filePath}}) is correct, hosting the file online, or running a local server.
<a href="#l23" class="line" id="l23">     23</a> &lt;a href=&quot;#l4&quot; class=&quot;line&quot; id=&quot;l4&quot;&gt;      4&lt;/a&gt; 
<a href="#l24" class="line" id="l24">     24</a> &lt;a href=&quot;#l5&quot; class=&quot;line&quot; id=&quot;l5&quot;&gt;      5&lt;/a&gt; + More info: {{url}}`,table:&amp;quot;It looks like there was a problem loading your table file. {{suggestion}}&amp;quot;,xml:&amp;quot;It looks like there was a problem loading your XML file. {{suggestion}}&amp;quot;},friendlyParamError:{type_EMPTY_VAR:`{{location}} {{func}}() was expecting {{formatType}} for the {{position}} parameter, received an empty variable instead. If not intentional, this is often a problem with scope.
<a href="#l25" class="line" id="l25">     25</a> &lt;a href=&quot;#l6&quot; class=&quot;line&quot; id=&quot;l6&quot;&gt;      6&lt;/a&gt; 
<a href="#l26" class="line" id="l26">     26</a> &lt;a href=&quot;#l7&quot; class=&quot;line&quot; id=&quot;l7&quot;&gt;      7&lt;/a&gt; + More info: {{url}}`,type_TOO_FEW_ARGUMENTS:&amp;quot;{{location}} {{func}}() was expecting at least {{minParams}} arguments, but received only {{argCount}}.&amp;quot;,type_TOO_MANY_ARGUMENTS:&amp;quot;{{location}} {{func}}() was expecting no more than {{maxParams}} arguments, but received {{argCount}}.&amp;quot;,type_WRONG_TYPE:&amp;quot;{{location}} {{func}}() was expecting {{formatType}} for the {{position}} parameter, received {{argType}} instead.&amp;quot;},globalErrors:{reference:{cannotAccess:`
<a href="#l27" class="line" id="l27">     27</a> &lt;a href=&quot;#l8&quot; class=&quot;line&quot; id=&quot;l8&quot;&gt;      8&lt;/a&gt; {{location}} &amp;quot;{{symbol}}&amp;quot; is used before declaration. Make sure you have declared the variable before using it.
<a href="#l28" class="line" id="l28">     28</a> &lt;a href=&quot;#l9&quot; class=&quot;line&quot; id=&quot;l9&quot;&gt;      9&lt;/a&gt; 
<a href="#l29" class="line" id="l29">     29</a> &lt;a href=&quot;#l10&quot; class=&quot;line&quot; id=&quot;l10&quot;&gt;     10&lt;/a&gt; + More info: {{url}}`,notDefined:`
<a href="#l30" class="line" id="l30">     30</a> &lt;a href=&quot;#l11&quot; class=&quot;line&quot; id=&quot;l11&quot;&gt;     11&lt;/a&gt; {{location}} &amp;quot;{{symbol}}&amp;quot; is not defined in the current scope. If you have defined it in your code, you should check its scope, spelling, and letter-casing (JavaScript is case-sensitive).
<a href="#l31" class="line" id="l31">     31</a> &lt;a href=&quot;#l12&quot; class=&quot;line&quot; id=&quot;l12&quot;&gt;     12&lt;/a&gt; 
<a href="#l32" class="line" id="l32">     32</a> &lt;a href=&quot;#l13&quot; class=&quot;line&quot; id=&quot;l13&quot;&gt;     13&lt;/a&gt; + More info: {{url}}`},stackSubseq:`\u2514[{{location}}] 
<a href="#l33" class="line" id="l33">     33</a> &lt;a href=&quot;#l14&quot; class=&quot;line&quot; id=&quot;l14&quot;&gt;     14&lt;/a&gt; 	 Called from line {{line}} in {{func}}()
<a href="#l34" class="line" id="l34">     34</a> &lt;a href=&quot;#l15&quot; class=&quot;line&quot; id=&quot;l15&quot;&gt;     15&lt;/a&gt; `,stackTop:`\u250C[{{location}}] 
<a href="#l35" class="line" id="l35">     35</a> &lt;a href=&quot;#l16&quot; class=&quot;line&quot; id=&quot;l16&quot;&gt;     16&lt;/a&gt; 	 Error at line {{line}} in {{func}}()
<a href="#l36" class="line" id="l36">     36</a> &lt;a href=&quot;#l17&quot; class=&quot;line&quot; id=&quot;l17&quot;&gt;     17&lt;/a&gt; `,syntax:{badReturnOrYield:`
<a href="#l37" class="line" id="l37">     37</a> &lt;a href=&quot;#l18&quot; class=&quot;line&quot; id=&quot;l18&quot;&gt;     18&lt;/a&gt; Syntax Error - return lies outside of a function. Make sure you\u2019re not missing any brackets, so that return lies inside a function.
<a href="#l38" class="line" id="l38">     38</a> &lt;a href=&quot;#l19&quot; class=&quot;line&quot; id=&quot;l19&quot;&gt;     19&lt;/a&gt; 
<a href="#l39" class="line" id="l39">     39</a> &lt;a href=&quot;#l20&quot; class=&quot;line&quot; id=&quot;l20&quot;&gt;     20&lt;/a&gt; + More info: {{url}}`,invalidToken:`
<a href="#l40" class="line" id="l40">     40</a> &lt;a href=&quot;#l21&quot; class=&quot;line&quot; id=&quot;l21&quot;&gt;     21&lt;/a&gt; Syntax Error - Found a symbol that JavaScript doesn&amp;#39;t recognize or didn&amp;#39;t expect at it&amp;#39;s place.
<a href="#l41" class="line" id="l41">     41</a> &lt;a href=&quot;#l22&quot; class=&quot;line&quot; id=&quot;l22&quot;&gt;     22&lt;/a&gt; 
<a href="#l42" class="line" id="l42">     42</a> &lt;a href=&quot;#l23&quot; class=&quot;line&quot; id=&quot;l23&quot;&gt;     23&lt;/a&gt; + More info: {{url}}`,missingInitializer:`
<a href="#l43" class="line" id="l43">     43</a> &lt;a href=&quot;#l24&quot; class=&quot;line&quot; id=&quot;l24&quot;&gt;     24&lt;/a&gt; Syntax Error - A const variable is declared but not initialized. In JavaScript, an initializer for a const is required. A value must be specified in the same statement in which the variable is declared. Check the line number in the error and assign the const variable a value.
<a href="#l44" class="line" id="l44">     44</a> &lt;a href=&quot;#l25&quot; class=&quot;line&quot; id=&quot;l25&quot;&gt;     25&lt;/a&gt; 
<a href="#l45" class="line" id="l45">     45</a> &lt;a href=&quot;#l26&quot; class=&quot;line&quot; id=&quot;l26&quot;&gt;     26&lt;/a&gt; + More info: {{url}}`,redeclaredVariable:`
<a href="#l46" class="line" id="l46">     46</a> &lt;a href=&quot;#l27&quot; class=&quot;line&quot; id=&quot;l27&quot;&gt;     27&lt;/a&gt; Syntax Error - &amp;quot;{{symbol}}&amp;quot; is being redeclared. JavaScript doesn&amp;#39;t allow declaring a variable more than once. Check the line number in error for redeclaration of the variable.
<a href="#l47" class="line" id="l47">     47</a> &lt;a href=&quot;#l28&quot; class=&quot;line&quot; id=&quot;l28&quot;&gt;     28&lt;/a&gt; 
<a href="#l48" class="line" id="l48">     48</a> &lt;a href=&quot;#l29&quot; class=&quot;line&quot; id=&quot;l29&quot;&gt;     29&lt;/a&gt; + More info: {{url}}`,unexpectedToken:`
<a href="#l49" class="line" id="l49">     49</a> &lt;a href=&quot;#l30&quot; class=&quot;line&quot; id=&quot;l30&quot;&gt;     30&lt;/a&gt; Syntax Error - Symbol present at a place that wasn&amp;#39;t expected.
<a href="#l50" class="line" id="l50">     50</a> &lt;a href=&quot;#l31&quot; class=&quot;line&quot; id=&quot;l31&quot;&gt;     31&lt;/a&gt; Usually this is due to a typo. Check the line number in the error for anything missing/extra.
<a href="#l51" class="line" id="l51">     51</a> &lt;a href=&quot;#l32&quot; class=&quot;line&quot; id=&quot;l32&quot;&gt;     32&lt;/a&gt; 
<a href="#l52" class="line" id="l52">     52</a> &lt;a href=&quot;#l33&quot; class=&quot;line&quot; id=&quot;l33&quot;&gt;     33&lt;/a&gt; + More info: {{url}}`},type:{constAssign:`
<a href="#l53" class="line" id="l53">     53</a> &lt;a href=&quot;#l34&quot; class=&quot;line&quot; id=&quot;l34&quot;&gt;     34&lt;/a&gt; {{location}} A const variable is being re-assigned. In javascript, re-assigning a value to a constant is not allowed. If you want to re-assign new values to a variable, make sure it is declared as var or let.
<a href="#l54" class="line" id="l54">     54</a> &lt;a href=&quot;#l35&quot; class=&quot;line&quot; id=&quot;l35&quot;&gt;     35&lt;/a&gt; 
<a href="#l55" class="line" id="l55">     55</a> &lt;a href=&quot;#l36&quot; class=&quot;line&quot; id=&quot;l36&quot;&gt;     36&lt;/a&gt; + More info: {{url}}`,notfunc:`
<a href="#l56" class="line" id="l56">     56</a> &lt;a href=&quot;#l37&quot; class=&quot;line&quot; id=&quot;l37&quot;&gt;     37&lt;/a&gt; {{location}} &amp;quot;{{symbol}}&amp;quot; could not be called as a function.
<a href="#l57" class="line" id="l57">     57</a> &lt;a href=&quot;#l38&quot; class=&quot;line&quot; id=&quot;l38&quot;&gt;     38&lt;/a&gt; Check the spelling, letter-casing (JavaScript is case-sensitive) and its type.
<a href="#l58" class="line" id="l58">     58</a> &lt;a href=&quot;#l39&quot; class=&quot;line&quot; id=&quot;l39&quot;&gt;     39&lt;/a&gt; 
<a href="#l59" class="line" id="l59">     59</a> &lt;a href=&quot;#l40&quot; class=&quot;line&quot; id=&quot;l40&quot;&gt;     40&lt;/a&gt; + More info: {{url}}`,notfuncObj:`
<a href="#l60" class="line" id="l60">     60</a> &lt;a href=&quot;#l41&quot; class=&quot;line&quot; id=&quot;l41&quot;&gt;     41&lt;/a&gt; {{location}} &amp;quot;{{symbol}}&amp;quot; could not be called as a function.
<a href="#l61" class="line" id="l61">     61</a> &lt;a href=&quot;#l42&quot; class=&quot;line&quot; id=&quot;l42&quot;&gt;     42&lt;/a&gt; Verify whether &amp;quot;{{obj}}&amp;quot; has &amp;quot;{{symbol}}&amp;quot; in it and check the spelling, letter-casing (JavaScript is case-sensitive) and its type.
<a href="#l62" class="line" id="l62">     62</a> &lt;a href=&quot;#l43&quot; class=&quot;line&quot; id=&quot;l43&quot;&gt;     43&lt;/a&gt; 
<a href="#l63" class="line" id="l63">     63</a> &lt;a href=&quot;#l44&quot; class=&quot;line&quot; id=&quot;l44&quot;&gt;     44&lt;/a&gt; + More info: {{url}}`,readFromNull:`
<a href="#l64" class="line" id="l64">     64</a> &lt;a href=&quot;#l45&quot; class=&quot;line&quot; id=&quot;l45&quot;&gt;     45&lt;/a&gt; {{location}} The property of null can&amp;#39;t be read. In javascript the value null indicates that an object has no value.
<a href="#l65" class="line" id="l65">     65</a> &lt;a href=&quot;#l46&quot; class=&quot;line&quot; id=&quot;l46&quot;&gt;     46&lt;/a&gt; 
<a href="#l66" class="line" id="l66">     66</a> &lt;a href=&quot;#l47&quot; class=&quot;line&quot; id=&quot;l47&quot;&gt;     47&lt;/a&gt; + More info: {{url}}`,readFromUndefined:`
<a href="#l67" class="line" id="l67">     67</a> &lt;a href=&quot;#l48&quot; class=&quot;line&quot; id=&quot;l48&quot;&gt;     48&lt;/a&gt; {{location}} Cannot read property of undefined. Check the line number in error and make sure the variable which is being operated is not undefined.
<a href="#l68" class="line" id="l68">     68</a> &lt;a href=&quot;#l49&quot; class=&quot;line&quot; id=&quot;l49&quot;&gt;     49&lt;/a&gt; 
<a href="#l69" class="line" id="l69">     69</a> &lt;a href=&quot;#l50&quot; class=&quot;line&quot; id=&quot;l50&quot;&gt;     50&lt;/a&gt;  + More info: {{url}}`}},libraryError:&amp;#39;{{location}} An error with message &amp;quot;{{error}}&amp;quot; occurred inside the p5js library when {{func}} was called. If not stated otherwise, it might be an issue with the arguments passed to {{func}}.&amp;#39;,location:&amp;quot;[{{file}}, line {{line}}]&amp;quot;,misspelling:&amp;#39;{{location}} It seems that you may have accidentally written &amp;quot;{{name}}&amp;quot; instead of &amp;quot;{{actualName}}&amp;quot;. Please correct it to {{actualName}} if you wish to use the {{type}} from p5.js.&amp;#39;,misspelling_plural:`{{location}} It seems that you may have accidentally written &amp;quot;{{name}}&amp;quot;.
<a href="#l70" class="line" id="l70">     70</a> &lt;a href=&quot;#l51&quot; class=&quot;line&quot; id=&quot;l51&quot;&gt;     51&lt;/a&gt; You may have meant one of the following: 
<a href="#l71" class="line" id="l71">     71</a> &lt;a href=&quot;#l52&quot; class=&quot;line&quot; id=&quot;l52&quot;&gt;     52&lt;/a&gt; {{suggestions}}`,misusedTopLevel:`Did you just try to use p5.js&amp;#39;s {{symbolName}} {{symbolType}}? If so, you may want to move it into your sketch&amp;#39;s setup() function.
<a href="#l72" class="line" id="l72">     72</a> &lt;a href=&quot;#l53&quot; class=&quot;line&quot; id=&quot;l53&quot;&gt;     53&lt;/a&gt; 
<a href="#l73" class="line" id="l73">     73</a> &lt;a href=&quot;#l54&quot; class=&quot;line&quot; id=&quot;l54&quot;&gt;     54&lt;/a&gt; + More info: {{url}}`,preloadDisabled:&amp;quot;The preload() function has been removed in p5.js 2.0. Please load assets in setup() using async / await keywords or callbacks instead. See https://dev.to/limzykenneth/asynchronous-p5js-20-458f for more information.&amp;quot;,positions:{p_1:&amp;quot;first&amp;quot;,p_10:&amp;quot;tenth&amp;quot;,p_11:&amp;quot;eleventh&amp;quot;,p_12:&amp;quot;twelfth&amp;quot;,p_2:&amp;quot;second&amp;quot;,p_3:&amp;quot;third&amp;quot;,p_4:&amp;quot;fourth&amp;quot;,p_5:&amp;quot;fifth&amp;quot;,p_6:&amp;quot;sixth&amp;quot;,p_7:&amp;quot;seventh&amp;quot;,p_8:&amp;quot;eighth&amp;quot;,p_9:&amp;quot;ninth&amp;quot;},pre:`
<a href="#l74" class="line" id="l74">     74</a> &lt;a href=&quot;#l55&quot; class=&quot;line&quot; id=&quot;l55&quot;&gt;     55&lt;/a&gt; \u{1F338} p5.js says: {{message}}`,sketchReaderErrors:{reservedConst:`you have used a p5.js reserved variable &amp;quot;{{symbol}}&amp;quot; make sure you change the variable name to something else.
<a href="#l75" class="line" id="l75">     75</a> &lt;a href=&quot;#l56&quot; class=&quot;line&quot; id=&quot;l56&quot;&gt;     56&lt;/a&gt; 
<a href="#l76" class="line" id="l76">     76</a> &lt;a href=&quot;#l57&quot; class=&quot;line&quot; id=&quot;l57&quot;&gt;     57&lt;/a&gt; + More info: {{url}}`,reservedFunc:`you have used a p5.js reserved function &amp;quot;{{symbol}}&amp;quot; make sure you change the function name to something else.
<a href="#l77" class="line" id="l77">     77</a> &lt;a href=&quot;#l58&quot; class=&quot;line&quot; id=&quot;l58&quot;&gt;     58&lt;/a&gt; 
<a href="#l78" class="line" id="l78">     78</a> &lt;a href=&quot;#l59&quot; class=&quot;line&quot; id=&quot;l59&quot;&gt;     59&lt;/a&gt; + More info: {{url}}`},welcome:&amp;quot;Welcome! This is your friendly debugger. To turn me off, switch to using p5.min.js.&amp;quot;,wrongPreload:&amp;#39;{{location}} An error with message &amp;quot;{{error}}&amp;quot; occurred inside the p5js library when &amp;quot;{{func}}&amp;quot; was called. If not stated otherwise, it might be due to &amp;quot;{{func}}&amp;quot; being called from preload. Nothing besides load calls (loadImage, loadJSON, loadFont, loadStrings, etc.) should be inside the preload function.&amp;#39;}}});var d0,p0=ln(()=&amp;gt;{d0={fes:{autoplay:&amp;quot;Su browser impid\xEDo un medio tocar (de &amp;#39;{{src}}&amp;#39;), posiblemente porque las reglas de autoplay. Para aprender m\xE1s, visite {{link}}.&amp;quot;,checkUserDefinedFns:&amp;quot;&amp;quot;,fileLoadError:{bytes:&amp;quot;&amp;quot;,font:&amp;quot;&amp;quot;,gif:&amp;quot;&amp;quot;,image:&amp;quot;&amp;quot;,json:&amp;quot;&amp;quot;,large:&amp;quot;&amp;quot;,strings:&amp;quot;&amp;quot;,suggestion:&amp;quot;&amp;quot;,table:&amp;quot;&amp;quot;,xml:&amp;quot;&amp;quot;},friendlyParamError:{type_EMPTY_VAR:&amp;quot;&amp;quot;,type_TOO_FEW_ARGUMENTS:&amp;quot;&amp;quot;,type_TOO_MANY_ARGUMENTS:&amp;quot;&amp;quot;,type_WRONG_TYPE:&amp;quot;&amp;quot;},globalErrors:{reference:{cannotAccess:&amp;quot;&amp;quot;,notDefined:&amp;quot;&amp;quot;},stackSubseq:&amp;quot;&amp;quot;,stackTop:&amp;quot;&amp;quot;,syntax:{badReturnOrYield:&amp;quot;&amp;quot;,invalidToken:&amp;quot;&amp;quot;,missingInitializer:&amp;quot;&amp;quot;,redeclaredVariable:&amp;quot;&amp;quot;,unexpectedToken:&amp;quot;&amp;quot;},type:{constAssign:&amp;quot;&amp;quot;,notfunc:&amp;quot;&amp;quot;,notfuncObj:&amp;quot;&amp;quot;,readFromNull:&amp;quot;&amp;quot;,readFromUndefined:&amp;quot;&amp;quot;}},libraryError:&amp;quot;&amp;quot;,location:&amp;quot;&amp;quot;,misspelling:&amp;quot;&amp;quot;,misspelling_plural:&amp;quot;&amp;quot;,misusedTopLevel:&amp;quot;&amp;quot;,positions:{p_1:&amp;quot;&amp;quot;,p_10:&amp;quot;&amp;quot;,p_11:&amp;quot;&amp;quot;,p_12:&amp;quot;&amp;quot;,p_2:&amp;quot;&amp;quot;,p_3:&amp;quot;&amp;quot;,p_4:&amp;quot;&amp;quot;,p_5:&amp;quot;&amp;quot;,p_6:&amp;quot;&amp;quot;,p_7:&amp;quot;&amp;quot;,p_8:&amp;quot;&amp;quot;,p_9:&amp;quot;&amp;quot;},pre:&amp;quot;\u{1F338} p5.js dice: {{message}}&amp;quot;,sketchReaderErrors:{reservedConst:&amp;quot;&amp;quot;,reservedFunc:&amp;quot;&amp;quot;},welcome:&amp;quot;&amp;quot;,wrongPreload:&amp;quot;&amp;quot;}}});var g0,m0=ln(()=&amp;gt;{g0={fes:{autoplay:`\uBBF8\uB514\uC5B4(&amp;#39;{{src}}&amp;#39;)\uAC00 \uC774 \uBE0C\uB77C\uC6B0\uC800\uC5D0\uC11C\uB294 \uC7AC\uC0DD\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4. \uC0AC\uC6A9\uD558\uACE0 \uACC4\uC2E0 \uBE0C\uB77C\uC6B0\uC800\uC758 \uC790\uB3D9 \uC7AC\uC0DD \uC815\uCC45 \uB54C\uBB38\uC77C \uC218 \uC788\uC2B5\uB2C8\uB2E4.
<a href="#l79" class="line" id="l79">     79</a> &lt;a href=&quot;#l60&quot; class=&quot;line&quot; id=&quot;l60&quot;&gt;     60&lt;/a&gt; 
<a href="#l80" class="line" id="l80">     80</a> &lt;a href=&quot;#l61&quot; class=&quot;line&quot; id=&quot;l61&quot;&gt;     61&lt;/a&gt; + \uCD94\uAC00 \uC815\uBCF4: {{url}}`,checkUserDefinedFns:&amp;quot;\uD639\uC2DC {{actualName}} \uB300\uC2E0 {{name}}\uB97C \uC4F4 \uAC83\uC774 \uC544\uB2CC\uC9C0 \uC0B4\uD3B4\uBCF4\uC138\uC694.&amp;quot;,fileLoadError:{bytes:&amp;quot;\uD30C\uC77C\uC744 \uB85C\uB4DC\uD558\uB294 \uC911\uC5D0 \uBB38\uC81C\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4. {{suggestion}}&amp;quot;,font:&amp;quot;\uAE00\uAF34\uC744 \uB85C\uB4DC\uD558\uB294 \uC911\uC5D0 \uBB38\uC81C\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4. {{suggestion}}&amp;quot;,gif:&amp;quot;GIF \uD30C\uC77C\uC744 \uB85C\uB4DC\uD558\uB294 \uC911\uC5D0 \uBB38\uC81C\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4. GIF \uD30C\uC77C\uC758 \uC778\uCF54\uB529 \uBC29\uC2DD\uC774 87a\uC774\uAC70\uB098 89a\uC778\uC9C0\uB97C \uD655\uC778\uD574\uBCF4\uC138\uC694.&amp;quot;,image:&amp;quot;\uC774\uBBF8\uC9C0\uB97C \uB85C\uB4DC\uD558\uB294 \uC911\uC5D0 \uBB38\uC81C\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4. {{suggestion}}&amp;quot;,json:&amp;quot;JSON \uD30C\uC77C\uC744 \uB85C\uB4DC\uD558\uB294 \uC911\uC5D0 \uBB38\uC81C\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4. {{suggestion}}&amp;quot;,large:&amp;quot;\uC6A9\uB7C9\uC774 \uD070 \uD30C\uC77C\uC744 \uD55C\uAEBC\uBC88\uC5D0 \uB85C\uB4DC\uD558\uB294 \uC911\uC5D0 \uBB38\uC81C\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4. \uD30C\uC77C \uC6A9\uB7C9\uC744 \uC904\uC5EC \uBCF4\uC138\uC694.&amp;quot;,strings:&amp;quot;\uD14D\uC2A4\uD2B8 \uD30C\uC77C\uC744 \uB85C\uB4DC\uD558\uB294 \uC911\uC5D0 \uBB38\uC81C\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4. {{suggestion}}&amp;quot;,suggestion:`\uD30C\uC77C \uACBD\uB85C({{filePath}})\uAC00 \uC62C\uBC14\uB978\uC9C0 \uD655\uC778\uD574\uBCF4\uC138\uC694. \uD639\uC740 \uD574\uB2F9 \uD30C\uC77C\uC744 \uD638\uC2A4\uD305 \uC11C\uBE44\uC2A4\uB97C \uC774\uC6A9\uD558\uAC70\uB098 \uB85C\uCEEC \uC11C\uBC84\uB97C \uAD6C\uB3D9\uD558\uC5EC \uC6F9\uC5D0 \uC62C\uB9AC\uB294 \uBC29\uBC95\uC744 \uACE0\uB824\uD574 \uBCF4\uC138\uC694.
<a href="#l81" class="line" id="l81">     81</a> &lt;a href=&quot;#l62&quot; class=&quot;line&quot; id=&quot;l62&quot;&gt;     62&lt;/a&gt; 
<a href="#l82" class="line" id="l82">     82</a> &lt;a href=&quot;#l63&quot; class=&quot;line&quot; id=&quot;l63&quot;&gt;     63&lt;/a&gt; + \uCD94\uAC00 \uC815\uBCF4: {{url}}`,table:&amp;quot;\uD14C\uC774\uBE14 \uD30C\uC77C\uC744 \uB85C\uB4DC\uD558\uB294 \uC911\uC5D0 \uBB38\uC81C\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4. {{suggestion}}&amp;quot;,xml:&amp;quot;XML \uD30C\uC77C\uC744 \uB85C\uB4DC\uD558\uB294 \uC911\uC5D0 \uBB38\uC81C\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4. {{suggestion}}&amp;quot;},friendlyParamError:{type_EMPTY_VAR:`{{location}} {{formatType}} \uD0C0\uC785 \uAC12\uC744 \uBC1B\uB294 {{func}}()\uC758 {{position}} \uB9E4\uAC1C\uBCC0\uC218(parameter)\uC5D0 \uC544\uBB34 \uAC12\uB3C4 \uC804\uB2EC\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4. \uBC94\uC704(scope)\uC640 \uAD00\uB828\uB41C \uBB38\uC81C\uC77C \uC218 \uC788\uC2B5\uB2C8\uB2E4.
<a href="#l83" class="line" id="l83">     83</a> &lt;a href=&quot;#l64&quot; class=&quot;line&quot; id=&quot;l64&quot;&gt;     64&lt;/a&gt; 
<a href="#l84" class="line" id="l84">     84</a> &lt;a href=&quot;#l65&quot; class=&quot;line&quot; id=&quot;l65&quot;&gt;     65&lt;/a&gt; + \uCD94\uAC00 \uC815\uBCF4: {{url}}`,type_TOO_FEW_ARGUMENTS:&amp;quot;{{location}} \uCD5C\uC18C {{minParams}}\uAC1C\uC758 \uC778\uC218(argument)\uB97C \uBC1B\uB294 \uD568\uC218 {{func}}()\uC5D0 \uC778\uC218\uAC00 {{argCount}}\uAC1C\uB9CC \uC785\uB825\uB418\uC5C8\uC2B5\uB2C8\uB2E4.&amp;quot;,type_TOO_MANY_ARGUMENTS:&amp;quot;{{location}} \uCD5C\uB300 {{maxParams}}\uAC1C\uC758 \uC778\uC218(argument)\uB97C \uBC1B\uB294 \uD568\uC218 {{func}}()\uC5D0 \uC778\uC218\uAC00 {{argCount}}\uAC1C\uB098 \uC785\uB825\uB418\uC5C8\uC2B5\uB2C8\uB2E4.&amp;quot;,type_WRONG_TYPE:&amp;quot;{{location}} {{formatType}} \uD0C0\uC785\uC758 \uAC12\uC744 \uBC1B\uB294 {{func}}()\uC758 {{position}} \uB9E4\uAC1C\uBCC0\uC218(parameter)\uC5D0 {{argType}} \uD0C0\uC785\uC758 \uAC12\uC774 \uC785\uB825\uB418\uC5C8\uC2B5\uB2C8\uB2E4.&amp;quot;},globalErrors:{reference:{cannotAccess:`
<a href="#l85" class="line" id="l85">     85</a> &lt;a href=&quot;#l66&quot; class=&quot;line&quot; id=&quot;l66&quot;&gt;     66&lt;/a&gt; {{location}} &amp;quot;{{symbol}}&amp;quot;\uAC00 \uC120\uC5B8\uB418\uC9C0 \uC54A\uC740 \uCC44 \uC0AC\uC6A9\uB418\uC5C8\uC2B5\uB2C8\uB2E4. \uBCC0\uC218\uB97C \uC0AC\uC6A9\uD558\uAE30 \uC804, \uBA3C\uC800 \uC120\uC5B8\uD588\uB294\uC9C0 \uD655\uC778\uD574\uBCF4\uC138\uC694.
<a href="#l86" class="line" id="l86">     86</a> &lt;a href=&quot;#l67&quot; class=&quot;line&quot; id=&quot;l67&quot;&gt;     67&lt;/a&gt; 
<a href="#l87" class="line" id="l87">     87</a> &lt;a href=&quot;#l68&quot; class=&quot;line&quot; id=&quot;l68&quot;&gt;     68&lt;/a&gt; + \uCD94\uAC00 \uC815\uBCF4: {{url}}`,notDefined:`
<a href="#l88" class="line" id="l88">     88</a> &lt;a href=&quot;#l69&quot; class=&quot;line&quot; id=&quot;l69&quot;&gt;     69&lt;/a&gt; {{location}} &amp;quot;{{symbol}}&amp;quot;\uC740 \uD604\uC7AC \uBC94\uC704(scope) \uC548\uC5D0 \uC815\uC758\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4. \uB9CC\uC57D \uC815\uC758\uB97C \uD588\uB2E4\uBA74, \uD574\uB2F9 \uBC94\uC704\uC640 \uC624\uD0C8\uC790, \uB300\uC18C\uBB38\uC790 \uB4F1\uC744 \uD655\uC778\uD574\uBCF4\uC138\uC694 (\uC790\uBC14\uC2A4\uD06C\uB9BD\uD2B8\uC5D0\uC11C\uB294 \uB300\uC18C\uBB38\uC790\uB97C \uAD6C\uBD84\uD569\uB2C8\uB2E4).
<a href="#l89" class="line" id="l89">     89</a> &lt;a href=&quot;#l70&quot; class=&quot;line&quot; id=&quot;l70&quot;&gt;     70&lt;/a&gt; 
<a href="#l90" class="line" id="l90">     90</a> &lt;a href=&quot;#l71&quot; class=&quot;line&quot; id=&quot;l71&quot;&gt;     71&lt;/a&gt; + \uCD94\uAC00 \uC815\uBCF4: {{url}}`},stackSubseq:`\u2514[{{location}}] 
<a href="#l91" class="line" id="l91">     91</a> &lt;a href=&quot;#l72&quot; class=&quot;line&quot; id=&quot;l72&quot;&gt;     72&lt;/a&gt; 	 {{func}}()\uC5D0 \uC788\uB294 \uC904{{line}}\uC5D0\uC11C \uD638\uCD9C
<a href="#l92" class="line" id="l92">     92</a> &lt;a href=&quot;#l73&quot; class=&quot;line&quot; id=&quot;l73&quot;&gt;     73&lt;/a&gt; `,stackTop:`\u250C[{{location}}] 
<a href="#l93" class="line" id="l93">     93</a> &lt;a href=&quot;#l74&quot; class=&quot;line&quot; id=&quot;l74&quot;&gt;     74&lt;/a&gt; 	 {{func}}()\uC5D0 \uC788\uB294 \uC904{{line}}\uC5D0\uC11C \uC624\uB958 \uBC1C\uC0DD
<a href="#l94" class="line" id="l94">     94</a> &lt;a href=&quot;#l75&quot; class=&quot;line&quot; id=&quot;l75&quot;&gt;     75&lt;/a&gt; `,syntax:{badReturnOrYield:`
<a href="#l95" class="line" id="l95">     95</a> &lt;a href=&quot;#l76&quot; class=&quot;line&quot; id=&quot;l76&quot;&gt;     76&lt;/a&gt; \uAD6C\uBB38 \uC624\uB958 - \uB300\uAD04\uD638\uAC00 \uC81C\uB300\uB85C \uC4F0\uC600\uB294\uC9C0 \uD655\uC778\uD574 \uBCF8 \uD6C4, return\uC744 \uD568\uC218 \uC548\uC5D0 \uB123\uC5B4\uC8FC\uC138\uC694.
<a href="#l96" class="line" id="l96">     96</a> &lt;a href=&quot;#l77&quot; class=&quot;line&quot; id=&quot;l77&quot;&gt;     77&lt;/a&gt; 
<a href="#l97" class="line" id="l97">     97</a> &lt;a href=&quot;#l78&quot; class=&quot;line&quot; id=&quot;l78&quot;&gt;     78&lt;/a&gt; + \uCD94\uAC00 \uC815\uBCF4: {{url}}`,invalidToken:`
<a href="#l98" class="line" id="l98">     98</a> &lt;a href=&quot;#l79&quot; class=&quot;line&quot; id=&quot;l79&quot;&gt;     79&lt;/a&gt; \uAD6C\uBB38 \uC624\uB958 - \uC790\uBC14\uC2A4\uD06C\uB9BD\uD2B8\uAC00 \uC778\uC2DD\uD560 \uC218 \uC5C6\uAC70\uB098, \uC801\uD569\uD558\uC9C0 \uC54A\uC740 \uAE30\uD638\uB098 \uBB38\uAD6C\uAC00 \uC785\uB825\uB418\uC5C8\uC2B5\uB2C8\uB2E4.
<a href="#l99" class="line" id="l99">     99</a> &lt;a href=&quot;#l80&quot; class=&quot;line&quot; id=&quot;l80&quot;&gt;     80&lt;/a&gt; 
<a href="#l100" class="line" id="l100">    100</a> &lt;a href=&quot;#l81&quot; class=&quot;line&quot; id=&quot;l81&quot;&gt;     81&lt;/a&gt; + \uCD94\uAC00 \uC815\uBCF4: {{url}}`,missingInitializer:`
<a href="#l101" class="line" id="l101">    101</a> &lt;a href=&quot;#l82&quot; class=&quot;line&quot; id=&quot;l82&quot;&gt;     82&lt;/a&gt; \uAD6C\uBB38 \uC624\uB958 - const \uBCC0\uC218\uAC00 \uC120\uC5B8\uB418\uC5C8\uC9C0\uB9CC \uCD08\uAE30\uD654\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4. \uBCC0\uC218\uAC00 \uC120\uC5B8\uB41C \uBA85\uB839\uBB38 \uC548\uC5D0\uC11C \uAC12\uC744 \uC9C0\uC815\uD574\uC8FC\uC138\uC694.
<a href="#l102" class="line" id="l102">    102</a> &lt;a href=&quot;#l83&quot; class=&quot;line&quot; id=&quot;l83&quot;&gt;     83&lt;/a&gt; 
<a href="#l103" class="line" id="l103">    103</a> &lt;a href=&quot;#l84&quot; class=&quot;line&quot; id=&quot;l84&quot;&gt;     84&lt;/a&gt; + \uCD94\uAC00 \uC815\uBCF4: {{url}}`,redeclaredVariable:`
<a href="#l104" class="line" id="l104">    104</a> &lt;a href=&quot;#l85&quot; class=&quot;line&quot; id=&quot;l85&quot;&gt;     85&lt;/a&gt; \uAD6C\uBB38 \uC624\uB958 - \uC774\uBBF8 \uC120\uC5B8\uB41C &amp;quot;{{symbol}}&amp;quot;\uAC00 \uC7AC\uC120\uC5B8\uB418\uC5C8\uC2B5\uB2C8\uB2E4. \uC790\uBC14\uC2A4\uD06C\uB9BD\uD2B8\uC5D0\uC11C\uB294 \uAC19\uC740 \uBCC0\uC218\uB97C \uD55C \uBC88 \uC774\uC0C1 \uC120\uC5B8\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.
<a href="#l105" class="line" id="l105">    105</a> &lt;a href=&quot;#l86&quot; class=&quot;line&quot; id=&quot;l86&quot;&gt;     86&lt;/a&gt; 
<a href="#l106" class="line" id="l106">    106</a> &lt;a href=&quot;#l87&quot; class=&quot;line&quot; id=&quot;l87&quot;&gt;     87&lt;/a&gt; + \uCD94\uAC00 \uC815\uBCF4: {{url}}`,unexpectedToken:`
<a href="#l107" class="line" id="l107">    107</a> &lt;a href=&quot;#l88&quot; class=&quot;line&quot; id=&quot;l88&quot;&gt;     88&lt;/a&gt; \uAD6C\uBB38 \uC624\uB958 - \uC785\uB825\uB41C \uBB38\uAD6C\uAC00 \uC608\uC0C1\uD558\uC9C0 \uBABB\uD55C \uC704\uCE58\uC5D0 \uC788\uC2B5\uB2C8\uB2E4.\uBCF4\uD1B5 \uC774\uB7F0 \uC0C1\uD669\uC740 \uC624\uD0C8\uC790 \uB54C\uBB38\uC5D0 \uC77C\uC5B4\uB098\uB294 \uACBD\uC6B0\uAC00 \uB9CE\uC2B5\uB2C8\uB2E4. \uB204\uB77D\uB418\uAC70\uB098 \uCD94\uAC00\uB41C \uB0B4\uC6A9\uC774 \uC5C6\uB294\uC9C0 \uD655\uC778\uD558\uC138\uC694.
<a href="#l108" class="line" id="l108">    108</a> &lt;a href=&quot;#l89&quot; class=&quot;line&quot; id=&quot;l89&quot;&gt;     89&lt;/a&gt; 
<a href="#l109" class="line" id="l109">    109</a> &lt;a href=&quot;#l90&quot; class=&quot;line&quot; id=&quot;l90&quot;&gt;     90&lt;/a&gt; + \uCD94\uAC00 \uC815\uBCF4: {{url}}`},type:{constAssign:`
<a href="#l110" class="line" id="l110">    110</a> &lt;a href=&quot;#l91&quot; class=&quot;line&quot; id=&quot;l91&quot;&gt;     91&lt;/a&gt; {{location}} const \uBCC0\uC218\uAC00 \uC7AC\uC9C0\uC815\uB418\uC5C8\uC2B5\uB2C8\uB2E4. \uC790\uBC14\uC2A4\uD06C\uB9BD\uD2B8\uC5D0\uC11C\uB294 const \uBCC0\uC218\uC5D0 \uB2E4\uB978 \uAC12\uC744 \uC5EC\uB7EC \uBC88 \uC9C0\uC815\uD560 \uC218 \uC5C6\uC73C\uBBC0\uB85C \uC0C8\uB85C\uC6B4 \uAC12\uC744 \uC5EC\uB7EC \uBC88 \uC9C0\uC815\uD558\uC2DC\uB824\uBA74, const \uB300\uC2E0 var\uB098 let\uC744 \uC368\uC11C \uBCC0\uC218\uB97C \uC120\uC5B8\uD574 \uC8FC\uC138\uC694.
<a href="#l111" class="line" id="l111">    111</a> &lt;a href=&quot;#l92&quot; class=&quot;line&quot; id=&quot;l92&quot;&gt;     92&lt;/a&gt; 
<a href="#l112" class="line" id="l112">    112</a> &lt;a href=&quot;#l93&quot; class=&quot;line&quot; id=&quot;l93&quot;&gt;     93&lt;/a&gt; + \uCD94\uAC00 \uC815\uBCF4: {{url}}`,notfunc:`
<a href="#l113" class="line" id="l113">    113</a> &lt;a href=&quot;#l94&quot; class=&quot;line&quot; id=&quot;l94&quot;&gt;     94&lt;/a&gt; {{location}} &amp;quot;{{symbol}}&amp;quot;\uB294 \uD568\uC218\uB85C \uD638\uCD9C\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4. \uD0C0\uC785\uACFC \uC624\uD0C8\uC790, \uB300\uC18C\uBB38\uC790 \uB4F1\uC744 \uD655\uC778\uD574\uC8FC\uC138\uC694.
<a href="#l114" class="line" id="l114">    114</a> &lt;a href=&quot;#l95&quot; class=&quot;line&quot; id=&quot;l95&quot;&gt;     95&lt;/a&gt; 
<a href="#l115" class="line" id="l115">    115</a> &lt;a href=&quot;#l96&quot; class=&quot;line&quot; id=&quot;l96&quot;&gt;     96&lt;/a&gt; + \uCD94\uAC00 \uC815\uBCF4: {{url}}`,notfuncObj:`
<a href="#l116" class="line" id="l116">    116</a> &lt;a href=&quot;#l97&quot; class=&quot;line&quot; id=&quot;l97&quot;&gt;     97&lt;/a&gt; {{location}} &amp;quot;{{symbol}}&amp;quot;\uB294 \uD568\uC218\uB85C \uD638\uCD9C\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4. &amp;quot;{{obj}}&amp;quot;\uAC00 &amp;quot;{{symbol}}&amp;quot;\uB97C \uAC00\uC9C0\uACE0 \uC788\uB294\uC9C0 \uC0B4\uD3B4\uBCF4\uACE0, \uD0C0\uC785\uACFC \uC624\uD0C8\uC790, \uB300\uC18C\uBB38\uC790 \uB4F1\uC744 \uD655\uC778\uD574\uC8FC\uC138\uC694.
<a href="#l117" class="line" id="l117">    117</a> &lt;a href=&quot;#l98&quot; class=&quot;line&quot; id=&quot;l98&quot;&gt;     98&lt;/a&gt; 
<a href="#l118" class="line" id="l118">    118</a> &lt;a href=&quot;#l99&quot; class=&quot;line&quot; id=&quot;l99&quot;&gt;     99&lt;/a&gt; + \uCD94\uAC00 \uC815\uBCF4: {{url}}`,readFromNull:`
<a href="#l119" class="line" id="l119">    119</a> &lt;a href=&quot;#l100&quot; class=&quot;line&quot; id=&quot;l100&quot;&gt;    100&lt;/a&gt; {{location}} null\uC758 \uC18D\uC131(property)\uC744 \uC77D\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4. \uC790\uBC14\uC2A4\uD06C\uB9BD\uD2B8\uC5D0\uC11C null\uC774\uB780, \uAC1D\uCCB4(object)\uC5D0 \uC8FC\uC5B4\uC9C4 \uAC12\uC774 \uBE44\uC5B4\uC788\uB2E4\uB294 \uB73B\uC785\uB2C8\uB2E4.
<a href="#l120" class="line" id="l120">    120</a> &lt;a href=&quot;#l101&quot; class=&quot;line&quot; id=&quot;l101&quot;&gt;    101&lt;/a&gt; 
<a href="#l121" class="line" id="l121">    121</a> &lt;a href=&quot;#l102&quot; class=&quot;line&quot; id=&quot;l102&quot;&gt;    102&lt;/a&gt; + \uCD94\uAC00 \uC815\uBCF4: {{url}}`,readFromUndefined:`
<a href="#l122" class="line" id="l122">    122</a> &lt;a href=&quot;#l103&quot; class=&quot;line&quot; id=&quot;l103&quot;&gt;    103&lt;/a&gt; {{location}} undefined\uC758 \uC18D\uC131(property)\uC744 \uC77D\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4. \uD639\uC2DC \uC5F0\uC0B0 \uC911\uC778 \uBCC0\uC218\uAC00 \uC815\uC758\uB418\uC9C0 \uC54A\uC558\uB294\uC9C0 \uD655\uC778\uD558\uC138\uC694.
<a href="#l123" class="line" id="l123">    123</a> &lt;a href=&quot;#l104&quot; class=&quot;line&quot; id=&quot;l104&quot;&gt;    104&lt;/a&gt; 
<a href="#l124" class="line" id="l124">    124</a> &lt;a href=&quot;#l105&quot; class=&quot;line&quot; id=&quot;l105&quot;&gt;    105&lt;/a&gt; + \uCD94\uAC00 \uC815\uBCF4: {{url}}`}},libraryError:&amp;#39;{{location}} \uD568\uC218 {{func}}\uAC00 \uD638\uCD9C\uB418\uC5C8\uC744 \uB54C,  &amp;quot;{{error}}&amp;quot; \uC624\uB958\uAC00 p5js \uB77C\uC774\uBE0C\uB7EC\uB9AC \uB0B4\uC5D0\uC11C \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4. \uD568\uC218 {{func}}\uC5D0 \uC804\uB2EC\uD55C \uC778\uC218(argument)\uAC00 \uBB38\uC81C\uC77C \uC218 \uC788\uC2B5\uB2C8\uB2E4.&amp;#39;,location:&amp;quot;[{{file}}, \uC904{{line}}]&amp;quot;,misspelling:&amp;#39;{{location}} \uD639\uC2DC p5.js\uC758 {{type}}\uB97C \uC0AC\uC6A9\uD558\uC2DC\uB824\uBA74 &amp;quot;{{name}}&amp;quot;\uB97C {{actualName}}\uB85C \uACE0\uCCD0 \uBCF4\uC138\uC694.&amp;#39;,misspelling_plural:`{{location}} \uD639\uC2DC p5.js\uC758 {{type}}\uB97C \uC0AC\uC6A9\uD558\uC2DC\uB824\uBA74 &amp;quot;{{name}}&amp;quot;\uB97C \uB2E4\uC74C \uC911 \uD558\uB098\uB85C \uACE0\uCCD0\uBCF4\uC138\uC694: 
<a href="#l125" class="line" id="l125">    125</a> &lt;a href=&quot;#l106&quot; class=&quot;line&quot; id=&quot;l106&quot;&gt;    106&lt;/a&gt; {{suggestions}}`,misusedTopLevel:`{{location}} \uD639\uC2DC p5.js\uC758 {{symbolType}} \uD0C0\uC785 {{symbolName}}\uC744 \uC0AC\uC6A9\uD558\uC168\uB098\uC694? \uADF8\uB807\uB2E4\uBA74 {{symbolName}}\uC744 \uC791\uC131 \uC911\uC778 setup() \uD568\uC218\uC758 \uB300\uAD04\uD638 \uC548\uC73C\uB85C \uC62E\uACA8\uBCF4\uC138\uC694.
<a href="#l126" class="line" id="l126">    126</a> &lt;a href=&quot;#l107&quot; class=&quot;line&quot; id=&quot;l107&quot;&gt;    107&lt;/a&gt; 
<a href="#l127" class="line" id="l127">    127</a> &lt;a href=&quot;#l108&quot; class=&quot;line&quot; id=&quot;l108&quot;&gt;    108&lt;/a&gt; + \uCD94\uAC00 \uC815\uBCF4: {{url}}`,positions:{p_1:&amp;quot;1\uBC88\uC9F8&amp;quot;,p_10:&amp;quot;10\uBC88\uC9F8&amp;quot;,p_11:&amp;quot;11\uBC88\uC9F8&amp;quot;,p_12:&amp;quot;12\uBC88\uC9F8&amp;quot;,p_2:&amp;quot;2\uBC88\uC9F8&amp;quot;,p_3:&amp;quot;3\uBC88\uC9F8&amp;quot;,p_4:&amp;quot;4\uBC88\uC9F8&amp;quot;,p_5:&amp;quot;5\uBC88\uC9F8&amp;quot;,p_6:&amp;quot;6\uBC88\uC9F8&amp;quot;,p_7:&amp;quot;7\uBC88\uC9F8&amp;quot;,p_8:&amp;quot;8\uBC88\uC9F8&amp;quot;,p_9:&amp;quot;9\uBC88\uC9F8&amp;quot;},pre:`
<a href="#l128" class="line" id="l128">    128</a> &lt;a href=&quot;#l109&quot; class=&quot;line&quot; id=&quot;l109&quot;&gt;    109&lt;/a&gt; \u{1F338} p5.js says: {{message}}`,sketchReaderErrors:{reservedConst:`p5.js\uC5D0\uC11C \uC774\uBBF8 \uC4F0\uACE0 \uC788\uB294 \uBCC0\uC218 &amp;quot;{{symbol}}&amp;quot;\uB97C \uC0AC\uC6A9\uD558\uC168\uC2B5\uB2C8\uB2E4. \uD574\uB2F9 \uBCC0\uC218\uB97C \uB2E4\uB978 \uC774\uB984\uC73C\uB85C \uBC14\uAFB8\uC5B4 \uC8FC\uC138\uC694.
<a href="#l129" class="line" id="l129">    129</a> &lt;a href=&quot;#l110&quot; class=&quot;line&quot; id=&quot;l110&quot;&gt;    110&lt;/a&gt; 
<a href="#l130" class="line" id="l130">    130</a> &lt;a href=&quot;#l111&quot; class=&quot;line&quot; id=&quot;l111&quot;&gt;    111&lt;/a&gt; + \uCD94\uAC00 \uC815\uBCF4: {{url}}`,reservedFunc:`p5.js\uC5D0\uC11C \uC774\uBBF8 \uC4F0\uACE0 \uC788\uB294 \uD568\uC218 &amp;quot;{{symbol}}&amp;quot;\uB97C \uC0AC\uC6A9\uD558\uC168\uC2B5\uB2C8\uB2E4. \uD574\uB2F9 \uD568\uC218\uB97C \uB2E4\uB978 \uC774\uB984\uC73C\uB85C \uBC14\uAFB8\uC5B4 \uC8FC\uC138\uC694.
<a href="#l131" class="line" id="l131">    131</a> &lt;a href=&quot;#l112&quot; class=&quot;line&quot; id=&quot;l112&quot;&gt;    112&lt;/a&gt; 
<a href="#l132" class="line" id="l132">    132</a> &lt;a href=&quot;#l113&quot; class=&quot;line&quot; id=&quot;l113&quot;&gt;    113&lt;/a&gt; + \uCD94\uAC00 \uC815\uBCF4: {{url}}`},welcome:&amp;quot;{{logo}} \uD658\uC601\uD569\uB2C8\uB2E4, \uC774 \uBA54\uC138\uC9C0\uB294 \uC5D0\uB7EC\uB97C \uCC3E\uB294 \uB514\uBC84\uAE45 \uC548\uB0B4\uBB38\uC785\uB2C8\uB2E4. \uC548\uB0B4\uAC00 \uD544\uC694\uC5C6\uB294 \uACBD\uC6B0 p5.js\uB300\uC2E0 p5.min.js\uB97C \uC0AC\uC6A9\uD558\uC138\uC694.&amp;quot;,wrongPreload:`{{location}} &amp;quot;{{func}}&amp;quot;\uAC00 \uD638\uCD9C\uB418\uBA70 p5js \uB77C\uC774\uBE0C\uB7EC\uB9AC \uB0B4\uBD80\uC5D0\uC11C \uB2E4\uC74C \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4: &amp;quot;{{error}}&amp;quot;.
<a href="#l133" class="line" id="l133">    133</a> &lt;a href=&quot;#l114&quot; class=&quot;line&quot; id=&quot;l114&quot;&gt;    114&lt;/a&gt; 
<a href="#l134" class="line" id="l134">    134</a> &lt;a href=&quot;#l115&quot; class=&quot;line&quot; id=&quot;l115&quot;&gt;    115&lt;/a&gt;  \uD568\uC218 &amp;quot;{{func}}&amp;quot;\uAC00 preload()\uC5D0\uC11C \uD638\uCD9C\uB418\uC5C8\uAE30 \uB54C\uBB38\uC77C \uC218 \uC788\uC2B5\uB2C8\uB2E4. preload() \uD568\uC218 \uC548\uC5D0\uC11C\uB294 \uC9C0\uC815\uB41C \uD568\uC218(\uC608: loadImage, loadJSON, loadFont, loadStrings \uB4F1)\uB9CC \uD638\uCD9C\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4.`}}});var v0,y0=ln(()=&amp;gt;{v0={fes:{autoplay:`\u5C1D\u8BD5\u64AD\u653E\uFF08\u4F7F\u7528&amp;#39;{{src}}&amp;#39;\uFF09\u7684\u5A92\u4F53\u5728\u6B64\u6D4F\u89C8\u5668\u4E2D\u88AB\u7981\u6B62\uFF0C\u5F88\u53EF\u80FD\u662F\u7531\u4E8E\u6D4F\u89C8\u5668\u7684\u81EA\u52A8\u64AD\u653E\u7B56\u7565\u3002
<a href="#l135" class="line" id="l135">    135</a> &lt;a href=&quot;#l116&quot; class=&quot;line&quot; id=&quot;l116&quot;&gt;    116&lt;/a&gt; 
<a href="#l136" class="line" id="l136">    136</a> &lt;a href=&quot;#l117&quot; class=&quot;line&quot; id=&quot;l117&quot;&gt;    117&lt;/a&gt; + \u66F4\u591A\u4FE1\u606F\uFF1A{{url}}`,checkUserDefinedFns:&amp;quot;\u770B\u8D77\u6765\u60A8\u53EF\u80FD\u5728{{name}}\u5904\u610F\u5916\u5199\u9519\u4E86\uFF0C\u5E94\u8BE5\u662F{{actualName}}\u3002\u5982\u679C\u8FD9\u4E0D\u662F\u6545\u610F\u7684\uFF0C\u8BF7\u8FDB\u884C\u66F4\u6B63\u3002&amp;quot;,fileLoadError:{bytes:&amp;quot;\u4F3C\u4E4E\u5728\u52A0\u8F7D\u6587\u4EF6\u65F6\u51FA\u73B0\u4E86\u95EE\u9898\u3002{{suggestion}}&amp;quot;,font:&amp;quot;\u4F3C\u4E4E\u5728\u52A0\u8F7D\u5B57\u4F53\u65F6\u51FA\u73B0\u4E86\u95EE\u9898\u3002{{suggestion}}&amp;quot;,gif:&amp;quot;\u52A0\u8F7DGIF\u65F6\u51FA\u73B0\u4E86\u95EE\u9898\u3002\u8BF7\u786E\u4FDD\u60A8\u7684GIF\u4F7F\u752887a\u621689a\u7F16\u7801\u3002&amp;quot;,image:&amp;quot;\u4F3C\u4E4E\u5728\u52A0\u8F7D\u56FE\u50CF\u65F6\u51FA\u73B0\u4E86\u95EE\u9898\u3002{{suggestion}}&amp;quot;,json:&amp;quot;\u4F3C\u4E4E\u5728\u52A0\u8F7DJSON\u6587\u4EF6\u65F6\u51FA\u73B0\u4E86\u95EE\u9898\u3002{{suggestion}}&amp;quot;,large:&amp;quot;\u5982\u679C\u60A8\u65E0\u6CD5\u6210\u529F\u83B7\u53D6\u5927\u578B\u6587\u4EF6\uFF0C\u6211\u4EEC\u5EFA\u8BAE\u5C06\u6587\u4EF6\u5206\u5272\u6210\u8F83\u5C0F\u7684\u6BB5\u5E76\u83B7\u53D6\u8FD9\u4E9B\u6BB5\u3002&amp;quot;,strings:&amp;quot;\u4F3C\u4E4E\u5728\u52A0\u8F7D\u6587\u672C\u6587\u4EF6\u65F6\u51FA\u73B0\u4E86\u95EE\u9898\u3002{{suggestion}}&amp;quot;,suggestion:`\u5C1D\u8BD5\u68C0\u67E5\u6587\u4EF6\u8DEF\u5F84\uFF08{{filePath}}\uFF09\u662F\u5426\u6B63\u786E\uFF0C\u5C06\u6587\u4EF6\u6258\u7BA1\u5728\u7EBF\u4E0A\u6216\u8FD0\u884C\u672C\u5730\u670D\u52A1\u5668\u3002
<a href="#l137" class="line" id="l137">    137</a> &lt;a href=&quot;#l118&quot; class=&quot;line&quot; id=&quot;l118&quot;&gt;    118&lt;/a&gt; 
<a href="#l138" class="line" id="l138">    138</a> &lt;a href=&quot;#l119&quot; class=&quot;line&quot; id=&quot;l119&quot;&gt;    119&lt;/a&gt; + \u66F4\u591A\u4FE1\u606F\uFF1A{{url}}`,table:&amp;quot;\u4F3C\u4E4E\u5728\u52A0\u8F7D\u8868\u683C\u6587\u4EF6\u65F6\u51FA\u73B0\u4E86\u95EE\u9898\u3002{{suggestion}}&amp;quot;,xml:&amp;quot;\u4F3C\u4E4E\u5728\u52A0\u8F7DXML\u6587\u4EF6\u65F6\u51FA\u73B0\u4E86\u95EE\u9898\u3002{{suggestion}}&amp;quot;},friendlyParamError:{type_EMPTY_VAR:`{{location}} {{func}}() \u671F\u671B\u7684\u662F{{formatType}}\u7C7B\u578B\u7684{{position}}\u53C2\u6570\uFF0C\u800C\u63A5\u6536\u5230\u4E86\u4E00\u4E2A\u7A7A\u53D8\u91CF\u3002\u5982\u679C\u8FD9\u4E0D\u662F\u6545\u610F\u7684\uFF0C\u901A\u5E38\u662F\u4F5C\u7528\u57DF\u7684\u95EE\u9898\u3002
<a href="#l139" class="line" id="l139">    139</a> &lt;a href=&quot;#l120&quot; class=&quot;line&quot; id=&quot;l120&quot;&gt;    120&lt;/a&gt; 
<a href="#l140" class="line" id="l140">    140</a> &lt;a href=&quot;#l121&quot; class=&quot;line&quot; id=&quot;l121&quot;&gt;    121&lt;/a&gt; + \u66F4\u591A\u4FE1\u606F\uFF1A{{url}}`,type_TOO_FEW_ARGUMENTS:&amp;quot;{{location}} {{func}}() \u671F\u671B\u81F3\u5C11{{minParams}}\u4E2A\u53C2\u6570\uFF0C\u4F46\u53EA\u6536\u5230\u4E86{{argCount}}\u4E2A\u3002&amp;quot;,type_TOO_MANY_ARGUMENTS:&amp;quot;{{location}} {{func}}() \u671F\u671B\u6700\u591A{{maxParams}}\u4E2A\u53C2\u6570\uFF0C\u4F46\u6536\u5230\u4E86{{argCount}}\u4E2A\u3002&amp;quot;,type_WRONG_TYPE:&amp;quot;{{location}} {{func}}() \u671F\u671B\u7684\u662F{{formatType}}\u7C7B\u578B\u7684{{position}}\u53C2\u6570\uFF0C\u800C\u63A5\u6536\u5230\u4E86{{argType}}\u7C7B\u578B\u3002&amp;quot;},globalErrors:{reference:{cannotAccess:`
<a href="#l141" class="line" id="l141">    141</a> &lt;a href=&quot;#l122&quot; class=&quot;line&quot; id=&quot;l122&quot;&gt;    122&lt;/a&gt; {{location}} \u5728\u58F0\u660E\u4E4B\u524D\u4F7F\u7528\u4E86&amp;quot;{{symbol}}&amp;quot;\u3002\u8BF7\u786E\u4FDD\u5728\u4F7F\u7528\u4E4B\u524D\u5DF2\u7ECF\u58F0\u660E\u4E86\u8BE5\u53D8\u91CF\u3002
<a href="#l142" class="line" id="l142">    142</a> &lt;a href=&quot;#l123&quot; class=&quot;line&quot; id=&quot;l123&quot;&gt;    123&lt;/a&gt; 
<a href="#l143" class="line" id="l143">    143</a> &lt;a href=&quot;#l124&quot; class=&quot;line&quot; id=&quot;l124&quot;&gt;    124&lt;/a&gt; + \u66F4\u591A\u4FE1\u606F\uFF1A{{url}}`,notDefined:`
<a href="#l144" class="line" id="l144">    144</a> &lt;a href=&quot;#l125&quot; class=&quot;line&quot; id=&quot;l125&quot;&gt;    125&lt;/a&gt; {{location}} \u5728\u5F53\u524D\u8303\u56F4\u4E2D\u672A\u5B9A\u4E49&amp;quot;{{symbol}}&amp;quot;\u3002\u5982\u679C\u60A8\u5DF2\u7ECF\u5728\u4EE3\u7801\u4E2D\u5B9A\u4E49\u4E86\u5B83\uFF0C\u8BF7\u68C0\u67E5\u5176\u4F5C\u7528\u57DF\u3001\u62FC\u5199\u548C\u5927\u5C0F\u5199\uFF08JavaScript\u533A\u5206\u5927\u5C0F\u5199\uFF09\u3002
<a href="#l145" class="line" id="l145">    145</a> &lt;a href=&quot;#l126&quot; class=&quot;line&quot; id=&quot;l126&quot;&gt;    126&lt;/a&gt; 
<a href="#l146" class="line" id="l146">    146</a> &lt;a href=&quot;#l127&quot; class=&quot;line&quot; id=&quot;l127&quot;&gt;    127&lt;/a&gt; + \u66F4\u591A\u4FE1\u606F\uFF1A{{url}}`},stackSubseq:`\u2514[{{location}}] 
<a href="#l147" class="line" id="l147">    147</a> &lt;a href=&quot;#l128&quot; class=&quot;line&quot; id=&quot;l128&quot;&gt;    128&lt;/a&gt; 	 \u5728{{func}}()\u4E2D\u7684\u7B2C{{line}}\u884C\u8C03\u7528
<a href="#l148" class="line" id="l148">    148</a> &lt;a href=&quot;#l129&quot; class=&quot;line&quot; id=&quot;l129&quot;&gt;    129&lt;/a&gt; `,stackTop:`\u250C[{{location}}] 
<a href="#l149" class="line" id="l149">    149</a> &lt;a href=&quot;#l130&quot; class=&quot;line&quot; id=&quot;l130&quot;&gt;    130&lt;/a&gt; 	 \u5728{{func}}()\u7684\u7B2C{{line}}\u884C\u51FA\u73B0\u9519\u8BEF
<a href="#l150" class="line" id="l150">    150</a> &lt;a href=&quot;#l131&quot; class=&quot;line&quot; id=&quot;l131&quot;&gt;    131&lt;/a&gt; `,syntax:{badReturnOrYield:`
<a href="#l151" class="line" id="l151">    151</a> &lt;a href=&quot;#l132&quot; class=&quot;line&quot; id=&quot;l132&quot;&gt;    132&lt;/a&gt; \u8BED\u6CD5\u9519\u8BEF - return\u4F4D\u4E8E\u51FD\u6570\u5916\u90E8\u3002\u8BF7\u786E\u4FDD\u6CA1\u6709\u6F0F\u6389\u4EFB\u4F55\u62EC\u53F7\uFF0C\u4EE5\u4FBFreturn\u4F4D\u4E8E\u51FD\u6570\u5185\u90E8\u3002
<a href="#l152" class="line" id="l152">    152</a> &lt;a href=&quot;#l133&quot; class=&quot;line&quot; id=&quot;l133&quot;&gt;    133&lt;/a&gt; 
<a href="#l153" class="line" id="l153">    153</a> &lt;a href=&quot;#l134&quot; class=&quot;line&quot; id=&quot;l134&quot;&gt;    134&lt;/a&gt; + \u66F4\u591A\u4FE1\u606F\uFF1A{{url}}`,invalidToken:`
<a href="#l154" class="line" id="l154">    154</a> &lt;a href=&quot;#l135&quot; class=&quot;line&quot; id=&quot;l135&quot;&gt;    135&lt;/a&gt; \u8BED\u6CD5\u9519\u8BEF - \u53D1\u73B0\u4E86JavaScript\u4E0D\u8BC6\u522B\u6216\u4E0D\u671F\u671B\u7684\u7B26\u53F7\u3002
<a href="#l155" class="line" id="l155">    155</a> &lt;a href=&quot;#l136&quot; class=&quot;line&quot; id=&quot;l136&quot;&gt;    136&lt;/a&gt; 
<a href="#l156" class="line" id="l156">    156</a> &lt;a href=&quot;#l137&quot; class=&quot;line&quot; id=&quot;l137&quot;&gt;    137&lt;/a&gt; + \u66F4\u591A\u4FE1\u606F\uFF1A{{url}}`,missingInitializer:`
<a href="#l157" class="line" id="l157">    157</a> &lt;a href=&quot;#l138&quot; class=&quot;line&quot; id=&quot;l138&quot;&gt;    138&lt;/a&gt; \u8BED\u6CD5\u9519\u8BEF - \u58F0\u660E\u4E86\u4E00\u4E2Aconst\u53D8\u91CF\u4F46\u6CA1\u6709\u521D\u59CB\u5316\u3002\u5728JavaScript\u4E2D\uFF0Cconst\u5FC5\u987B\u8981\u6709\u521D\u59CB\u503C\u3002\u5728\u540C\u4E00\u8BED\u53E5\u4E2D\u5FC5\u987B\u6307\u5B9A\u503C\u6765\u58F0\u660E\u53D8\u91CF\u3002\u8BF7\u68C0\u67E5\u9519\u8BEF\u4E2D\u7684\u884C\u53F7\u5E76\u7ED9const\u53D8\u91CF\u8D4B\u503C\u3002
<a href="#l158" class="line" id="l158">    158</a> &lt;a href=&quot;#l139&quot; class=&quot;line&quot; id=&quot;l139&quot;&gt;    139&lt;/a&gt; 
<a href="#l159" class="line" id="l159">    159</a> &lt;a href=&quot;#l140&quot; class=&quot;line&quot; id=&quot;l140&quot;&gt;    140&lt;/a&gt; + \u66F4\u591A\u4FE1\u606F\uFF1A{{url}}`,redeclaredVariable:`
<a href="#l160" class="line" id="l160">    160</a> &lt;a href=&quot;#l141&quot; class=&quot;line&quot; id=&quot;l141&quot;&gt;    141&lt;/a&gt; \u8BED\u6CD5\u9519\u8BEF - &amp;quot;{{symbol}}&amp;quot; \u6B63\u5728\u88AB\u91CD\u65B0\u58F0\u660E\u3002JavaScript\u4E0D\u5141\u8BB8\u91CD\u590D\u58F0\u660E\u53D8\u91CF\u3002\u8BF7\u68C0\u67E5\u9519\u8BEF\u4E2D\u7684\u884C\u53F7\u662F\u5426\u91CD\u65B0\u58F0\u660E\u4E86\u8BE5\u53D8\u91CF\u3002
<a href="#l161" class="line" id="l161">    161</a> &lt;a href=&quot;#l142&quot; class=&quot;line&quot; id=&quot;l142&quot;&gt;    142&lt;/a&gt; 
<a href="#l162" class="line" id="l162">    162</a> &lt;a href=&quot;#l143&quot; class=&quot;line&quot; id=&quot;l143&quot;&gt;    143&lt;/a&gt; + \u66F4\u591A\u4FE1\u606F\uFF1A{{url}}`,unexpectedToken:`
<a href="#l163" class="line" id="l163">    163</a> &lt;a href=&quot;#l144&quot; class=&quot;line&quot; id=&quot;l144&quot;&gt;    144&lt;/a&gt; \u8BED\u6CD5\u9519\u8BEF - \u7B26\u53F7\u51FA\u73B0\u5728\u4E0D\u5E94\u8BE5\u51FA\u73B0\u7684\u4F4D\u7F6E\u3002
<a href="#l164" class="line" id="l164">    164</a> &lt;a href=&quot;#l145&quot; class=&quot;line&quot; id=&quot;l145&quot;&gt;    145&lt;/a&gt; \u901A\u5E38\u8FD9\u662F\u7531\u4E8E\u62FC\u5199\u9519\u8BEF\u3002\u8BF7\u68C0\u67E5\u9519\u8BEF\u4E2D\u7684\u884C\u53F7\u662F\u5426\u6709\u7F3A\u5C11\u6216\u591A\u4F59\u7684\u5185\u5BB9\u3002
<a href="#l165" class="line" id="l165">    165</a> &lt;a href=&quot;#l146&quot; class=&quot;line&quot; id=&quot;l146&quot;&gt;    146&lt;/a&gt; 
<a href="#l166" class="line" id="l166">    166</a> &lt;a href=&quot;#l147&quot; class=&quot;line&quot; id=&quot;l147&quot;&gt;    147&lt;/a&gt; + \u66F4\u591A\u4FE1\u606F\uFF1A{{url}}`},type:{constAssign:`
<a href="#l167" class="line" id="l167">    167</a> &lt;a href=&quot;#l148&quot; class=&quot;line&quot; id=&quot;l148&quot;&gt;    148&lt;/a&gt; {{location}} \u6B63\u5728\u91CD\u65B0\u8D4B\u503Cconst\u53D8\u91CF\u3002\u5728JavaScript\u4E2D\uFF0C\u4E0D\u5141\u8BB8\u5BF9\u5E38\u91CF\u8FDB\u884C\u91CD\u65B0\u8D4B\u503C\u3002\u5982\u679C\u8981\u7ED9\u53D8\u91CF\u91CD\u65B0\u8D4B\u503C\uFF0C\u8BF7\u786E\u4FDD\u58F0\u660E\u4E3Avar\u6216let\u3002
<a href="#l168" class="line" id="l168">    168</a> &lt;a href=&quot;#l149&quot; class=&quot;line&quot; id=&quot;l149&quot;&gt;    149&lt;/a&gt; 
<a href="#l169" class="line" id="l169">    169</a> &lt;a href=&quot;#l150&quot; class=&quot;line&quot; id=&quot;l150&quot;&gt;    150&lt;/a&gt; + \u66F4\u591A\u4FE1\u606F\uFF1A{{url}}`,notfunc:`
<a href="#l170" class="line" id="l170">    170</a> &lt;a href=&quot;#l151&quot; class=&quot;line&quot; id=&quot;l151&quot;&gt;    151&lt;/a&gt; {{location}} \u65E0\u6CD5\u5C06&amp;quot;{{symbol}}&amp;quot; \u8C03\u7528\u4E3A\u51FD\u6570\u3002
<a href="#l171" class="line" id="l171">    171</a> &lt;a href=&quot;#l152&quot; class=&quot;line&quot; id=&quot;l152&quot;&gt;    152&lt;/a&gt; \u8BF7\u68C0\u67E5\u62FC\u5199\u3001\u5927\u5C0F\u5199\uFF08JavaScript\u533A\u5206\u5927\u5C0F\u5199\uFF09\u548C\u5176\u7C7B\u578B\u3002
<a href="#l172" class="line" id="l172">    172</a> &lt;a href=&quot;#l153&quot; class=&quot;line&quot; id=&quot;l153&quot;&gt;    153&lt;/a&gt; 
<a href="#l173" class="line" id="l173">    173</a> &lt;a href=&quot;#l154&quot; class=&quot;line&quot; id=&quot;l154&quot;&gt;    154&lt;/a&gt; + \u66F4\u591A\u4FE1\u606F\uFF1A{{url}}`,notfuncObj:`
<a href="#l174" class="line" id="l174">    174</a> &lt;a href=&quot;#l155&quot; class=&quot;line&quot; id=&quot;l155&quot;&gt;    155&lt;/a&gt; {{location}} \u65E0\u6CD5\u5C06&amp;quot;{{symbol}}&amp;quot; \u8C03\u7528\u4E3A\u51FD\u6570\u3002
<a href="#l175" class="line" id="l175">    175</a> &lt;a href=&quot;#l156&quot; class=&quot;line&quot; id=&quot;l156&quot;&gt;    156&lt;/a&gt; \u8BF7\u9A8C\u8BC1&amp;quot;{{obj}}&amp;quot;\u662F\u5426\u5305\u542B&amp;quot;{{symbol}}&amp;quot;\uFF0C\u5E76\u68C0\u67E5\u62FC\u5199\u3001\u5927\u5C0F\u5199\uFF08JavaScript\u533A\u5206\u5927\u5C0F\u5199\uFF09\u548C\u5176\u7C7B\u578B\u3002
<a href="#l176" class="line" id="l176">    176</a> &lt;a href=&quot;#l157&quot; class=&quot;line&quot; id=&quot;l157&quot;&gt;    157&lt;/a&gt; 
<a href="#l177" class="line" id="l177">    177</a> &lt;a href=&quot;#l158&quot; class=&quot;line&quot; id=&quot;l158&quot;&gt;    158&lt;/a&gt; + \u66F4\u591A\u4FE1\u606F\uFF1A{{url}}`,readFromNull:`
<a href="#l178" class="line" id="l178">    178</a> &lt;a href=&quot;#l159&quot; class=&quot;line&quot; id=&quot;l159&quot;&gt;    159&lt;/a&gt; {{location}} \u65E0\u6CD5\u8BFB\u53D6null\u7684\u5C5E\u6027\u3002\u5728JavaScript\u4E2D\uFF0Cnull\u8868\u793A\u5BF9\u8C61\u6CA1\u6709\u503C\u3002
<a href="#l179" class="line" id="l179">    179</a> &lt;a href=&quot;#l160&quot; class=&quot;line&quot; id=&quot;l160&quot;&gt;    160&lt;/a&gt; 
<a href="#l180" class="line" id="l180">    180</a> &lt;a href=&quot;#l161&quot; class=&quot;line&quot; id=&quot;l161&quot;&gt;    161&lt;/a&gt; + \u66F4\u591A\u4FE1\u606F\uFF1A{{url}}`,readFromUndefined:`
<a href="#l181" class="line" id="l181">    181</a> &lt;a href=&quot;#l162&quot; class=&quot;line&quot; id=&quot;l162&quot;&gt;    162&lt;/a&gt; {{location}} \u65E0\u6CD5\u8BFB\u53D6undefined\u7684\u5C5E\u6027\u3002\u8BF7\u68C0\u67E5\u9519\u8BEF\u4E2D\u7684\u884C\u53F7\u5E76\u786E\u4FDD\u6B63\u5728\u64CD\u4F5C\u7684\u53D8\u91CF\u4E0D\u662Fundefined\u3002
<a href="#l182" class="line" id="l182">    182</a> &lt;a href=&quot;#l163&quot; class=&quot;line&quot; id=&quot;l163&quot;&gt;    163&lt;/a&gt; 
<a href="#l183" class="line" id="l183">    183</a> &lt;a href=&quot;#l164&quot; class=&quot;line&quot; id=&quot;l164&quot;&gt;    164&lt;/a&gt; + \u66F4\u591A\u4FE1\u606F\uFF1A{{url}}`}},libraryError:&amp;#39;{{location}} \u5728\u8C03\u7528{{func}}\u65F6\uFF0C\u5728p5js\u5E93\u5185\u90E8\u51FA\u73B0\u4E86\u4E00\u6761\u9519\u8BEF\u6D88\u606F&amp;quot;{{error}}&amp;quot;\u3002\u9664\u975E\u53E6\u6709\u8BF4\u660E\uFF0C\u5426\u5219\u53EF\u80FD\u662F\u4E0E\u4F20\u9012\u7ED9{{func}}\u7684\u53C2\u6570\u6709\u5173\u7684\u95EE\u9898\u3002&amp;#39;,location:&amp;quot;[{{file}}\uFF0C\u7B2C{{line}}\u884C]&amp;quot;,misspelling:&amp;#39;{{location}} \u770B\u8D77\u6765\u60A8\u53EF\u80FD\u5728{{name}}\u5904\u610F\u5916\u5199\u9519\u4E86\uFF0C\u5E94\u8BE5\u662F&amp;quot;{{actualName}}&amp;quot;\u3002\u5982\u679C\u5E0C\u671B\u4F7F\u7528p5.js\u4E2D\u7684{{type}}\uFF0C\u8BF7\u5C06\u5176\u66F4\u6B63\u4E3A{{actualName}}\u3002&amp;#39;,misspelling_plural:`{{location}} \u770B\u8D77\u6765\u60A8\u53EF\u80FD\u5728{{name}}\u5904\u610F\u5916\u5199\u9519\u4E86\u3002
<a href="#l184" class="line" id="l184">    184</a> &lt;a href=&quot;#l165&quot; class=&quot;line&quot; id=&quot;l165&quot;&gt;    165&lt;/a&gt; \u60A8\u53EF\u80FD\u6307\u7684\u662F\u4EE5\u4E0B\u4E4B\u4E00\uFF1A
<a href="#l185" class="line" id="l185">    185</a> &lt;a href=&quot;#l166&quot; class=&quot;line&quot; id=&quot;l166&quot;&gt;    166&lt;/a&gt; {{suggestions}}`,misusedTopLevel:`\u60A8\u521A\u521A\u5C1D\u8BD5\u4F7F\u7528\u4E86p5.js\u7684{{symbolType}} {{symbolName}}\u5417\uFF1F\u5982\u679C\u662F\uFF0C\u8BF7\u5C06\u5176\u79FB\u5230\u60A8\u7684sketch\u7684setup()\u51FD\u6570\u4E2D\u3002
<a href="#l186" class="line" id="l186">    186</a> &lt;a href=&quot;#l167&quot; class=&quot;line&quot; id=&quot;l167&quot;&gt;    167&lt;/a&gt; 
<a href="#l187" class="line" id="l187">    187</a> &lt;a href=&quot;#l168&quot; class=&quot;line&quot; id=&quot;l168&quot;&gt;    168&lt;/a&gt; + \u66F4\u591A\u4FE1\u606F\uFF1A{{url}}`,positions:{p_1:&amp;quot;\u7B2C\u4E00&amp;quot;,p_10:&amp;quot;\u7B2C\u5341&amp;quot;,p_11:&amp;quot;\u7B2C\u5341\u4E00&amp;quot;,p_12:&amp;quot;\u7B2C\u5341\u4E8C&amp;quot;,p_2:&amp;quot;\u7B2C\u4E8C&amp;quot;,p_3:&amp;quot;\u7B2C\u4E09&amp;quot;,p_4:&amp;quot;\u7B2C\u56DB&amp;quot;,p_5:&amp;quot;\u7B2C\u4E94&amp;quot;,p_6:&amp;quot;\u7B2C\u516D&amp;quot;,p_7:&amp;quot;\u7B2C\u4E03&amp;quot;,p_8:&amp;quot;\u7B2C\u516B&amp;quot;,p_9:&amp;quot;\u7B2C\u4E5D&amp;quot;},pre:`
<a href="#l188" class="line" id="l188">    188</a> &lt;a href=&quot;#l169&quot; class=&quot;line&quot; id=&quot;l169&quot;&gt;    169&lt;/a&gt; \u{1F338} p5.js \u8BF4\uFF1A{{message}}`,sketchReaderErrors:{reservedConst:`\u60A8\u4F7F\u7528\u4E86p5.js\u7684\u4FDD\u7559\u53D8\u91CF&amp;quot;{{symbol}}&amp;quot;\uFF0C\u8BF7\u786E\u4FDD\u5C06\u53D8\u91CF\u540D\u66F4\u6539\u4E3A\u5176\u4ED6\u540D\u79F0\u3002
<a href="#l189" class="line" id="l189">    189</a> &lt;a href=&quot;#l170&quot; class=&quot;line&quot; id=&quot;l170&quot;&gt;    170&lt;/a&gt; 
<a href="#l190" class="line" id="l190">    190</a> &lt;a href=&quot;#l171&quot; class=&quot;line&quot; id=&quot;l171&quot;&gt;    171&lt;/a&gt; + \u66F4\u591A\u4FE1\u606F\uFF1A{{url}}`,reservedFunc:`\u60A8\u4F7F\u7528\u4E86p5.js\u7684\u4FDD\u7559\u51FD\u6570&amp;quot;{{symbol}}&amp;quot;\uFF0C\u8BF7\u786E\u4FDD\u5C06\u51FD\u6570\u540D\u66F4\u6539\u4E3A\u5176\u4ED6\u540D\u79F0\u3002
<a href="#l191" class="line" id="l191">    191</a> &lt;a href=&quot;#l172&quot; class=&quot;line&quot; id=&quot;l172&quot;&gt;    172&lt;/a&gt; 
<a href="#l192" class="line" id="l192">    192</a> &lt;a href=&quot;#l173&quot; class=&quot;line&quot; id=&quot;l173&quot;&gt;    173&lt;/a&gt; + \u66F4\u591A\u4FE1\u606F\uFF1A{{url}}`},welcome:&amp;quot;\u6B22\u8FCE\uFF01\u8FD9\u662F\u60A8\u53CB\u597D\u7684\u8C03\u8BD5\u7A0B\u5E8F\u3002\u8981\u5173\u95ED\u6211\uFF0C\u8BF7\u5207\u6362\u5230\u4F7F\u7528p5.min.js\u3002&amp;quot;,wrongPreload:&amp;#39;{{location}} \u5728\u8C03\u7528&amp;quot;{{func}}&amp;quot;\u65F6\uFF0C\u5728p5js\u5E93\u5185\u90E8\u51FA\u73B0\u4E86\u4E00\u6761\u9519\u8BEF\u6D88\u606F&amp;quot;{{error}}&amp;quot;\u3002\u9664\u975E\u53E6\u6709\u8BF4\u660E\uFF0C\u5426\u5219\u53EF\u80FD\u662F\u7531\u4E8E\u5728preload\u4E2D\u8C03\u7528\u4E86&amp;quot;{{func}}&amp;quot;\u3002preload\u51FD\u6570\u4E4B\u5916\u4E0D\u5E94\u8BE5\u5305\u542B\u9664load\u51FD\u6570\uFF08loadImage\u3001loadJSON\u3001loadFont\u3001loadStrings\u7B49\uFF09\u4EE5\u5916\u7684\u5185\u5BB9\u3002&amp;#39;}}});var b0,x0=ln(()=&amp;gt;{b0={fes:{autoplay:`\u091C\u093F\u0938 \u092E\u0940\u0921\u093F\u092F\u093E \u0915\u094B \u091A\u0932\u093E\u0928\u0947 \u0915\u0940 \u0915\u094B\u0936\u093F\u0936 \u0915\u0940 \u0917\u0908 (&amp;#39;{{src}}&amp;#39; \u0915\u0947 \u0938\u093E\u0925) \u0909\u0938\u0947 \u0907\u0938 \u092C\u094D\u0930\u093E\u0909\u091C\u093C\u0930 \u0926\u094D\u0935\u093E\u0930\u093E \u0905\u0928\u0941\u092E\u0924\u093F \u0928\u0939\u0940\u0902 \u0926\u0940 \u0917\u0908, \u0938\u0902\u092D\u0935\u0924\u0903 \u092C\u094D\u0930\u093E\u0909\u091C\u093C\u0930 \u0915\u0940 \u0938\u094D\u0935\u0924: \u092A\u094D\u0932\u0947 \u0928\u0940\u0924\u093F \u0915\u0947 \u0915\u093E\u0930\u0923\u0964
<a href="#l193" class="line" id="l193">    193</a> &lt;a href=&quot;#l174&quot; class=&quot;line&quot; id=&quot;l174&quot;&gt;    174&lt;/a&gt; 
<a href="#l194" class="line" id="l194">    194</a> &lt;a href=&quot;#l175&quot; class=&quot;line&quot; id=&quot;l175&quot;&gt;    175&lt;/a&gt; + \u0905\u0927\u093F\u0915 \u091C\u093E\u0928\u0915\u093E\u0930\u0940: {{url}}`,checkUserDefinedFns:&amp;quot;\u0910\u0938\u093E \u0932\u0917\u0924\u093E \u0939\u0948 \u0915\u093F \u0906\u092A\u0928\u0947 \u0917\u0932\u0924\u0940 \u0938\u0947 {{actualName}} \u0915\u0940 \u091C\u0917\u0939 {{name}} \u0932\u093F\u0916 \u0926\u093F\u092F\u093E \u0939\u0948\u0964 \u092F\u0926\u093F \u092F\u0939 \u091C\u093E\u0928\u092C\u0942\u091D\u0915\u0930 \u0928\u0939\u0940\u0902 \u0915\u093F\u092F\u093E \u0917\u092F\u093E \u0939\u0948 \u0924\u094B \u0915\u0943\u092A\u092F\u093E \u0907\u0938\u0947 \u0938\u0941\u0927\u093E\u0930\u0947\u0902\u0964&amp;quot;,fileLoadError:{bytes:&amp;quot;\u0910\u0938\u093E \u0932\u0917\u0924\u093E \u0939\u0948 \u0915\u093F \u0906\u092A\u0915\u0940 \u092B\u093C\u093E\u0907\u0932 \u0932\u094B\u0921 \u0915\u0930\u0928\u0947 \u092E\u0947\u0902 \u0915\u094B\u0908 \u0938\u092E\u0938\u094D\u092F\u093E \u0925\u0940\u0964 {{suggestion}}&amp;quot;,font:&amp;quot;\u0910\u0938\u093E \u0932\u0917\u0924\u093E \u0939\u0948 \u0915\u093F \u0906\u092A\u0915\u093E \u092E\u0941\u0926\u094D\u0930\u0932\u093F\u092A\u093F \u0932\u094B\u0921 \u0915\u0930\u0928\u0947 \u092E\u0947\u0902 \u0915\u094B\u0908 \u0938\u092E\u0938\u094D\u092F\u093E \u0925\u0940\u0964 {{suggestion}}&amp;quot;,gif:&amp;quot;\u0906\u092A\u0915\u0940 GIF \u0932\u094B\u0921 \u0915\u0930\u0928\u0947 \u092E\u0947\u0902 \u0915\u0941\u091B \u0938\u092E\u0938\u094D\u092F\u093E \u0939\u0941\u0908\u0964 \u0938\u0941\u0928\u093F\u0936\u094D\u091A\u093F\u0924 \u0915\u0930\u0947\u0902 \u0915\u093F \u0906\u092A\u0915\u093E GIF 87a \u092F\u093E 89a \u090F\u0928\u094D\u0915\u094B\u0921\u093F\u0902\u0917 \u0915\u093E \u0909\u092A\u092F\u094B\u0917 \u0915\u0930 \u0930\u0939\u093E \u0939\u0948\u0964&amp;quot;,image:&amp;quot;\u0910\u0938\u093E \u0932\u0917\u0924\u093E \u0939\u0948 \u0915\u093F \u0906\u092A\u0915\u0940 \u091B\u0935\u093F \u0932\u094B\u0921 \u0915\u0930\u0928\u0947 \u092E\u0947\u0902 \u0915\u094B\u0908 \u0938\u092E\u0938\u094D\u092F\u093E \u0925\u0940\u0964 {{suggestion}}&amp;quot;,json:&amp;quot;\u0910\u0938\u093E \u0932\u0917\u0924\u093E \u0939\u0948 \u0915\u093F \u0906\u092A\u0915\u0940 JSON \u092B\u093C\u093E\u0907\u0932 \u0932\u094B\u0921 \u0915\u0930\u0928\u0947 \u092E\u0947\u0902 \u0915\u094B\u0908 \u0938\u092E\u0938\u094D\u092F\u093E \u0925\u0940\u0964 {{suggestion}}&amp;quot;,large:&amp;quot;\u092F\u0926\u093F \u0906\u092A\u0915\u0940 \u092C\u0921\u093C\u0940 \u092B\u093C\u093E\u0907\u0932 \u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u0928\u0939\u0940\u0902 \u0932\u093E\u0908 \u0917\u0908 \u0939\u0948, \u0924\u094B \u0939\u092E \u092B\u093C\u093E\u0907\u0932 \u0915\u094B \u091B\u094B\u091F\u0947 \u0916\u0902\u0921\u094B\u0902 \u092E\u0947\u0902 \u0935\u093F\u092D\u093E\u091C\u093F\u0924 \u0915\u0930\u0928\u0947 \u0914\u0930 \u0909\u0928\u094D\u0939\u0947\u0902 \u0932\u093E\u0928\u0947 \u0915\u0940 \u0938\u0932\u093E\u0939 \u0926\u0947\u0924\u0947 \u0939\u0948\u0902\u0964&amp;quot;,strings:&amp;quot;\u0910\u0938\u093E \u0932\u0917\u0924\u093E \u0939\u0948 \u0915\u093F \u0906\u092A\u0915\u0940 \u092A\u093E\u0920 \u092B\u093C\u093E\u0907\u0932 \u0932\u094B\u0921 \u0915\u0930\u0928\u0947 \u092E\u0947\u0902 \u0915\u094B\u0908 \u0938\u092E\u0938\u094D\u092F\u093E \u0925\u0940\u0964 {{suggestion}}&amp;quot;,suggestion:`\u092F\u0939 \u091C\u093E\u0901\u091A\u0928\u0947 \u0915\u093E \u092A\u094D\u0930\u092F\u093E\u0938 \u0915\u0930\u0947\u0902 \u0915\u093F \u092B\u093C\u093E\u0907\u0932 \u092A\u0925 ({{filePath}}) \u0938\u0939\u0940 \u0939\u0948 \u092F\u093E \u0928\u0939\u0940\u0902, \u092B\u093C\u093E\u0907\u0932 \u0915\u094B \u0911\u0928\u0932\u093E\u0907\u0928 \u0939\u094B\u0938\u094D\u091F \u0915\u0930\u0928\u093E, \u092F\u093E \u0938\u094D\u0925\u093E\u0928\u0940\u092F \u0938\u0930\u094D\u0935\u0930 \u091A\u0932\u093E\u0928\u093E\u0964
<a href="#l195" class="line" id="l195">    195</a> &lt;a href=&quot;#l176&quot; class=&quot;line&quot; id=&quot;l176&quot;&gt;    176&lt;/a&gt; 
<a href="#l196" class="line" id="l196">    196</a> &lt;a href=&quot;#l177&quot; class=&quot;line&quot; id=&quot;l177&quot;&gt;    177&lt;/a&gt; + \u0905\u0927\u093F\u0915 \u091C\u093E\u0928\u0915\u093E\u0930\u0940: {{url}}`,table:&amp;quot;\u0910\u0938\u093E \u0932\u0917\u0924\u093E \u0939\u0948 \u0915\u093F \u0906\u092A\u0915\u0940 \u0924\u093E\u0932\u093F\u0915\u093E \u092B\u093C\u093E\u0907\u0932 \u0932\u094B\u0921 \u0915\u0930\u0928\u0947 \u092E\u0947\u0902 \u0915\u094B\u0908 \u0938\u092E\u0938\u094D\u092F\u093E \u0925\u0940\u0964 {{suggestion}}&amp;quot;,xml:&amp;quot;\u0910\u0938\u093E \u0932\u0917\u0924\u093E \u0939\u0948 \u0915\u093F \u0906\u092A\u0915\u0940 XML \u092B\u093C\u093E\u0907\u0932 \u0932\u094B\u0921 \u0915\u0930\u0928\u0947 \u092E\u0947\u0902 \u0915\u094B\u0908 \u0938\u092E\u0938\u094D\u092F\u093E \u0925\u0940\u0964 {{suggestion}}&amp;quot;},friendlyParamError:{type_EMPTY_VAR:`{{location}} {{func}}() {{position}} \u092A\u094D\u0930\u093E\u091A\u0932 \u0915\u0947 \u0932\u093F\u090F {{formatType}} \u0915\u0940 \u0905\u092A\u0947\u0915\u094D\u0937\u093E \u0915\u0930 \u0930\u0939\u093E \u0925\u093E, \u0907\u0938\u0915\u0947 \u092C\u091C\u093E\u092F \u090F\u0915 \u0916\u093E\u0932\u0940 \u091A\u0930 \u092A\u094D\u0930\u093E\u092A\u094D\u0924 \u0939\u0941\u0906\u0964 \u092F\u0926\u093F \u091C\u093E\u0928\u092C\u0942\u091D\u0915\u0930 \u0928\u0939\u0940\u0902 \u0915\u093F\u092F\u093E \u0917\u092F\u093E \u0939\u0948, \u0924\u094B \u092F\u0939 \u0905\u0915\u094D\u0938\u0930 \u0926\u093E\u092F\u0930\u0947 \u0915\u0947 \u0938\u093E\u0925 \u090F\u0915 \u0938\u092E\u0938\u094D\u092F\u093E \u0939\u0948\u0964
<a href="#l197" class="line" id="l197">    197</a> &lt;a href=&quot;#l178&quot; class=&quot;line&quot; id=&quot;l178&quot;&gt;    178&lt;/a&gt; 
<a href="#l198" class="line" id="l198">    198</a> &lt;a href=&quot;#l179&quot; class=&quot;line&quot; id=&quot;l179&quot;&gt;    179&lt;/a&gt; + \u0905\u0927\u093F\u0915 \u091C\u093E\u0928\u0915\u093E\u0930\u0940:{{url}}`,type_TOO_FEW_ARGUMENTS:&amp;quot;{{location}} {{func}}() \u0915\u092E \u0938\u0947 \u0915\u092E {{minParams}} \u0924\u0930\u094D\u0915\u094B\u0902 \u0915\u0940 \u0905\u092A\u0947\u0915\u094D\u0937\u093E \u0925\u0940, \u0932\u0947\u0915\u093F\u0928 \u0915\u0947\u0935\u0932 \u092A\u094D\u0930\u093E\u092A\u094D\u0924 \u0939\u0941\u090F {{argCount}}.&amp;quot;,type_TOO_MANY_ARGUMENTS:&amp;quot;{{location}} {{func}}() {{maxParams}} \u0938\u0947 \u0905\u0927\u093F\u0915 \u0924\u0930\u094D\u0915\u094B\u0902 \u0915\u0940 \u0905\u092A\u0947\u0915\u094D\u0937\u093E \u0928\u0939\u0940\u0902 \u0915\u0930 \u0930\u0939\u093E \u0925\u093E, \u0932\u0947\u0915\u093F\u0928 \u092A\u094D\u0930\u093E\u092A\u094D\u0924 \u0939\u0941\u0906 {{argCount}}.&amp;quot;,type_WRONG_TYPE:&amp;quot;{{location}} {{func}}() {{position}} \u092A\u094D\u0930\u093E\u091A\u0932 \u0915\u0947 \u0932\u093F\u090F {{formatType}} \u0915\u0940 \u0905\u092A\u0947\u0915\u094D\u0937\u093E \u0915\u0930 \u0930\u0939\u093E \u0925\u093E, \u0907\u0938\u0915\u0947 \u092C\u091C\u093E\u092F {{argType}} \u092A\u094D\u0930\u093E\u092A\u094D\u0924 \u0939\u0941\u0906\u0964&amp;quot;},globalErrors:{reference:{cannotAccess:`
<a href="#l199" class="line" id="l199">    199</a> &lt;a href=&quot;#l180&quot; class=&quot;line&quot; id=&quot;l180&quot;&gt;    180&lt;/a&gt; {{location}} &amp;quot;{{symbol}}&amp;quot; \u0918\u094B\u0937\u0923\u093E \u0938\u0947 \u092A\u0939\u0932\u0947 \u092A\u094D\u0930\u092F\u094B\u0917 \u0915\u093F\u092F\u093E \u091C\u093E\u0924\u093E \u0939\u0948\u0964 \u0938\u0941\u0928\u093F\u0936\u094D\u091A\u093F\u0924 \u0915\u0930\u0947\u0902 \u0915\u093F \u0906\u092A\u0928\u0947 \u091A\u0930 \u0915\u093E \u0909\u092A\u092F\u094B\u0917 \u0915\u0930\u0928\u0947 \u0938\u0947 \u092A\u0939\u0932\u0947 \u0909\u0938\u0947 \u0918\u094B\u0937\u093F\u0924 \u0915\u0930 \u0926\u093F\u092F\u093E \u0939\u0948\u0964
<a href="#l200" class="line" id="l200">    200</a> &lt;a href=&quot;#l181&quot; class=&quot;line&quot; id=&quot;l181&quot;&gt;    181&lt;/a&gt; 
<a href="#l201" class="line" id="l201">    201</a> &lt;a href=&quot;#l182&quot; class=&quot;line&quot; id=&quot;l182&quot;&gt;    182&lt;/a&gt; + \u0905\u0927\u093F\u0915 \u091C\u093E\u0928\u0915\u093E\u0930\u0940: {{url}}`,notDefined:`
<a href="#l202" class="line" id="l202">    202</a> &lt;a href=&quot;#l183&quot; class=&quot;line&quot; id=&quot;l183&quot;&gt;    183&lt;/a&gt; {{location}} &amp;quot;{{symbol}}&amp;quot; \u0935\u0930\u094D\u0924\u092E\u093E\u0928 \u0926\u093E\u092F\u0930\u0947 \u092E\u0947\u0902 \u092A\u0930\u093F\u092D\u093E\u0937\u093F\u0924 \u0928\u0939\u0940\u0902 \u0939\u0948\u0964 \u092F\u0926\u093F \u0906\u092A\u0928\u0947 \u0907\u0938\u0947 \u0905\u092A\u0928\u0947 \u0915\u094B\u0921 \u092E\u0947\u0902 \u092A\u0930\u093F\u092D\u093E\u0937\u093F\u0924 \u0915\u093F\u092F\u093E \u0939\u0948, \u0924\u094B \u0906\u092A\u0915\u094B \u0907\u0938\u0915\u093E \u0926\u093E\u092F\u0930\u093E, \u0935\u0930\u094D\u0924\u0928\u0940 \u0914\u0930 \u0905\u0915\u094D\u0937\u0930-\u0906\u0935\u0930\u0923 \u091C\u093E\u0902\u091A\u0928\u093E \u091A\u093E\u0939\u093F\u090F (JavaScript \u0915\u0947\u0938-\u0938\u0902\u0935\u0947\u0926\u0940 \u0939\u0948)\u0964
<a href="#l203" class="line" id="l203">    203</a> &lt;a href=&quot;#l184&quot; class=&quot;line&quot; id=&quot;l184&quot;&gt;    184&lt;/a&gt; 
<a href="#l204" class="line" id="l204">    204</a> &lt;a href=&quot;#l185&quot; class=&quot;line&quot; id=&quot;l185&quot;&gt;    185&lt;/a&gt; + \u0905\u0927\u093F\u0915 \u091C\u093E\u0928\u0915\u093E\u0930\u0940: {{url}}`},stackSubseq:`\u2514[{{location}}] 
<a href="#l205" class="line" id="l205">    205</a> &lt;a href=&quot;#l186&quot; class=&quot;line&quot; id=&quot;l186&quot;&gt;    186&lt;/a&gt; 	 {{func}}() \u092E\u0947\u0902 \u092A\u0902\u0915\u094D\u0924\u093F {{line}} \u0938\u0947 \u0906\u0939\u094D\u0935\u093E\u0928 \u0915\u093F\u092F\u093E \u0917\u092F\u093E
<a href="#l206" class="line" id="l206">    206</a> &lt;a href=&quot;#l187&quot; class=&quot;line&quot; id=&quot;l187&quot;&gt;    187&lt;/a&gt; `,stackTop:`\u250C[{{location}}] 
<a href="#l207" class="line" id="l207">    207</a> &lt;a href=&quot;#l188&quot; class=&quot;line&quot; id=&quot;l188&quot;&gt;    188&lt;/a&gt; 	 {{func}}() \u092E\u0947\u0902 \u092A\u0902\u0915\u094D\u0924\u093F {{line}} \u092A\u0930 \u0924\u094D\u0930\u0941\u091F\u093F
<a href="#l208" class="line" id="l208">    208</a> &lt;a href=&quot;#l189&quot; class=&quot;line&quot; id=&quot;l189&quot;&gt;    189&lt;/a&gt; `,syntax:{badReturnOrYield:`
<a href="#l209" class="line" id="l209">    209</a> &lt;a href=&quot;#l190&quot; class=&quot;line&quot; id=&quot;l190&quot;&gt;    190&lt;/a&gt; \u0935\u093E\u0915\u094D\u092F - \u0935\u093F\u0928\u094D\u092F\u093E\u0938 \u0924\u094D\u0930\u0941\u091F\u093F - \u0930\u093F\u091F\u0930\u094D\u0928 \u0915\u093F\u0938\u0940 \u092B\u093C\u0902\u0915\u094D\u0936\u0928 \u0915\u0947 \u092C\u093E\u0939\u0930 \u0939\u094B\u0924\u093E \u0939\u0948\u0964 \u0938\u0941\u0928\u093F\u0936\u094D\u091A\u093F\u0924 \u0915\u0930\u0947\u0902 \u0915\u093F \u0906\u092A\u0938\u0947 \u0915\u094B\u0908 \u0915\u094B\u0937\u094D\u0920\u0915 \u0928\u0939\u0940\u0902 \u091B\u0942\u091F \u0930\u0939\u093E \u0939\u0948, \u0924\u093E\u0915\u093F \u0930\u093F\u091F\u0930\u094D\u0928 \u0915\u093F\u0938\u0940 \u092B\u093C\u0902\u0915\u094D\u0936\u0928 \u0915\u0947 \u0905\u0902\u0926\u0930 \u0939\u094B\u0964
<a href="#l210" class="line" id="l210">    210</a> &lt;a href=&quot;#l191&quot; class=&quot;line&quot; id=&quot;l191&quot;&gt;    191&lt;/a&gt; 
<a href="#l211" class="line" id="l211">    211</a> &lt;a href=&quot;#l192&quot; class=&quot;line&quot; id=&quot;l192&quot;&gt;    192&lt;/a&gt; + \u0905\u0927\u093F\u0915 \u091C\u093E\u0928\u0915\u093E\u0930\u0940: {{url}}`,invalidToken:`
<a href="#l212" class="line" id="l212">    212</a> &lt;a href=&quot;#l193&quot; class=&quot;line&quot; id=&quot;l193&quot;&gt;    193&lt;/a&gt; \u0935\u093E\u0915\u094D\u092F - \u0935\u093F\u0928\u094D\u092F\u093E\u0938 \u0924\u094D\u0930\u0941\u091F\u093F - \u090F\u0915 \u0910\u0938\u093E \u092A\u094D\u0930\u0924\u0940\u0915 \u092E\u093F\u0932\u093E \u091C\u093F\u0938\u0947 \u091C\u093E\u0935\u093E\u0938\u094D\u0915\u094D\u0930\u093F\u092A\u094D\u091F \u0928\u0939\u0940\u0902 \u092A\u0939\u091A\u093E\u0928\u0924\u093E \u092F\u093E \u0905\u092A\u0928\u0947 \u0938\u094D\u0925\u093E\u0928 \u092A\u0930 \u0905\u092A\u0947\u0915\u094D\u0937\u093F\u0924 \u0928\u0939\u0940\u0902 \u0925\u093E\u0964
<a href="#l213" class="line" id="l213">    213</a> &lt;a href=&quot;#l194&quot; class=&quot;line&quot; id=&quot;l194&quot;&gt;    194&lt;/a&gt; 
<a href="#l214" class="line" id="l214">    214</a> &lt;a href=&quot;#l195&quot; class=&quot;line&quot; id=&quot;l195&quot;&gt;    195&lt;/a&gt; + \u0905\u0927\u093F\u0915 \u091C\u093E\u0928\u0915\u093E\u0930\u0940: {{url}}`,missingInitializer:`
<a href="#l215" class="line" id="l215">    215</a> &lt;a href=&quot;#l196&quot; class=&quot;line&quot; id=&quot;l196&quot;&gt;    196&lt;/a&gt; \u0935\u093E\u0915\u094D\u092F - \u0935\u093F\u0928\u094D\u092F\u093E\u0938 \u0924\u094D\u0930\u0941\u091F\u093F - \u090F\u0915 \u0928\u093F\u092F\u0924 \u091A\u0930 \u0918\u094B\u0937\u093F\u0924 \u0915\u093F\u092F\u093E \u0917\u092F\u093E \u0939\u0948 \u0932\u0947\u0915\u093F\u0928 \u092A\u094D\u0930\u093E\u0930\u0902\u092D \u0928\u0939\u0940\u0902 \u0915\u093F\u092F\u093E \u0917\u092F\u093E \u0939\u0948\u0964 \u091C\u093E\u0935\u093E\u0938\u094D\u0915\u094D\u0930\u093F\u092A\u094D\u091F \u092E\u0947\u0902, \u090F\u0915 \u0928\u093F\u092F\u0924 \u0915\u0947 \u0932\u093F\u090F \u092A\u094D\u0930\u093E\u0930\u0902\u092D\u0915\u0930\u094D\u0924\u093E \u0915\u0940 \u0906\u0935\u0936\u094D\u092F\u0915\u0924\u093E \u0939\u094B\u0924\u0940 \u0939\u0948\u0964 \u090F\u0915 \u092E\u093E\u0928 \u0909\u0938\u0940 \u0915\u0925\u0928 \u092E\u0947\u0902 \u0928\u093F\u0930\u094D\u0926\u093F\u0937\u094D\u091F \u0915\u093F\u092F\u093E \u091C\u093E\u0928\u093E \u091A\u093E\u0939\u093F\u090F \u091C\u093F\u0938\u092E\u0947\u0902 \u091A\u0930 \u0918\u094B\u0937\u093F\u0924 \u0915\u093F\u092F\u093E \u0917\u092F\u093E \u0939\u0948\u0964 \u0924\u094D\u0930\u0941\u091F\u093F \u092E\u0947\u0902 \u092A\u0902\u0915\u094D\u0924\u093F \u0938\u0902\u0916\u094D\u092F\u093E \u0915\u0940 \u091C\u093E\u0901\u091A \u0915\u0930\u0947\u0902 \u0914\u0930 \u0938\u094D\u0925\u093F\u0930\u093E\u0902\u0915 \u091A\u0930 \u0915\u094B \u090F\u0915 \u092E\u093E\u0928 \u0928\u093F\u0930\u094D\u0926\u093F\u0937\u094D\u091F \u0915\u0930\u0947\u0902\u0964
<a href="#l216" class="line" id="l216">    216</a> &lt;a href=&quot;#l197&quot; class=&quot;line&quot; id=&quot;l197&quot;&gt;    197&lt;/a&gt; 
<a href="#l217" class="line" id="l217">    217</a> &lt;a href=&quot;#l198&quot; class=&quot;line&quot; id=&quot;l198&quot;&gt;    198&lt;/a&gt; + \u0905\u0927\u093F\u0915 \u091C\u093E\u0928\u0915\u093E\u0930\u0940: {{url}}`,redeclaredVariable:`
<a href="#l218" class="line" id="l218">    218</a> &lt;a href=&quot;#l199&quot; class=&quot;line&quot; id=&quot;l199&quot;&gt;    199&lt;/a&gt; \u0935\u093E\u0915\u094D\u092F - \u0935\u093F\u0928\u094D\u092F\u093E\u0938 \u0924\u094D\u0930\u0941\u091F\u093F - &amp;quot;{{symbol}}&amp;quot; \u092A\u0941\u0928\u0903 \u0918\u094B\u0937\u093F\u0924 \u0915\u093F\u092F\u093E \u091C\u093E \u0930\u0939\u093E \u0939\u0948\u0964 \u091C\u093E\u0935\u093E\u0938\u094D\u0915\u094D\u0930\u093F\u092A\u094D\u091F \u090F\u0915 \u091A\u0930 \u0915\u094B \u090F\u0915 \u0938\u0947 \u0905\u0927\u093F\u0915 \u092C\u093E\u0930 \u0918\u094B\u0937\u093F\u0924 \u0915\u0930\u0928\u0947 \u0915\u0940 \u0905\u0928\u0941\u092E\u0924\u093F \u0928\u0939\u0940\u0902 \u0926\u0947\u0924\u093E \u0939\u0948\u0964 \u091A\u0930 \u0915\u0940 \u092A\u0941\u0928\u0903 \u0918\u094B\u0937\u0923\u093E \u0915\u0947 \u0932\u093F\u090F \u0924\u094D\u0930\u0941\u091F\u093F \u0935\u093E\u0932\u0940 \u092A\u0902\u0915\u094D\u0924\u093F \u0938\u0902\u0916\u094D\u092F\u093E \u0915\u0940 \u091C\u093E\u0901\u091A \u0915\u0930\u0947\u0902\u0964
<a href="#l219" class="line" id="l219">    219</a> &lt;a href=&quot;#l200&quot; class=&quot;line&quot; id=&quot;l200&quot;&gt;    200&lt;/a&gt; 
<a href="#l220" class="line" id="l220">    220</a> &lt;a href=&quot;#l201&quot; class=&quot;line&quot; id=&quot;l201&quot;&gt;    201&lt;/a&gt; + \u0905\u0927\u093F\u0915 \u091C\u093E\u0928\u0915\u093E\u0930\u0940: {{url}}`,unexpectedToken:`
<a href="#l221" class="line" id="l221">    221</a> &lt;a href=&quot;#l202&quot; class=&quot;line&quot; id=&quot;l202&quot;&gt;    202&lt;/a&gt; \u0935\u093E\u0915\u094D\u092F - \u0935\u093F\u0928\u094D\u092F\u093E\u0938 \u0924\u094D\u0930\u0941\u091F\u093F - \u092A\u094D\u0930\u0924\u0940\u0915 \u0910\u0938\u0947 \u0938\u094D\u0925\u093E\u0928 \u092A\u0930 \u092E\u094C\u091C\u0942\u0926 \u0939\u0948 \u091C\u093F\u0938\u0915\u0940 \u0905\u092A\u0947\u0915\u094D\u0937\u093E \u0928\u0939\u0940\u0902 \u0925\u0940\u0964
<a href="#l222" class="line" id="l222">    222</a> &lt;a href=&quot;#l203&quot; class=&quot;line&quot; id=&quot;l203&quot;&gt;    203&lt;/a&gt; \u0906\u092E \u0924\u094C\u0930 \u092A\u0930 \u092F\u0939 \u091F\u0902\u0915\u0923 \u0924\u094D\u0930\u0941\u091F\u093F \u0915\u0947 \u0915\u093E\u0930\u0923 \u0939\u094B\u0924\u093E \u0939\u0948\u0964 \u0915\u093F\u0938\u0940 \u092D\u0940 \u0917\u0941\u092E/\u0905\u0924\u093F\u0930\u093F\u0915\u094D\u0924 \u091A\u0940\u091C\u093C \u0915\u0947 \u0932\u093F\u090F \u0924\u094D\u0930\u0941\u091F\u093F \u092E\u0947\u0902 \u092A\u0902\u0915\u094D\u0924\u093F \u0928\u0902\u092C\u0930 \u0915\u0940 \u091C\u093E\u0901\u091A \u0915\u0930\u0947\u0902\u0964
<a href="#l223" class="line" id="l223">    223</a> &lt;a href=&quot;#l204&quot; class=&quot;line&quot; id=&quot;l204&quot;&gt;    204&lt;/a&gt; 
<a href="#l224" class="line" id="l224">    224</a> &lt;a href=&quot;#l205&quot; class=&quot;line&quot; id=&quot;l205&quot;&gt;    205&lt;/a&gt; + \u0905\u0927\u093F\u0915 \u091C\u093E\u0928\u0915\u093E\u0930\u0940: {{url}}`},type:{constAssign:`
<a href="#l225" class="line" id="l225">    225</a> &lt;a href=&quot;#l206&quot; class=&quot;line&quot; id=&quot;l206&quot;&gt;    206&lt;/a&gt; {{location}} \u090F\u0915 \u0928\u093F\u092F\u0924 \u091A\u0930 \u0915\u094B \u092B\u093F\u0930 \u0938\u0947 \u0905\u0938\u093E\u0907\u0928 \u0915\u093F\u092F\u093E \u091C\u093E \u0930\u0939\u093E \u0939\u0948\u0964 \u091C\u093E\u0935\u093E\u0938\u094D\u0915\u094D\u0930\u093F\u092A\u094D\u091F \u092E\u0947\u0902, \u0915\u093F\u0938\u0940 \u0938\u094D\u0925\u093F\u0930\u093E\u0902\u0915 \u0915\u094B \u0926\u094B\u092C\u093E\u0930\u093E \u092E\u093E\u0928 \u0928\u093F\u0930\u094D\u0926\u093F\u0937\u094D\u091F \u0915\u0930\u0928\u0947 \u0915\u0940 \u0905\u0928\u0941\u092E\u0924\u093F \u0928\u0939\u0940\u0902 \u0939\u0948\u0964 \u092F\u0926\u093F \u0906\u092A \u0915\u093F\u0938\u0940 \u091A\u0930 \u0915\u0947 \u0932\u093F\u090F \u0928\u090F \u092E\u093E\u0928 \u092A\u0941\u0928\u0903 \u0928\u093F\u0930\u094D\u0926\u093F\u0937\u094D\u091F \u0915\u0930\u0928\u093E \u091A\u093E\u0939\u0924\u0947 \u0939\u0948\u0902, \u0924\u094B \u0938\u0941\u0928\u093F\u0936\u094D\u091A\u093F\u0924 \u0915\u0930\u0947\u0902 \u0915\u093F \u0907\u0938\u0947 var \u092F\u093E Let \u0915\u0947 \u0930\u0942\u092A \u092E\u0947\u0902 \u0918\u094B\u0937\u093F\u0924 \u0915\u093F\u092F\u093E \u0917\u092F\u093E \u0939\u0948\u0964
<a href="#l226" class="line" id="l226">    226</a> &lt;a href=&quot;#l207&quot; class=&quot;line&quot; id=&quot;l207&quot;&gt;    207&lt;/a&gt; 
<a href="#l227" class="line" id="l227">    227</a> &lt;a href=&quot;#l208&quot; class=&quot;line&quot; id=&quot;l208&quot;&gt;    208&lt;/a&gt; + \u0905\u0927\u093F\u0915 \u091C\u093E\u0928\u0915\u093E\u0930\u0940: {{url}}`,notfunc:`
<a href="#l228" class="line" id="l228">    228</a> &lt;a href=&quot;#l209&quot; class=&quot;line&quot; id=&quot;l209&quot;&gt;    209&lt;/a&gt; {{location}} &amp;quot;{{symbol}}&amp;quot; \u092B\u093C\u0902\u0915\u094D\u0936\u0928 \u0915\u0947 \u0930\u0942\u092A \u092E\u0947\u0902 \u0928\u0939\u0940\u0902 \u092C\u0941\u0932\u093E\u092F\u093E \u091C\u093E \u0938\u0915\u093E\u0964
<a href="#l229" class="line" id="l229">    229</a> &lt;a href=&quot;#l210&quot; class=&quot;line&quot; id=&quot;l210&quot;&gt;    210&lt;/a&gt; \u0935\u0930\u094D\u0924\u0928\u0940, \u0905\u0915\u094D\u0937\u0930-\u0906\u0935\u0930\u0923 (\u091C\u093E\u0935\u093E\u0938\u094D\u0915\u094D\u0930\u093F\u092A\u094D\u091F \u0915\u0947\u0938-\u0938\u0902\u0935\u0947\u0926\u0940 \u0939\u0948) \u0914\u0930 \u0909\u0938\u0915\u0947 \u092A\u094D\u0930\u0915\u093E\u0930 \u0915\u0940 \u091C\u093E\u0901\u091A \u0915\u0930\u0947\u0902\u0964
<a href="#l230" class="line" id="l230">    230</a> &lt;a href=&quot;#l211&quot; class=&quot;line&quot; id=&quot;l211&quot;&gt;    211&lt;/a&gt; 
<a href="#l231" class="line" id="l231">    231</a> &lt;a href=&quot;#l212&quot; class=&quot;line&quot; id=&quot;l212&quot;&gt;    212&lt;/a&gt; + \u0905\u0927\u093F\u0915 \u091C\u093E\u0928\u0915\u093E\u0930\u0940: {{url}}`,notfuncObj:`
<a href="#l232" class="line" id="l232">    232</a> &lt;a href=&quot;#l213&quot; class=&quot;line&quot; id=&quot;l213&quot;&gt;    213&lt;/a&gt; {{location}} &amp;quot;{{symbol}}&amp;quot; \u092B\u093C\u0902\u0915\u094D\u0936\u0928 \u0915\u0947 \u0930\u0942\u092A \u092E\u0947\u0902 \u0928\u0939\u0940\u0902 \u092C\u0941\u0932\u093E\u092F\u093E \u091C\u093E \u0938\u0915\u093E\u0964
<a href="#l233" class="line" id="l233">    233</a> &lt;a href=&quot;#l214&quot; class=&quot;line&quot; id=&quot;l214&quot;&gt;    214&lt;/a&gt; \u0938\u0924\u094D\u092F\u093E\u092A\u093F\u0924 \u0915\u0930\u0947\u0902 \u0915\u093F \u0915\u094D\u092F\u093E &amp;quot;{{obj}}&amp;quot; \u092E\u0947\u0902 &amp;quot;{{symbol}}&amp;quot; \u0939\u0948 \u0914\u0930 \u0935\u0930\u094D\u0924\u0928\u0940, \u0905\u0915\u094D\u0937\u0930-\u0906\u0935\u0930\u0923 (\u091C\u093E\u0935\u093E\u0938\u094D\u0915\u094D\u0930\u093F\u092A\u094D\u091F \u0915\u0947\u0938-\u0938\u0902\u0935\u0947\u0926\u0940 \u0939\u0948) \u0914\u0930 \u0909\u0938\u0915\u0947 \u092A\u094D\u0930\u0915\u093E\u0930 \u0915\u0940 \u091C\u093E\u0902\u091A \u0915\u0930\u0947\u0902\u0964
<a href="#l234" class="line" id="l234">    234</a> &lt;a href=&quot;#l215&quot; class=&quot;line&quot; id=&quot;l215&quot;&gt;    215&lt;/a&gt; 
<a href="#l235" class="line" id="l235">    235</a> &lt;a href=&quot;#l216&quot; class=&quot;line&quot; id=&quot;l216&quot;&gt;    216&lt;/a&gt; + \u0905\u0927\u093F\u0915 \u091C\u093E\u0928\u0915\u093E\u0930\u0940: {{url}}`,readFromNull:`
<a href="#l236" class="line" id="l236">    236</a> &lt;a href=&quot;#l217&quot; class=&quot;line&quot; id=&quot;l217&quot;&gt;    217&lt;/a&gt; {{location}} null \u0915\u0940 \u0938\u0902\u092A\u0924\u094D\u0924\u093F \u0915\u094B \u092A\u0922\u093C\u093E \u0928\u0939\u0940\u0902 \u091C\u093E \u0938\u0915\u0924\u093E. \u091C\u093E\u0935\u093E\u0938\u094D\u0915\u094D\u0930\u093F\u092A\u094D\u091F \u092E\u0947\u0902 \u092E\u093E\u0928 null \u0907\u0902\u0917\u093F\u0924 \u0915\u0930\u0924\u093E \u0939\u0948 \u0915\u093F \u0915\u093F\u0938\u0940 \u0911\u092C\u094D\u091C\u0947\u0915\u094D\u091F \u0915\u093E \u0915\u094B\u0908 \u092E\u0942\u0932\u094D\u092F \u0928\u0939\u0940\u0902 \u0939\u0948\u0964
<a href="#l237" class="line" id="l237">    237</a> &lt;a href=&quot;#l218&quot; class=&quot;line&quot; id=&quot;l218&quot;&gt;    218&lt;/a&gt; 
<a href="#l238" class="line" id="l238">    238</a> &lt;a href=&quot;#l219&quot; class=&quot;line&quot; id=&quot;l219&quot;&gt;    219&lt;/a&gt; + \u0905\u0927\u093F\u0915 \u091C\u093E\u0928\u0915\u093E\u0930\u0940: {{url}}`,readFromUndefined:`
<a href="#l239" class="line" id="l239">    239</a> &lt;a href=&quot;#l220&quot; class=&quot;line&quot; id=&quot;l220&quot;&gt;    220&lt;/a&gt; {{location}} undefined \u0915\u0940 \u0938\u0902\u092A\u0924\u094D\u0924\u093F \u0928\u0939\u0940\u0902 \u092A\u0922\u093C \u0938\u0915\u0924\u093E. \u0924\u094D\u0930\u0941\u091F\u093F \u0935\u093E\u0932\u0940 \u092A\u0902\u0915\u094D\u0924\u093F \u0938\u0902\u0916\u094D\u092F\u093E \u0915\u0940 \u091C\u093E\u0901\u091A \u0915\u0930\u0947\u0902 \u0914\u0930 \u0938\u0941\u0928\u093F\u0936\u094D\u091A\u093F\u0924 \u0915\u0930\u0947\u0902 \u0915\u093F \u091C\u094B \u091A\u0930 \u0938\u0902\u091A\u093E\u0932\u093F\u0924 \u0915\u093F\u092F\u093E \u091C\u093E \u0930\u0939\u093E \u0939\u0948 \u0935\u0939 \u0905\u092A\u0930\u093F\u092D\u093E\u0937\u093F\u0924 \u0928\u0939\u0940\u0902 \u0939\u0948\u0964
<a href="#l240" class="line" id="l240">    240</a> &lt;a href=&quot;#l221&quot; class=&quot;line&quot; id=&quot;l221&quot;&gt;    221&lt;/a&gt; 
<a href="#l241" class="line" id="l241">    241</a> &lt;a href=&quot;#l222&quot; class=&quot;line&quot; id=&quot;l222&quot;&gt;    222&lt;/a&gt;  + \u0905\u0927\u093F\u0915 \u091C\u093E\u0928\u0915\u093E\u0930\u0940: {{url}}`}},libraryError:&amp;#39;{{location}} \u091C\u092C {{func}} \u0915\u094B \u0906\u0939\u094D\u0935\u093E\u0928 \u0915\u093F\u092F\u093E \u0917\u092F\u093E \u0924\u094B p5js \u0932\u093E\u0907\u092C\u094D\u0930\u0947\u0930\u0940 \u0915\u0947 \u0905\u0902\u0926\u0930 &amp;quot;{{error}}&amp;quot; \u0938\u0902\u0926\u0947\u0936 \u0915\u0947 \u0938\u093E\u0925 \u090F\u0915 \u0924\u094D\u0930\u0941\u091F\u093F \u0909\u0924\u094D\u092A\u0928\u094D\u0928 \u0939\u0941\u0908\u0964 \u092F\u0926\u093F \u0905\u0928\u094D\u092F\u0925\u093E \u0928\u0939\u0940\u0902 \u0915\u0939\u093E \u0917\u092F\u093E \u0939\u0948, \u0924\u094B \u092F\u0939 {{func}} \u0915\u094B \u0926\u093F\u090F \u0917\u090F \u0924\u0930\u094D\u0915\u094B\u0902 \u0915\u0947 \u0938\u093E\u0925 \u090F\u0915 \u0938\u092E\u0938\u094D\u092F\u093E \u0939\u094B \u0938\u0915\u0924\u0940 \u0939\u0948\u0964&amp;#39;,location:&amp;quot;[{{file}}, \u092A\u0902\u0915\u094D\u0924\u093F {{line}}]&amp;quot;,misspelling:&amp;#39;{{location}} \u0910\u0938\u093E \u0932\u0917\u0924\u093E \u0939\u0948 \u0915\u093F \u0906\u092A\u0928\u0947 \u0917\u0932\u0924\u0940 \u0938\u0947 &amp;quot;{{actualName}}&amp;quot; \u0915\u0947 \u0938\u094D\u0925\u093E\u0928 \u092A\u0930 &amp;quot;{{name}}&amp;quot; \u0932\u093F\u0916 \u0926\u093F\u092F\u093E \u0939\u094B\u0917\u093E\u0964 \u092F\u0926\u093F \u0906\u092A p5.js \u0938\u0947 {{type}} \u0915\u093E \u0909\u092A\u092F\u094B\u0917 \u0915\u0930\u0928\u093E \u091A\u093E\u0939\u0924\u0947 \u0939\u0948\u0902 \u0924\u094B \u0915\u0943\u092A\u092F\u093E \u0907\u0938\u0947 \u0938\u0939\u0940 \u0915\u0930\u0915\u0947 {{actualName}} \u0915\u0930 \u0926\u0947\u0902\u0964&amp;#39;,misspelling_plural:`{{location}} \u0910\u0938\u093E \u0932\u0917\u0924\u093E \u0939\u0948 \u0915\u093F \u0906\u092A\u0928\u0947 \u0917\u0932\u0924\u0940 \u0938\u0947 &amp;quot;{{name}}&amp;quot; \u0932\u093F\u0916 \u0926\u093F\u092F\u093E \u0939\u094B\u0917\u093E\u0964
<a href="#l242" class="line" id="l242">    242</a> &lt;a href=&quot;#l223&quot; class=&quot;line&quot; id=&quot;l223&quot;&gt;    223&lt;/a&gt; \u0906\u092A\u0915\u093E \u092E\u0924\u0932\u092C \u0928\u093F\u092E\u094D\u0928\u0932\u093F\u0916\u093F\u0924 \u092E\u0947\u0902 \u0938\u0947 \u0915\u094B\u0908 \u090F\u0915 \u0939\u094B \u0938\u0915\u0924\u093E \u0939\u0948: 
<a href="#l243" class="line" id="l243">    243</a> &lt;a href=&quot;#l224&quot; class=&quot;line&quot; id=&quot;l224&quot;&gt;    224&lt;/a&gt; {{suggestions}}`,misusedTopLevel:`\u0915\u094D\u092F\u093E \u0906\u092A\u0928\u0947 \u0905\u092D\u0940 p5.js \u0915\u0947 {{symbolName}} {{symbolType}} \u0915\u093E \u0909\u092A\u092F\u094B\u0917 \u0915\u0930\u0928\u0947 \u0915\u093E \u092A\u094D\u0930\u092F\u093E\u0938 \u0915\u093F\u092F\u093E? \u092F\u0926\u093F \u0910\u0938\u093E \u0939\u0948, \u0924\u094B \u0906\u092A \u0907\u0938\u0947 \u0905\u092A\u0928\u0947 \u0930\u0947\u0916\u093E-\u091A\u093F\u0924\u094D\u0930 \u0915\u0947 setup() \u092B\u093C\u0902\u0915\u094D\u0936\u0928 \u092E\u0947\u0902 \u0932\u0947 \u091C\u093E\u0928\u093E \u091A\u093E\u0939 \u0938\u0915\u0924\u0947 \u0939\u0948\u0902\u0964
<a href="#l244" class="line" id="l244">    244</a> &lt;a href=&quot;#l225&quot; class=&quot;line&quot; id=&quot;l225&quot;&gt;    225&lt;/a&gt; 
<a href="#l245" class="line" id="l245">    245</a> &lt;a href=&quot;#l226&quot; class=&quot;line&quot; id=&quot;l226&quot;&gt;    226&lt;/a&gt; + \u0905\u0927\u093F\u0915 \u091C\u093E\u0928\u0915\u093E\u0930\u0940: {{url}}`,positions:{p_1:&amp;quot;\u092A\u0939\u0932\u093E&amp;quot;,p_10:&amp;quot;\u0926\u0938\u0935\u093E\u0902&amp;quot;,p_11:&amp;quot;\u0917\u094D\u092F\u093E\u0930\u0939\u0935\u0947\u0902&amp;quot;,p_12:&amp;quot;\u092C\u093E\u0930\u0939\u0935\u0947\u0902&amp;quot;,p_2:&amp;quot;\u0926\u0942\u0938\u0930\u093E&amp;quot;,p_3:&amp;quot;\u0924\u0940\u0938\u0930\u093E&amp;quot;,p_4:&amp;quot;\u091A\u094C\u0925\u0940&amp;quot;,p_5:&amp;quot;\u092A\u093E\u0902\u091A\u0935\u093E\u0902&amp;quot;,p_6:&amp;quot;\u091B\u0920\u093E&amp;quot;,p_7:&amp;quot;\u0938\u093E\u0924\u0935\u0940\u0902&amp;quot;,p_8:&amp;quot;\u0906\u0920\u0935\u093E\u0901&amp;quot;,p_9:&amp;quot;\u0928\u094C\u0935\u093E\u0902&amp;quot;},pre:`
<a href="#l246" class="line" id="l246">    246</a> &lt;a href=&quot;#l227&quot; class=&quot;line&quot; id=&quot;l227&quot;&gt;    227&lt;/a&gt; \u{1F338} p5.js \u0915\u0939\u0924\u093E \u0939\u0948: {{message}}`,sketchReaderErrors:{reservedConst:`\u0906\u092A\u0928\u0947 \u090F\u0915 p5.js \u0906\u0930\u0915\u094D\u0937\u093F\u0924 \u091A\u0930 &amp;quot;{{symbol}}&amp;quot; \u0915\u093E \u0909\u092A\u092F\u094B\u0917 \u0915\u093F\u092F\u093E \u0939\u0948, \u0938\u0941\u0928\u093F\u0936\u094D\u091A\u093F\u0924 \u0915\u0930\u0947\u0902 \u0915\u093F \u0906\u092A\u0928\u0947 \u091A\u0930 \u0928\u093E\u092E \u0915\u094B \u0915\u093F\u0938\u0940 \u0914\u0930 \u091A\u0940\u091C\u093C \u092E\u0947\u0902 \u092C\u0926\u0932 \u0926\u093F\u092F\u093E \u0939\u0948\u0964
<a href="#l247" class="line" id="l247">    247</a> &lt;a href=&quot;#l228&quot; class=&quot;line&quot; id=&quot;l228&quot;&gt;    228&lt;/a&gt; 
<a href="#l248" class="line" id="l248">    248</a> &lt;a href=&quot;#l229&quot; class=&quot;line&quot; id=&quot;l229&quot;&gt;    229&lt;/a&gt; + \u0905\u0927\u093F\u0915 \u091C\u093E\u0928\u0915\u093E\u0930\u0940: {{url}}`,reservedFunc:`\u0906\u092A\u0928\u0947 \u090F\u0915 p5.js \u0906\u0930\u0915\u094D\u0937\u093F\u0924 \u092B\u093C\u0902\u0915\u094D\u0936\u0928 &amp;quot;{{symbol}}&amp;quot; \u0915\u093E \u0909\u092A\u092F\u094B\u0917 \u0915\u093F\u092F\u093E \u0939\u0948, \u0938\u0941\u0928\u093F\u0936\u094D\u091A\u093F\u0924 \u0915\u0930\u0947\u0902 \u0915\u093F \u0906\u092A\u0928\u0947 \u092B\u093C\u0902\u0915\u094D\u0936\u0928 \u0915\u093E \u0928\u093E\u092E \u0915\u093F\u0938\u0940 \u0914\u0930 \u091A\u0940\u091C\u093C \u092E\u0947\u0902 \u092C\u0926\u0932 \u0926\u093F\u092F\u093E \u0939\u0948\u0964
<a href="#l249" class="line" id="l249">    249</a> &lt;a href=&quot;#l230&quot; class=&quot;line&quot; id=&quot;l230&quot;&gt;    230&lt;/a&gt; 
<a href="#l250" class="line" id="l250">    250</a> &lt;a href=&quot;#l231&quot; class=&quot;line&quot; id=&quot;l231&quot;&gt;    231&lt;/a&gt; + \u0905\u0927\u093F\u0915 \u091C\u093E\u0928\u0915\u093E\u0930\u0940: {{url}}`},welcome:&amp;quot;\u0938\u094D\u0935\u093E\u0917\u0924! \u092F\u0939 \u0906\u092A\u0915\u093E \u092E\u093F\u0924\u094D\u0930\u0935\u0924 \u0921\u093F\u092C\u0917\u0930 \u0939\u0948. \u092E\u0941\u091D\u0947 \u092C\u0902\u0926 \u0915\u0930\u0928\u0947 \u0915\u0947 \u0932\u093F\u090F, p5.min.js \u0915\u093E \u0909\u092A\u092F\u094B\u0917 \u0915\u0930\u0947\u0902\u0964&amp;quot;,wrongPreload:&amp;#39;{{location}} \u091C\u092C &amp;quot;{{func}}&amp;quot; \u0915\u094B \u0906\u0939\u094D\u0935\u093E\u0928 \u0915\u093F\u092F\u093E \u0917\u092F\u093E \u0924\u094B p5js \u0932\u093E\u0907\u092C\u094D\u0930\u0947\u0930\u0940 \u0915\u0947 \u0905\u0902\u0926\u0930 &amp;quot;{{error}}&amp;quot; \u0938\u0902\u0926\u0947\u0936 \u0915\u0947 \u0938\u093E\u0925 \u090F\u0915 \u0924\u094D\u0930\u0941\u091F\u093F \u0909\u0924\u094D\u092A\u0928\u094D\u0928 \u0939\u0941\u0908\u0964 \u092F\u0926\u093F \u0905\u0928\u094D\u092F\u0925\u093E \u0928\u0939\u0940\u0902 \u0915\u0939\u093E \u0917\u092F\u093E \u0939\u0948, \u0924\u094B \u092F\u0939 &amp;quot;{{func}}&amp;quot; \u0915\u094B \u092A\u094D\u0930\u0940\u0932\u094B\u0921 \u0938\u0947 \u0906\u0939\u094D\u0935\u093E\u0928 \u0915\u093F\u090F \u091C\u093E\u0928\u0947 \u0915\u0947 \u0915\u093E\u0930\u0923 \u0939\u094B \u0938\u0915\u0924\u093E \u0939\u0948\u0964 \u092A\u094D\u0930\u0940\u0932\u094B\u0921 \u092B\u093C\u0902\u0915\u094D\u0936\u0928 \u0915\u0947 \u0905\u0902\u0926\u0930 \u0932\u094B\u0921 \u0906\u0939\u094D\u0935\u093E\u0928 (\u0932\u094B\u0921\u091B\u0935\u093F, \u0932\u094B\u0921\u091C\u0947\u090F\u0938\u0913\u090F\u0928, \u0932\u094B\u0921\u092E\u0941\u0926\u094D\u0930\u0932\u093F\u092A\u093F, \u0932\u094B\u0921\u0938\u094D\u091F\u094D\u0930\u093F\u0902\u0917\u094D\u0938 \u0907\u0924\u094D\u092F\u093E\u0926\u093F) \u0915\u0947 \u0905\u0932\u093E\u0935\u093E \u0915\u0941\u091B \u092D\u0940 \u0928\u0939\u0940\u0902 \u0939\u094B\u0928\u093E \u091A\u093E\u0939\u093F\u090F\u0964&amp;#39;}}});var w0,_0=ln(()=&amp;gt;{w0={fes:{autoplay:`\u518D\u751F\u3057\u3088\u3046\u3068\u3057\u305F\u30E1\u30C7\u30A3\u30A2({{src}})\u306F\u3001\u30D6\u30E9\u30A6\u30B6\u304B\u3089\u8A31\u53EF\u3055\u308C\u307E\u305B\u3093\u3067\u3057\u305F\u3002\u304A\u305D\u3089\u304F\u306F\u30D6\u30E9\u30A6\u30B6\u306E\u81EA\u52D5\u518D\u751F\u30DD\u30EA\u30B7\u30FC\u306B\u3088\u308B\u3082\u306E\u3067\u3059\u3002
<a href="#l251" class="line" id="l251">    251</a> &lt;a href=&quot;#l232&quot; class=&quot;line&quot; id=&quot;l232&quot;&gt;    232&lt;/a&gt; 
<a href="#l252" class="line" id="l252">    252</a> &lt;a href=&quot;#l233&quot; class=&quot;line&quot; id=&quot;l233&quot;&gt;    233&lt;/a&gt; + \u8A73\u7D30\u60C5\u5831: {{url}}`,checkUserDefinedFns:&amp;quot;{{actualName}} \u3067\u306F\u306A\u304F\u3001\u8AA4\u3063\u3066 {{name}} \u3068\u66F8\u3044\u3066\u3057\u307E\u3063\u305F\u3088\u3046\u3067\u3059\u3002\u3053\u308C\u304C\u610F\u56F3\u7684\u3067\u306A\u3051\u308C\u3070\u4FEE\u6B63\u3057\u3066\u304F\u3060\u3055\u3044\u3002&amp;quot;,fileLoadError:{bytes:&amp;quot;\u30D5\u30A1\u30A4\u30EB\u3092\u30ED\u30FC\u30C9\u3059\u308B\u969B\u306B\u554F\u984C\u304C\u767A\u751F\u3057\u305F\u3088\u3046\u3067\u3059\u3002 {{suggestion}}&amp;quot;,font:&amp;quot;\u30D5\u30A9\u30F3\u30C8\u3092\u30ED\u30FC\u30C9\u3059\u308B\u969B\u306B\u554F\u984C\u304C\u767A\u751F\u3057\u305F\u3088\u3046\u3067\u3059\u3002 {{suggestion}}&amp;quot;,gif:&amp;quot;GIF\u3092\u30ED\u30FC\u30C9\u3059\u308B\u969B\u306B\u554F\u984C\u304C\u767A\u751F\u3057\u307E\u3057\u305F\u3002GIF\u306E\u30A8\u30F3\u30B3\u30FC\u30C7\u30A3\u30F3\u30B0\u304C 87a \u307E\u305F\u306F 89a \u3067\u3042\u308B\u3053\u3068\u3092\u78BA\u8A8D\u3057\u3066\u304F\u3060\u3055\u3044\u3002&amp;quot;,image:&amp;quot;\u753B\u50CF\u3092\u30ED\u30FC\u30C9\u3059\u308B\u969B\u306B\u554F\u984C\u304C\u767A\u751F\u3057\u305F\u3088\u3046\u3067\u3059\u3002 {{suggestion}}&amp;quot;,json:&amp;quot;JSON\u30D5\u30A1\u30A4\u30EB\u3092\u30ED\u30FC\u30C9\u3059\u308B\u969B\u306B\u554F\u984C\u304C\u767A\u751F\u3057\u305F\u3088\u3046\u3067\u3059\u3002 {{suggestion}}&amp;quot;,large:&amp;quot;\u5927\u304D\u306A\u30D5\u30A1\u30A4\u30EB\u3092\u6B63\u5E38\u306B\u53D6\u5F97\u3067\u304D\u306A\u3044\u5834\u5408\u306F\u3001\u30D5\u30A1\u30A4\u30EB\u3092\u3088\u308A\u5C0F\u3055\u306A\u30BB\u30B0\u30E1\u30F3\u30C8\u306B\u5206\u5272\u3057\u3066\u3001\u305D\u308C\u3089\u3092\u53D6\u5F97\u3059\u308B\u3053\u3068\u3092\u304A\u3059\u3059\u3081\u3057\u307E\u3059\u3002&amp;quot;,strings:&amp;quot;\u30C6\u30AD\u30B9\u30C8\u30D5\u30A1\u30A4\u30EB\u3092\u30ED\u30FC\u30C9\u3059\u308B\u969B\u306B\u554F\u984C\u304C\u767A\u751F\u3057\u305F\u3088\u3046\u3067\u3059\u3002 {{suggestion}}&amp;quot;,suggestion:`\u307E\u305A\u306F\u30D5\u30A1\u30A4\u30EB\u30D1\u30B9({{filePath}})\u304C\u6B63\u3057\u3044\u304B\u3092\u78BA\u8A8D\u3057\u3001\u6B21\u306B\u30D5\u30A1\u30A4\u30EB\u304C\u30AA\u30F3\u30E9\u30A4\u30F3\u3067\u30DB\u30B9\u30C8\u3055\u308C\u3066\u3044\u308B\u304B\u3001\u30ED\u30FC\u30AB\u30EB\u30B5\u30FC\u30D0\u30FC\u3092\u5B9F\u884C\u3057\u3066\u3044\u308B\u304B\u3092\u78BA\u8A8D\u3057\u3066\u307F\u3066\u304F\u3060\u3055\u3044\u3002
<a href="#l253" class="line" id="l253">    253</a> &lt;a href=&quot;#l234&quot; class=&quot;line&quot; id=&quot;l234&quot;&gt;    234&lt;/a&gt; 
<a href="#l254" class="line" id="l254">    254</a> &lt;a href=&quot;#l235&quot; class=&quot;line&quot; id=&quot;l235&quot;&gt;    235&lt;/a&gt; + \u8A73\u7D30\u60C5\u5831: {{url}}`,table:&amp;quot;\u30C6\u30FC\u30D6\u30EB\u30D5\u30A1\u30A4\u30EB\u3092\u30ED\u30FC\u30C9\u3059\u308B\u969B\u306B\u554F\u984C\u304C\u767A\u751F\u3057\u305F\u3088\u3046\u3067\u3059\u3002 {{suggestion}}&amp;quot;,xml:&amp;quot;XML\u30D5\u30A1\u30A4\u30EB\u3092\u30ED\u30FC\u30C9\u3059\u308B\u969B\u306B\u554F\u984C\u304C\u767A\u751F\u3057\u305F\u3088\u3046\u3067\u3059\u3002 {{suggestion}}&amp;quot;},friendlyParamError:{type_EMPTY_VAR:`{{location}} {{func}}()\u306F{{position}}\u5F15\u6570\u306B {{formatType}} \u3092\u671F\u5F85\u3057\u3066\u3044\u307E\u3057\u305F\u304C\u3001\u7A7A\u306E\u5909\u6570\u3092\u53D7\u3051\u53D6\u308A\u307E\u3057\u305F\u3002\u3053\u308C\u304C\u610F\u56F3\u7684\u3067\u306A\u3051\u308C\u3070\u3001\u901A\u5E38\u306F\u30B9\u30B3\u30FC\u30D7\u306E\u554F\u984C\u3067\u3059\u3002
<a href="#l255" class="line" id="l255">    255</a> &lt;a href=&quot;#l236&quot; class=&quot;line&quot; id=&quot;l236&quot;&gt;    236&lt;/a&gt; 
<a href="#l256" class="line" id="l256">    256</a> &lt;a href=&quot;#l237&quot; class=&quot;line&quot; id=&quot;l237&quot;&gt;    237&lt;/a&gt; + \u8A73\u7D30\u60C5\u5831: {{url}}`,type_TOO_FEW_ARGUMENTS:&amp;quot;{{location}} {{func}}()\u306F\u5C11\u306A\u304F\u3068\u3082{{minParams}}\u500B\u306E\u5F15\u6570\u3092\u671F\u5F85\u3057\u3066\u3044\u307E\u3057\u305F\u304C\u3001{{argCount}}\u500B\u3057\u304B\u53D7\u3051\u53D6\u3063\u3066\u3044\u307E\u305B\u3093\u3002&amp;quot;,type_TOO_MANY_ARGUMENTS:&amp;quot;{{location}} {{func}}()\u306F\u6700\u5927{{maxParams}}\u500B\u306E\u5F15\u6570\u3092\u671F\u5F85\u3057\u3066\u3044\u307E\u3059\u304C\u3001{{argCount}}\u500B\u3092\u53D7\u3051\u53D6\u308A\u307E\u3057\u305F\u3002&amp;quot;,type_WRONG_TYPE:&amp;quot;{{location}} {{func}}()\u306F{{position}}\u5F15\u6570\u306B {{formatType}}\u30BF\u30A4\u30D7\u3092\u671F\u5F85\u3057\u3066\u3044\u307E\u3057\u305F\u304C\u3001{{argType}}\u30BF\u30A4\u30D7\u3092\u53D7\u3051\u53D6\u308A\u307E\u3057\u305F\u3002&amp;quot;},globalErrors:{reference:{cannotAccess:`
<a href="#l257" class="line" id="l257">    257</a> &lt;a href=&quot;#l238&quot; class=&quot;line&quot; id=&quot;l238&quot;&gt;    238&lt;/a&gt; {{location}} &amp;quot;{{symbol}}&amp;quot; \u304C\u5BA3\u8A00\u524D\u306B\u4F7F\u7528\u3055\u308C\u3066\u3044\u307E\u3059\u3002\u5909\u6570\u3092\u4F7F\u7528\u3059\u308B\u524D\u306B\u5FC5\u305A\u5BA3\u8A00\u3057\u3066\u304F\u3060\u3055\u3044\u3002
<a href="#l258" class="line" id="l258">    258</a> &lt;a href=&quot;#l239&quot; class=&quot;line&quot; id=&quot;l239&quot;&gt;    239&lt;/a&gt; 
<a href="#l259" class="line" id="l259">    259</a> &lt;a href=&quot;#l240&quot; class=&quot;line&quot; id=&quot;l240&quot;&gt;    240&lt;/a&gt; + \u8A73\u7D30\u60C5\u5831\uFF1A: {{url}}`,notDefined:`
<a href="#l260" class="line" id="l260">    260</a> &lt;a href=&quot;#l241&quot; class=&quot;line&quot; id=&quot;l241&quot;&gt;    241&lt;/a&gt; {{location}} &amp;quot;{{symbol}}&amp;quot; \u304C\u73FE\u5728\u306E\u30B9\u30B3\u30FC\u30D7\u306B\u5B9A\u7FA9\u3055\u308C\u3066\u3044\u307E\u305B\u3093\u3002\u30B3\u30FC\u30C9\u5185\u3067\u5B9A\u7FA9\u3057\u3066\u3044\u308B\u5834\u5408\u306F\u3001\u305D\u306E\u30B9\u30B3\u30FC\u30D7\u3001\u30B9\u30DA\u30EB\u3001\u5927\u6587\u5B57\u3068\u5C0F\u6587\u5B57(JavaScript\u306F\u5927\u6587\u5B57\u3068\u5C0F\u6587\u5B57\u3092\u533A\u5225\u3057\u307E\u3059)\u3092\u78BA\u8A8D\u3057\u3066\u304F\u3060\u3055\u3044\u3002
<a href="#l261" class="line" id="l261">    261</a> &lt;a href=&quot;#l242&quot; class=&quot;line&quot; id=&quot;l242&quot;&gt;    242&lt;/a&gt; 
<a href="#l262" class="line" id="l262">    262</a> &lt;a href=&quot;#l243&quot; class=&quot;line&quot; id=&quot;l243&quot;&gt;    243&lt;/a&gt; + \u8A73\u7D30\u60C5\u5831\uFF1A {{url}}`},stackSubseq:`\u2514[{{location}}] 
<a href="#l263" class="line" id="l263">    263</a> &lt;a href=&quot;#l244&quot; class=&quot;line&quot; id=&quot;l244&quot;&gt;    244&lt;/a&gt; 	 {{line}}\u884C\u76EE( {{func}}()\u5185 )\u304B\u3089\u547C\u3073\u51FA\u3055\u308C\u307E\u3057\u305F
<a href="#l264" class="line" id="l264">    264</a> &lt;a href=&quot;#l245&quot; class=&quot;line&quot; id=&quot;l245&quot;&gt;    245&lt;/a&gt; `,stackTop:`\u250C[{{location}}] 
<a href="#l265" class="line" id="l265">    265</a> &lt;a href=&quot;#l246&quot; class=&quot;line&quot; id=&quot;l246&quot;&gt;    246&lt;/a&gt; 	 {{line}}\u884C\u76EE( {{func}}()\u5185 )\u3067\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F
<a href="#l266" class="line" id="l266">    266</a> &lt;a href=&quot;#l247&quot; class=&quot;line&quot; id=&quot;l247&quot;&gt;    247&lt;/a&gt; `,syntax:{badReturnOrYield:`
<a href="#l267" class="line" id="l267">    267</a> &lt;a href=&quot;#l248&quot; class=&quot;line&quot; id=&quot;l248&quot;&gt;    248&lt;/a&gt; \u69CB\u6587\u30A8\u30E9\u30FC - return\u304C\u95A2\u6570\u5916\u3067\u4F7F\u7528\u3055\u308C\u3066\u3044\u307E\u3059\u3002\u62EC\u5F27\u3092\u5FD8\u308C\u305A\u306B\u3001return\u304C\u95A2\u6570\u5185\u3067\u4F7F\u7528\u3055\u308C\u3066\u3044\u308B\u3053\u3068\u3092\u78BA\u8A8D\u3057\u3066\u304F\u3060\u3055\u3044\u3002
<a href="#l268" class="line" id="l268">    268</a> &lt;a href=&quot;#l249&quot; class=&quot;line&quot; id=&quot;l249&quot;&gt;    249&lt;/a&gt; 
<a href="#l269" class="line" id="l269">    269</a> &lt;a href=&quot;#l250&quot; class=&quot;line&quot; id=&quot;l250&quot;&gt;    250&lt;/a&gt; + \u8A73\u7D30\u60C5\u5831: {{url}}`,invalidToken:`
<a href="#l270" class="line" id="l270">    270</a> &lt;a href=&quot;#l251&quot; class=&quot;line&quot; id=&quot;l251&quot;&gt;    251&lt;/a&gt; \u69CB\u6587\u30A8\u30E9\u30FC - JavaScript\u304C\u8A8D\u8B58\u3057\u306A\u3044\u304B\u3001\u671F\u5F85\u3057\u3066\u3044\u306A\u3044\u30B7\u30F3\u30DC\u30EB\u304C\u898B\u3064\u304B\u308A\u307E\u3057\u305F\u3002
<a href="#l271" class="line" id="l271">    271</a> &lt;a href=&quot;#l252&quot; class=&quot;line&quot; id=&quot;l252&quot;&gt;    252&lt;/a&gt; 
<a href="#l272" class="line" id="l272">    272</a> &lt;a href=&quot;#l253&quot; class=&quot;line&quot; id=&quot;l253&quot;&gt;    253&lt;/a&gt; + \u8A73\u7D30\u60C5\u5831: {{url}}`,missingInitializer:`
<a href="#l273" class="line" id="l273">    273</a> &lt;a href=&quot;#l254&quot; class=&quot;line&quot; id=&quot;l254&quot;&gt;    254&lt;/a&gt; \u69CB\u6587\u30A8\u30E9\u30FC - \u5B9A\u6570\u304C\u5BA3\u8A00\u3055\u308C\u3066\u3044\u307E\u3059\u304C\u521D\u671F\u5316\u3055\u308C\u3066\u3044\u307E\u305B\u3093\u3002JavaScript\u3067\u306F const \u306B\u306F\u521D\u671F\u5024\u304C\u5FC5\u8981\u3067\u3059\u3002\u5909\u6570\u3092\u5BA3\u8A00\u3059\u308B\u969B\u306B\u540C\u3058\u6587\u5185\u3067\u5024\u3092\u6307\u5B9A\u3059\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059\u3002\u30A8\u30E9\u30FC\u306E\u884C\u756A\u53F7\u3092\u78BA\u8A8D\u3057\u3066\u5B9A\u6570\u306B\u5024\u3092\u5272\u308A\u5F53\u3066\u3066\u304F\u3060\u3055\u3044\u3002
<a href="#l274" class="line" id="l274">    274</a> &lt;a href=&quot;#l255&quot; class=&quot;line&quot; id=&quot;l255&quot;&gt;    255&lt;/a&gt; 
<a href="#l275" class="line" id="l275">    275</a> &lt;a href=&quot;#l256&quot; class=&quot;line&quot; id=&quot;l256&quot;&gt;    256&lt;/a&gt; + \u8A73\u7D30\u60C5\u5831: {{url}}`,redeclaredVariable:`
<a href="#l276" class="line" id="l276">    276</a> &lt;a href=&quot;#l257&quot; class=&quot;line&quot; id=&quot;l257&quot;&gt;    257&lt;/a&gt; \u69CB\u6587\u30A8\u30E9\u30FC - &amp;quot;{{symbol}}&amp;quot; \u304C\u518D\u5BA3\u8A00\u3055\u308C\u3066\u3044\u307E\u3059\u3002JavaScript\u3067\u306F\u5909\u6570\u3092\u518D\u5BA3\u8A00\u3059\u308B\u3053\u3068\u306F\u3067\u304D\u307E\u305B\u3093\u3002\u30A8\u30E9\u30FC\u306E\u884C\u756A\u53F7\u3067\u305D\u306E\u5909\u6570\u304C\u518D\u5BA3\u8A00\u3055\u308C\u3066\u3044\u306A\u3044\u304B\u78BA\u8A8D\u3057\u3066\u304F\u3060\u3055\u3044\u3002
<a href="#l277" class="line" id="l277">    277</a> &lt;a href=&quot;#l258&quot; class=&quot;line&quot; id=&quot;l258&quot;&gt;    258&lt;/a&gt; 
<a href="#l278" class="line" id="l278">    278</a> &lt;a href=&quot;#l259&quot; class=&quot;line&quot; id=&quot;l259&quot;&gt;    259&lt;/a&gt; + \u8A73\u7D30\u60C5\u5831: {{url}}`,unexpectedToken:`
<a href="#l279" class="line" id="l279">    279</a> &lt;a href=&quot;#l260&quot; class=&quot;line&quot; id=&quot;l260&quot;&gt;    260&lt;/a&gt; \u69CB\u6587\u30A8\u30E9\u30FC - \u4E88\u671F\u3057\u306A\u3044\u5834\u6240\u306B\u30B7\u30F3\u30DC\u30EB\u304C\u3042\u308A\u307E\u3059\u3002
<a href="#l280" class="line" id="l280">    280</a> &lt;a href=&quot;#l261&quot; class=&quot;line&quot; id=&quot;l261&quot;&gt;    261&lt;/a&gt; \u901A\u5E38\u306F\u30BF\u30A4\u30D7\u30DF\u30B9\u304C\u539F\u56E0\u3067\u3059\u3002\u30A8\u30E9\u30FC\u5185\u306E\u884C\u756A\u53F7\u3092\u78BA\u8A8D\u3057\u3001\u4E0D\u8DB3\u3084\u4F59\u5206\u306A\u3082\u306E\u304C\u306A\u3044\u304B\u78BA\u8A8D\u3057\u3066\u304F\u3060\u3055\u3044\u3002
<a href="#l281" class="line" id="l281">    281</a> &lt;a href=&quot;#l262&quot; class=&quot;line&quot; id=&quot;l262&quot;&gt;    262&lt;/a&gt; 
<a href="#l282" class="line" id="l282">    282</a> &lt;a href=&quot;#l263&quot; class=&quot;line&quot; id=&quot;l263&quot;&gt;    263&lt;/a&gt; + \u8A73\u7D30\u60C5\u5831: {{url}}`},type:{constAssign:`
<a href="#l283" class="line" id="l283">    283</a> &lt;a href=&quot;#l264&quot; class=&quot;line&quot; id=&quot;l264&quot;&gt;    264&lt;/a&gt; {{location}} \u5B9A\u6570\u306B\u518D\u4EE3\u5165\u3057\u3066\u3044\u307E\u3059\u3002JavaScript\u3067\u306F\u5B9A\u6570\u306B\u5BFE\u3059\u308B\u518D\u4EE3\u5165\u306F\u8A31\u53EF\u3055\u308C\u3066\u3044\u307E\u305B\u3093\u3002\u5909\u6570\u306B\u518D\u4EE3\u5165\u3057\u305F\u3044\u5834\u5408\u306F\u3001 var \u307E\u305F\u306F let \u3067\u5BA3\u8A00\u3057\u3066\u304F\u3060\u3055\u3044\u3002
<a href="#l284" class="line" id="l284">    284</a> &lt;a href=&quot;#l265&quot; class=&quot;line&quot; id=&quot;l265&quot;&gt;    265&lt;/a&gt; 
<a href="#l285" class="line" id="l285">    285</a> &lt;a href=&quot;#l266&quot; class=&quot;line&quot; id=&quot;l266&quot;&gt;    266&lt;/a&gt; + \u8A73\u7D30\u60C5\u5831: {{url}}`,notfunc:`
<a href="#l286" class="line" id="l286">    286</a> &lt;a href=&quot;#l267&quot; class=&quot;line&quot; id=&quot;l267&quot;&gt;    267&lt;/a&gt; {{location}} &amp;quot;{{symbol}}&amp;quot; \u3092\u95A2\u6570\u3068\u3057\u3066\u547C\u3073\u51FA\u3059\u3053\u3068\u304C\u3067\u304D\u307E\u305B\u3093\u3002
<a href="#l287" class="line" id="l287">    287</a> &lt;a href=&quot;#l268&quot; class=&quot;line&quot; id=&quot;l268&quot;&gt;    268&lt;/a&gt; \u30B9\u30DA\u30EB\u3001\u5927\u6587\u5B57\u3068\u5C0F\u6587\u5B57(JavaScript\u306F\u5927\u6587\u5B57\u3068\u5C0F\u6587\u5B57\u3092\u533A\u5225\u3057\u307E\u3059)\u3001\u305D\u306E\u30BF\u30A4\u30D7\u3092\u78BA\u8A8D\u3057\u3066\u304F\u3060\u3055\u3044\u3002
<a href="#l288" class="line" id="l288">    288</a> &lt;a href=&quot;#l269&quot; class=&quot;line&quot; id=&quot;l269&quot;&gt;    269&lt;/a&gt; 
<a href="#l289" class="line" id="l289">    289</a> &lt;a href=&quot;#l270&quot; class=&quot;line&quot; id=&quot;l270&quot;&gt;    270&lt;/a&gt; + \u8A73\u7D30\u60C5\u5831: {{url}}`,notfuncObj:`
<a href="#l290" class="line" id="l290">    290</a> &lt;a href=&quot;#l271&quot; class=&quot;line&quot; id=&quot;l271&quot;&gt;    271&lt;/a&gt; {{location}} &amp;quot;{{symbol}}&amp;quot; \u3092\u95A2\u6570\u3068\u3057\u3066\u547C\u3073\u51FA\u3059\u3053\u3068\u304C\u3067\u304D\u307E\u305B\u3093\u3002
<a href="#l291" class="line" id="l291">    291</a> &lt;a href=&quot;#l272&quot; class=&quot;line&quot; id=&quot;l272&quot;&gt;    272&lt;/a&gt; {{obj}} \u306E\u4E2D\u306B &amp;quot;{{symbol}}&amp;quot; \u304C\u3042\u308B\u304B\u3069\u3046\u304B\u3001\u30B9\u30DA\u30EB\u3001\u5927\u6587\u5B57\u3068\u5C0F\u6587\u5B57(JavaScript\u306F\u5927\u6587\u5B57\u3068\u5C0F\u6587\u5B57\u3092\u533A\u5225\u3057\u307E\u3059)\u3001\u304A\u3088\u3073\u305D\u306E\u30BF\u30A4\u30D7\u3092\u78BA\u8A8D\u3057\u3066\u304F\u3060\u3055\u3044\u3002
<a href="#l292" class="line" id="l292">    292</a> &lt;a href=&quot;#l273&quot; class=&quot;line&quot; id=&quot;l273&quot;&gt;    273&lt;/a&gt; 
<a href="#l293" class="line" id="l293">    293</a> &lt;a href=&quot;#l274&quot; class=&quot;line&quot; id=&quot;l274&quot;&gt;    274&lt;/a&gt; + \u8A73\u7D30\u60C5\u5831: {{url}}`,readFromNull:`
<a href="#l294" class="line" id="l294">    294</a> &lt;a href=&quot;#l275&quot; class=&quot;line&quot; id=&quot;l275&quot;&gt;    275&lt;/a&gt; {{location}} null \u306E\u30D7\u30ED\u30D1\u30C6\u30A3\u3092\u8AAD\u307F\u53D6\u308B\u3053\u3068\u304C\u3067\u304D\u307E\u305B\u3093\u3002JavaScript\u3067\u306F\u3001null \u306F\u30AA\u30D6\u30B8\u30A7\u30AF\u30C8\u304C\u5024\u3092\u6301\u305F\u306A\u3044\u3053\u3068\u3092\u610F\u5473\u3057\u307E\u3059\u3002
<a href="#l295" class="line" id="l295">    295</a> &lt;a href=&quot;#l276&quot; class=&quot;line&quot; id=&quot;l276&quot;&gt;    276&lt;/a&gt; 
<a href="#l296" class="line" id="l296">    296</a> &lt;a href=&quot;#l277&quot; class=&quot;line&quot; id=&quot;l277&quot;&gt;    277&lt;/a&gt; + \u8A73\u7D30\u60C5\u5831: {{url}}`,readFromUndefined:`
<a href="#l297" class="line" id="l297">    297</a> &lt;a href=&quot;#l278&quot; class=&quot;line&quot; id=&quot;l278&quot;&gt;    278&lt;/a&gt; {{location}} undefined \u306E\u30D7\u30ED\u30D1\u30C6\u30A3\u3092\u8AAD\u307F\u53D6\u308B\u3053\u3068\u304C\u3067\u304D\u307E\u305B\u3093\u3002\u30A8\u30E9\u30FC\u306E\u884C\u756A\u53F7\u3092\u78BA\u8A8D\u3057\u3001\u64CD\u4F5C\u3057\u3088\u3046\u3068\u3057\u3066\u3044\u308B\u5909\u6570\u304C undefined \u3067\u306A\u3044\u3053\u3068\u3092\u78BA\u8A8D\u3057\u3066\u304F\u3060\u3055\u3044\u3002
<a href="#l298" class="line" id="l298">    298</a> &lt;a href=&quot;#l279&quot; class=&quot;line&quot; id=&quot;l279&quot;&gt;    279&lt;/a&gt; 
<a href="#l299" class="line" id="l299">    299</a> &lt;a href=&quot;#l280&quot; class=&quot;line&quot; id=&quot;l280&quot;&gt;    280&lt;/a&gt; + \u8A73\u7D30\u60C5\u5831: {{url}}`}},libraryError:&amp;#39;{{location}} {{func}} \u3092\u547C\u3073\u51FA\u3057\u305F\u969B\u306B\u3001p5js\u30E9\u30A4\u30D6\u30E9\u30EA\u5185\u3067\u30E1\u30C3\u30BB\u30FC\u30B8 &amp;quot;{{error}}&amp;quot; \u306E\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F\u3002\u7279\u306B\u8A18\u8FF0\u304C\u306A\u3051\u308C\u3070\u3001 {{func}} \u306B\u6E21\u3055\u308C\u305F\u5F15\u6570\u306B\u95A2\u3059\u308B\u554F\u984C\u304C\u3042\u308B\u3053\u3068\u304C\u591A\u3044\u3067\u3059\u3002&amp;#39;,location:&amp;quot;[{{file}}, {{line}}\u884C\u76EE]&amp;quot;,misspelling:&amp;#39;{{location}} &amp;quot;{{actualName}}&amp;quot; \u3067\u306F\u306A\u304F\u3001\u8AA4\u3063\u3066 &amp;quot;{{name}}&amp;quot; \u3068\u66F8\u3044\u3066\u3057\u307E\u3063\u305F\u3088\u3046\u3067\u3059\u3002p5.js\u5185\u306E {{type}} \u3092\u4F7F\u7528\u3057\u305F\u3044\u5834\u5408\u306F\u3001 {{actualName}} \u306B\u4FEE\u6B63\u3057\u3066\u304F\u3060\u3055\u3044\u3002&amp;#39;,misspelling_plural:`{{location}} \u3082\u3057\u304B\u3059\u308B\u3068\u8AA4\u3063\u3066 &amp;quot;{{name}}&amp;quot; \u3068\u66F8\u3044\u3066\u3044\u308B\u304B\u3082\u3057\u308C\u307E\u305B\u3093\u3002
<a href="#l300" class="line" id="l300">    300</a> &lt;a href=&quot;#l281&quot; class=&quot;line&quot; id=&quot;l281&quot;&gt;    281&lt;/a&gt; \u4EE5\u4E0B\u306E\u3044\u305A\u308C\u304B\u306E\u5019\u88DC\u304C\u3042\u308A\u307E\u3059: 
<a href="#l301" class="line" id="l301">    301</a> &lt;a href=&quot;#l282&quot; class=&quot;line&quot; id=&quot;l282&quot;&gt;    282&lt;/a&gt; {{suggestions}}`,misusedTopLevel:`p5.js\u306E {{symbolType}} {{symbolName}} \u3092\u4F7F\u7528\u3057\u3088\u3046\u3068\u3057\u307E\u3057\u305F\u304B\uFF1F\u3082\u3057\u305D\u3046\u306A\u3089\u3001\u305D\u308C\u3092\u30B9\u30B1\u30C3\u30C1\u306E setup()\u95A2\u6570\u5185\u306B\u79FB\u52D5\u3055\u305B\u3066\u304F\u3060\u3055\u3044\u3002
<a href="#l302" class="line" id="l302">    302</a> &lt;a href=&quot;#l283&quot; class=&quot;line&quot; id=&quot;l283&quot;&gt;    283&lt;/a&gt; 
<a href="#l303" class="line" id="l303">    303</a> &lt;a href=&quot;#l284&quot; class=&quot;line&quot; id=&quot;l284&quot;&gt;    284&lt;/a&gt; + \u8A73\u7D30\u60C5\u5831: {{url}}`,positions:{p_1:&amp;quot;\u7B2C1&amp;quot;,p_10:&amp;quot;\u7B2C10&amp;quot;,p_11:&amp;quot;\u7B2C11&amp;quot;,p_12:&amp;quot;\u7B2C12&amp;quot;,p_2:&amp;quot;\u7B2C2&amp;quot;,p_3:&amp;quot;\u7B2C3&amp;quot;,p_4:&amp;quot;\u7B2C4&amp;quot;,p_5:&amp;quot;\u7B2C5&amp;quot;,p_6:&amp;quot;\u7B2C6&amp;quot;,p_7:&amp;quot;\u7B2C7&amp;quot;,p_8:&amp;quot;\u7B2C8&amp;quot;,p_9:&amp;quot;\u7B2C9&amp;quot;},pre:`
<a href="#l304" class="line" id="l304">    304</a> &lt;a href=&quot;#l285&quot; class=&quot;line&quot; id=&quot;l285&quot;&gt;    285&lt;/a&gt; \u{1F338} p5.js\u304C\u8A00\u3063\u3066\u3044\u307E\u3059: {{message}}`,sketchReaderErrors:{reservedConst:`p5.js\u306E\u4E88\u7D04\u6E08\u307F\u5909\u6570 &amp;quot;{{symbol}}&amp;quot; \u3092\u4F7F\u7528\u3057\u307E\u3057\u305F\u3002\u5909\u6570\u540D\u3092\u4ED6\u306E\u540D\u524D\u306B\u5909\u66F4\u3057\u3066\u304F\u3060\u3055\u3044\u3002
<a href="#l305" class="line" id="l305">    305</a> &lt;a href=&quot;#l286&quot; class=&quot;line&quot; id=&quot;l286&quot;&gt;    286&lt;/a&gt; 
<a href="#l306" class="line" id="l306">    306</a> &lt;a href=&quot;#l287&quot; class=&quot;line&quot; id=&quot;l287&quot;&gt;    287&lt;/a&gt; + \u8A73\u7D30\u60C5\u5831: {{url}}`,reservedFunc:`p5.js\u306E\u4E88\u7D04\u6E08\u307F\u95A2\u6570 &amp;quot;{{symbol}}&amp;quot; \u3092\u4F7F\u7528\u3057\u307E\u3057\u305F\u3002\u95A2\u6570\u540D\u3092\u4ED6\u306E\u540D\u524D\u306B\u5909\u66F4\u3057\u3066\u304F\u3060\u3055\u3044\u3002
<a href="#l307" class="line" id="l307">    307</a> &lt;a href=&quot;#l288&quot; class=&quot;line&quot; id=&quot;l288&quot;&gt;    288&lt;/a&gt; 
<a href="#l308" class="line" id="l308">    308</a> &lt;a href=&quot;#l289&quot; class=&quot;line&quot; id=&quot;l289&quot;&gt;    289&lt;/a&gt; + \u8A73\u7D30\u60C5\u5831: {{url}}`},welcome:&amp;quot;\u3088\u3046\u3053\u305D\uFF01\u3053\u308C\u306F\u3042\u306A\u305F\u306E\u30D5\u30EC\u30F3\u30C9\u30EA\u30FC\u306A\u30C7\u30D0\u30C3\u30AC\u30FC\u3067\u3059\u3002\u30AA\u30D5\u306B\u3059\u308B\u306B\u306F\u3001p5.min.js\u306B\u5207\u308A\u66FF\u3048\u3066\u304F\u3060\u3055\u3044\u3002&amp;quot;,wrongPreload:&amp;#39;{{location}} p5.js\u30E9\u30A4\u30D6\u30E9\u30EA\u5185\u90E8\u3067 &amp;quot;{{error}}&amp;quot; \u3068\u3044\u3046\u30E1\u30C3\u30BB\u30FC\u30B8\u306E\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F\u3002\u7279\u306B\u8A18\u8F09\u304C\u306A\u3044\u5834\u5408\u3001preload\u304B\u3089 &amp;quot;{{func}}&amp;quot; \u304C\u547C\u3073\u51FA\u3055\u308C\u305F\u3053\u3068\u304C\u539F\u56E0\u304B\u3082\u3057\u308C\u307E\u305B\u3093\u3002load\u547C\u3073\u51FA\u3057(loadImage\u3001loadJSON\u3001loadFont\u3001loadStrings\u306A\u3069)\u4EE5\u5916\u306E\u3082\u306E\u306F\u3001preload\u95A2\u6570\u306E\u4E2D\u306B\u5165\u308C\u3066\u306F\u306A\u308A\u307E\u305B\u3093\u3002&amp;#39;}}});var C0={};Jy(C0,{en_translation:()=&amp;gt;f0,es_translation:()=&amp;gt;d0,hi_translation:()=&amp;gt;b0,ja_translation:()=&amp;gt;w0,ko_translation:()=&amp;gt;g0,zh_translation:()=&amp;gt;v0});var E0=ln(()=&amp;gt;{c0();p0();m0();y0();x0();_0()});var Xs=ut(ep=&amp;gt;{&amp;quot;use strict&amp;quot;;Object.defineProperty(ep,&amp;quot;__esModule&amp;quot;,{value:!0});var P2=function(){function i(){}return i.parse=function(t){for(var r=new Set,n=0,s=t;n&amp;lt;s.length;n++){var a=s[n];if(!i.REGEXP.test(a))throw new TypeError(&amp;#39;&amp;quot;&amp;#39;+a+&amp;#39;&amp;quot; is invalid unicode-range.&amp;#39;);var o=a.match(i.REGEXP),u=o[1],h=o[2],l=o[3];if(u){if(/\?[^?]+$/.test(u))throw new TypeError(&amp;#39;&amp;quot;&amp;#39;+a+&amp;#39;&amp;quot; is invalid unicode-range.&amp;#39;);if(u.includes(&amp;quot;?&amp;quot;))for(var c=u.replace(/\?/g,&amp;quot;0&amp;quot;),p=u.replace(/\?/g,&amp;quot;F&amp;quot;),f=i.parse([&amp;quot;U+&amp;quot;+c+&amp;quot;-&amp;quot;+p]),d=0,m=f;d&amp;lt;m.length;d++){var g=m[d];r.add(g)}else r.add(parseInt(u,16))}if(h&amp;amp;&amp;amp;l)for(var v=parseInt(h,16),w=parseInt(l,16),g=v;g&amp;lt;=w;g++)r.add(g)}return Array.from(r).sort(function(y,S){return y-S})},i.stringify=function(t){for(var r=Array.from(new Set(t)).sort(function(h,l){return h-l}),n=[],s,a=0;a&amp;lt;r.length;a++){var o=r[a],u=r[a-1];s&amp;amp;&amp;amp;o-u!==1&amp;amp;&amp;amp;(n.push(i.rangeString(s,u)),s=o),s||(s=o),a===r.length-1&amp;amp;&amp;amp;(s===o?n.push(i.rangeString(o)):n.push(i.rangeString(s,o)))}return n},i.rangeString=function(t,r){return!r||t===r?&amp;quot;U+&amp;quot;+t.toString(16):&amp;quot;U+&amp;quot;+t.toString(16)+&amp;quot;-&amp;quot;+r.toString(16)},i.REGEXP=/^u\+(?:([0-9a-f]?[0-9a-f?]{1,5})|([0-9a-f]{1,6})-([0-9a-f]{1,6}))?$/i,i}();ep.UnicodeRange=P2});var aa=ut((ql,Ip)=&amp;gt;{(function(i,t){typeof ql==&amp;quot;object&amp;quot;&amp;amp;&amp;amp;typeof Ip==&amp;quot;object&amp;quot;?Ip.exports=t():typeof define==&amp;quot;function&amp;quot;&amp;amp;&amp;amp;define.amd?define([],t):typeof ql==&amp;quot;object&amp;quot;?ql.BezierPath=t():i.BezierPath=t()})(self,()=&amp;gt;(()=&amp;gt;{&amp;quot;use strict&amp;quot;;var i={177:(r,n,s)=&amp;gt;{Object.defineProperty(n,&amp;quot;__esModule&amp;quot;,{value:!0}),n.BezierPath=void 0;let a=s(558),o=s(188);n.BezierPath=class{constructor(u){this.samples=[],this.segments=u;let h=u.map(m=&amp;gt;m.getTotalLength()),l=[0];for(let m=1;m&amp;lt;h.length;m++)l.push(l[m-1]+h[m-1]);this._totalLength=l[l.length-1]+h[h.length-1];let c=u.map(m=&amp;gt;Math.max(4,Math.ceil(m.getTotalLength()/a.BezierSegment.sampleSpacing()))),p=c.reduce((m,g)=&amp;gt;m+g),f=1/p/10,d=this._totalLength/p;this.samples.push({dist:0,pt:this.segments[0].A,tan:this.segments[0].tangentAtParameter(0),segIdx:0,t:0}),u.forEach((m,g)=&amp;gt;{let v=c[g],w=(0,o.times)(v+1).map(b=&amp;gt;b/v),y=w.map(b=&amp;gt;m.pointAtParameter(b)),S;for(let b=0;b&amp;lt;4;b++){S=(0,o.times)(v).map(A=&amp;gt;Math.hypot(y[A+1].x-y[A].x,y[A+1].y-y[A].y));let I=S.map(A=&amp;gt;A-d),E=0;for(let A=1;A&amp;lt;w.length-1;A++)E+=I[A-1],w[A]-=f*E,y[A]=m.pointAtParameter(w[A])}let _=0;y.slice(1).forEach((b,I)=&amp;gt;{_+=S[I],this.samples.push({dist:l[g]+_,pt:b,tan:this.segments[g].tangentAtParameter(w[I+1]),segIdx:g,t:w[I+1]})})}),this._jumps=[],this.segmentStartEnds=[{start:0,end:0}];for(let m=1;m&amp;lt;this.samples.length;m++){let g=this.samples[m-1],v=this.samples[m];if(v.segIdx===g.segIdx?this.segmentStartEnds[this.segmentStartEnds.length-1].end=v.dist:this.segmentStartEnds[v.segIdx]={start:v.dist,end:v.dist},g.segIdx!==v.segIdx&amp;amp;&amp;amp;(this.segments[g.segIdx].D.x!==this.segments[v.segIdx].A.x||this.segments[g.segIdx].D.y!==this.segments[v.segIdx].A.y)){let w=(g.dist+v.dist)/2,y={dist:w-1e-8,pt:this.segments[g.segIdx].D,tan:this.segments[g.segIdx].tangentAtParameter(1),segIdx:g.segIdx,t:1},S={dist:w+1e-8,pt:this.segments[v.segIdx].A,tan:this.segments[v.segIdx].tangentAtParameter(0),segIdx:v.segIdx,t:0};this._jumps.push(w),this.samples.splice(m,0,y,S),m+=2}}}jumps(){return[...this._jumps]}getTotalLength(){return this._totalLength}findClosestSampleIdx(u){let h=0,l=this.samples.length-1;for(;h&amp;lt;l;){let c=Math.floor((h+l)/2);if(this.samples[c].dist&amp;gt;u)l=c-1;else{if(!(this.samples[c].dist&amp;lt;u))return c;h=c+1}}return Math.max(0,Math.min(this.samples.length-1,Math.floor((h+l)/2)))}getPointAtLength(u,h=!1){if(u&amp;lt;=0)return this.samples[0].pt;if(u&amp;gt;=this._totalLength)return this.samples[this.samples.length-1].pt;let l=this.findClosestSampleIdx(u),c=this.samples[l].dist&amp;lt;u?Math.min(l+1,this.samples.length-1):Math.max(0,l-1),p=Math.abs(this.samples[c].dist-this.samples[l].dist)&amp;lt;1e-6?0:(u-this.samples[l].dist)/(this.samples[c].dist-this.samples[l].dist);if(h||this.samples[l].segIdx&amp;gt;this.samples[c].segIdx)return{x:(1-p)*this.samples[l].pt.x+p*this.samples[c].pt.x,y:(1-p)*this.samples[l].pt.y+p*this.samples[c].pt.y};if(this.samples[l].segIdx!==this.samples[c].segIdx){if(p&amp;lt;.5){let f=this.segments[this.samples[l].segIdx],d=2*p,m=(1-d)*this.samples[l].t+d;return f.pointAtParameter(m)}{let f=this.segments[this.samples[c].segIdx],d=2*(p-.5)*this.samples[c].t;return f.pointAtParameter(d)}}{let f=this.segments[this.samples[l].segIdx],d=(1-p)*this.samples[l].t+p*this.samples[c].t;return f.pointAtParameter(d)}}getAngleAtLength(u,h=!1){let l=this.getTangentAtLength(u,h);return Math.atan2(l.y,l.x)}getTangentAtLength(u,h=!1){if(u&amp;lt;=0)return this.samples[0].tan;if(u&amp;gt;=this._totalLength)return this.samples[this.samples.length-1].tan;let l=this.findClosestSampleIdx(u),c=this.samples[l].dist&amp;lt;u?Math.min(l+1,this.samples.length-1):Math.max(0,l-1),p=(u-this.samples[l].dist)/(this.samples[c].dist-this.samples[l].dist);if(h||this.samples[l].segIdx&amp;gt;this.samples[c].segIdx){let f=(1-p)*this.samples[l].tan.x+p*this.samples[c].tan.x,d=(1-p)*this.samples[l].tan.y+p*this.samples[c].tan.y,m=Math.max(Math.hypot(f,d),1e-4);return f/=m,d/=m,{x:f,y:d}}if(this.samples[l].segIdx!==this.samples[c].segIdx){if(p&amp;lt;.5){let f=this.segments[this.samples[l].segIdx],d=2*p,m=(1-d)*this.samples[l].t+d;return f.tangentAtParameter(m)}{let f=this.segments[this.samples[c].segIdx],d=2*(p-.5)*this.samples[c].t;return f.tangentAtParameter(d)}}{let f=this.segments[this.samples[l].segIdx],d=(1-p)*this.samples[l].t+p*this.samples[c].t;return f.tangentAtParameter(d)}}}},558:(r,n,s)=&amp;gt;{Object.defineProperty(n,&amp;quot;__esModule&amp;quot;,{value:!0}),n.BezierSegment=void 0;let a=s(188);class o{constructor(h,l,c,p){this._totalLength=void 0,this.A=h,this.B=l,this.C=c,this.D=p}static sampleSpacing(){return 2}tangentAtParameter(h){let l=Math.max(0,Math.min(1,h));if(l===0||l===1){let m,g;l===0?this.A.x===this.B.x&amp;amp;&amp;amp;this.A.y===this.B.y?(m=this.C.x-this.A.x,g=this.C.y-this.A.y):(m=this.B.x-this.A.x,g=this.B.y-this.A.y):this.D.x===this.C.x&amp;amp;&amp;amp;this.D.y===this.C.y?(m=this.D.x-this.B.x,g=this.D.y-this.B.y):(m=this.D.x-this.C.x,g=this.D.y-this.C.y);let v=Math.hypot(m,g);return Math.abs(v)&amp;gt;1e-4&amp;amp;&amp;amp;(m/=v,g/=v),{x:m,y:g}}let c=1-l,p=3*this.D.x*Math.pow(l,2)-3*this.C.x*Math.pow(l,2)+6*this.C.x*c*l-6*this.B.x*c*l+3*this.B.x*Math.pow(c,2)-3*this.A.x*Math.pow(c,2),f=3*this.D.y*Math.pow(l,2)-3*this.C.y*Math.pow(l,2)+6*this.C.y*c*l-6*this.B.y*c*l+3*this.B.y*Math.pow(c,2)-3*this.A.y*Math.pow(c,2),d=Math.hypot(p,f);return Math.abs(d)&amp;gt;1e-4&amp;amp;&amp;amp;(p/=d,f/=d),{x:p,y:f}}isLinear(){return this.A.x===this.B.x&amp;amp;&amp;amp;this.A.y===this.B.y&amp;amp;&amp;amp;this.C.x===this.D.x&amp;amp;&amp;amp;this.C.y===this.D.y}pointAtParameter(h){let l=Math.max(0,Math.min(1,h));return{x:Math.pow(1-l,3)*this.A.x+3*Math.pow(1-l,2)*l*this.B.x+3*(1-l)*Math.pow(l,2)*this.C.x+Math.pow(l,3)*this.D.x,y:Math.pow(1-l,3)*this.A.y+3*Math.pow(1-l,2)*l*this.B.y+3*(1-l)*Math.pow(l,2)*this.C.y+Math.pow(l,3)*this.D.y}}getTotalLength(){if(this._totalLength===void 0)if(this.isLinear())this._totalLength=Math.hypot(this.D.x-this.A.x,this.D.y-this.A.y);else{let h=Math.max(10,Math.ceil((Math.hypot(this.B.x-this.A.x,this.B.y-this.A.y)+Math.hypot(this.C.x-this.B.x,this.C.y-this.B.y)+Math.hypot(this.D.x-this.C.x,this.D.y-this.C.y))/o.sampleSpacing())),l=(0,a.times)(h).map(p=&amp;gt;this.pointAtParameter(p/(h-1))),c=0;for(let p=1;p&amp;lt;l.length;p++)c+=Math.hypot(l[p].x-l[p-1].x,l[p].y-l[p-1].y);this._totalLength=c}return this._totalLength}}n.BezierSegment=o},729:(r,n,s)=&amp;gt;{Object.defineProperty(n,&amp;quot;__esModule&amp;quot;,{value:!0}),n.createFromCommands=n.create=n.createFromElement=n.createFromCircle=n.createFromLine=n.createFromPath=void 0;let a=s(821),o=s(558),u={M:[&amp;quot;x&amp;quot;,&amp;quot;y&amp;quot;],m:[&amp;quot;dx&amp;quot;,&amp;quot;dy&amp;quot;],H:[&amp;quot;x&amp;quot;],h:[&amp;quot;dx&amp;quot;],V:[&amp;quot;y&amp;quot;],v:[&amp;quot;dy&amp;quot;],L:[&amp;quot;x&amp;quot;,&amp;quot;y&amp;quot;],l:[&amp;quot;dx&amp;quot;,&amp;quot;dy&amp;quot;],Z:[],C:[&amp;quot;x1&amp;quot;,&amp;quot;y1&amp;quot;,&amp;quot;x2&amp;quot;,&amp;quot;y2&amp;quot;,&amp;quot;x&amp;quot;,&amp;quot;y&amp;quot;],c:[&amp;quot;dx1&amp;quot;,&amp;quot;dy1&amp;quot;,&amp;quot;dx2&amp;quot;,&amp;quot;dy2&amp;quot;,&amp;quot;dx&amp;quot;,&amp;quot;dy&amp;quot;],S:[&amp;quot;x2&amp;quot;,&amp;quot;y2&amp;quot;,&amp;quot;x&amp;quot;,&amp;quot;y&amp;quot;],s:[&amp;quot;dx2&amp;quot;,&amp;quot;dy2&amp;quot;,&amp;quot;dx&amp;quot;,&amp;quot;dy&amp;quot;],Q:[&amp;quot;x1&amp;quot;,&amp;quot;y1&amp;quot;,&amp;quot;x&amp;quot;,&amp;quot;y&amp;quot;],q:[&amp;quot;dx1&amp;quot;,&amp;quot;dy1&amp;quot;,&amp;quot;dx&amp;quot;,&amp;quot;dy&amp;quot;],T:[&amp;quot;x&amp;quot;,&amp;quot;y&amp;quot;],t:[&amp;quot;dx&amp;quot;,&amp;quot;dy&amp;quot;],A:[&amp;quot;rx&amp;quot;,&amp;quot;ry&amp;quot;,&amp;quot;rotation&amp;quot;,&amp;quot;large-arc&amp;quot;,&amp;quot;sweep&amp;quot;,&amp;quot;x&amp;quot;,&amp;quot;y&amp;quot;],a:[&amp;quot;rx&amp;quot;,&amp;quot;ry&amp;quot;,&amp;quot;rotation&amp;quot;,&amp;quot;large-arc&amp;quot;,&amp;quot;sweep&amp;quot;,&amp;quot;dx&amp;quot;,&amp;quot;dy&amp;quot;]};n.createFromPath=h=&amp;gt;{let l=function(f){let d=f.replace(/[\n\r]/g,&amp;quot;&amp;quot;).replace(/-/g,&amp;quot; -&amp;quot;).replace(/(\d*\.)(\d+)(?=\.)/g,&amp;quot;$1$2 &amp;quot;).replace(/(\d)([A-Za-z])/g,&amp;quot;$1 $2&amp;quot;).replace(/([A-Za-z])(\d)/g,&amp;quot;$1 $2&amp;quot;).trim().split(/\s*,|\s+/),m=[],g=&amp;quot;&amp;quot;,v={};for(;d.length&amp;gt;0;){let w=d.shift();u.hasOwnProperty(w)?g=w:d.unshift(w),v={type:g},u[g].forEach(y=&amp;gt;{w=d.shift(),v[y]=parseFloat(w)}),g===&amp;quot;M&amp;quot;?g=&amp;quot;L&amp;quot;:g===&amp;quot;m&amp;quot;&amp;amp;&amp;amp;(g=&amp;quot;l&amp;quot;),m.push(v)}return m}(h.getAttribute(&amp;quot;d&amp;quot;));if(l.length&amp;lt;2)throw new Error(`Path doesn&amp;#39;t have enough commands: ${JSON.stringify(l)}`);if(l[0].type!==&amp;quot;M&amp;quot;)throw new Error(`Path starts with ${l[0].type} instead of M!`);let c={x:l[0].x,y:l[0].y};l.shift();let p=[];for(;l.length&amp;gt;0;){let f=l.shift();if(f.type===&amp;quot;C&amp;quot;)p.push(new o.BezierSegment(c,{x:f.x1,y:f.y1},{x:f.x2,y:f.y2},{x:f.x,y:f.y})),c={x:f.x,y:f.y};else if(f.type===&amp;quot;L&amp;quot;)p.push(new o.BezierSegment(c,c,{x:f.x,y:f.y},{x:f.x,y:f.y})),c={x:f.x,y:f.y};else if(f.type===&amp;quot;H&amp;quot;)p.push(new o.BezierSegment(c,c,{x:f.x,y:c.y},{x:f.x,y:c.y})),c={x:f.x,y:c.y};else if(f.type===&amp;quot;V&amp;quot;)p.push(new o.BezierSegment(c,c,{x:c.x,y:f.y},{x:c.x,y:f.y})),c={x:c.x,y:f.y};else if(f.type!==&amp;quot;Z&amp;quot;)throw new Error(`Unsupported path command ${f.type}; use only H, V, M, L, C, Z!`)}return new a.BezierPath(p)},n.createFromLine=h=&amp;gt;{let[l,c,p,f]=[&amp;quot;x1&amp;quot;,&amp;quot;x2&amp;quot;,&amp;quot;y1&amp;quot;,&amp;quot;y2&amp;quot;].map(d=&amp;gt;parseFloat(h.getAttribute(d)||&amp;quot;0&amp;quot;));return new a.BezierPath([new o.BezierSegment({x:l,y:p},{x:l,y:p},{x:c,y:f},{x:c,y:f})])},n.createFromCircle=h=&amp;gt;{let[l,c,p]=[&amp;quot;cx&amp;quot;,&amp;quot;cy&amp;quot;,&amp;quot;r&amp;quot;].map(d=&amp;gt;parseFloat(h.getAttribute(d)||&amp;quot;0&amp;quot;)),f=1.3;return new a.BezierPath([new o.BezierSegment({x:l-p,y:c},{x:l-p,y:c-f*p},{x:l+p,y:c-f*p},{x:l+p,y:c}),new o.BezierSegment({x:l+p,y:c},{x:l+p,y:c+f*p},{x:l-p,y:c+f*p},{x:l-p,y:c})])},n.createFromElement=h=&amp;gt;{let l=h.tagName.toLowerCase();if(l===&amp;quot;path&amp;quot;)return(0,n.createFromPath)(h);if(l===&amp;quot;line&amp;quot;)return(0,n.createFromLine)(h);if(l===&amp;quot;circle&amp;quot;)return(0,n.createFromCircle)(h);throw new Error(`Unsupported SVG tag: ${l}`)},n.create=h=&amp;gt;{let l=[];for(let c=1;c&amp;lt;h.length;c++){let p=h[c-1],f=h[c];l.push(new o.BezierSegment(p.pt,p.right||p.pt,f.left||f.pt,f.pt))}return new a.BezierPath(l)},n.createFromCommands=h=&amp;gt;{let l=h.slice();if(l.length&amp;lt;2)throw new Error(`Path doesn&amp;#39;t have enough commands: ${JSON.stringify(l)}`);if(l[0].type!==&amp;quot;M&amp;quot;)throw new Error(`Path starts with ${l[0].type} instead of M!`);let c={x:l[0].x,y:l[0].y},p=Object.assign({},c),f=[];for(;l.length&amp;gt;0;){let d=l.shift();if(d.type===&amp;quot;M&amp;quot;)p={x:d.x,y:d.y},c=p;else if(d.type===&amp;quot;C&amp;quot;)f.push(new o.BezierSegment(c,{x:d.x1,y:d.y1},{x:d.x2,y:d.y2},{x:d.x,y:d.y})),c={x:d.x,y:d.y};else if(d.type===&amp;quot;L&amp;quot;)d.x===c.x&amp;amp;&amp;amp;d.y===c.y||f.push(new o.BezierSegment(c,c,{x:d.x,y:d.y},{x:d.x,y:d.y})),c={x:d.x,y:d.y};else if(d.type===&amp;quot;H&amp;quot;)d.x!==c.x&amp;amp;&amp;amp;f.push(new o.BezierSegment(c,c,{x:d.x,y:c.y},{x:d.x,y:c.y})),c={x:d.x,y:c.y};else if(d.type===&amp;quot;V&amp;quot;)d.y!==c.y&amp;amp;&amp;amp;f.push(new o.BezierSegment(c,c,{x:c.x,y:d.y},{x:c.x,y:d.y})),c={x:c.x,y:d.y};else if(d.type===&amp;quot;Q&amp;quot;)f.push(new o.BezierSegment(c,{x:c.x+.6666666666666666*(d.x1-c.x),y:c.y+.6666666666666666*(d.y1-c.y)},{x:d.x+.6666666666666666*(d.x1-d.x),y:d.y+.6666666666666666*(d.y1-d.y)},{x:d.x,y:d.y})),c={x:d.x,y:d.y};else{if(d.type!==&amp;quot;Z&amp;quot;)throw new Error(`Unsupported path command ${d.type}; use only H, V, M, L, C, Z!`);Math.hypot(c.x-p.x,c.y-p.y)&amp;gt;0&amp;amp;&amp;amp;f.push(new o.BezierSegment(c,c,p,p))}}return new a.BezierPath(f)}},821:function(r,n,s){var a=this&amp;amp;&amp;amp;this.__createBinding||(Object.create?function(u,h,l,c){c===void 0&amp;amp;&amp;amp;(c=l);var p=Object.getOwnPropertyDescriptor(h,l);p&amp;amp;&amp;amp;!(&amp;quot;get&amp;quot;in p?!h.__esModule:p.writable||p.configurable)||(p={enumerable:!0,get:function(){return h[l]}}),Object.defineProperty(u,c,p)}:function(u,h,l,c){c===void 0&amp;amp;&amp;amp;(c=l),u[c]=h[l]}),o=this&amp;amp;&amp;amp;this.__exportStar||function(u,h){for(var l in u)l===&amp;quot;default&amp;quot;||Object.prototype.hasOwnProperty.call(h,l)||a(h,u,l)};Object.defineProperty(n,&amp;quot;__esModule&amp;quot;,{value:!0}),o(s(177),n),o(s(558),n),o(s(729),n),o(s(856),n)},856:(r,n)=&amp;gt;{Object.defineProperty(n,&amp;quot;__esModule&amp;quot;,{value:!0})},188:(r,n)=&amp;gt;{Object.defineProperty(n,&amp;quot;__esModule&amp;quot;,{value:!0}),n.times=void 0,n.times=function(s){let a=[];for(let o=0;o&amp;lt;s;o++)a.push(o);return a}}},t={};return function r(n){var s=t[n];if(s!==void 0)return s.exports;var a=t[n]={exports:{}};return i[n].call(a.exports,a,a.exports,r),a.exports}(821)})())});var ay=ut(sy=&amp;gt;{(function i(t){&amp;quot;use strict&amp;quot;;var r,n,s,a,o,u;function h(_){var b={},I,E;for(I in _)_.hasOwnProperty(I)&amp;amp;&amp;amp;(E=_[I],typeof E==&amp;quot;object&amp;quot;&amp;amp;&amp;amp;E!==null?b[I]=h(E):b[I]=E);return b}function l(_,b){var I,E,A,C;for(E=_.length,A=0;E;)I=E&amp;gt;&amp;gt;&amp;gt;1,C=A+I,b(_[C])?E=I:(A=C+1,E-=I+1);return A}r={AssignmentExpression:&amp;quot;AssignmentExpression&amp;quot;,AssignmentPattern:&amp;quot;AssignmentPattern&amp;quot;,ArrayExpression:&amp;quot;ArrayExpression&amp;quot;,ArrayPattern:&amp;quot;ArrayPattern&amp;quot;,ArrowFunctionExpression:&amp;quot;ArrowFunctionExpression&amp;quot;,AwaitExpression:&amp;quot;AwaitExpression&amp;quot;,BlockStatement:&amp;quot;BlockStatement&amp;quot;,BinaryExpression:&amp;quot;BinaryExpression&amp;quot;,BreakStatement:&amp;quot;BreakStatement&amp;quot;,CallExpression:&amp;quot;CallExpression&amp;quot;,CatchClause:&amp;quot;CatchClause&amp;quot;,ChainExpression:&amp;quot;ChainExpression&amp;quot;,ClassBody:&amp;quot;ClassBody&amp;quot;,ClassDeclaration:&amp;quot;ClassDeclaration&amp;quot;,ClassExpression:&amp;quot;ClassExpression&amp;quot;,ComprehensionBlock:&amp;quot;ComprehensionBlock&amp;quot;,ComprehensionExpression:&amp;quot;ComprehensionExpression&amp;quot;,ConditionalExpression:&amp;quot;ConditionalExpression&amp;quot;,ContinueStatement:&amp;quot;ContinueStatement&amp;quot;,DebuggerStatement:&amp;quot;DebuggerStatement&amp;quot;,DirectiveStatement:&amp;quot;DirectiveStatement&amp;quot;,DoWhileStatement:&amp;quot;DoWhileStatement&amp;quot;,EmptyStatement:&amp;quot;EmptyStatement&amp;quot;,ExportAllDeclaration:&amp;quot;ExportAllDeclaration&amp;quot;,ExportDefaultDeclaration:&amp;quot;ExportDefaultDeclaration&amp;quot;,ExportNamedDeclaration:&amp;quot;ExportNamedDeclaration&amp;quot;,ExportSpecifier:&amp;quot;ExportSpecifier&amp;quot;,ExpressionStatement:&amp;quot;ExpressionStatement&amp;quot;,ForStatement:&amp;quot;ForStatement&amp;quot;,ForInStatement:&amp;quot;ForInStatement&amp;quot;,ForOfStatement:&amp;quot;ForOfStatement&amp;quot;,FunctionDeclaration:&amp;quot;FunctionDeclaration&amp;quot;,FunctionExpression:&amp;quot;FunctionExpression&amp;quot;,GeneratorExpression:&amp;quot;GeneratorExpression&amp;quot;,Identifier:&amp;quot;Identifier&amp;quot;,IfStatement:&amp;quot;IfStatement&amp;quot;,ImportExpression:&amp;quot;ImportExpression&amp;quot;,ImportDeclaration:&amp;quot;ImportDeclaration&amp;quot;,ImportDefaultSpecifier:&amp;quot;ImportDefaultSpecifier&amp;quot;,ImportNamespaceSpecifier:&amp;quot;ImportNamespaceSpecifier&amp;quot;,ImportSpecifier:&amp;quot;ImportSpecifier&amp;quot;,Literal:&amp;quot;Literal&amp;quot;,LabeledStatement:&amp;quot;LabeledStatement&amp;quot;,LogicalExpression:&amp;quot;LogicalExpression&amp;quot;,MemberExpression:&amp;quot;MemberExpression&amp;quot;,MetaProperty:&amp;quot;MetaProperty&amp;quot;,MethodDefinition:&amp;quot;MethodDefinition&amp;quot;,ModuleSpecifier:&amp;quot;ModuleSpecifier&amp;quot;,NewExpression:&amp;quot;NewExpression&amp;quot;,ObjectExpression:&amp;quot;ObjectExpression&amp;quot;,ObjectPattern:&amp;quot;ObjectPattern&amp;quot;,PrivateIdentifier:&amp;quot;PrivateIdentifier&amp;quot;,Program:&amp;quot;Program&amp;quot;,Property:&amp;quot;Property&amp;quot;,PropertyDefinition:&amp;quot;PropertyDefinition&amp;quot;,RestElement:&amp;quot;RestElement&amp;quot;,ReturnStatement:&amp;quot;ReturnStatement&amp;quot;,SequenceExpression:&amp;quot;SequenceExpression&amp;quot;,SpreadElement:&amp;quot;SpreadElement&amp;quot;,Super:&amp;quot;Super&amp;quot;,SwitchStatement:&amp;quot;SwitchStatement&amp;quot;,SwitchCase:&amp;quot;SwitchCase&amp;quot;,TaggedTemplateExpression:&amp;quot;TaggedTemplateExpression&amp;quot;,TemplateElement:&amp;quot;TemplateElement&amp;quot;,TemplateLiteral:&amp;quot;TemplateLiteral&amp;quot;,ThisExpression:&amp;quot;ThisExpression&amp;quot;,ThrowStatement:&amp;quot;ThrowStatement&amp;quot;,TryStatement:&amp;quot;TryStatement&amp;quot;,UnaryExpression:&amp;quot;UnaryExpression&amp;quot;,UpdateExpression:&amp;quot;UpdateExpression&amp;quot;,VariableDeclaration:&amp;quot;VariableDeclaration&amp;quot;,VariableDeclarator:&amp;quot;VariableDeclarator&amp;quot;,WhileStatement:&amp;quot;WhileStatement&amp;quot;,WithStatement:&amp;quot;WithStatement&amp;quot;,YieldExpression:&amp;quot;YieldExpression&amp;quot;},s={AssignmentExpression:[&amp;quot;left&amp;quot;,&amp;quot;right&amp;quot;],AssignmentPattern:[&amp;quot;left&amp;quot;,&amp;quot;right&amp;quot;],ArrayExpression:[&amp;quot;elements&amp;quot;],ArrayPattern:[&amp;quot;elements&amp;quot;],ArrowFunctionExpression:[&amp;quot;params&amp;quot;,&amp;quot;body&amp;quot;],AwaitExpression:[&amp;quot;argument&amp;quot;],BlockStatement:[&amp;quot;body&amp;quot;],BinaryExpression:[&amp;quot;left&amp;quot;,&amp;quot;right&amp;quot;],BreakStatement:[&amp;quot;label&amp;quot;],CallExpression:[&amp;quot;callee&amp;quot;,&amp;quot;arguments&amp;quot;],CatchClause:[&amp;quot;param&amp;quot;,&amp;quot;body&amp;quot;],ChainExpression:[&amp;quot;expression&amp;quot;],ClassBody:[&amp;quot;body&amp;quot;],ClassDeclaration:[&amp;quot;id&amp;quot;,&amp;quot;superClass&amp;quot;,&amp;quot;body&amp;quot;],ClassExpression:[&amp;quot;id&amp;quot;,&amp;quot;superClass&amp;quot;,&amp;quot;body&amp;quot;],ComprehensionBlock:[&amp;quot;left&amp;quot;,&amp;quot;right&amp;quot;],ComprehensionExpression:[&amp;quot;blocks&amp;quot;,&amp;quot;filter&amp;quot;,&amp;quot;body&amp;quot;],ConditionalExpression:[&amp;quot;test&amp;quot;,&amp;quot;consequent&amp;quot;,&amp;quot;alternate&amp;quot;],ContinueStatement:[&amp;quot;label&amp;quot;],DebuggerStatement:[],DirectiveStatement:[],DoWhileStatement:[&amp;quot;body&amp;quot;,&amp;quot;test&amp;quot;],EmptyStatement:[],ExportAllDeclaration:[&amp;quot;source&amp;quot;],ExportDefaultDeclaration:[&amp;quot;declaration&amp;quot;],ExportNamedDeclaration:[&amp;quot;declaration&amp;quot;,&amp;quot;specifiers&amp;quot;,&amp;quot;source&amp;quot;],ExportSpecifier:[&amp;quot;exported&amp;quot;,&amp;quot;local&amp;quot;],ExpressionStatement:[&amp;quot;expression&amp;quot;],ForStatement:[&amp;quot;init&amp;quot;,&amp;quot;test&amp;quot;,&amp;quot;update&amp;quot;,&amp;quot;body&amp;quot;],ForInStatement:[&amp;quot;left&amp;quot;,&amp;quot;right&amp;quot;,&amp;quot;body&amp;quot;],ForOfStatement:[&amp;quot;left&amp;quot;,&amp;quot;right&amp;quot;,&amp;quot;body&amp;quot;],FunctionDeclaration:[&amp;quot;id&amp;quot;,&amp;quot;params&amp;quot;,&amp;quot;body&amp;quot;],FunctionExpression:[&amp;quot;id&amp;quot;,&amp;quot;params&amp;quot;,&amp;quot;body&amp;quot;],GeneratorExpression:[&amp;quot;blocks&amp;quot;,&amp;quot;filter&amp;quot;,&amp;quot;body&amp;quot;],Identifier:[],IfStatement:[&amp;quot;test&amp;quot;,&amp;quot;consequent&amp;quot;,&amp;quot;alternate&amp;quot;],ImportExpression:[&amp;quot;source&amp;quot;],ImportDeclaration:[&amp;quot;specifiers&amp;quot;,&amp;quot;source&amp;quot;],ImportDefaultSpecifier:[&amp;quot;local&amp;quot;],ImportNamespaceSpecifier:[&amp;quot;local&amp;quot;],ImportSpecifier:[&amp;quot;imported&amp;quot;,&amp;quot;local&amp;quot;],Literal:[],LabeledStatement:[&amp;quot;label&amp;quot;,&amp;quot;body&amp;quot;],LogicalExpression:[&amp;quot;left&amp;quot;,&amp;quot;right&amp;quot;],MemberExpression:[&amp;quot;object&amp;quot;,&amp;quot;property&amp;quot;],MetaProperty:[&amp;quot;meta&amp;quot;,&amp;quot;property&amp;quot;],MethodDefinition:[&amp;quot;key&amp;quot;,&amp;quot;value&amp;quot;],ModuleSpecifier:[],NewExpression:[&amp;quot;callee&amp;quot;,&amp;quot;arguments&amp;quot;],ObjectExpression:[&amp;quot;properties&amp;quot;],ObjectPattern:[&amp;quot;properties&amp;quot;],PrivateIdentifier:[],Program:[&amp;quot;body&amp;quot;],Property:[&amp;quot;key&amp;quot;,&amp;quot;value&amp;quot;],PropertyDefinition:[&amp;quot;key&amp;quot;,&amp;quot;value&amp;quot;],RestElement:[&amp;quot;argument&amp;quot;],ReturnStatement:[&amp;quot;argument&amp;quot;],SequenceExpression:[&amp;quot;expressions&amp;quot;],SpreadElement:[&amp;quot;argument&amp;quot;],Super:[],SwitchStatement:[&amp;quot;discriminant&amp;quot;,&amp;quot;cases&amp;quot;],SwitchCase:[&amp;quot;test&amp;quot;,&amp;quot;consequent&amp;quot;],TaggedTemplateExpression:[&amp;quot;tag&amp;quot;,&amp;quot;quasi&amp;quot;],TemplateElement:[],TemplateLiteral:[&amp;quot;quasis&amp;quot;,&amp;quot;expressions&amp;quot;],ThisExpression:[],ThrowStatement:[&amp;quot;argument&amp;quot;],TryStatement:[&amp;quot;block&amp;quot;,&amp;quot;handler&amp;quot;,&amp;quot;finalizer&amp;quot;],UnaryExpression:[&amp;quot;argument&amp;quot;],UpdateExpression:[&amp;quot;argument&amp;quot;],VariableDeclaration:[&amp;quot;declarations&amp;quot;],VariableDeclarator:[&amp;quot;id&amp;quot;,&amp;quot;init&amp;quot;],WhileStatement:[&amp;quot;test&amp;quot;,&amp;quot;body&amp;quot;],WithStatement:[&amp;quot;object&amp;quot;,&amp;quot;body&amp;quot;],YieldExpression:[&amp;quot;argument&amp;quot;]},a={},o={},u={},n={Break:a,Skip:o,Remove:u};function c(_,b){this.parent=_,this.key=b}c.prototype.replace=function(b){this.parent[this.key]=b},c.prototype.remove=function(){return Array.isArray(this.parent)?(this.parent.splice(this.key,1),!0):(this.replace(null),!1)};function p(_,b,I,E){this.node=_,this.path=b,this.wrap=I,this.ref=E}function f(){}f.prototype.path=function(){var b,I,E,A,C,T;function D(F,N){if(Array.isArray(N))for(E=0,A=N.length;E&amp;lt;A;++E)F.push(N[E]);else F.push(N)}if(!this.__current.path)return null;for(C=[],b=2,I=this.__leavelist.length;b&amp;lt;I;++b)T=this.__leavelist[b],D(C,T.path);return D(C,this.__current.path),C},f.prototype.type=function(){var _=this.current();return _.type||this.__current.wrap},f.prototype.parents=function(){var b,I,E;for(E=[],b=1,I=this.__leavelist.length;b&amp;lt;I;++b)E.push(this.__leavelist[b].node);return E},f.prototype.current=function(){return this.__current.node},f.prototype.__execute=function(b,I){var E,A;return A=void 0,E=this.__current,this.__current=I,this.__state=null,b&amp;amp;&amp;amp;(A=b.call(this,I.node,this.__leavelist[this.__leavelist.length-1].node)),this.__current=E,A},f.prototype.notify=function(b){this.__state=b},f.prototype.skip=function(){this.notify(o)},f.prototype.break=function(){this.notify(a)},f.prototype.remove=function(){this.notify(u)},f.prototype.__initialize=function(_,b){this.visitor=b,this.root=_,this.__worklist=[],this.__leavelist=[],this.__current=null,this.__state=null,this.__fallback=null,b.fallback===&amp;quot;iteration&amp;quot;?this.__fallback=Object.keys:typeof b.fallback==&amp;quot;function&amp;quot;&amp;amp;&amp;amp;(this.__fallback=b.fallback),this.__keys=s,b.keys&amp;amp;&amp;amp;(this.__keys=Object.assign(Object.create(this.__keys),b.keys))};function d(_){return _==null?!1:typeof _==&amp;quot;object&amp;quot;&amp;amp;&amp;amp;typeof _.type==&amp;quot;string&amp;quot;}function m(_,b){return(_===r.ObjectExpression||_===r.ObjectPattern)&amp;amp;&amp;amp;b===&amp;quot;properties&amp;quot;}function g(_,b){for(var I=_.length-1;I&amp;gt;=0;--I)if(_[I].node===b)return!0;return!1}f.prototype.traverse=function(b,I){var E,A,C,T,D,F,N,B,U,j,W,te;for(this.__initialize(b,I),te={},E=this.__worklist,A=this.__leavelist,E.push(new p(b,null,null,null)),A.push(new p(null,null,null,null));E.length;){if(C=E.pop(),C===te){if(C=A.pop(),F=this.__execute(I.leave,C),this.__state===a||F===a)return;continue}if(C.node){if(F=this.__execute(I.enter,C),this.__state===a||F===a)return;if(E.push(te),A.push(C),this.__state===o||F===o)continue;if(T=C.node,D=T.type||C.wrap,j=this.__keys[D],!j)if(this.__fallback)j=this.__fallback(T);else throw new Error(&amp;quot;Unknown node type &amp;quot;+D+&amp;quot;.&amp;quot;);for(B=j.length;(B-=1)&amp;gt;=0;)if(N=j[B],W=T[N],!!W){if(Array.isArray(W)){for(U=W.length;(U-=1)&amp;gt;=0;)if(W[U]&amp;amp;&amp;amp;!g(A,W[U])){if(m(D,j[B]))C=new p(W[U],[N,U],&amp;quot;Property&amp;quot;,null);else if(d(W[U]))C=new p(W[U],[N,U],null,null);else continue;E.push(C)}}else if(d(W)){if(g(A,W))continue;E.push(new p(W,N,null,null))}}}}},f.prototype.replace=function(b,I){var E,A,C,T,D,F,N,B,U,j,W,te,X;function Z(G){var q,J,Y,Q;if(G.ref.remove()){for(J=G.ref.key,Q=G.ref.parent,q=E.length;q--;)if(Y=E[q],Y.ref&amp;amp;&amp;amp;Y.ref.parent===Q){if(Y.ref.key&amp;lt;J)break;--Y.ref.key}}}for(this.__initialize(b,I),W={},E=this.__worklist,A=this.__leavelist,te={root:b},F=new p(b,null,null,new c(te,&amp;quot;root&amp;quot;)),E.push(F),A.push(F);E.length;){if(F=E.pop(),F===W){if(F=A.pop(),D=this.__execute(I.leave,F),D!==void 0&amp;amp;&amp;amp;D!==a&amp;amp;&amp;amp;D!==o&amp;amp;&amp;amp;D!==u&amp;amp;&amp;amp;F.ref.replace(D),(this.__state===u||D===u)&amp;amp;&amp;amp;Z(F),this.__state===a||D===a)return te.root;continue}if(D=this.__execute(I.enter,F),D!==void 0&amp;amp;&amp;amp;D!==a&amp;amp;&amp;amp;D!==o&amp;amp;&amp;amp;D!==u&amp;amp;&amp;amp;(F.ref.replace(D),F.node=D),(this.__state===u||D===u)&amp;amp;&amp;amp;(Z(F),F.node=null),this.__state===a||D===a)return te.root;if(C=F.node,!!C&amp;amp;&amp;amp;(E.push(W),A.push(F),!(this.__state===o||D===o))){if(T=C.type||F.wrap,U=this.__keys[T],!U)if(this.__fallback)U=this.__fallback(C);else throw new Error(&amp;quot;Unknown node type &amp;quot;+T+&amp;quot;.&amp;quot;);for(N=U.length;(N-=1)&amp;gt;=0;)if(X=U[N],j=C[X],!!j)if(Array.isArray(j)){for(B=j.length;(B-=1)&amp;gt;=0;)if(j[B]){if(m(T,U[N]))F=new p(j[B],[X,B],&amp;quot;Property&amp;quot;,new c(j,B));else if(d(j[B]))F=new p(j[B],[X,B],null,new c(j,B));else continue;E.push(F)}}else d(j)&amp;amp;&amp;amp;E.push(new p(j,X,null,new c(C,X)))}}return te.root};function v(_,b){var I=new f;return I.traverse(_,b)}function w(_,b){var I=new f;return I.replace(_,b)}function y(_,b){var I;return I=l(b,function(A){return A.range[0]&amp;gt;_.range[0]}),_.extendedRange=[_.range[0],_.range[1]],I!==b.length&amp;amp;&amp;amp;(_.extendedRange[1]=b[I].range[0]),I-=1,I&amp;gt;=0&amp;amp;&amp;amp;(_.extendedRange[0]=b[I].range[1]),_}function S(_,b,I){var E=[],A,C,T,D;if(!_.range)throw new Error(&amp;quot;attachComments needs range information&amp;quot;);if(!I.length){if(b.length){for(T=0,C=b.length;T&amp;lt;C;T+=1)A=h(b[T]),A.extendedRange=[0,_.range[0]],E.push(A);_.leadingComments=E}return _}for(T=0,C=b.length;T&amp;lt;C;T+=1)E.push(y(h(b[T]),I));return D=0,v(_,{enter:function(F){for(var N;D&amp;lt;E.length&amp;amp;&amp;amp;(N=E[D],!(N.extendedRange[1]&amp;gt;F.range[0]));)N.extendedRange[1]===F.range[0]?(F.leadingComments||(F.leadingComments=[]),F.leadingComments.push(N),E.splice(D,1)):D+=1;if(D===E.length)return n.Break;if(E[D].extendedRange[0]&amp;gt;F.range[1])return n.Skip}}),D=0,v(_,{leave:function(F){for(var N;D&amp;lt;E.length&amp;amp;&amp;amp;(N=E[D],!(F.range[1]&amp;lt;N.extendedRange[0]));)F.range[1]===N.extendedRange[0]?(F.trailingComments||(F.trailingComments=[]),F.trailingComments.push(N),E.splice(D,1)):D+=1;if(D===E.length)return n.Break;if(E[D].extendedRange[0]&amp;gt;F.range[1])return n.Skip}}),_}return t.Syntax=r,t.traverse=v,t.replace=w,t.attachComments=S,t.VisitorKeys=s,t.VisitorOption=n,t.Controller=f,t.cloneEnvironment=function(){return i({})},t})(sy)});var uy=ut((gO,oy)=&amp;gt;{(function(){&amp;quot;use strict&amp;quot;;function i(o){if(o==null)return!1;switch(o.type){case&amp;quot;ArrayExpression&amp;quot;:case&amp;quot;AssignmentExpression&amp;quot;:case&amp;quot;BinaryExpression&amp;quot;:case&amp;quot;CallExpression&amp;quot;:case&amp;quot;ConditionalExpression&amp;quot;:case&amp;quot;FunctionExpression&amp;quot;:case&amp;quot;Identifier&amp;quot;:case&amp;quot;Literal&amp;quot;:case&amp;quot;LogicalExpression&amp;quot;:case&amp;quot;MemberExpression&amp;quot;:case&amp;quot;NewExpression&amp;quot;:case&amp;quot;ObjectExpression&amp;quot;:case&amp;quot;SequenceExpression&amp;quot;:case&amp;quot;ThisExpression&amp;quot;:case&amp;quot;UnaryExpression&amp;quot;:case&amp;quot;UpdateExpression&amp;quot;:return!0}return!1}function t(o){if(o==null)return!1;switch(o.type){case&amp;quot;DoWhileStatement&amp;quot;:case&amp;quot;ForInStatement&amp;quot;:case&amp;quot;ForStatement&amp;quot;:case&amp;quot;WhileStatement&amp;quot;:return!0}return!1}function r(o){if(o==null)return!1;switch(o.type){case&amp;quot;BlockStatement&amp;quot;:case&amp;quot;BreakStatement&amp;quot;:case&amp;quot;ContinueStatement&amp;quot;:case&amp;quot;DebuggerStatement&amp;quot;:case&amp;quot;DoWhileStatement&amp;quot;:case&amp;quot;EmptyStatement&amp;quot;:case&amp;quot;ExpressionStatement&amp;quot;:case&amp;quot;ForInStatement&amp;quot;:case&amp;quot;ForStatement&amp;quot;:case&amp;quot;IfStatement&amp;quot;:case&amp;quot;LabeledStatement&amp;quot;:case&amp;quot;ReturnStatement&amp;quot;:case&amp;quot;SwitchStatement&amp;quot;:case&amp;quot;ThrowStatement&amp;quot;:case&amp;quot;TryStatement&amp;quot;:case&amp;quot;VariableDeclaration&amp;quot;:case&amp;quot;WhileStatement&amp;quot;:case&amp;quot;WithStatement&amp;quot;:return!0}return!1}function n(o){return r(o)||o!=null&amp;amp;&amp;amp;o.type===&amp;quot;FunctionDeclaration&amp;quot;}function s(o){switch(o.type){case&amp;quot;IfStatement&amp;quot;:return o.alternate!=null?o.alternate:o.consequent;case&amp;quot;LabeledStatement&amp;quot;:case&amp;quot;ForStatement&amp;quot;:case&amp;quot;ForInStatement&amp;quot;:case&amp;quot;WhileStatement&amp;quot;:case&amp;quot;WithStatement&amp;quot;:return o.body}return null}function a(o){var u;if(o.type!==&amp;quot;IfStatement&amp;quot;||o.alternate==null)return!1;u=o.consequent;do{if(u.type===&amp;quot;IfStatement&amp;quot;&amp;amp;&amp;amp;u.alternate==null)return!0;u=s(u)}while(u);return!1}oy.exports={isExpression:i,isStatement:r,isIterationStatement:t,isSourceElement:n,isProblematicIfStatement:a,trailingStatement:s}})()});var Rp=ut((yO,ly)=&amp;gt;{(function(){&amp;quot;use strict&amp;quot;;var i,t,r,n,s,a;t={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,NonAsciiIdentifierPart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/},i={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};function o(v){return 48&amp;lt;=v&amp;amp;&amp;amp;v&amp;lt;=57}function u(v){return 48&amp;lt;=v&amp;amp;&amp;amp;v&amp;lt;=57||97&amp;lt;=v&amp;amp;&amp;amp;v&amp;lt;=102||65&amp;lt;=v&amp;amp;&amp;amp;v&amp;lt;=70}function h(v){return v&amp;gt;=48&amp;amp;&amp;amp;v&amp;lt;=55}r=[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];function l(v){return v===32||v===9||v===11||v===12||v===160||v&amp;gt;=5760&amp;amp;&amp;amp;r.indexOf(v)&amp;gt;=0}function c(v){return v===10||v===13||v===8232||v===8233}function p(v){if(v&amp;lt;=65535)return String.fromCharCode(v);var w=String.fromCharCode(Math.floor((v-65536)/1024)+55296),y=String.fromCharCode((v-65536)%1024+56320);return w+y}for(n=new Array(128),a=0;a&amp;lt;128;++a)n[a]=a&amp;gt;=97&amp;amp;&amp;amp;a&amp;lt;=122||a&amp;gt;=65&amp;amp;&amp;amp;a&amp;lt;=90||a===36||a===95;for(s=new Array(128),a=0;a&amp;lt;128;++a)s[a]=a&amp;gt;=97&amp;amp;&amp;amp;a&amp;lt;=122||a&amp;gt;=65&amp;amp;&amp;amp;a&amp;lt;=90||a&amp;gt;=48&amp;amp;&amp;amp;a&amp;lt;=57||a===36||a===95;function f(v){return v&amp;lt;128?n[v]:t.NonAsciiIdentifierStart.test(p(v))}function d(v){return v&amp;lt;128?s[v]:t.NonAsciiIdentifierPart.test(p(v))}function m(v){return v&amp;lt;128?n[v]:i.NonAsciiIdentifierStart.test(p(v))}function g(v){return v&amp;lt;128?s[v]:i.NonAsciiIdentifierPart.test(p(v))}ly.exports={isDecimalDigit:o,isHexDigit:u,isOctalDigit:h,isWhiteSpace:l,isLineTerminator:c,isIdentifierStartES5:f,isIdentifierPartES5:d,isIdentifierStartES6:m,isIdentifierPartES6:g}})()});var cy=ut((vO,hy)=&amp;gt;{(function(){&amp;quot;use strict&amp;quot;;var i=Rp();function t(f){switch(f){case&amp;quot;implements&amp;quot;:case&amp;quot;interface&amp;quot;:case&amp;quot;package&amp;quot;:case&amp;quot;private&amp;quot;:case&amp;quot;protected&amp;quot;:case&amp;quot;public&amp;quot;:case&amp;quot;static&amp;quot;:case&amp;quot;let&amp;quot;:return!0;default:return!1}}function r(f,d){return!d&amp;amp;&amp;amp;f===&amp;quot;yield&amp;quot;?!1:n(f,d)}function n(f,d){if(d&amp;amp;&amp;amp;t(f))return!0;switch(f.length){case 2:return f===&amp;quot;if&amp;quot;||f===&amp;quot;in&amp;quot;||f===&amp;quot;do&amp;quot;;case 3:return f===&amp;quot;var&amp;quot;||f===&amp;quot;for&amp;quot;||f===&amp;quot;new&amp;quot;||f===&amp;quot;try&amp;quot;;case 4:return f===&amp;quot;this&amp;quot;||f===&amp;quot;else&amp;quot;||f===&amp;quot;case&amp;quot;||f===&amp;quot;void&amp;quot;||f===&amp;quot;with&amp;quot;||f===&amp;quot;enum&amp;quot;;case 5:return f===&amp;quot;while&amp;quot;||f===&amp;quot;break&amp;quot;||f===&amp;quot;catch&amp;quot;||f===&amp;quot;throw&amp;quot;||f===&amp;quot;const&amp;quot;||f===&amp;quot;yield&amp;quot;||f===&amp;quot;class&amp;quot;||f===&amp;quot;super&amp;quot;;case 6:return f===&amp;quot;return&amp;quot;||f===&amp;quot;typeof&amp;quot;||f===&amp;quot;delete&amp;quot;||f===&amp;quot;switch&amp;quot;||f===&amp;quot;export&amp;quot;||f===&amp;quot;import&amp;quot;;case 7:return f===&amp;quot;default&amp;quot;||f===&amp;quot;finally&amp;quot;||f===&amp;quot;extends&amp;quot;;case 8:return f===&amp;quot;function&amp;quot;||f===&amp;quot;continue&amp;quot;||f===&amp;quot;debugger&amp;quot;;case 10:return f===&amp;quot;instanceof&amp;quot;;default:return!1}}function s(f,d){return f===&amp;quot;null&amp;quot;||f===&amp;quot;true&amp;quot;||f===&amp;quot;false&amp;quot;||r(f,d)}function a(f,d){return f===&amp;quot;null&amp;quot;||f===&amp;quot;true&amp;quot;||f===&amp;quot;false&amp;quot;||n(f,d)}function o(f){return f===&amp;quot;eval&amp;quot;||f===&amp;quot;arguments&amp;quot;}function u(f){var d,m,g;if(f.length===0||(g=f.charCodeAt(0),!i.isIdentifierStartES5(g)))return!1;for(d=1,m=f.length;d&amp;lt;m;++d)if(g=f.charCodeAt(d),!i.isIdentifierPartES5(g))return!1;return!0}function h(f,d){return(f-55296)*1024+(d-56320)+65536}function l(f){var d,m,g,v,w;if(f.length===0)return!1;for(w=i.isIdentifierStartES6,d=0,m=f.length;d&amp;lt;m;++d){if(g=f.charCodeAt(d),55296&amp;lt;=g&amp;amp;&amp;amp;g&amp;lt;=56319){if(++d,d&amp;gt;=m||(v=f.charCodeAt(d),!(56320&amp;lt;=v&amp;amp;&amp;amp;v&amp;lt;=57343)))return!1;g=h(g,v)}if(!w(g))return!1;w=i.isIdentifierPartES6}return!0}function c(f,d){return u(f)&amp;amp;&amp;amp;!s(f,d)}function p(f,d){return l(f)&amp;amp;&amp;amp;!a(f,d)}hy.exports={isKeywordES5:r,isKeywordES6:n,isReservedWordES5:s,isReservedWordES6:a,isRestrictedWord:o,isIdentifierNameES5:u,isIdentifierNameES6:l,isIdentifierES5:c,isIdentifierES6:p}})()});var fy=ut(Yl=&amp;gt;{(function(){&amp;quot;use strict&amp;quot;;Yl.ast=uy(),Yl.code=Rp(),Yl.keyword=cy()})()});var dy=ut(Bp=&amp;gt;{var py=&amp;quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/&amp;quot;.split(&amp;quot;&amp;quot;);Bp.encode=function(i){if(0&amp;lt;=i&amp;amp;&amp;amp;i&amp;lt;py.length)return py[i];throw new TypeError(&amp;quot;Must be between 0 and 63: &amp;quot;+i)};Bp.decode=function(i){var t=65,r=90,n=97,s=122,a=48,o=57,u=43,h=47,l=26,c=52;return t&amp;lt;=i&amp;amp;&amp;amp;i&amp;lt;=r?i-t:n&amp;lt;=i&amp;amp;&amp;amp;i&amp;lt;=s?i-n+l:a&amp;lt;=i&amp;amp;&amp;amp;i&amp;lt;=o?i-a+c:i==u?62:i==h?63:-1}});var Vp=ut(Op=&amp;gt;{var my=dy(),Pp=5,gy=1&amp;lt;&amp;lt;Pp,yy=gy-1,vy=gy;function SE(i){return i&amp;lt;0?(-i&amp;lt;&amp;lt;1)+1:(i&amp;lt;&amp;lt;1)+0}function AE(i){var t=(i&amp;amp;1)===1,r=i&amp;gt;&amp;gt;1;return t?-r:r}Op.encode=function(t){var r=&amp;quot;&amp;quot;,n,s=SE(t);do n=s&amp;amp;yy,s&amp;gt;&amp;gt;&amp;gt;=Pp,s&amp;gt;0&amp;amp;&amp;amp;(n|=vy),r+=my.encode(n);while(s&amp;gt;0);return r};Op.decode=function(t,r,n){var s=t.length,a=0,o=0,u,h;do{if(r&amp;gt;=s)throw new Error(&amp;quot;Expected more digits in base 64 VLQ value.&amp;quot;);if(h=my.decode(t.charCodeAt(r++)),h===-1)throw new Error(&amp;quot;Invalid base64 digit: &amp;quot;+t.charAt(r-1));u=!!(h&amp;amp;vy),h&amp;amp;=yy,a=a+(h&amp;lt;&amp;lt;o),o+=Pp}while(u);n.value=AE(a),n.rest=r}});var ha=ut(Ut=&amp;gt;{function DE(i,t,r){if(t in i)return i[t];if(arguments.length===3)return r;throw new Error(&amp;#39;&amp;quot;&amp;#39;+t+&amp;#39;&amp;quot; is a required argument.&amp;#39;)}Ut.getArg=DE;var xy=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,FE=/^data:.+\,.+$/;function Ho(i){var t=i.match(xy);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}Ut.urlParse=Ho;function ua(i){var t=&amp;quot;&amp;quot;;return i.scheme&amp;amp;&amp;amp;(t+=i.scheme+&amp;quot;:&amp;quot;),t+=&amp;quot;//&amp;quot;,i.auth&amp;amp;&amp;amp;(t+=i.auth+&amp;quot;@&amp;quot;),i.host&amp;amp;&amp;amp;(t+=i.host),i.port&amp;amp;&amp;amp;(t+=&amp;quot;:&amp;quot;+i.port),i.path&amp;amp;&amp;amp;(t+=i.path),t}Ut.urlGenerate=ua;function Up(i){var t=i,r=Ho(i);if(r){if(!r.path)return i;t=r.path}for(var n=Ut.isAbsolute(t),s=t.split(/\/+/),a,o=0,u=s.length-1;u&amp;gt;=0;u--)a=s[u],a===&amp;quot;.&amp;quot;?s.splice(u,1):a===&amp;quot;..&amp;quot;?o++:o&amp;gt;0&amp;amp;&amp;amp;(a===&amp;quot;&amp;quot;?(s.splice(u+1,o),o=0):(s.splice(u,2),o--));return t=s.join(&amp;quot;/&amp;quot;),t===&amp;quot;&amp;quot;&amp;amp;&amp;amp;(t=n?&amp;quot;/&amp;quot;:&amp;quot;.&amp;quot;),r?(r.path=t,ua(r)):t}Ut.normalize=Up;function by(i,t){i===&amp;quot;&amp;quot;&amp;amp;&amp;amp;(i=&amp;quot;.&amp;quot;),t===&amp;quot;&amp;quot;&amp;amp;&amp;amp;(t=&amp;quot;.&amp;quot;);var r=Ho(t),n=Ho(i);if(n&amp;amp;&amp;amp;(i=n.path||&amp;quot;/&amp;quot;),r&amp;amp;&amp;amp;!r.scheme)return n&amp;amp;&amp;amp;(r.scheme=n.scheme),ua(r);if(r||t.match(FE))return t;if(n&amp;amp;&amp;amp;!n.host&amp;amp;&amp;amp;!n.path)return n.host=t,ua(n);var s=t.charAt(0)===&amp;quot;/&amp;quot;?t:Up(i.replace(/\/+$/,&amp;quot;&amp;quot;)+&amp;quot;/&amp;quot;+t);return n?(n.path=s,ua(n)):s}Ut.join=by;Ut.isAbsolute=function(i){return i.charAt(0)===&amp;quot;/&amp;quot;||xy.test(i)};function TE(i,t){i===&amp;quot;&amp;quot;&amp;amp;&amp;amp;(i=&amp;quot;.&amp;quot;),i=i.replace(/\/$/,&amp;quot;&amp;quot;);for(var r=0;t.indexOf(i+&amp;quot;/&amp;quot;)!==0;){var n=i.lastIndexOf(&amp;quot;/&amp;quot;);if(n&amp;lt;0||(i=i.slice(0,n),i.match(/^([^\/]+:\/)?\/*$/)))return t;++r}return Array(r+1).join(&amp;quot;../&amp;quot;)+t.substr(i.length+1)}Ut.relative=TE;var _y=function(){var i=Object.create(null);return!(&amp;quot;__proto__&amp;quot;in i)}();function wy(i){return i}function NE(i){return Cy(i)?&amp;quot;$&amp;quot;+i:i}Ut.toSetString=_y?wy:NE;function IE(i){return Cy(i)?i.slice(1):i}Ut.fromSetString=_y?wy:IE;function Cy(i){if(!i)return!1;var t=i.length;if(t&amp;lt;9||i.charCodeAt(t-1)!==95||i.charCodeAt(t-2)!==95||i.charCodeAt(t-3)!==111||i.charCodeAt(t-4)!==116||i.charCodeAt(t-5)!==111||i.charCodeAt(t-6)!==114||i.charCodeAt(t-7)!==112||i.charCodeAt(t-8)!==95||i.charCodeAt(t-9)!==95)return!1;for(var r=t-10;r&amp;gt;=0;r--)if(i.charCodeAt(r)!==36)return!1;return!0}function kE(i,t,r){var n=la(i.source,t.source);return n!==0||(n=i.originalLine-t.originalLine,n!==0)||(n=i.originalColumn-t.originalColumn,n!==0||r)||(n=i.generatedColumn-t.generatedColumn,n!==0)||(n=i.generatedLine-t.generatedLine,n!==0)?n:la(i.name,t.name)}Ut.compareByOriginalPositions=kE;function ME(i,t,r){var n=i.generatedLine-t.generatedLine;return n!==0||(n=i.generatedColumn-t.generatedColumn,n!==0||r)||(n=la(i.source,t.source),n!==0)||(n=i.originalLine-t.originalLine,n!==0)||(n=i.originalColumn-t.originalColumn,n!==0)?n:la(i.name,t.name)}Ut.compareByGeneratedPositionsDeflated=ME;function la(i,t){return i===t?0:i===null?1:t===null?-1:i&amp;gt;t?1:-1}function LE(i,t){var r=i.generatedLine-t.generatedLine;return r!==0||(r=i.generatedColumn-t.generatedColumn,r!==0)||(r=la(i.source,t.source),r!==0)||(r=i.originalLine-t.originalLine,r!==0)||(r=i.originalColumn-t.originalColumn,r!==0)?r:la(i.name,t.name)}Ut.compareByGeneratedPositionsInflated=LE;function RE(i){return JSON.parse(i.replace(/^\)]}&amp;#39;[^\n]*\n/,&amp;quot;&amp;quot;))}Ut.parseSourceMapInput=RE;function BE(i,t,r){if(t=t||&amp;quot;&amp;quot;,i&amp;amp;&amp;amp;(i[i.length-1]!==&amp;quot;/&amp;quot;&amp;amp;&amp;amp;t[0]!==&amp;quot;/&amp;quot;&amp;amp;&amp;amp;(i+=&amp;quot;/&amp;quot;),t=i+t),r){var n=Ho(r);if(!n)throw new Error(&amp;quot;sourceMapURL could not be parsed&amp;quot;);if(n.path){var s=n.path.lastIndexOf(&amp;quot;/&amp;quot;);s&amp;gt;=0&amp;amp;&amp;amp;(n.path=n.path.substring(0,s+1))}t=by(ua(n),t)}return Up(t)}Ut.computeSourceURL=BE});var jp=ut(Ey=&amp;gt;{var Gp=ha(),zp=Object.prototype.hasOwnProperty,Zn=typeof Map&amp;lt;&amp;quot;u&amp;quot;;function Mi(){this._array=[],this._set=Zn?new Map:Object.create(null)}Mi.fromArray=function(t,r){for(var n=new Mi,s=0,a=t.length;s&amp;lt;a;s++)n.add(t[s],r);return n};Mi.prototype.size=function(){return Zn?this._set.size:Object.getOwnPropertyNames(this._set).length};Mi.prototype.add=function(t,r){var n=Zn?t:Gp.toSetString(t),s=Zn?this.has(t):zp.call(this._set,n),a=this._array.length;(!s||r)&amp;amp;&amp;amp;this._array.push(t),s||(Zn?this._set.set(t,a):this._set[n]=a)};Mi.prototype.has=function(t){if(Zn)return this._set.has(t);var r=Gp.toSetString(t);return zp.call(this._set,r)};Mi.prototype.indexOf=function(t){if(Zn){var r=this._set.get(t);if(r&amp;gt;=0)return r}else{var n=Gp.toSetString(t);if(zp.call(this._set,n))return this._set[n]}throw new Error(&amp;#39;&amp;quot;&amp;#39;+t+&amp;#39;&amp;quot; is not in the set.&amp;#39;)};Mi.prototype.at=function(t){if(t&amp;gt;=0&amp;amp;&amp;amp;t&amp;lt;this._array.length)return this._array[t];throw new Error(&amp;quot;No element indexed by &amp;quot;+t)};Mi.prototype.toArray=function(){return this._array.slice()};Ey.ArraySet=Mi});var Dy=ut(Ay=&amp;gt;{var Sy=ha();function PE(i,t){var r=i.generatedLine,n=t.generatedLine,s=i.generatedColumn,a=t.generatedColumn;return n&amp;gt;r||n==r&amp;amp;&amp;amp;a&amp;gt;=s||Sy.compareByGeneratedPositionsInflated(i,t)&amp;lt;=0}function Xl(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}Xl.prototype.unsortedForEach=function(t,r){this._array.forEach(t,r)};Xl.prototype.add=function(t){PE(this._last,t)?(this._last=t,this._array.push(t)):(this._sorted=!1,this._array.push(t))};Xl.prototype.toArray=function(){return this._sorted||(this._array.sort(Sy.compareByGeneratedPositionsInflated),this._sorted=!0),this._array};Ay.MappingList=Xl});var $p=ut(Fy=&amp;gt;{var Wo=Vp(),xt=ha(),Kl=jp().ArraySet,OE=Dy().MappingList;function Ir(i){i||(i={}),this._file=xt.getArg(i,&amp;quot;file&amp;quot;,null),this._sourceRoot=xt.getArg(i,&amp;quot;sourceRoot&amp;quot;,null),this._skipValidation=xt.getArg(i,&amp;quot;skipValidation&amp;quot;,!1),this._sources=new Kl,this._names=new Kl,this._mappings=new OE,this._sourcesContents=null}Ir.prototype._version=3;Ir.fromSourceMap=function(t){var r=t.sourceRoot,n=new Ir({file:t.file,sourceRoot:r});return t.eachMapping(function(s){var a={generated:{line:s.generatedLine,column:s.generatedColumn}};s.source!=null&amp;amp;&amp;amp;(a.source=s.source,r!=null&amp;amp;&amp;amp;(a.source=xt.relative(r,a.source)),a.original={line:s.originalLine,column:s.originalColumn},s.name!=null&amp;amp;&amp;amp;(a.name=s.name)),n.addMapping(a)}),t.sources.forEach(function(s){var a=s;r!==null&amp;amp;&amp;amp;(a=xt.relative(r,s)),n._sources.has(a)||n._sources.add(a);var o=t.sourceContentFor(s);o!=null&amp;amp;&amp;amp;n.setSourceContent(s,o)}),n};Ir.prototype.addMapping=function(t){var r=xt.getArg(t,&amp;quot;generated&amp;quot;),n=xt.getArg(t,&amp;quot;original&amp;quot;,null),s=xt.getArg(t,&amp;quot;source&amp;quot;,null),a=xt.getArg(t,&amp;quot;name&amp;quot;,null);this._skipValidation||this._validateMapping(r,n,s,a),s!=null&amp;amp;&amp;amp;(s=String(s),this._sources.has(s)||this._sources.add(s)),a!=null&amp;amp;&amp;amp;(a=String(a),this._names.has(a)||this._names.add(a)),this._mappings.add({generatedLine:r.line,generatedColumn:r.column,originalLine:n!=null&amp;amp;&amp;amp;n.line,originalColumn:n!=null&amp;amp;&amp;amp;n.column,source:s,name:a})};Ir.prototype.setSourceContent=function(t,r){var n=t;this._sourceRoot!=null&amp;amp;&amp;amp;(n=xt.relative(this._sourceRoot,n)),r!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[xt.toSetString(n)]=r):this._sourcesContents&amp;amp;&amp;amp;(delete this._sourcesContents[xt.toSetString(n)],Object.keys(this._sourcesContents).length===0&amp;amp;&amp;amp;(this._sourcesContents=null))};Ir.prototype.applySourceMap=function(t,r,n){var s=r;if(r==null){if(t.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map&amp;#39;s &amp;quot;file&amp;quot; property. Both were omitted.`);s=t.file}var a=this._sourceRoot;a!=null&amp;amp;&amp;amp;(s=xt.relative(a,s));var o=new Kl,u=new Kl;this._mappings.unsortedForEach(function(h){if(h.source===s&amp;amp;&amp;amp;h.originalLine!=null){var l=t.originalPositionFor({line:h.originalLine,column:h.originalColumn});l.source!=null&amp;amp;&amp;amp;(h.source=l.source,n!=null&amp;amp;&amp;amp;(h.source=xt.join(n,h.source)),a!=null&amp;amp;&amp;amp;(h.source=xt.relative(a,h.source)),h.originalLine=l.line,h.originalColumn=l.column,l.name!=null&amp;amp;&amp;amp;(h.name=l.name))}var c=h.source;c!=null&amp;amp;&amp;amp;!o.has(c)&amp;amp;&amp;amp;o.add(c);var p=h.name;p!=null&amp;amp;&amp;amp;!u.has(p)&amp;amp;&amp;amp;u.add(p)},this),this._sources=o,this._names=u,t.sources.forEach(function(h){var l=t.sourceContentFor(h);l!=null&amp;amp;&amp;amp;(n!=null&amp;amp;&amp;amp;(h=xt.join(n,h)),a!=null&amp;amp;&amp;amp;(h=xt.relative(a,h)),this.setSourceContent(h,l))},this)};Ir.prototype._validateMapping=function(t,r,n,s){if(r&amp;amp;&amp;amp;typeof r.line!=&amp;quot;number&amp;quot;&amp;amp;&amp;amp;typeof r.column!=&amp;quot;number&amp;quot;)throw new Error(&amp;quot;original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.&amp;quot;);if(!(t&amp;amp;&amp;amp;&amp;quot;line&amp;quot;in t&amp;amp;&amp;amp;&amp;quot;column&amp;quot;in t&amp;amp;&amp;amp;t.line&amp;gt;0&amp;amp;&amp;amp;t.column&amp;gt;=0&amp;amp;&amp;amp;!r&amp;amp;&amp;amp;!n&amp;amp;&amp;amp;!s)){if(t&amp;amp;&amp;amp;&amp;quot;line&amp;quot;in t&amp;amp;&amp;amp;&amp;quot;column&amp;quot;in t&amp;amp;&amp;amp;r&amp;amp;&amp;amp;&amp;quot;line&amp;quot;in r&amp;amp;&amp;amp;&amp;quot;column&amp;quot;in r&amp;amp;&amp;amp;t.line&amp;gt;0&amp;amp;&amp;amp;t.column&amp;gt;=0&amp;amp;&amp;amp;r.line&amp;gt;0&amp;amp;&amp;amp;r.column&amp;gt;=0&amp;amp;&amp;amp;n)return;throw new Error(&amp;quot;Invalid mapping: &amp;quot;+JSON.stringify({generated:t,source:n,original:r,name:s}))}};Ir.prototype._serializeMappings=function(){for(var t=0,r=1,n=0,s=0,a=0,o=0,u=&amp;quot;&amp;quot;,h,l,c,p,f=this._mappings.toArray(),d=0,m=f.length;d&amp;lt;m;d++){if(l=f[d],h=&amp;quot;&amp;quot;,l.generatedLine!==r)for(t=0;l.generatedLine!==r;)h+=&amp;quot;;&amp;quot;,r++;else if(d&amp;gt;0){if(!xt.compareByGeneratedPositionsInflated(l,f[d-1]))continue;h+=&amp;quot;,&amp;quot;}h+=Wo.encode(l.generatedColumn-t),t=l.generatedColumn,l.source!=null&amp;amp;&amp;amp;(p=this._sources.indexOf(l.source),h+=Wo.encode(p-o),o=p,h+=Wo.encode(l.originalLine-1-s),s=l.originalLine-1,h+=Wo.encode(l.originalColumn-n),n=l.originalColumn,l.name!=null&amp;amp;&amp;amp;(c=this._names.indexOf(l.name),h+=Wo.encode(c-a),a=c)),u+=h}return u};Ir.prototype._generateSourcesContent=function(t,r){return t.map(function(n){if(!this._sourcesContents)return null;r!=null&amp;amp;&amp;amp;(n=xt.relative(r,n));var s=xt.toSetString(n);return Object.prototype.hasOwnProperty.call(this._sourcesContents,s)?this._sourcesContents[s]:null},this)};Ir.prototype.toJSON=function(){var t={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&amp;amp;&amp;amp;(t.file=this._file),this._sourceRoot!=null&amp;amp;&amp;amp;(t.sourceRoot=this._sourceRoot),this._sourcesContents&amp;amp;&amp;amp;(t.sourcesContent=this._generateSourcesContent(t.sources,t.sourceRoot)),t};Ir.prototype.toString=function(){return JSON.stringify(this.toJSON())};Fy.SourceMapGenerator=Ir});var Ty=ut(Yn=&amp;gt;{Yn.GREATEST_LOWER_BOUND=1;Yn.LEAST_UPPER_BOUND=2;function Hp(i,t,r,n,s,a){var o=Math.floor((t-i)/2)+i,u=s(r,n[o],!0);return u===0?o:u&amp;gt;0?t-o&amp;gt;1?Hp(o,t,r,n,s,a):a==Yn.LEAST_UPPER_BOUND?t&amp;lt;n.length?t:-1:o:o-i&amp;gt;1?Hp(i,o,r,n,s,a):a==Yn.LEAST_UPPER_BOUND?o:i&amp;lt;0?-1:i}Yn.search=function(t,r,n,s){if(r.length===0)return-1;var a=Hp(-1,r.length,t,r,n,s||Yn.GREATEST_LOWER_BOUND);if(a&amp;lt;0)return-1;for(;a-1&amp;gt;=0&amp;amp;&amp;amp;n(r[a],r[a-1],!0)===0;)--a;return a}});var Iy=ut(Ny=&amp;gt;{function Wp(i,t,r){var n=i[t];i[t]=i[r],i[r]=n}function VE(i,t){return Math.round(i+Math.random()*(t-i))}function qp(i,t,r,n){if(r&amp;lt;n){var s=VE(r,n),a=r-1;Wp(i,s,n);for(var o=i[n],u=r;u&amp;lt;n;u++)t(i[u],o)&amp;lt;=0&amp;amp;&amp;amp;(a+=1,Wp(i,a,u));Wp(i,a+1,u);var h=a+1;qp(i,t,r,h-1),qp(i,t,h+1,n)}}Ny.quickSort=function(i,t){qp(i,t,0,i.length-1)}});var My=ut(Jl=&amp;gt;{var Fe=ha(),Zp=Ty(),ca=jp().ArraySet,UE=Vp(),qo=Iy().quickSort;function ot(i,t){var r=i;return typeof i==&amp;quot;string&amp;quot;&amp;amp;&amp;amp;(r=Fe.parseSourceMapInput(i)),r.sections!=null?new qr(r,t):new Lt(r,t)}ot.fromSourceMap=function(i,t){return Lt.fromSourceMap(i,t)};ot.prototype._version=3;ot.prototype.__generatedMappings=null;Object.defineProperty(ot.prototype,&amp;quot;_generatedMappings&amp;quot;,{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}});ot.prototype.__originalMappings=null;Object.defineProperty(ot.prototype,&amp;quot;_originalMappings&amp;quot;,{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}});ot.prototype._charIsMappingSeparator=function(t,r){var n=t.charAt(r);return n===&amp;quot;;&amp;quot;||n===&amp;quot;,&amp;quot;};ot.prototype._parseMappings=function(t,r){throw new Error(&amp;quot;Subclasses must implement _parseMappings&amp;quot;)};ot.GENERATED_ORDER=1;ot.ORIGINAL_ORDER=2;ot.GREATEST_LOWER_BOUND=1;ot.LEAST_UPPER_BOUND=2;ot.prototype.eachMapping=function(t,r,n){var s=r||null,a=n||ot.GENERATED_ORDER,o;switch(a){case ot.GENERATED_ORDER:o=this._generatedMappings;break;case ot.ORIGINAL_ORDER:o=this._originalMappings;break;default:throw new Error(&amp;quot;Unknown order of iteration.&amp;quot;)}var u=this.sourceRoot;o.map(function(h){var l=h.source===null?null:this._sources.at(h.source);return l=Fe.computeSourceURL(u,l,this._sourceMapURL),{source:l,generatedLine:h.generatedLine,generatedColumn:h.generatedColumn,originalLine:h.originalLine,originalColumn:h.originalColumn,name:h.name===null?null:this._names.at(h.name)}},this).forEach(t,s)};ot.prototype.allGeneratedPositionsFor=function(t){var r=Fe.getArg(t,&amp;quot;line&amp;quot;),n={source:Fe.getArg(t,&amp;quot;source&amp;quot;),originalLine:r,originalColumn:Fe.getArg(t,&amp;quot;column&amp;quot;,0)};if(n.source=this._findSourceIndex(n.source),n.source&amp;lt;0)return[];var s=[],a=this._findMapping(n,this._originalMappings,&amp;quot;originalLine&amp;quot;,&amp;quot;originalColumn&amp;quot;,Fe.compareByOriginalPositions,Zp.LEAST_UPPER_BOUND);if(a&amp;gt;=0){var o=this._originalMappings[a];if(t.column===void 0)for(var u=o.originalLine;o&amp;amp;&amp;amp;o.originalLine===u;)s.push({line:Fe.getArg(o,&amp;quot;generatedLine&amp;quot;,null),column:Fe.getArg(o,&amp;quot;generatedColumn&amp;quot;,null),lastColumn:Fe.getArg(o,&amp;quot;lastGeneratedColumn&amp;quot;,null)}),o=this._originalMappings[++a];else for(var h=o.originalColumn;o&amp;amp;&amp;amp;o.originalLine===r&amp;amp;&amp;amp;o.originalColumn==h;)s.push({line:Fe.getArg(o,&amp;quot;generatedLine&amp;quot;,null),column:Fe.getArg(o,&amp;quot;generatedColumn&amp;quot;,null),lastColumn:Fe.getArg(o,&amp;quot;lastGeneratedColumn&amp;quot;,null)}),o=this._originalMappings[++a]}return s};Jl.SourceMapConsumer=ot;function Lt(i,t){var r=i;typeof i==&amp;quot;string&amp;quot;&amp;amp;&amp;amp;(r=Fe.parseSourceMapInput(i));var n=Fe.getArg(r,&amp;quot;version&amp;quot;),s=Fe.getArg(r,&amp;quot;sources&amp;quot;),a=Fe.getArg(r,&amp;quot;names&amp;quot;,[]),o=Fe.getArg(r,&amp;quot;sourceRoot&amp;quot;,null),u=Fe.getArg(r,&amp;quot;sourcesContent&amp;quot;,null),h=Fe.getArg(r,&amp;quot;mappings&amp;quot;),l=Fe.getArg(r,&amp;quot;file&amp;quot;,null);if(n!=this._version)throw new Error(&amp;quot;Unsupported version: &amp;quot;+n);o&amp;amp;&amp;amp;(o=Fe.normalize(o)),s=s.map(String).map(Fe.normalize).map(function(c){return o&amp;amp;&amp;amp;Fe.isAbsolute(o)&amp;amp;&amp;amp;Fe.isAbsolute(c)?Fe.relative(o,c):c}),this._names=ca.fromArray(a.map(String),!0),this._sources=ca.fromArray(s,!0),this._absoluteSources=this._sources.toArray().map(function(c){return Fe.computeSourceURL(o,c,t)}),this.sourceRoot=o,this.sourcesContent=u,this._mappings=h,this._sourceMapURL=t,this.file=l}Lt.prototype=Object.create(ot.prototype);Lt.prototype.consumer=ot;Lt.prototype._findSourceIndex=function(i){var t=i;if(this.sourceRoot!=null&amp;amp;&amp;amp;(t=Fe.relative(this.sourceRoot,t)),this._sources.has(t))return this._sources.indexOf(t);var r;for(r=0;r&amp;lt;this._absoluteSources.length;++r)if(this._absoluteSources[r]==i)return r;return-1};Lt.fromSourceMap=function(t,r){var n=Object.create(Lt.prototype),s=n._names=ca.fromArray(t._names.toArray(),!0),a=n._sources=ca.fromArray(t._sources.toArray(),!0);n.sourceRoot=t._sourceRoot,n.sourcesContent=t._generateSourcesContent(n._sources.toArray(),n.sourceRoot),n.file=t._file,n._sourceMapURL=r,n._absoluteSources=n._sources.toArray().map(function(d){return Fe.computeSourceURL(n.sourceRoot,d,r)});for(var o=t._mappings.toArray().slice(),u=n.__generatedMappings=[],h=n.__originalMappings=[],l=0,c=o.length;l&amp;lt;c;l++){var p=o[l],f=new ky;f.generatedLine=p.generatedLine,f.generatedColumn=p.generatedColumn,p.source&amp;amp;&amp;amp;(f.source=a.indexOf(p.source),f.originalLine=p.originalLine,f.originalColumn=p.originalColumn,p.name&amp;amp;&amp;amp;(f.name=s.indexOf(p.name)),h.push(f)),u.push(f)}return qo(n.__originalMappings,Fe.compareByOriginalPositions),n};Lt.prototype._version=3;Object.defineProperty(Lt.prototype,&amp;quot;sources&amp;quot;,{get:function(){return this._absoluteSources.slice()}});function ky(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}Lt.prototype._parseMappings=function(t,r){for(var n=1,s=0,a=0,o=0,u=0,h=0,l=t.length,c=0,p={},f={},d=[],m=[],g,v,w,y,S;c&amp;lt;l;)if(t.charAt(c)===&amp;quot;;&amp;quot;)n++,c++,s=0;else if(t.charAt(c)===&amp;quot;,&amp;quot;)c++;else{for(g=new ky,g.generatedLine=n,y=c;y&amp;lt;l&amp;amp;&amp;amp;!this._charIsMappingSeparator(t,y);y++);if(v=t.slice(c,y),w=p[v],w)c+=v.length;else{for(w=[];c&amp;lt;y;)UE.decode(t,c,f),S=f.value,c=f.rest,w.push(S);if(w.length===2)throw new Error(&amp;quot;Found a source, but no line and column&amp;quot;);if(w.length===3)throw new Error(&amp;quot;Found a source and line, but no column&amp;quot;);p[v]=w}g.generatedColumn=s+w[0],s=g.generatedColumn,w.length&amp;gt;1&amp;amp;&amp;amp;(g.source=u+w[1],u+=w[1],g.originalLine=a+w[2],a=g.originalLine,g.originalLine+=1,g.originalColumn=o+w[3],o=g.originalColumn,w.length&amp;gt;4&amp;amp;&amp;amp;(g.name=h+w[4],h+=w[4])),m.push(g),typeof g.originalLine==&amp;quot;number&amp;quot;&amp;amp;&amp;amp;d.push(g)}qo(m,Fe.compareByGeneratedPositionsDeflated),this.__generatedMappings=m,qo(d,Fe.compareByOriginalPositions),this.__originalMappings=d};Lt.prototype._findMapping=function(t,r,n,s,a,o){if(t[n]&amp;lt;=0)throw new TypeError(&amp;quot;Line must be greater than or equal to 1, got &amp;quot;+t[n]);if(t[s]&amp;lt;0)throw new TypeError(&amp;quot;Column must be greater than or equal to 0, got &amp;quot;+t[s]);return Zp.search(t,r,a,o)};Lt.prototype.computeColumnSpans=function(){for(var t=0;t&amp;lt;this._generatedMappings.length;++t){var r=this._generatedMappings[t];if(t+1&amp;lt;this._generatedMappings.length){var n=this._generatedMappings[t+1];if(r.generatedLine===n.generatedLine){r.lastGeneratedColumn=n.generatedColumn-1;continue}}r.lastGeneratedColumn=1/0}};Lt.prototype.originalPositionFor=function(t){var r={generatedLine:Fe.getArg(t,&amp;quot;line&amp;quot;),generatedColumn:Fe.getArg(t,&amp;quot;column&amp;quot;)},n=this._findMapping(r,this._generatedMappings,&amp;quot;generatedLine&amp;quot;,&amp;quot;generatedColumn&amp;quot;,Fe.compareByGeneratedPositionsDeflated,Fe.getArg(t,&amp;quot;bias&amp;quot;,ot.GREATEST_LOWER_BOUND));if(n&amp;gt;=0){var s=this._generatedMappings[n];if(s.generatedLine===r.generatedLine){var a=Fe.getArg(s,&amp;quot;source&amp;quot;,null);a!==null&amp;amp;&amp;amp;(a=this._sources.at(a),a=Fe.computeSourceURL(this.sourceRoot,a,this._sourceMapURL));var o=Fe.getArg(s,&amp;quot;name&amp;quot;,null);return o!==null&amp;amp;&amp;amp;(o=this._names.at(o)),{source:a,line:Fe.getArg(s,&amp;quot;originalLine&amp;quot;,null),column:Fe.getArg(s,&amp;quot;originalColumn&amp;quot;,null),name:o}}}return{source:null,line:null,column:null,name:null}};Lt.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length&amp;gt;=this._sources.size()&amp;amp;&amp;amp;!this.sourcesContent.some(function(t){return t==null}):!1};Lt.prototype.sourceContentFor=function(t,r){if(!this.sourcesContent)return null;var n=this._findSourceIndex(t);if(n&amp;gt;=0)return this.sourcesContent[n];var s=t;this.sourceRoot!=null&amp;amp;&amp;amp;(s=Fe.relative(this.sourceRoot,s));var a;if(this.sourceRoot!=null&amp;amp;&amp;amp;(a=Fe.urlParse(this.sourceRoot))){var o=s.replace(/^file:\/\//,&amp;quot;&amp;quot;);if(a.scheme==&amp;quot;file&amp;quot;&amp;amp;&amp;amp;this._sources.has(o))return this.sourcesContent[this._sources.indexOf(o)];if((!a.path||a.path==&amp;quot;/&amp;quot;)&amp;amp;&amp;amp;this._sources.has(&amp;quot;/&amp;quot;+s))return this.sourcesContent[this._sources.indexOf(&amp;quot;/&amp;quot;+s)]}if(r)return null;throw new Error(&amp;#39;&amp;quot;&amp;#39;+s+&amp;#39;&amp;quot; is not in the SourceMap.&amp;#39;)};Lt.prototype.generatedPositionFor=function(t){var r=Fe.getArg(t,&amp;quot;source&amp;quot;);if(r=this._findSourceIndex(r),r&amp;lt;0)return{line:null,column:null,lastColumn:null};var n={source:r,originalLine:Fe.getArg(t,&amp;quot;line&amp;quot;),originalColumn:Fe.getArg(t,&amp;quot;column&amp;quot;)},s=this._findMapping(n,this._originalMappings,&amp;quot;originalLine&amp;quot;,&amp;quot;originalColumn&amp;quot;,Fe.compareByOriginalPositions,Fe.getArg(t,&amp;quot;bias&amp;quot;,ot.GREATEST_LOWER_BOUND));if(s&amp;gt;=0){var a=this._originalMappings[s];if(a.source===n.source)return{line:Fe.getArg(a,&amp;quot;generatedLine&amp;quot;,null),column:Fe.getArg(a,&amp;quot;generatedColumn&amp;quot;,null),lastColumn:Fe.getArg(a,&amp;quot;lastGeneratedColumn&amp;quot;,null)}}return{line:null,column:null,lastColumn:null}};Jl.BasicSourceMapConsumer=Lt;function qr(i,t){var r=i;typeof i==&amp;quot;string&amp;quot;&amp;amp;&amp;amp;(r=Fe.parseSourceMapInput(i));var n=Fe.getArg(r,&amp;quot;version&amp;quot;),s=Fe.getArg(r,&amp;quot;sections&amp;quot;);if(n!=this._version)throw new Error(&amp;quot;Unsupported version: &amp;quot;+n);this._sources=new ca,this._names=new ca;var a={line:-1,column:0};this._sections=s.map(function(o){if(o.url)throw new Error(&amp;quot;Support for url field in sections not implemented.&amp;quot;);var u=Fe.getArg(o,&amp;quot;offset&amp;quot;),h=Fe.getArg(u,&amp;quot;line&amp;quot;),l=Fe.getArg(u,&amp;quot;column&amp;quot;);if(h&amp;lt;a.line||h===a.line&amp;amp;&amp;amp;l&amp;lt;a.column)throw new Error(&amp;quot;Section offsets must be ordered and non-overlapping.&amp;quot;);return a=u,{generatedOffset:{generatedLine:h+1,generatedColumn:l+1},consumer:new ot(Fe.getArg(o,&amp;quot;map&amp;quot;),t)}})}qr.prototype=Object.create(ot.prototype);qr.prototype.constructor=ot;qr.prototype._version=3;Object.defineProperty(qr.prototype,&amp;quot;sources&amp;quot;,{get:function(){for(var i=[],t=0;t&amp;lt;this._sections.length;t++)for(var r=0;r&amp;lt;this._sections[t].consumer.sources.length;r++)i.push(this._sections[t].consumer.sources[r]);return i}});qr.prototype.originalPositionFor=function(t){var r={generatedLine:Fe.getArg(t,&amp;quot;line&amp;quot;),generatedColumn:Fe.getArg(t,&amp;quot;column&amp;quot;)},n=Zp.search(r,this._sections,function(a,o){var u=a.generatedLine-o.generatedOffset.generatedLine;return u||a.generatedColumn-o.generatedOffset.generatedColumn}),s=this._sections[n];return s?s.consumer.originalPositionFor({line:r.generatedLine-(s.generatedOffset.generatedLine-1),column:r.generatedColumn-(s.generatedOffset.generatedLine===r.generatedLine?s.generatedOffset.generatedColumn-1:0),bias:t.bias}):{source:null,line:null,column:null,name:null}};qr.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(t){return t.consumer.hasContentsOfAllSources()})};qr.prototype.sourceContentFor=function(t,r){for(var n=0;n&amp;lt;this._sections.length;n++){var s=this._sections[n],a=s.consumer.sourceContentFor(t,!0);if(a)return a}if(r)return null;throw new Error(&amp;#39;&amp;quot;&amp;#39;+t+&amp;#39;&amp;quot; is not in the SourceMap.&amp;#39;)};qr.prototype.generatedPositionFor=function(t){for(var r=0;r&amp;lt;this._sections.length;r++){var n=this._sections[r];if(n.consumer._findSourceIndex(Fe.getArg(t,&amp;quot;source&amp;quot;))!==-1){var s=n.consumer.generatedPositionFor(t);if(s){var a={line:s.line+(n.generatedOffset.generatedLine-1),column:s.column+(n.generatedOffset.generatedLine===s.line?n.generatedOffset.generatedColumn-1:0)};return a}}}return{line:null,column:null}};qr.prototype._parseMappings=function(t,r){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n&amp;lt;this._sections.length;n++)for(var s=this._sections[n],a=s.consumer._generatedMappings,o=0;o&amp;lt;a.length;o++){var u=a[o],h=s.consumer._sources.at(u.source);h=Fe.computeSourceURL(s.consumer.sourceRoot,h,this._sourceMapURL),this._sources.add(h),h=this._sources.indexOf(h);var l=null;u.name&amp;amp;&amp;amp;(l=s.consumer._names.at(u.name),this._names.add(l),l=this._names.indexOf(l));var c={source:h,generatedLine:u.generatedLine+(s.generatedOffset.generatedLine-1),generatedColumn:u.generatedColumn+(s.generatedOffset.generatedLine===u.generatedLine?s.generatedOffset.generatedColumn-1:0),originalLine:u.originalLine,originalColumn:u.originalColumn,name:l};this.__generatedMappings.push(c),typeof c.originalLine==&amp;quot;number&amp;quot;&amp;amp;&amp;amp;this.__originalMappings.push(c)}qo(this.__generatedMappings,Fe.compareByGeneratedPositionsDeflated),qo(this.__originalMappings,Fe.compareByOriginalPositions)};Jl.IndexedSourceMapConsumer=qr});var Ry=ut(Ly=&amp;gt;{var GE=$p().SourceMapGenerator,Ql=ha(),zE=/(\r?\n)/,jE=10,fa=&amp;quot;$$$isSourceNode$$$&amp;quot;;function mr(i,t,r,n,s){this.children=[],this.sourceContents={},this.line=i??null,this.column=t??null,this.source=r??null,this.name=s??null,this[fa]=!0,n!=null&amp;amp;&amp;amp;this.add(n)}mr.fromStringWithSourceMap=function(t,r,n){var s=new mr,a=t.split(zE),o=0,u=function(){var f=m(),d=m()||&amp;quot;&amp;quot;;return f+d;function m(){return o&amp;lt;a.length?a[o++]:void 0}},h=1,l=0,c=null;return r.eachMapping(function(f){if(c!==null)if(h&amp;lt;f.generatedLine)p(c,u()),h++,l=0;else{var d=a[o]||&amp;quot;&amp;quot;,m=d.substr(0,f.generatedColumn-l);a[o]=d.substr(f.generatedColumn-l),l=f.generatedColumn,p(c,m),c=f;return}for(;h&amp;lt;f.generatedLine;)s.add(u()),h++;if(l&amp;lt;f.generatedColumn){var d=a[o]||&amp;quot;&amp;quot;;s.add(d.substr(0,f.generatedColumn)),a[o]=d.substr(f.generatedColumn),l=f.generatedColumn}c=f},this),o&amp;lt;a.length&amp;amp;&amp;amp;(c&amp;amp;&amp;amp;p(c,u()),s.add(a.splice(o).join(&amp;quot;&amp;quot;))),r.sources.forEach(function(f){var d=r.sourceContentFor(f);d!=null&amp;amp;&amp;amp;(n!=null&amp;amp;&amp;amp;(f=Ql.join(n,f)),s.setSourceContent(f,d))}),s;function p(f,d){if(f===null||f.source===void 0)s.add(d);else{var m=n?Ql.join(n,f.source):f.source;s.add(new mr(f.originalLine,f.originalColumn,m,d,f.name))}}};mr.prototype.add=function(t){if(Array.isArray(t))t.forEach(function(r){this.add(r)},this);else if(t[fa]||typeof t==&amp;quot;string&amp;quot;)t&amp;amp;&amp;amp;this.children.push(t);else throw new TypeError(&amp;quot;Expected a SourceNode, string, or an array of SourceNodes and strings. Got &amp;quot;+t);return this};mr.prototype.prepend=function(t){if(Array.isArray(t))for(var r=t.length-1;r&amp;gt;=0;r--)this.prepend(t[r]);else if(t[fa]||typeof t==&amp;quot;string&amp;quot;)this.children.unshift(t);else throw new TypeError(&amp;quot;Expected a SourceNode, string, or an array of SourceNodes and strings. Got &amp;quot;+t);return this};mr.prototype.walk=function(t){for(var r,n=0,s=this.children.length;n&amp;lt;s;n++)r=this.children[n],r[fa]?r.walk(t):r!==&amp;quot;&amp;quot;&amp;amp;&amp;amp;t(r,{source:this.source,line:this.line,column:this.column,name:this.name})};mr.prototype.join=function(t){var r,n,s=this.children.length;if(s&amp;gt;0){for(r=[],n=0;n&amp;lt;s-1;n++)r.push(this.children[n]),r.push(t);r.push(this.children[n]),this.children=r}return this};mr.prototype.replaceRight=function(t,r){var n=this.children[this.children.length-1];return n[fa]?n.replaceRight(t,r):typeof n==&amp;quot;string&amp;quot;?this.children[this.children.length-1]=n.replace(t,r):this.children.push(&amp;quot;&amp;quot;.replace(t,r)),this};mr.prototype.setSourceContent=function(t,r){this.sourceContents[Ql.toSetString(t)]=r};mr.prototype.walkSourceContents=function(t){for(var r=0,n=this.children.length;r&amp;lt;n;r++)this.children[r][fa]&amp;amp;&amp;amp;this.children[r].walkSourceContents(t);for(var s=Object.keys(this.sourceContents),r=0,n=s.length;r&amp;lt;n;r++)t(Ql.fromSetString(s[r]),this.sourceContents[s[r]])};mr.prototype.toString=function(){var t=&amp;quot;&amp;quot;;return this.walk(function(r){t+=r}),t};mr.prototype.toStringWithSourceMap=function(t){var r={code:&amp;quot;&amp;quot;,line:1,column:0},n=new GE(t),s=!1,a=null,o=null,u=null,h=null;return this.walk(function(l,c){r.code+=l,c.source!==null&amp;amp;&amp;amp;c.line!==null&amp;amp;&amp;amp;c.column!==null?((a!==c.source||o!==c.line||u!==c.column||h!==c.name)&amp;amp;&amp;amp;n.addMapping({source:c.source,original:{line:c.line,column:c.column},generated:{line:r.line,column:r.column},name:c.name}),a=c.source,o=c.line,u=c.column,h=c.name,s=!0):s&amp;amp;&amp;amp;(n.addMapping({generated:{line:r.line,column:r.column}}),a=null,s=!1);for(var p=0,f=l.length;p&amp;lt;f;p++)l.charCodeAt(p)===jE?(r.line++,r.column=0,p+1===f?(a=null,s=!1):s&amp;amp;&amp;amp;n.addMapping({source:c.source,original:{line:c.line,column:c.column},generated:{line:r.line,column:r.column},name:c.name})):r.column++}),this.walkSourceContents(function(l,c){n.setSourceContent(l,c)}),{code:r.code,map:n}};Ly.SourceNode=mr});var By=ut(eh=&amp;gt;{eh.SourceMapGenerator=$p().SourceMapGenerator;eh.SourceMapConsumer=My().SourceMapConsumer;eh.SourceNode=Ry().SourceNode});var Py=ut((IO,$E)=&amp;gt;{$E.exports={name:&amp;quot;escodegen&amp;quot;,description:&amp;quot;ECMAScript code generator&amp;quot;,homepage:&amp;quot;http://github.com/estools/escodegen&amp;quot;,main:&amp;quot;escodegen.js&amp;quot;,bin:{esgenerate:&amp;quot;./bin/esgenerate.js&amp;quot;,escodegen:&amp;quot;./bin/escodegen.js&amp;quot;},files:[&amp;quot;LICENSE.BSD&amp;quot;,&amp;quot;README.md&amp;quot;,&amp;quot;bin&amp;quot;,&amp;quot;escodegen.js&amp;quot;,&amp;quot;package.json&amp;quot;],version:&amp;quot;2.1.0&amp;quot;,engines:{node:&amp;quot;&amp;gt;=6.0&amp;quot;},maintainers:[{name:&amp;quot;Yusuke Suzuki&amp;quot;,email:&amp;quot;utatane.tea@gmail.com&amp;quot;,web:&amp;quot;http://github.com/Constellation&amp;quot;}],repository:{type:&amp;quot;git&amp;quot;,url:&amp;quot;http://github.com/estools/escodegen.git&amp;quot;},dependencies:{estraverse:&amp;quot;^5.2.0&amp;quot;,esutils:&amp;quot;^2.0.2&amp;quot;,esprima:&amp;quot;^4.0.1&amp;quot;},optionalDependencies:{&amp;quot;source-map&amp;quot;:&amp;quot;~0.6.1&amp;quot;},devDependencies:{acorn:&amp;quot;^8.0.4&amp;quot;,bluebird:&amp;quot;^3.4.7&amp;quot;,&amp;quot;bower-registry-client&amp;quot;:&amp;quot;^1.0.0&amp;quot;,chai:&amp;quot;^4.2.0&amp;quot;,&amp;quot;chai-exclude&amp;quot;:&amp;quot;^2.0.2&amp;quot;,&amp;quot;commonjs-everywhere&amp;quot;:&amp;quot;^0.9.7&amp;quot;,gulp:&amp;quot;^4.0.2&amp;quot;,&amp;quot;gulp-eslint&amp;quot;:&amp;quot;^6.0.0&amp;quot;,&amp;quot;gulp-mocha&amp;quot;:&amp;quot;^7.0.2&amp;quot;,minimist:&amp;quot;^1.2.5&amp;quot;,optionator:&amp;quot;^0.9.1&amp;quot;,semver:&amp;quot;^7.3.4&amp;quot;},license:&amp;quot;BSD-2-Clause&amp;quot;,scripts:{test:&amp;quot;gulp travis&amp;quot;,&amp;quot;unit-test&amp;quot;:&amp;quot;gulp test&amp;quot;,lint:&amp;quot;gulp lint&amp;quot;,release:&amp;quot;node tools/release.js&amp;quot;,&amp;quot;build-min&amp;quot;:&amp;quot;./node_modules/.bin/cjsify -ma path: tools/entry-point.js &amp;gt; escodegen.browser.min.js&amp;quot;,build:&amp;quot;./node_modules/.bin/cjsify -a path: tools/entry-point.js &amp;gt; escodegen.browser.js&amp;quot;}}});var th=ut(Li=&amp;gt;{(function(){&amp;quot;use strict&amp;quot;;var i,t,r,n,s,a,o,u,h,l,c,p,f,d,m,g,v,w,y,S,_,b,I,E,A,C;s=ay(),a=fy(),i=s.Syntax;function T(x){return yt.Expression.hasOwnProperty(x.type)}function D(x){return yt.Statement.hasOwnProperty(x.type)}t={Sequence:0,Yield:1,Assignment:1,Conditional:2,ArrowFunction:2,Coalesce:3,LogicalOR:4,LogicalAND:5,BitwiseOR:6,BitwiseXOR:7,BitwiseAND:8,Equality:9,Relational:10,BitwiseSHIFT:11,Additive:12,Multiplicative:13,Exponentiation:14,Await:15,Unary:15,Postfix:16,OptionalChaining:17,Call:18,New:19,TaggedTemplate:20,Member:21,Primary:22},r={&amp;quot;??&amp;quot;:t.Coalesce,&amp;quot;||&amp;quot;:t.LogicalOR,&amp;quot;&amp;amp;&amp;amp;&amp;quot;:t.LogicalAND,&amp;quot;|&amp;quot;:t.BitwiseOR,&amp;quot;^&amp;quot;:t.BitwiseXOR,&amp;quot;&amp;amp;&amp;quot;:t.BitwiseAND,&amp;quot;==&amp;quot;:t.Equality,&amp;quot;!=&amp;quot;:t.Equality,&amp;quot;===&amp;quot;:t.Equality,&amp;quot;!==&amp;quot;:t.Equality,is:t.Equality,isnt:t.Equality,&amp;quot;&amp;lt;&amp;quot;:t.Relational,&amp;quot;&amp;gt;&amp;quot;:t.Relational,&amp;quot;&amp;lt;=&amp;quot;:t.Relational,&amp;quot;&amp;gt;=&amp;quot;:t.Relational,in:t.Relational,instanceof:t.Relational,&amp;quot;&amp;lt;&amp;lt;&amp;quot;:t.BitwiseSHIFT,&amp;quot;&amp;gt;&amp;gt;&amp;quot;:t.BitwiseSHIFT,&amp;quot;&amp;gt;&amp;gt;&amp;gt;&amp;quot;:t.BitwiseSHIFT,&amp;quot;+&amp;quot;:t.Additive,&amp;quot;-&amp;quot;:t.Additive,&amp;quot;*&amp;quot;:t.Multiplicative,&amp;quot;%&amp;quot;:t.Multiplicative,&amp;quot;/&amp;quot;:t.Multiplicative,&amp;quot;**&amp;quot;:t.Exponentiation};var F=1,N=2,B=4,U=8,j=16,W=32,te=64,X=N|B,Z=F|N,G=F|N|B,q=F,J=B,Y=F|B,Q=F,fe=F|W,de=0,me=F|j,ie=F|U;function ee(){return{indent:null,base:null,parse:null,comment:!1,format:{indent:{style:&amp;quot;    &amp;quot;,base:0,adjustMultilineComment:!1},newline:`
<a href="#l309" class="line" id="l309">    309</a> &lt;a href=&quot;#l290&quot; class=&quot;line&quot; id=&quot;l290&quot;&gt;    290&lt;/a&gt; `,space:&amp;quot; &amp;quot;,json:!1,renumber:!1,hexadecimal:!1,quotes:&amp;quot;single&amp;quot;,escapeless:!1,compact:!1,parentheses:!0,semicolons:!0,safeConcatenation:!1,preserveBlankLines:!1},moz:{comprehensionExpressionStartsWithAssignment:!1,starlessGenerator:!1},sourceMap:null,sourceMapRoot:null,sourceMapWithCode:!1,directive:!1,raw:!0,verbatim:null,sourceCode:null}}function se(x,M){var k=&amp;quot;&amp;quot;;for(M|=0;M&amp;gt;0;M&amp;gt;&amp;gt;&amp;gt;=1,x+=x)M&amp;amp;1&amp;amp;&amp;amp;(k+=x);return k}function ce(x){return/[\r\n]/g.test(x)}function ue(x){var M=x.length;return M&amp;amp;&amp;amp;a.code.isLineTerminator(x.charCodeAt(M-1))}function pe(x,M){var k;for(k in M)M.hasOwnProperty(k)&amp;amp;&amp;amp;(x[k]=M[k]);return x}function O(x,M){var k,L;function V(re){return typeof re==&amp;quot;object&amp;quot;&amp;amp;&amp;amp;re instanceof Object&amp;amp;&amp;amp;!(re instanceof RegExp)}for(k in M)M.hasOwnProperty(k)&amp;amp;&amp;amp;(L=M[k],V(L)?V(x[k])?O(x[k],L):x[k]=O({},L):x[k]=L);return x}function P(x){var M,k,L,V,re;if(x!==x)throw new Error(&amp;quot;Numeric literal whose value is NaN&amp;quot;);if(x&amp;lt;0||x===0&amp;amp;&amp;amp;1/x&amp;lt;0)throw new Error(&amp;quot;Numeric literal whose value is negative&amp;quot;);if(x===1/0)return h?&amp;quot;null&amp;quot;:l?&amp;quot;1e400&amp;quot;:&amp;quot;1e+400&amp;quot;;if(M=&amp;quot;&amp;quot;+x,!l||M.length&amp;lt;3)return M;for(k=M.indexOf(&amp;quot;.&amp;quot;),!h&amp;amp;&amp;amp;M.charCodeAt(0)===48&amp;amp;&amp;amp;k===1&amp;amp;&amp;amp;(k=0,M=M.slice(1)),L=M,M=M.replace(&amp;quot;e+&amp;quot;,&amp;quot;e&amp;quot;),V=0,(re=L.indexOf(&amp;quot;e&amp;quot;))&amp;gt;0&amp;amp;&amp;amp;(V=+L.slice(re+1),L=L.slice(0,re)),k&amp;gt;=0&amp;amp;&amp;amp;(V-=L.length-k-1,L=+(L.slice(0,k)+L.slice(k+1))+&amp;quot;&amp;quot;),re=0;L.charCodeAt(L.length+re-1)===48;)--re;return re!==0&amp;amp;&amp;amp;(V-=re,L=L.slice(0,re)),V!==0&amp;amp;&amp;amp;(L+=&amp;quot;e&amp;quot;+V),(L.length&amp;lt;M.length||c&amp;amp;&amp;amp;x&amp;gt;1e12&amp;amp;&amp;amp;Math.floor(x)===x&amp;amp;&amp;amp;(L=&amp;quot;0x&amp;quot;+x.toString(16)).length&amp;lt;M.length)&amp;amp;&amp;amp;+L===x&amp;amp;&amp;amp;(M=L),M}function z(x,M){return(x&amp;amp;-2)===8232?(M?&amp;quot;u&amp;quot;:&amp;quot;\\u&amp;quot;)+(x===8232?&amp;quot;2028&amp;quot;:&amp;quot;2029&amp;quot;):x===10||x===13?(M?&amp;quot;&amp;quot;:&amp;quot;\\&amp;quot;)+(x===10?&amp;quot;n&amp;quot;:&amp;quot;r&amp;quot;):String.fromCharCode(x)}function $(x){var M,k,L,V,re,ae,he,Ee;if(k=x.toString(),x.source){if(M=k.match(/\/([^/]*)$/),!M)return k;for(L=M[1],k=&amp;quot;&amp;quot;,he=!1,Ee=!1,V=0,re=x.source.length;V&amp;lt;re;++V)ae=x.source.charCodeAt(V),Ee?(k+=z(ae,Ee),Ee=!1):(he?ae===93&amp;amp;&amp;amp;(he=!1):ae===47?k+=&amp;quot;\\&amp;quot;:ae===91&amp;amp;&amp;amp;(he=!0),k+=z(ae,Ee),Ee=ae===92);return&amp;quot;/&amp;quot;+k+&amp;quot;/&amp;quot;+L}return k}function ne(x,M){var k;return x===8?&amp;quot;\\b&amp;quot;:x===12?&amp;quot;\\f&amp;quot;:x===9?&amp;quot;\\t&amp;quot;:(k=x.toString(16).toUpperCase(),h||x&amp;gt;255?&amp;quot;\\u&amp;quot;+&amp;quot;0000&amp;quot;.slice(k.length)+k:x===0&amp;amp;&amp;amp;!a.code.isDecimalDigit(M)?&amp;quot;\\0&amp;quot;:x===11?&amp;quot;\\x0B&amp;quot;:&amp;quot;\\x&amp;quot;+&amp;quot;00&amp;quot;.slice(k.length)+k)}function K(x){if(x===92)return&amp;quot;\\\\&amp;quot;;if(x===10)return&amp;quot;\\n&amp;quot;;if(x===13)return&amp;quot;\\r&amp;quot;;if(x===8232)return&amp;quot;\\u2028&amp;quot;;if(x===8233)return&amp;quot;\\u2029&amp;quot;;throw new Error(&amp;quot;Incorrectly classified character&amp;quot;)}function ve(x){var M,k,L,V;for(V=p===&amp;quot;double&amp;quot;?&amp;#39;&amp;quot;&amp;#39;:&amp;quot;&amp;#39;&amp;quot;,M=0,k=x.length;M&amp;lt;k;++M)if(L=x.charCodeAt(M),L===39){V=&amp;#39;&amp;quot;&amp;#39;;break}else if(L===34){V=&amp;quot;&amp;#39;&amp;quot;;break}else L===92&amp;amp;&amp;amp;++M;return V+x+V}function ge(x){var M=&amp;quot;&amp;quot;,k,L,V,re=0,ae=0,he,Ee;for(k=0,L=x.length;k&amp;lt;L;++k){if(V=x.charCodeAt(k),V===39)++re;else if(V===34)++ae;else if(V===47&amp;amp;&amp;amp;h)M+=&amp;quot;\\&amp;quot;;else if(a.code.isLineTerminator(V)||V===92){M+=K(V);continue}else if(!a.code.isIdentifierPartES5(V)&amp;amp;&amp;amp;(h&amp;amp;&amp;amp;V&amp;lt;32||!h&amp;amp;&amp;amp;!f&amp;amp;&amp;amp;(V&amp;lt;32||V&amp;gt;126))){M+=ne(V,x.charCodeAt(k+1));continue}M+=String.fromCharCode(V)}if(he=!(p===&amp;quot;double&amp;quot;||p===&amp;quot;auto&amp;quot;&amp;amp;&amp;amp;ae&amp;lt;re),Ee=he?&amp;quot;&amp;#39;&amp;quot;:&amp;#39;&amp;quot;&amp;#39;,!(he?re:ae))return Ee+M+Ee;for(x=M,M=Ee,k=0,L=x.length;k&amp;lt;L;++k)V=x.charCodeAt(k),(V===39&amp;amp;&amp;amp;he||V===34&amp;amp;&amp;amp;!he)&amp;amp;&amp;amp;(M+=&amp;quot;\\&amp;quot;),M+=String.fromCharCode(V);return M+Ee}function Te(x){var M,k,L,V=&amp;quot;&amp;quot;;for(M=0,k=x.length;M&amp;lt;k;++M)L=x[M],V+=Array.isArray(L)?Te(L):L;return V}function xe(x,M){if(!b)return Array.isArray(x)?Te(x):x;if(M==null){if(x instanceof n)return x;M={}}return M.loc==null?new n(null,null,b,x,M.name||null):new n(M.loc.start.line,M.loc.start.column,b===!0?M.loc.source||null:b,x,M.name||null)}function Ie(){return m||&amp;quot; &amp;quot;}function Ce(x,M){var k,L,V,re;return k=xe(x).toString(),k.length===0?[M]:(L=xe(M).toString(),L.length===0?[x]:(V=k.charCodeAt(k.length-1),re=L.charCodeAt(0),(V===43||V===45)&amp;amp;&amp;amp;V===re||a.code.isIdentifierPartES5(V)&amp;amp;&amp;amp;a.code.isIdentifierPartES5(re)||V===47&amp;amp;&amp;amp;re===105?[x,Ie(),M]:a.code.isWhiteSpace(V)||a.code.isLineTerminator(V)||a.code.isWhiteSpace(re)||a.code.isLineTerminator(re)?[x,M]:[x,m,M]))}function Ge(x){return[o,x]}function Me(x){var M;M=o,o+=u,x(o),o=M}function nt(x){var M;for(M=x.length-1;M&amp;gt;=0&amp;amp;&amp;amp;!a.code.isLineTerminator(x.charCodeAt(M));--M);return x.length-1-M}function Gt(x,M){var k,L,V,re,ae,he,Ee,qe;for(k=x.split(/\r\n|[\r\n]/),he=Number.MAX_VALUE,L=1,V=k.length;L&amp;lt;V;++L){for(re=k[L],ae=0;ae&amp;lt;re.length&amp;amp;&amp;amp;a.code.isWhiteSpace(re.charCodeAt(ae));)++ae;he&amp;gt;ae&amp;amp;&amp;amp;(he=ae)}for(typeof M&amp;lt;&amp;quot;u&amp;quot;?(Ee=o,k[1][he]===&amp;quot;*&amp;quot;&amp;amp;&amp;amp;(M+=&amp;quot; &amp;quot;),o=M):(he&amp;amp;1&amp;amp;&amp;amp;--he,Ee=o),L=1,V=k.length;L&amp;lt;V;++L)qe=xe(Ge(k[L].slice(he))),k[L]=b?qe.join(&amp;quot;&amp;quot;):qe;return o=Ee,k.join(`
<a href="#l310" class="line" id="l310">    310</a> &lt;a href=&quot;#l291&quot; class=&quot;line&quot; id=&quot;l291&quot;&gt;    291&lt;/a&gt; `)}function ft(x,M){if(x.type===&amp;quot;Line&amp;quot;){if(ue(x.value))return&amp;quot;//&amp;quot;+x.value;var k=&amp;quot;//&amp;quot;+x.value;return E||(k+=`
<a href="#l311" class="line" id="l311">    311</a> &lt;a href=&quot;#l292&quot; class=&quot;line&quot; id=&quot;l292&quot;&gt;    292&lt;/a&gt; `),k}return S.format.indent.adjustMultilineComment&amp;amp;&amp;amp;/[\n\r]/.test(x.value)?Gt(&amp;quot;/*&amp;quot;+x.value+&amp;quot;*/&amp;quot;,M):&amp;quot;/*&amp;quot;+x.value+&amp;quot;*/&amp;quot;}function Ri(x,M){var k,L,V,re,ae,he,Ee,qe,_t,un,Xn,Jp,Qp,Zr;if(x.leadingComments&amp;amp;&amp;amp;x.leadingComments.length&amp;gt;0){if(re=M,E){for(V=x.leadingComments[0],M=[],qe=V.extendedRange,_t=V.range,Xn=I.substring(qe[0],_t[0]),Zr=(Xn.match(/\n/g)||[]).length,Zr&amp;gt;0?(M.push(se(`
<a href="#l312" class="line" id="l312">    312</a> &lt;a href=&quot;#l293&quot; class=&quot;line&quot; id=&quot;l293&quot;&gt;    293&lt;/a&gt; `,Zr)),M.push(Ge(ft(V)))):(M.push(Xn),M.push(ft(V))),un=_t,k=1,L=x.leadingComments.length;k&amp;lt;L;k++)V=x.leadingComments[k],_t=V.range,Jp=I.substring(un[1],_t[0]),Zr=(Jp.match(/\n/g)||[]).length,M.push(se(`
<a href="#l313" class="line" id="l313">    313</a> &lt;a href=&quot;#l294&quot; class=&quot;line&quot; id=&quot;l294&quot;&gt;    294&lt;/a&gt; `,Zr)),M.push(Ge(ft(V))),un=_t;Qp=I.substring(_t[1],qe[1]),Zr=(Qp.match(/\n/g)||[]).length,M.push(se(`
<a href="#l314" class="line" id="l314">    314</a> &lt;a href=&quot;#l295&quot; class=&quot;line&quot; id=&quot;l295&quot;&gt;    295&lt;/a&gt; `,Zr))}else for(V=x.leadingComments[0],M=[],w&amp;amp;&amp;amp;x.type===i.Program&amp;amp;&amp;amp;x.body.length===0&amp;amp;&amp;amp;M.push(`
<a href="#l315" class="line" id="l315">    315</a> &lt;a href=&quot;#l296&quot; class=&quot;line&quot; id=&quot;l296&quot;&gt;    296&lt;/a&gt; `),M.push(ft(V)),ue(xe(M).toString())||M.push(`
<a href="#l316" class="line" id="l316">    316</a> &lt;a href=&quot;#l297&quot; class=&quot;line&quot; id=&quot;l297&quot;&gt;    297&lt;/a&gt; `),k=1,L=x.leadingComments.length;k&amp;lt;L;++k)V=x.leadingComments[k],Ee=[ft(V)],ue(xe(Ee).toString())||Ee.push(`
<a href="#l317" class="line" id="l317">    317</a> &lt;a href=&quot;#l298&quot; class=&quot;line&quot; id=&quot;l298&quot;&gt;    298&lt;/a&gt; `),M.push(Ge(Ee));M.push(Ge(re))}if(x.trailingComments)if(E)V=x.trailingComments[0],qe=V.extendedRange,_t=V.range,Xn=I.substring(qe[0],_t[0]),Zr=(Xn.match(/\n/g)||[]).length,Zr&amp;gt;0?(M.push(se(`
<a href="#l318" class="line" id="l318">    318</a> &lt;a href=&quot;#l299&quot; class=&quot;line&quot; id=&quot;l299&quot;&gt;    299&lt;/a&gt; `,Zr)),M.push(Ge(ft(V)))):(M.push(Xn),M.push(ft(V)));else for(ae=!ue(xe(M).toString()),he=se(&amp;quot; &amp;quot;,nt(xe([o,M,u]).toString())),k=0,L=x.trailingComments.length;k&amp;lt;L;++k)V=x.trailingComments[k],ae?(k===0?M=[M,u]:M=[M,he],M.push(ft(V,he))):M=[M,Ge(ft(V))],k!==L-1&amp;amp;&amp;amp;!ue(xe(M).toString())&amp;amp;&amp;amp;(M=[M,`
<a href="#l319" class="line" id="l319">    319</a> &lt;a href=&quot;#l300&quot; class=&quot;line&quot; id=&quot;l300&quot;&gt;    300&lt;/a&gt; `]);return M}function Bi(x,M,k){var L,V=0;for(L=x;L&amp;lt;M;L++)I[L]===`
<a href="#l320" class="line" id="l320">    320</a> &lt;a href=&quot;#l301&quot; class=&quot;line&quot; id=&quot;l301&quot;&gt;    301&lt;/a&gt; `&amp;amp;&amp;amp;V++;for(L=1;L&amp;lt;V;L++)k.push(d)}function bt(x,M,k){return M&amp;lt;k?[&amp;quot;(&amp;quot;,x,&amp;quot;)&amp;quot;]:x}function Xp(x){var M,k,L;for(L=x.split(/\r\n|\n/),M=1,k=L.length;M&amp;lt;k;M++)L[M]=d+o+L[M];return L}function $y(x,M){var k,L,V;return k=x[S.verbatim],typeof k==&amp;quot;string&amp;quot;?L=bt(Xp(k),t.Sequence,M):(L=Xp(k.content),V=k.precedence!=null?k.precedence:t.Sequence,L=bt(L,V,M)),xe(L,x)}function yt(){}yt.prototype.maybeBlock=function(x,M){var k,L,V=this;return L=!S.comment||!x.leadingComments,x.type===i.BlockStatement&amp;amp;&amp;amp;L?[m,this.generateStatement(x,M)]:x.type===i.EmptyStatement&amp;amp;&amp;amp;L?&amp;quot;;&amp;quot;:(Me(function(){k=[d,Ge(V.generateStatement(x,M))]}),k)},yt.prototype.maybeBlockSuffix=function(x,M){var k=ue(xe(M).toString());return x.type===i.BlockStatement&amp;amp;&amp;amp;(!S.comment||!x.leadingComments)&amp;amp;&amp;amp;!k?[M,m]:k?[M,o]:[M,d,o]};function tr(x){return xe(x.name,x)}function pa(x,M){return x.async?&amp;quot;async&amp;quot;+(M?Ie():m):&amp;quot;&amp;quot;}function Zo(x){var M=x.generator&amp;amp;&amp;amp;!S.moz.starlessGenerator;return M?&amp;quot;*&amp;quot;+m:&amp;quot;&amp;quot;}function Kp(x){var M=x.value,k=&amp;quot;&amp;quot;;return M.async&amp;amp;&amp;amp;(k+=pa(M,!x.computed)),M.generator&amp;amp;&amp;amp;(k+=Zo(M)?&amp;quot;*&amp;quot;:&amp;quot;&amp;quot;),k}yt.prototype.generatePattern=function(x,M,k){return x.type===i.Identifier?tr(x):this.generateExpression(x,M,k)},yt.prototype.generateFunctionParams=function(x){var M,k,L,V;if(V=!1,x.type===i.ArrowFunctionExpression&amp;amp;&amp;amp;!x.rest&amp;amp;&amp;amp;(!x.defaults||x.defaults.length===0)&amp;amp;&amp;amp;x.params.length===1&amp;amp;&amp;amp;x.params[0].type===i.Identifier)L=[pa(x,!0),tr(x.params[0])];else{for(L=x.type===i.ArrowFunctionExpression?[pa(x,!1)]:[],L.push(&amp;quot;(&amp;quot;),x.defaults&amp;amp;&amp;amp;(V=!0),M=0,k=x.params.length;M&amp;lt;k;++M)V&amp;amp;&amp;amp;x.defaults[M]?L.push(this.generateAssignment(x.params[M],x.defaults[M],&amp;quot;=&amp;quot;,t.Assignment,G)):L.push(this.generatePattern(x.params[M],t.Assignment,G)),M+1&amp;lt;k&amp;amp;&amp;amp;L.push(&amp;quot;,&amp;quot;+m);x.rest&amp;amp;&amp;amp;(x.params.length&amp;amp;&amp;amp;L.push(&amp;quot;,&amp;quot;+m),L.push(&amp;quot;...&amp;quot;),L.push(tr(x.rest))),L.push(&amp;quot;)&amp;quot;)}return L},yt.prototype.generateFunctionBody=function(x){var M,k;return M=this.generateFunctionParams(x),x.type===i.ArrowFunctionExpression&amp;amp;&amp;amp;(M.push(m),M.push(&amp;quot;=&amp;gt;&amp;quot;)),x.expression?(M.push(m),k=this.generateExpression(x.body,t.Assignment,G),k.toString().charAt(0)===&amp;quot;{&amp;quot;&amp;amp;&amp;amp;(k=[&amp;quot;(&amp;quot;,k,&amp;quot;)&amp;quot;]),M.push(k)):M.push(this.maybeBlock(x.body,ie)),M},yt.prototype.generateIterationForStatement=function(x,M,k){var L=[&amp;quot;for&amp;quot;+(M.await?Ie()+&amp;quot;await&amp;quot;:&amp;quot;&amp;quot;)+m+&amp;quot;(&amp;quot;],V=this;return Me(function(){M.left.type===i.VariableDeclaration?Me(function(){L.push(M.left.kind+Ie()),L.push(V.generateStatement(M.left.declarations[0],de))}):L.push(V.generateExpression(M.left,t.Call,G)),L=Ce(L,x),L=[Ce(L,V.generateExpression(M.right,t.Assignment,G)),&amp;quot;)&amp;quot;]}),L.push(this.maybeBlock(M.body,k)),L},yt.prototype.generatePropertyKey=function(x,M){var k=[];return M&amp;amp;&amp;amp;k.push(&amp;quot;[&amp;quot;),k.push(this.generateExpression(x,t.Assignment,G)),M&amp;amp;&amp;amp;k.push(&amp;quot;]&amp;quot;),k},yt.prototype.generateAssignment=function(x,M,k,L,V){return t.Assignment&amp;lt;L&amp;amp;&amp;amp;(V|=F),bt([this.generateExpression(x,t.Call,V),m+k+m,this.generateExpression(M,t.Assignment,V)],t.Assignment,L)},yt.prototype.semicolon=function(x){return!v&amp;amp;&amp;amp;x&amp;amp;W?&amp;quot;&amp;quot;:&amp;quot;;&amp;quot;},yt.Statement={BlockStatement:function(x,M){var k,L,V=[&amp;quot;{&amp;quot;,d],re=this;return Me(function(){x.body.length===0&amp;amp;&amp;amp;E&amp;amp;&amp;amp;(k=x.range,k[1]-k[0]&amp;gt;2&amp;amp;&amp;amp;(L=I.substring(k[0]+1,k[1]-1),L[0]===`
<a href="#l321" class="line" id="l321">    321</a> &lt;a href=&quot;#l302&quot; class=&quot;line&quot; id=&quot;l302&quot;&gt;    302&lt;/a&gt; `&amp;amp;&amp;amp;(V=[&amp;quot;{&amp;quot;]),V.push(L)));var ae,he,Ee,qe;for(qe=Q,M&amp;amp;U&amp;amp;&amp;amp;(qe|=j),ae=0,he=x.body.length;ae&amp;lt;he;++ae)E&amp;amp;&amp;amp;(ae===0&amp;amp;&amp;amp;(x.body[0].leadingComments&amp;amp;&amp;amp;(k=x.body[0].leadingComments[0].extendedRange,L=I.substring(k[0],k[1]),L[0]===`
<a href="#l322" class="line" id="l322">    322</a> &lt;a href=&quot;#l303&quot; class=&quot;line&quot; id=&quot;l303&quot;&gt;    303&lt;/a&gt; `&amp;amp;&amp;amp;(V=[&amp;quot;{&amp;quot;])),x.body[0].leadingComments||Bi(x.range[0],x.body[0].range[0],V)),ae&amp;gt;0&amp;amp;&amp;amp;!x.body[ae-1].trailingComments&amp;amp;&amp;amp;!x.body[ae].leadingComments&amp;amp;&amp;amp;Bi(x.body[ae-1].range[1],x.body[ae].range[0],V)),ae===he-1&amp;amp;&amp;amp;(qe|=W),x.body[ae].leadingComments&amp;amp;&amp;amp;E?Ee=re.generateStatement(x.body[ae],qe):Ee=Ge(re.generateStatement(x.body[ae],qe)),V.push(Ee),ue(xe(Ee).toString())||E&amp;amp;&amp;amp;ae&amp;lt;he-1&amp;amp;&amp;amp;x.body[ae+1].leadingComments||V.push(d),E&amp;amp;&amp;amp;ae===he-1&amp;amp;&amp;amp;(x.body[ae].trailingComments||Bi(x.body[ae].range[1],x.range[1],V))}),V.push(Ge(&amp;quot;}&amp;quot;)),V},BreakStatement:function(x,M){return x.label?&amp;quot;break &amp;quot;+x.label.name+this.semicolon(M):&amp;quot;break&amp;quot;+this.semicolon(M)},ContinueStatement:function(x,M){return x.label?&amp;quot;continue &amp;quot;+x.label.name+this.semicolon(M):&amp;quot;continue&amp;quot;+this.semicolon(M)},ClassBody:function(x,M){var k=[&amp;quot;{&amp;quot;,d],L=this;return Me(function(V){var re,ae;for(re=0,ae=x.body.length;re&amp;lt;ae;++re)k.push(V),k.push(L.generateExpression(x.body[re],t.Sequence,G)),re+1&amp;lt;ae&amp;amp;&amp;amp;k.push(d)}),ue(xe(k).toString())||k.push(d),k.push(o),k.push(&amp;quot;}&amp;quot;),k},ClassDeclaration:function(x,M){var k,L;return k=[&amp;quot;class&amp;quot;],x.id&amp;amp;&amp;amp;(k=Ce(k,this.generateExpression(x.id,t.Sequence,G))),x.superClass&amp;amp;&amp;amp;(L=Ce(&amp;quot;extends&amp;quot;,this.generateExpression(x.superClass,t.Unary,G)),k=Ce(k,L)),k.push(m),k.push(this.generateStatement(x.body,fe)),k},DirectiveStatement:function(x,M){return S.raw&amp;amp;&amp;amp;x.raw?x.raw+this.semicolon(M):ve(x.directive)+this.semicolon(M)},DoWhileStatement:function(x,M){var k=Ce(&amp;quot;do&amp;quot;,this.maybeBlock(x.body,Q));return k=this.maybeBlockSuffix(x.body,k),Ce(k,[&amp;quot;while&amp;quot;+m+&amp;quot;(&amp;quot;,this.generateExpression(x.test,t.Sequence,G),&amp;quot;)&amp;quot;+this.semicolon(M)])},CatchClause:function(x,M){var k,L=this;return Me(function(){var V;x.param?(k=[&amp;quot;catch&amp;quot;+m+&amp;quot;(&amp;quot;,L.generateExpression(x.param,t.Sequence,G),&amp;quot;)&amp;quot;],x.guard&amp;amp;&amp;amp;(V=L.generateExpression(x.guard,t.Sequence,G),k.splice(2,0,&amp;quot; if &amp;quot;,V))):k=[&amp;quot;catch&amp;quot;]}),k.push(this.maybeBlock(x.body,Q)),k},DebuggerStatement:function(x,M){return&amp;quot;debugger&amp;quot;+this.semicolon(M)},EmptyStatement:function(x,M){return&amp;quot;;&amp;quot;},ExportDefaultDeclaration:function(x,M){var k=[&amp;quot;export&amp;quot;],L;return L=M&amp;amp;W?fe:Q,k=Ce(k,&amp;quot;default&amp;quot;),D(x.declaration)?k=Ce(k,this.generateStatement(x.declaration,L)):k=Ce(k,this.generateExpression(x.declaration,t.Assignment,G)+this.semicolon(M)),k},ExportNamedDeclaration:function(x,M){var k=[&amp;quot;export&amp;quot;],L,V=this;return L=M&amp;amp;W?fe:Q,x.declaration?Ce(k,this.generateStatement(x.declaration,L)):(x.specifiers&amp;amp;&amp;amp;(x.specifiers.length===0?k=Ce(k,&amp;quot;{&amp;quot;+m+&amp;quot;}&amp;quot;):x.specifiers[0].type===i.ExportBatchSpecifier?k=Ce(k,this.generateExpression(x.specifiers[0],t.Sequence,G)):(k=Ce(k,&amp;quot;{&amp;quot;),Me(function(re){var ae,he;for(k.push(d),ae=0,he=x.specifiers.length;ae&amp;lt;he;++ae)k.push(re),k.push(V.generateExpression(x.specifiers[ae],t.Sequence,G)),ae+1&amp;lt;he&amp;amp;&amp;amp;k.push(&amp;quot;,&amp;quot;+d)}),ue(xe(k).toString())||k.push(d),k.push(o+&amp;quot;}&amp;quot;)),x.source?k=Ce(k,[&amp;quot;from&amp;quot;+m,this.generateExpression(x.source,t.Sequence,G),this.semicolon(M)]):k.push(this.semicolon(M))),k)},ExportAllDeclaration:function(x,M){return[&amp;quot;export&amp;quot;+m,&amp;quot;*&amp;quot;+m,&amp;quot;from&amp;quot;+m,this.generateExpression(x.source,t.Sequence,G),this.semicolon(M)]},ExpressionStatement:function(x,M){var k,L;function V(he){var Ee;return he.slice(0,5)!==&amp;quot;class&amp;quot;?!1:(Ee=he.charCodeAt(5),Ee===123||a.code.isWhiteSpace(Ee)||a.code.isLineTerminator(Ee))}function re(he){var Ee;return he.slice(0,8)!==&amp;quot;function&amp;quot;?!1:(Ee=he.charCodeAt(8),Ee===40||a.code.isWhiteSpace(Ee)||Ee===42||a.code.isLineTerminator(Ee))}function ae(he){var Ee,qe,_t;if(he.slice(0,5)!==&amp;quot;async&amp;quot;||!a.code.isWhiteSpace(he.charCodeAt(5)))return!1;for(qe=6,_t=he.length;qe&amp;lt;_t&amp;amp;&amp;amp;a.code.isWhiteSpace(he.charCodeAt(qe));++qe);return qe===_t||he.slice(qe,qe+8)!==&amp;quot;function&amp;quot;?!1:(Ee=he.charCodeAt(qe+8),Ee===40||a.code.isWhiteSpace(Ee)||Ee===42||a.code.isLineTerminator(Ee))}return k=[this.generateExpression(x.expression,t.Sequence,G)],L=xe(k).toString(),L.charCodeAt(0)===123||V(L)||re(L)||ae(L)||y&amp;amp;&amp;amp;M&amp;amp;j&amp;amp;&amp;amp;x.expression.type===i.Literal&amp;amp;&amp;amp;typeof x.expression.value==&amp;quot;string&amp;quot;?k=[&amp;quot;(&amp;quot;,k,&amp;quot;)&amp;quot;+this.semicolon(M)]:k.push(this.semicolon(M)),k},ImportDeclaration:function(x,M){var k,L,V=this;return x.specifiers.length===0?[&amp;quot;import&amp;quot;,m,this.generateExpression(x.source,t.Sequence,G),this.semicolon(M)]:(k=[&amp;quot;import&amp;quot;],L=0,x.specifiers[L].type===i.ImportDefaultSpecifier&amp;amp;&amp;amp;(k=Ce(k,[this.generateExpression(x.specifiers[L],t.Sequence,G)]),++L),x.specifiers[L]&amp;amp;&amp;amp;(L!==0&amp;amp;&amp;amp;k.push(&amp;quot;,&amp;quot;),x.specifiers[L].type===i.ImportNamespaceSpecifier?k=Ce(k,[m,this.generateExpression(x.specifiers[L],t.Sequence,G)]):(k.push(m+&amp;quot;{&amp;quot;),x.specifiers.length-L===1?(k.push(m),k.push(this.generateExpression(x.specifiers[L],t.Sequence,G)),k.push(m+&amp;quot;}&amp;quot;+m)):(Me(function(re){var ae,he;for(k.push(d),ae=L,he=x.specifiers.length;ae&amp;lt;he;++ae)k.push(re),k.push(V.generateExpression(x.specifiers[ae],t.Sequence,G)),ae+1&amp;lt;he&amp;amp;&amp;amp;k.push(&amp;quot;,&amp;quot;+d)}),ue(xe(k).toString())||k.push(d),k.push(o+&amp;quot;}&amp;quot;+m)))),k=Ce(k,[&amp;quot;from&amp;quot;+m,this.generateExpression(x.source,t.Sequence,G),this.semicolon(M)]),k)},VariableDeclarator:function(x,M){var k=M&amp;amp;F?G:X;return x.init?[this.generateExpression(x.id,t.Assignment,k),m,&amp;quot;=&amp;quot;,m,this.generateExpression(x.init,t.Assignment,k)]:this.generatePattern(x.id,t.Assignment,k)},VariableDeclaration:function(x,M){var k,L,V,re,ae,he=this;k=[x.kind],ae=M&amp;amp;F?Q:de;function Ee(){for(re=x.declarations[0],S.comment&amp;amp;&amp;amp;re.leadingComments?(k.push(`
<a href="#l323" class="line" id="l323">    323</a> &lt;a href=&quot;#l304&quot; class=&quot;line&quot; id=&quot;l304&quot;&gt;    304&lt;/a&gt; `),k.push(Ge(he.generateStatement(re,ae)))):(k.push(Ie()),k.push(he.generateStatement(re,ae))),L=1,V=x.declarations.length;L&amp;lt;V;++L)re=x.declarations[L],S.comment&amp;amp;&amp;amp;re.leadingComments?(k.push(&amp;quot;,&amp;quot;+d),k.push(Ge(he.generateStatement(re,ae)))):(k.push(&amp;quot;,&amp;quot;+m),k.push(he.generateStatement(re,ae)))}return x.declarations.length&amp;gt;1?Me(Ee):Ee(),k.push(this.semicolon(M)),k},ThrowStatement:function(x,M){return[Ce(&amp;quot;throw&amp;quot;,this.generateExpression(x.argument,t.Sequence,G)),this.semicolon(M)]},TryStatement:function(x,M){var k,L,V,re;if(k=[&amp;quot;try&amp;quot;,this.maybeBlock(x.block,Q)],k=this.maybeBlockSuffix(x.block,k),x.handlers)for(L=0,V=x.handlers.length;L&amp;lt;V;++L)k=Ce(k,this.generateStatement(x.handlers[L],Q)),(x.finalizer||L+1!==V)&amp;amp;&amp;amp;(k=this.maybeBlockSuffix(x.handlers[L].body,k));else{for(re=x.guardedHandlers||[],L=0,V=re.length;L&amp;lt;V;++L)k=Ce(k,this.generateStatement(re[L],Q)),(x.finalizer||L+1!==V)&amp;amp;&amp;amp;(k=this.maybeBlockSuffix(re[L].body,k));if(x.handler)if(Array.isArray(x.handler))for(L=0,V=x.handler.length;L&amp;lt;V;++L)k=Ce(k,this.generateStatement(x.handler[L],Q)),(x.finalizer||L+1!==V)&amp;amp;&amp;amp;(k=this.maybeBlockSuffix(x.handler[L].body,k));else k=Ce(k,this.generateStatement(x.handler,Q)),x.finalizer&amp;amp;&amp;amp;(k=this.maybeBlockSuffix(x.handler.body,k))}return x.finalizer&amp;amp;&amp;amp;(k=Ce(k,[&amp;quot;finally&amp;quot;,this.maybeBlock(x.finalizer,Q)])),k},SwitchStatement:function(x,M){var k,L,V,re,ae,he=this;if(Me(function(){k=[&amp;quot;switch&amp;quot;+m+&amp;quot;(&amp;quot;,he.generateExpression(x.discriminant,t.Sequence,G),&amp;quot;)&amp;quot;+m+&amp;quot;{&amp;quot;+d]}),x.cases)for(ae=Q,V=0,re=x.cases.length;V&amp;lt;re;++V)V===re-1&amp;amp;&amp;amp;(ae|=W),L=Ge(this.generateStatement(x.cases[V],ae)),k.push(L),ue(xe(L).toString())||k.push(d);return k.push(Ge(&amp;quot;}&amp;quot;)),k},SwitchCase:function(x,M){var k,L,V,re,ae,he=this;return Me(function(){for(x.test?k=[Ce(&amp;quot;case&amp;quot;,he.generateExpression(x.test,t.Sequence,G)),&amp;quot;:&amp;quot;]:k=[&amp;quot;default:&amp;quot;],V=0,re=x.consequent.length,re&amp;amp;&amp;amp;x.consequent[0].type===i.BlockStatement&amp;amp;&amp;amp;(L=he.maybeBlock(x.consequent[0],Q),k.push(L),V=1),V!==re&amp;amp;&amp;amp;!ue(xe(k).toString())&amp;amp;&amp;amp;k.push(d),ae=Q;V&amp;lt;re;++V)V===re-1&amp;amp;&amp;amp;M&amp;amp;W&amp;amp;&amp;amp;(ae|=W),L=Ge(he.generateStatement(x.consequent[V],ae)),k.push(L),V+1!==re&amp;amp;&amp;amp;!ue(xe(L).toString())&amp;amp;&amp;amp;k.push(d)}),k},IfStatement:function(x,M){var k,L,V,re=this;return Me(function(){k=[&amp;quot;if&amp;quot;+m+&amp;quot;(&amp;quot;,re.generateExpression(x.test,t.Sequence,G),&amp;quot;)&amp;quot;]}),V=M&amp;amp;W,L=Q,V&amp;amp;&amp;amp;(L|=W),x.alternate?(k.push(this.maybeBlock(x.consequent,Q)),k=this.maybeBlockSuffix(x.consequent,k),x.alternate.type===i.IfStatement?k=Ce(k,[&amp;quot;else &amp;quot;,this.generateStatement(x.alternate,L)]):k=Ce(k,Ce(&amp;quot;else&amp;quot;,this.maybeBlock(x.alternate,L)))):k.push(this.maybeBlock(x.consequent,L)),k},ForStatement:function(x,M){var k,L=this;return Me(function(){k=[&amp;quot;for&amp;quot;+m+&amp;quot;(&amp;quot;],x.init?x.init.type===i.VariableDeclaration?k.push(L.generateStatement(x.init,de)):(k.push(L.generateExpression(x.init,t.Sequence,X)),k.push(&amp;quot;;&amp;quot;)):k.push(&amp;quot;;&amp;quot;),x.test&amp;amp;&amp;amp;(k.push(m),k.push(L.generateExpression(x.test,t.Sequence,G))),k.push(&amp;quot;;&amp;quot;),x.update&amp;amp;&amp;amp;(k.push(m),k.push(L.generateExpression(x.update,t.Sequence,G))),k.push(&amp;quot;)&amp;quot;)}),k.push(this.maybeBlock(x.body,M&amp;amp;W?fe:Q)),k},ForInStatement:function(x,M){return this.generateIterationForStatement(&amp;quot;in&amp;quot;,x,M&amp;amp;W?fe:Q)},ForOfStatement:function(x,M){return this.generateIterationForStatement(&amp;quot;of&amp;quot;,x,M&amp;amp;W?fe:Q)},LabeledStatement:function(x,M){return[x.label.name+&amp;quot;:&amp;quot;,this.maybeBlock(x.body,M&amp;amp;W?fe:Q)]},Program:function(x,M){var k,L,V,re,ae;for(re=x.body.length,k=[w&amp;amp;&amp;amp;re&amp;gt;0?`
<a href="#l324" class="line" id="l324">    324</a> &lt;a href=&quot;#l305&quot; class=&quot;line&quot; id=&quot;l305&quot;&gt;    305&lt;/a&gt; `:&amp;quot;&amp;quot;],ae=me,V=0;V&amp;lt;re;++V)!w&amp;amp;&amp;amp;V===re-1&amp;amp;&amp;amp;(ae|=W),E&amp;amp;&amp;amp;(V===0&amp;amp;&amp;amp;(x.body[0].leadingComments||Bi(x.range[0],x.body[V].range[0],k)),V&amp;gt;0&amp;amp;&amp;amp;!x.body[V-1].trailingComments&amp;amp;&amp;amp;!x.body[V].leadingComments&amp;amp;&amp;amp;Bi(x.body[V-1].range[1],x.body[V].range[0],k)),L=Ge(this.generateStatement(x.body[V],ae)),k.push(L),V+1&amp;lt;re&amp;amp;&amp;amp;!ue(xe(L).toString())&amp;amp;&amp;amp;(E&amp;amp;&amp;amp;x.body[V+1].leadingComments||k.push(d)),E&amp;amp;&amp;amp;V===re-1&amp;amp;&amp;amp;(x.body[V].trailingComments||Bi(x.body[V].range[1],x.range[1],k));return k},FunctionDeclaration:function(x,M){return[pa(x,!0),&amp;quot;function&amp;quot;,Zo(x)||Ie(),x.id?tr(x.id):&amp;quot;&amp;quot;,this.generateFunctionBody(x)]},ReturnStatement:function(x,M){return x.argument?[Ce(&amp;quot;return&amp;quot;,this.generateExpression(x.argument,t.Sequence,G)),this.semicolon(M)]:[&amp;quot;return&amp;quot;+this.semicolon(M)]},WhileStatement:function(x,M){var k,L=this;return Me(function(){k=[&amp;quot;while&amp;quot;+m+&amp;quot;(&amp;quot;,L.generateExpression(x.test,t.Sequence,G),&amp;quot;)&amp;quot;]}),k.push(this.maybeBlock(x.body,M&amp;amp;W?fe:Q)),k},WithStatement:function(x,M){var k,L=this;return Me(function(){k=[&amp;quot;with&amp;quot;+m+&amp;quot;(&amp;quot;,L.generateExpression(x.object,t.Sequence,G),&amp;quot;)&amp;quot;]}),k.push(this.maybeBlock(x.body,M&amp;amp;W?fe:Q)),k}},pe(yt.prototype,yt.Statement),yt.Expression={SequenceExpression:function(x,M,k){var L,V,re;for(t.Sequence&amp;lt;M&amp;amp;&amp;amp;(k|=F),L=[],V=0,re=x.expressions.length;V&amp;lt;re;++V)L.push(this.generateExpression(x.expressions[V],t.Assignment,k)),V+1&amp;lt;re&amp;amp;&amp;amp;L.push(&amp;quot;,&amp;quot;+m);return bt(L,t.Sequence,M)},AssignmentExpression:function(x,M,k){return this.generateAssignment(x.left,x.right,x.operator,M,k)},ArrowFunctionExpression:function(x,M,k){return bt(this.generateFunctionBody(x),t.ArrowFunction,M)},ConditionalExpression:function(x,M,k){return t.Conditional&amp;lt;M&amp;amp;&amp;amp;(k|=F),bt([this.generateExpression(x.test,t.Coalesce,k),m+&amp;quot;?&amp;quot;+m,this.generateExpression(x.consequent,t.Assignment,k),m+&amp;quot;:&amp;quot;+m,this.generateExpression(x.alternate,t.Assignment,k)],t.Conditional,M)},LogicalExpression:function(x,M,k){return x.operator===&amp;quot;??&amp;quot;&amp;amp;&amp;amp;(k|=te),this.BinaryExpression(x,M,k)},BinaryExpression:function(x,M,k){var L,V,re,ae,he,Ee;return ae=r[x.operator],V=x.operator===&amp;quot;**&amp;quot;?t.Postfix:ae,re=x.operator===&amp;quot;**&amp;quot;?ae:ae+1,ae&amp;lt;M&amp;amp;&amp;amp;(k|=F),he=this.generateExpression(x.left,V,k),Ee=he.toString(),Ee.charCodeAt(Ee.length-1)===47&amp;amp;&amp;amp;a.code.isIdentifierPartES5(x.operator.charCodeAt(0))?L=[he,Ie(),x.operator]:L=Ce(he,x.operator),he=this.generateExpression(x.right,re,k),x.operator===&amp;quot;/&amp;quot;&amp;amp;&amp;amp;he.toString().charAt(0)===&amp;quot;/&amp;quot;||x.operator.slice(-1)===&amp;quot;&amp;lt;&amp;quot;&amp;amp;&amp;amp;he.toString().slice(0,3)===&amp;quot;!--&amp;quot;?(L.push(Ie()),L.push(he)):L=Ce(L,he),x.operator===&amp;quot;in&amp;quot;&amp;amp;&amp;amp;!(k&amp;amp;F)?[&amp;quot;(&amp;quot;,L,&amp;quot;)&amp;quot;]:(x.operator===&amp;quot;||&amp;quot;||x.operator===&amp;quot;&amp;amp;&amp;amp;&amp;quot;)&amp;amp;&amp;amp;k&amp;amp;te?[&amp;quot;(&amp;quot;,L,&amp;quot;)&amp;quot;]:bt(L,ae,M)},CallExpression:function(x,M,k){var L,V,re;for(L=[this.generateExpression(x.callee,t.Call,Z)],x.optional&amp;amp;&amp;amp;L.push(&amp;quot;?.&amp;quot;),L.push(&amp;quot;(&amp;quot;),V=0,re=x.arguments.length;V&amp;lt;re;++V)L.push(this.generateExpression(x.arguments[V],t.Assignment,G)),V+1&amp;lt;re&amp;amp;&amp;amp;L.push(&amp;quot;,&amp;quot;+m);return L.push(&amp;quot;)&amp;quot;),k&amp;amp;N?bt(L,t.Call,M):[&amp;quot;(&amp;quot;,L,&amp;quot;)&amp;quot;]},ChainExpression:function(x,M,k){t.OptionalChaining&amp;lt;M&amp;amp;&amp;amp;(k|=N);var L=this.generateExpression(x.expression,t.OptionalChaining,k);return bt(L,t.OptionalChaining,M)},NewExpression:function(x,M,k){var L,V,re,ae,he;if(V=x.arguments.length,he=k&amp;amp;B&amp;amp;&amp;amp;!g&amp;amp;&amp;amp;V===0?Y:q,L=Ce(&amp;quot;new&amp;quot;,this.generateExpression(x.callee,t.New,he)),!(k&amp;amp;B)||g||V&amp;gt;0){for(L.push(&amp;quot;(&amp;quot;),re=0,ae=V;re&amp;lt;ae;++re)L.push(this.generateExpression(x.arguments[re],t.Assignment,G)),re+1&amp;lt;ae&amp;amp;&amp;amp;L.push(&amp;quot;,&amp;quot;+m);L.push(&amp;quot;)&amp;quot;)}return bt(L,t.New,M)},MemberExpression:function(x,M,k){var L,V;return L=[this.generateExpression(x.object,t.Call,k&amp;amp;N?Z:q)],x.computed?(x.optional&amp;amp;&amp;amp;L.push(&amp;quot;?.&amp;quot;),L.push(&amp;quot;[&amp;quot;),L.push(this.generateExpression(x.property,t.Sequence,k&amp;amp;N?G:Y)),L.push(&amp;quot;]&amp;quot;)):(!x.optional&amp;amp;&amp;amp;x.object.type===i.Literal&amp;amp;&amp;amp;typeof x.object.value==&amp;quot;number&amp;quot;&amp;amp;&amp;amp;(V=xe(L).toString(),V.indexOf(&amp;quot;.&amp;quot;)&amp;lt;0&amp;amp;&amp;amp;!/[eExX]/.test(V)&amp;amp;&amp;amp;a.code.isDecimalDigit(V.charCodeAt(V.length-1))&amp;amp;&amp;amp;!(V.length&amp;gt;=2&amp;amp;&amp;amp;V.charCodeAt(0)===48)&amp;amp;&amp;amp;L.push(&amp;quot; &amp;quot;)),L.push(x.optional?&amp;quot;?.&amp;quot;:&amp;quot;.&amp;quot;),L.push(tr(x.property))),bt(L,t.Member,M)},MetaProperty:function(x,M,k){var L;return L=[],L.push(typeof x.meta==&amp;quot;string&amp;quot;?x.meta:tr(x.meta)),L.push(&amp;quot;.&amp;quot;),L.push(typeof x.property==&amp;quot;string&amp;quot;?x.property:tr(x.property)),bt(L,t.Member,M)},UnaryExpression:function(x,M,k){var L,V,re,ae,he;return V=this.generateExpression(x.argument,t.Unary,G),m===&amp;quot;&amp;quot;?L=Ce(x.operator,V):(L=[x.operator],x.operator.length&amp;gt;2?L=Ce(L,V):(ae=xe(L).toString(),he=ae.charCodeAt(ae.length-1),re=V.toString().charCodeAt(0),((he===43||he===45)&amp;amp;&amp;amp;he===re||a.code.isIdentifierPartES5(he)&amp;amp;&amp;amp;a.code.isIdentifierPartES5(re))&amp;amp;&amp;amp;L.push(Ie()),L.push(V))),bt(L,t.Unary,M)},YieldExpression:function(x,M,k){var L;return x.delegate?L=&amp;quot;yield*&amp;quot;:L=&amp;quot;yield&amp;quot;,x.argument&amp;amp;&amp;amp;(L=Ce(L,this.generateExpression(x.argument,t.Yield,G))),bt(L,t.Yield,M)},AwaitExpression:function(x,M,k){var L=Ce(x.all?&amp;quot;await*&amp;quot;:&amp;quot;await&amp;quot;,this.generateExpression(x.argument,t.Await,G));return bt(L,t.Await,M)},UpdateExpression:function(x,M,k){return x.prefix?bt([x.operator,this.generateExpression(x.argument,t.Unary,G)],t.Unary,M):bt([this.generateExpression(x.argument,t.Postfix,G),x.operator],t.Postfix,M)},FunctionExpression:function(x,M,k){var L=[pa(x,!0),&amp;quot;function&amp;quot;];return x.id?(L.push(Zo(x)||Ie()),L.push(tr(x.id))):L.push(Zo(x)||m),L.push(this.generateFunctionBody(x)),L},ArrayPattern:function(x,M,k){return this.ArrayExpression(x,M,k,!0)},ArrayExpression:function(x,M,k,L){var V,re,ae=this;return x.elements.length?(re=L?!1:x.elements.length&amp;gt;1,V=[&amp;quot;[&amp;quot;,re?d:&amp;quot;&amp;quot;],Me(function(he){var Ee,qe;for(Ee=0,qe=x.elements.length;Ee&amp;lt;qe;++Ee)x.elements[Ee]?(V.push(re?he:&amp;quot;&amp;quot;),V.push(ae.generateExpression(x.elements[Ee],t.Assignment,G))):(re&amp;amp;&amp;amp;V.push(he),Ee+1===qe&amp;amp;&amp;amp;V.push(&amp;quot;,&amp;quot;)),Ee+1&amp;lt;qe&amp;amp;&amp;amp;V.push(&amp;quot;,&amp;quot;+(re?d:m))}),re&amp;amp;&amp;amp;!ue(xe(V).toString())&amp;amp;&amp;amp;V.push(d),V.push(re?o:&amp;quot;&amp;quot;),V.push(&amp;quot;]&amp;quot;),V):&amp;quot;[]&amp;quot;},RestElement:function(x,M,k){return&amp;quot;...&amp;quot;+this.generatePattern(x.argument)},ClassExpression:function(x,M,k){var L,V;return L=[&amp;quot;class&amp;quot;],x.id&amp;amp;&amp;amp;(L=Ce(L,this.generateExpression(x.id,t.Sequence,G))),x.superClass&amp;amp;&amp;amp;(V=Ce(&amp;quot;extends&amp;quot;,this.generateExpression(x.superClass,t.Unary,G)),L=Ce(L,V)),L.push(m),L.push(this.generateStatement(x.body,fe)),L},MethodDefinition:function(x,M,k){var L,V;return x.static?L=[&amp;quot;static&amp;quot;+m]:L=[],x.kind===&amp;quot;get&amp;quot;||x.kind===&amp;quot;set&amp;quot;?V=[Ce(x.kind,this.generatePropertyKey(x.key,x.computed)),this.generateFunctionBody(x.value)]:V=[Kp(x),this.generatePropertyKey(x.key,x.computed),this.generateFunctionBody(x.value)],Ce(L,V)},Property:function(x,M,k){return x.kind===&amp;quot;get&amp;quot;||x.kind===&amp;quot;set&amp;quot;?[x.kind,Ie(),this.generatePropertyKey(x.key,x.computed),this.generateFunctionBody(x.value)]:x.shorthand?x.value.type===&amp;quot;AssignmentPattern&amp;quot;?this.AssignmentPattern(x.value,t.Sequence,G):this.generatePropertyKey(x.key,x.computed):x.method?[Kp(x),this.generatePropertyKey(x.key,x.computed),this.generateFunctionBody(x.value)]:[this.generatePropertyKey(x.key,x.computed),&amp;quot;:&amp;quot;+m,this.generateExpression(x.value,t.Assignment,G)]},ObjectExpression:function(x,M,k){var L,V,re,ae=this;return x.properties.length?(L=x.properties.length&amp;gt;1,Me(function(){re=ae.generateExpression(x.properties[0],t.Sequence,G)}),!L&amp;amp;&amp;amp;!ce(xe(re).toString())?[&amp;quot;{&amp;quot;,m,re,m,&amp;quot;}&amp;quot;]:(Me(function(he){var Ee,qe;if(V=[&amp;quot;{&amp;quot;,d,he,re],L)for(V.push(&amp;quot;,&amp;quot;+d),Ee=1,qe=x.properties.length;Ee&amp;lt;qe;++Ee)V.push(he),V.push(ae.generateExpression(x.properties[Ee],t.Sequence,G)),Ee+1&amp;lt;qe&amp;amp;&amp;amp;V.push(&amp;quot;,&amp;quot;+d)}),ue(xe(V).toString())||V.push(d),V.push(o),V.push(&amp;quot;}&amp;quot;),V)):&amp;quot;{}&amp;quot;},AssignmentPattern:function(x,M,k){return this.generateAssignment(x.left,x.right,&amp;quot;=&amp;quot;,M,k)},ObjectPattern:function(x,M,k){var L,V,re,ae,he,Ee=this;if(!x.properties.length)return&amp;quot;{}&amp;quot;;if(ae=!1,x.properties.length===1)he=x.properties[0],he.type===i.Property&amp;amp;&amp;amp;he.value.type!==i.Identifier&amp;amp;&amp;amp;(ae=!0);else for(V=0,re=x.properties.length;V&amp;lt;re;++V)if(he=x.properties[V],he.type===i.Property&amp;amp;&amp;amp;!he.shorthand){ae=!0;break}return L=[&amp;quot;{&amp;quot;,ae?d:&amp;quot;&amp;quot;],Me(function(qe){var _t,un;for(_t=0,un=x.properties.length;_t&amp;lt;un;++_t)L.push(ae?qe:&amp;quot;&amp;quot;),L.push(Ee.generateExpression(x.properties[_t],t.Sequence,G)),_t+1&amp;lt;un&amp;amp;&amp;amp;L.push(&amp;quot;,&amp;quot;+(ae?d:m))}),ae&amp;amp;&amp;amp;!ue(xe(L).toString())&amp;amp;&amp;amp;L.push(d),L.push(ae?o:&amp;quot;&amp;quot;),L.push(&amp;quot;}&amp;quot;),L},ThisExpression:function(x,M,k){return&amp;quot;this&amp;quot;},Super:function(x,M,k){return&amp;quot;super&amp;quot;},Identifier:function(x,M,k){return tr(x)},ImportDefaultSpecifier:function(x,M,k){return tr(x.id||x.local)},ImportNamespaceSpecifier:function(x,M,k){var L=[&amp;quot;*&amp;quot;],V=x.id||x.local;return V&amp;amp;&amp;amp;L.push(m+&amp;quot;as&amp;quot;+Ie()+tr(V)),L},ImportSpecifier:function(x,M,k){var L=x.imported,V=[L.name],re=x.local;return re&amp;amp;&amp;amp;re.name!==L.name&amp;amp;&amp;amp;V.push(Ie()+&amp;quot;as&amp;quot;+Ie()+tr(re)),V},ExportSpecifier:function(x,M,k){var L=x.local,V=[L.name],re=x.exported;return re&amp;amp;&amp;amp;re.name!==L.name&amp;amp;&amp;amp;V.push(Ie()+&amp;quot;as&amp;quot;+Ie()+tr(re)),V},Literal:function(x,M,k){var L;if(x.hasOwnProperty(&amp;quot;raw&amp;quot;)&amp;amp;&amp;amp;_&amp;amp;&amp;amp;S.raw)try{if(L=_(x.raw).body[0].expression,L.type===i.Literal&amp;amp;&amp;amp;L.value===x.value)return x.raw}catch{}return x.regex?&amp;quot;/&amp;quot;+x.regex.pattern+&amp;quot;/&amp;quot;+x.regex.flags:typeof x.value==&amp;quot;bigint&amp;quot;?x.value.toString()+&amp;quot;n&amp;quot;:x.bigint?x.bigint+&amp;quot;n&amp;quot;:x.value===null?&amp;quot;null&amp;quot;:typeof x.value==&amp;quot;string&amp;quot;?ge(x.value):typeof x.value==&amp;quot;number&amp;quot;?P(x.value):typeof x.value==&amp;quot;boolean&amp;quot;?x.value?&amp;quot;true&amp;quot;:&amp;quot;false&amp;quot;:$(x.value)},GeneratorExpression:function(x,M,k){return this.ComprehensionExpression(x,M,k)},ComprehensionExpression:function(x,M,k){var L,V,re,ae,he=this;return L=x.type===i.GeneratorExpression?[&amp;quot;(&amp;quot;]:[&amp;quot;[&amp;quot;],S.moz.comprehensionExpressionStartsWithAssignment&amp;amp;&amp;amp;(ae=this.generateExpression(x.body,t.Assignment,G),L.push(ae)),x.blocks&amp;amp;&amp;amp;Me(function(){for(V=0,re=x.blocks.length;V&amp;lt;re;++V)ae=he.generateExpression(x.blocks[V],t.Sequence,G),V&amp;gt;0||S.moz.comprehensionExpressionStartsWithAssignment?L=Ce(L,ae):L.push(ae)}),x.filter&amp;amp;&amp;amp;(L=Ce(L,&amp;quot;if&amp;quot;+m),ae=this.generateExpression(x.filter,t.Sequence,G),L=Ce(L,[&amp;quot;(&amp;quot;,ae,&amp;quot;)&amp;quot;])),S.moz.comprehensionExpressionStartsWithAssignment||(ae=this.generateExpression(x.body,t.Assignment,G),L=Ce(L,ae)),L.push(x.type===i.GeneratorExpression?&amp;quot;)&amp;quot;:&amp;quot;]&amp;quot;),L},ComprehensionBlock:function(x,M,k){var L;return x.left.type===i.VariableDeclaration?L=[x.left.kind,Ie(),this.generateStatement(x.left.declarations[0],de)]:L=this.generateExpression(x.left,t.Call,G),L=Ce(L,x.of?&amp;quot;of&amp;quot;:&amp;quot;in&amp;quot;),L=Ce(L,this.generateExpression(x.right,t.Sequence,G)),[&amp;quot;for&amp;quot;+m+&amp;quot;(&amp;quot;,L,&amp;quot;)&amp;quot;]},SpreadElement:function(x,M,k){return[&amp;quot;...&amp;quot;,this.generateExpression(x.argument,t.Assignment,G)]},TaggedTemplateExpression:function(x,M,k){var L=Z;k&amp;amp;N||(L=q);var V=[this.generateExpression(x.tag,t.Call,L),this.generateExpression(x.quasi,t.Primary,J)];return bt(V,t.TaggedTemplate,M)},TemplateElement:function(x,M,k){return x.value.raw},TemplateLiteral:function(x,M,k){var L,V,re;for(L=[&amp;quot;`&amp;quot;],V=0,re=x.quasis.length;V&amp;lt;re;++V)L.push(this.generateExpression(x.quasis[V],t.Primary,G)),V+1&amp;lt;re&amp;amp;&amp;amp;(L.push(&amp;quot;${&amp;quot;+m),L.push(this.generateExpression(x.expressions[V],t.Sequence,G)),L.push(m+&amp;quot;}&amp;quot;));return L.push(&amp;quot;`&amp;quot;),L},ModuleSpecifier:function(x,M,k){return this.Literal(x,M,k)},ImportExpression:function(x,M,k){return bt([&amp;quot;import(&amp;quot;,this.generateExpression(x.source,t.Assignment,G),&amp;quot;)&amp;quot;],t.Call,M)}},pe(yt.prototype,yt.Expression),yt.prototype.generateExpression=function(x,M,k){var L,V;return V=x.type||i.Property,S.verbatim&amp;amp;&amp;amp;x.hasOwnProperty(S.verbatim)?$y(x,M):(L=this[V](x,M,k),S.comment&amp;amp;&amp;amp;(L=Ri(x,L)),xe(L,x))},yt.prototype.generateStatement=function(x,M){var k,L;return k=this[x.type](x,M),S.comment&amp;amp;&amp;amp;(k=Ri(x,k)),L=xe(k).toString(),x.type===i.Program&amp;amp;&amp;amp;!w&amp;amp;&amp;amp;d===&amp;quot;&amp;quot;&amp;amp;&amp;amp;L.charAt(L.length-1)===`
<a href="#l325" class="line" id="l325">    325</a> &lt;a href=&quot;#l306&quot; class=&quot;line&quot; id=&quot;l306&quot;&gt;    306&lt;/a&gt; `&amp;amp;&amp;amp;(k=b?xe(k).replaceRight(/\s+$/,&amp;quot;&amp;quot;):L.replace(/\s+$/,&amp;quot;&amp;quot;)),xe(k,x)};function Hy(x){var M;if(M=new yt,D(x))return M.generateStatement(x,Q);if(T(x))return M.generateExpression(x,t.Sequence,G);throw new Error(&amp;quot;Unknown node type: &amp;quot;+x.type)}function Wy(x,M){var k=ee(),L,V;return M!=null?(typeof M.indent==&amp;quot;string&amp;quot;&amp;amp;&amp;amp;(k.format.indent.style=M.indent),typeof M.base==&amp;quot;number&amp;quot;&amp;amp;&amp;amp;(k.format.indent.base=M.base),M=O(k,M),u=M.format.indent.style,typeof M.base==&amp;quot;string&amp;quot;?o=M.base:o=se(u,M.format.indent.base)):(M=k,u=M.format.indent.style,o=se(u,M.format.indent.base)),h=M.format.json,l=M.format.renumber,c=h?!1:M.format.hexadecimal,p=h?&amp;quot;double&amp;quot;:M.format.quotes,f=M.format.escapeless,d=M.format.newline,m=M.format.space,M.format.compact&amp;amp;&amp;amp;(d=m=u=o=&amp;quot;&amp;quot;),g=M.format.parentheses,v=M.format.semicolons,w=M.format.safeConcatenation,y=M.directive,_=h?null:M.parse,b=M.sourceMap,I=M.sourceCode,E=M.format.preserveBlankLines&amp;amp;&amp;amp;I!==null,S=M,b&amp;amp;&amp;amp;(Li.browser?n=global.sourceMap.SourceNode:n=By().SourceNode),L=Hy(x),b?(V=L.toStringWithSourceMap({file:M.file,sourceRoot:M.sourceMapRoot}),M.sourceContent&amp;amp;&amp;amp;V.map.setSourceContent(M.sourceMap,M.sourceContent),M.sourceMapWithCode?V:V.map.toString()):(V={code:L.toString(),map:null},M.sourceMapWithCode?V:V.code)}A={indent:{style:&amp;quot;&amp;quot;,base:0},renumber:!0,hexadecimal:!0,quotes:&amp;quot;auto&amp;quot;,escapeless:!0,compact:!0,parentheses:!1,semicolons:!1},C=ee().format,Li.version=Py().version,Li.generate=Wy,Li.attachComments=s.attachComments,Li.Precedence=O({},t),Li.browser=!1,Li.FORMAT_MINIFY=A,Li.FORMAT_DEFAULTS=C})()});var hn=Math.PI,rh=&amp;quot;2.0.3&amp;quot;,Yr=&amp;quot;p2d&amp;quot;,ev=&amp;quot;p2d-hdr&amp;quot;,kr=&amp;quot;webgl&amp;quot;,pt=&amp;quot;webgl2&amp;quot;,ih=&amp;quot;default&amp;quot;,Xo=&amp;quot;simple&amp;quot;,Ko=&amp;quot;full&amp;quot;,nh=&amp;quot;crosshair&amp;quot;,sh=&amp;quot;pointer&amp;quot;,ah=&amp;quot;move&amp;quot;,oh=&amp;quot;text&amp;quot;,uh=&amp;quot;wait&amp;quot;,Pi=hn/2,Jo=hn,tv=hn/4,rv=hn*2,wt=hn*2,Oi=hn/180,Vi=180/hn,Ct=&amp;quot;corner&amp;quot;,Ui=&amp;quot;corners&amp;quot;,Gi=&amp;quot;radius&amp;quot;,Kn=&amp;quot;right&amp;quot;,lh=&amp;quot;left&amp;quot;,Et=&amp;quot;center&amp;quot;,iv=&amp;quot;top&amp;quot;,Qo=&amp;quot;bottom&amp;quot;,hh=&amp;quot;alphabetic&amp;quot;,Jn=0,ci=1,nv=3,sv=2,fi=4,cn=6,zi=5,pn=&amp;quot;quads&amp;quot;,ji=&amp;quot;quad_strip&amp;quot;,av=&amp;quot;tess&amp;quot;,dn=7,rr=8,mn=&amp;quot;close&amp;quot;,Xr=&amp;quot;open&amp;quot;,Qn=&amp;quot;chord&amp;quot;,gn=&amp;quot;pie&amp;quot;,da=&amp;quot;square&amp;quot;,ma=&amp;quot;butt&amp;quot;,Mr=&amp;quot;round&amp;quot;,ga=&amp;quot;bevel&amp;quot;,ya=&amp;quot;miter&amp;quot;,ch=&amp;quot;auto&amp;quot;,ov=&amp;quot;Alt&amp;quot;,uv=&amp;quot;Backspace&amp;quot;,lv=&amp;quot;Control&amp;quot;,hv=&amp;quot;Delete&amp;quot;,cv=&amp;quot;ArrowDown&amp;quot;,fv=&amp;quot;Enter&amp;quot;,pv=&amp;quot;Escape&amp;quot;,dv=&amp;quot;ArrowLeft&amp;quot;,mv=&amp;quot;Alt&amp;quot;,gv=&amp;quot;Enter&amp;quot;,yv=&amp;quot;ArrowRight&amp;quot;,vv=&amp;quot;Shift&amp;quot;,xv=&amp;quot;Tab&amp;quot;,bv=&amp;quot;ArrowUp&amp;quot;,St=&amp;quot;source-over&amp;quot;,pi=&amp;quot;destination-out&amp;quot;,yn=&amp;quot;lighter&amp;quot;,es=&amp;quot;darken&amp;quot;,ts=&amp;quot;lighten&amp;quot;,fh=&amp;quot;difference&amp;quot;,rs=&amp;quot;subtract&amp;quot;,is=&amp;quot;exclusion&amp;quot;,ns=&amp;quot;multiply&amp;quot;,ss=&amp;quot;screen&amp;quot;,as=&amp;quot;copy&amp;quot;,va=&amp;quot;overlay&amp;quot;,xa=&amp;quot;hard-light&amp;quot;,ba=&amp;quot;soft-light&amp;quot;,_a=&amp;quot;color-dodge&amp;quot;,wa=&amp;quot;color-burn&amp;quot;,vn=&amp;quot;threshold&amp;quot;,Ca=&amp;quot;gray&amp;quot;,Ea=&amp;quot;opaque&amp;quot;,Sa=&amp;quot;invert&amp;quot;,xn=&amp;quot;posterize&amp;quot;,Aa=&amp;quot;dilate&amp;quot;,Da=&amp;quot;erode&amp;quot;,di=&amp;quot;blur&amp;quot;,ir=&amp;quot;normal&amp;quot;,_v=&amp;quot;italic&amp;quot;,wv=&amp;quot;bold&amp;quot;,Cv=&amp;quot;bold italic&amp;quot;,Ev=&amp;quot;CHAR&amp;quot;,ph=&amp;quot;WORD&amp;quot;,Sv=&amp;quot;#000000&amp;quot;,Av=1.25,Dv=&amp;quot;middle&amp;quot;,eu=&amp;quot;linear&amp;quot;,Fv=&amp;quot;quadratic&amp;quot;,Tv=&amp;quot;bezier&amp;quot;,Nv=&amp;quot;curve&amp;quot;,Iv=&amp;quot;stroke&amp;quot;,Fa=&amp;quot;fill&amp;quot;,os=&amp;quot;texture&amp;quot;,kv=&amp;quot;immediate&amp;quot;,us=&amp;quot;image&amp;quot;,dh=&amp;quot;nearest&amp;quot;,tu=&amp;quot;repeat&amp;quot;,ru=&amp;quot;clamp&amp;quot;,iu=&amp;quot;mirror&amp;quot;,mh=&amp;quot;flat&amp;quot;,gh=&amp;quot;smooth&amp;quot;,Mv=&amp;quot;landscape&amp;quot;,Lv=&amp;quot;portrait&amp;quot;,yh=&amp;quot;#000000&amp;quot;,vh=&amp;quot;#FFFFFF&amp;quot;,xh=&amp;quot;grid&amp;quot;,bh=&amp;quot;axes&amp;quot;,Rv=&amp;quot;label&amp;quot;,Bv=&amp;quot;fallback&amp;quot;,_h=&amp;quot;contain&amp;quot;,wh=&amp;quot;cover&amp;quot;,mi=&amp;quot;unsigned-byte&amp;quot;,ls=&amp;quot;unsigned-int&amp;quot;,zt=&amp;quot;float&amp;quot;,bn=&amp;quot;half-float&amp;quot;,$i=Symbol(&amp;quot;include&amp;quot;),_n=Symbol(&amp;quot;exclude&amp;quot;),nu=Symbol(&amp;quot;join&amp;quot;),gr=Object.freeze({__proto__:null,ADD:yn,ALT:ov,ARROW:ih,AUTO:ch,AXES:bh,BACKSPACE:uv,BASELINE:hh,BEVEL:ga,BEZIER:Tv,BLEND:St,BLUR:di,BOLD:wv,BOLDITALIC:Cv,BOTTOM:Qo,BURN:wa,CENTER:Et,CHAR:Ev,CHORD:Qn,CLAMP:ru,CLOSE:mn,CONTAIN:_h,CONTROL:lv,CORNER:Ct,CORNERS:Ui,COVER:wh,CROSS:nh,CURVE:Nv,DARKEST:es,DEG_TO_RAD:Oi,DELETE:hv,DIFFERENCE:fh,DILATE:Aa,DODGE:_a,DOWN_ARROW:cv,EMPTY_PATH:dn,ENTER:fv,ERODE:Da,ESCAPE:pv,EXCLUDE:_n,EXCLUSION:is,FALLBACK:Bv,FILL:Fa,FLAT:mh,FLOAT:zt,FULL:Ko,GRAY:Ca,GRID:xh,HALF_FLOAT:bn,HALF_PI:Pi,HAND:sh,HARD_LIGHT:xa,IMAGE:us,IMMEDIATE:kv,INCLUDE:$i,INVERT:Sa,ITALIC:_v,JOIN:nu,LABEL:Rv,LANDSCAPE:Mv,LEFT:lh,LEFT_ARROW:dv,LIGHTEST:ts,LINEAR:eu,LINES:ci,LINE_LOOP:sv,LINE_STRIP:nv,MIRROR:iu,MITER:ya,MOVE:ah,MULTIPLY:ns,NEAREST:dh,NORMAL:ir,OPAQUE:Ea,OPEN:Xr,OPTION:mv,OVERLAY:va,P2D:Yr,P2DHDR:ev,PATH:rr,PI:Jo,PIE:gn,POINTS:Jn,PORTRAIT:Lv,POSTERIZE:xn,PROJECT:da,QUADRATIC:Fv,QUADS:pn,QUAD_STRIP:ji,QUARTER_PI:tv,RADIUS:Gi,RAD_TO_DEG:Vi,REMOVE:pi,REPEAT:tu,REPLACE:as,RETURN:gv,RIGHT:Kn,RIGHT_ARROW:yv,ROUND:Mr,SCREEN:ss,SHIFT:vv,SIMPLE:Xo,SMOOTH:gh,SOFT_LIGHT:ba,SQUARE:ma,STROKE:Iv,SUBTRACT:rs,TAB:xv,TAU:rv,TESS:av,TEXT:oh,TEXTURE:os,THRESHOLD:vn,TOP:iv,TRIANGLES:fi,TRIANGLE_FAN:cn,TRIANGLE_STRIP:zi,TWO_PI:wt,UNSIGNED_BYTE:mi,UNSIGNED_INT:ls,UP_ARROW:bv,VERSION:rh,WAIT:uh,WEBGL:kr,WEBGL2:pt,WORD:ph,_CTX_MIDDLE:Dv,_DEFAULT_FILL:vh,_DEFAULT_LEADMULT:Av,_DEFAULT_STROKE:yh,_DEFAULT_TEXT_FILL:Sv});function Ta(i,t){t.applyMatrix=function(...r){let n=r[0]instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(r[0])||n?this._renderer.applyMatrix(...r[0]):this._renderer.applyMatrix(...r),this},t.resetMatrix=function(){return this._renderer.resetMatrix(),this},t.rotate=function(r,n){return this._renderer.rotate(this._toRadians(r),n),this},t.rotateX=function(r){return this._assert3d(&amp;quot;rotateX&amp;quot;),this._renderer.rotateX(this._toRadians(r)),this},t.rotateY=function(r){return this._assert3d(&amp;quot;rotateY&amp;quot;),this._renderer.rotateY(this._toRadians(r)),this},t.rotateZ=function(r){return this._assert3d(&amp;quot;rotateZ&amp;quot;),this._renderer.rotateZ(this._toRadians(r)),this},t.scale=function(r,n,s){if(r instanceof i.Vector){let a=r;r=a.x,n=a.y,s=a.z}else if(Array.isArray(r)){let a=r;r=a[0],n=a[1],s=a[2]||1}return isNaN(n)?n=s=r:isNaN(s)&amp;amp;&amp;amp;(s=1),this._renderer.scale(r,n,s),this},t.shearX=function(r){let n=this._toRadians(r);return this._renderer.applyMatrix(1,0,Math.tan(n),1,0,0),this},t.shearY=function(r){let n=this._toRadians(r);return this._renderer.applyMatrix(1,Math.tan(n),0,1,0,0),this},t.translate=function(r,n,s){return this._renderer.isP3D?this._renderer.translate(r,n,s):this._renderer.translate(r,n),this},t.push=function(){this._renderer.push()},t.pop=function(){this._renderer.pop()}}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;Ta(p5,p5.prototype);function Ch(i,t){t.noLoop=function(){this._loop=!1},t.loop=function(){this._loop||(this._loop=!0,this._setupDone&amp;amp;&amp;amp;this._draw())},t.isLooping=function(){return this._loop},t.redraw=async function(r){if(this._inUserDraw||!this._setupDone)return;let n=parseInt(r);(isNaN(n)||n&amp;lt;1)&amp;amp;&amp;amp;(n=1);let s=this._isGlobal?window:this;if(typeof s.draw==&amp;quot;function&amp;quot;){typeof s.setup&amp;gt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;s.scale(s._pixelDensity,s._pixelDensity);for(let a=0;a&amp;lt;n;a++){s.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&amp;amp;&amp;amp;this._updateAccsOutput(),this._renderer.isP3D&amp;amp;&amp;amp;this._renderer._update(),this.frameCount=s.frameCount+1,await this._runLifecycleHook(&amp;quot;predraw&amp;quot;),this._inUserDraw=!0;try{await s.draw()}finally{this._inUserDraw=!1}await this._runLifecycleHook(&amp;quot;postdraw&amp;quot;)}}}}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;Ch(p5,p5.prototype);var td=function(i,t){return i!==0&amp;amp;&amp;amp;(this.x=this.x%i),t!==0&amp;amp;&amp;amp;(this.y=this.y%t),this},Eh=function(i,t,r){return i!==0&amp;amp;&amp;amp;(this.x=this.x%i),t!==0&amp;amp;&amp;amp;(this.y=this.y%t),r!==0&amp;amp;&amp;amp;(this.z=this.z%r),this},H=class i{constructor(...t){let r=t.map(s=&amp;gt;s||0);typeof t[0]==&amp;quot;function&amp;quot;&amp;amp;&amp;amp;(this.isPInst=!0,this._fromRadians=t[0],this._toRadians=t[1],r=t.slice(2).map(s=&amp;gt;s||0));let n=r.length;n===0?(this.dimensions=2,this._values=[0,0,0]):(this.dimensions=n,this._values=r)}get values(){return this._values}set values(t){let r=t.length;r===0?(this.dimensions=2,this._values=[0,0,0]):(this.dimensions=r,this._values=t.slice())}get x(){return this._values[0]||0}getValue(t){if(t&amp;lt;this._values.length)return this._values[t];p5._friendlyError(&amp;quot;The index parameter is trying to set a value outside the bounds of the vector&amp;quot;,&amp;quot;p5.Vector.setValue&amp;quot;)}setValue(t,r){t&amp;lt;this._values.length?this._values[t]=r:p5._friendlyError(&amp;quot;The index parameter is trying to set a value outside the bounds of the vector&amp;quot;,&amp;quot;p5.Vector.setValue&amp;quot;)}get y(){return this._values[1]||0}get z(){return this._values[2]||0}get w(){return this._values[3]||0}set x(t){this._values.length&amp;gt;1&amp;amp;&amp;amp;(this._values[0]=t)}set y(t){this._values.length&amp;gt;1&amp;amp;&amp;amp;(this._values[1]=t)}set z(t){this._values.length&amp;gt;2&amp;amp;&amp;amp;(this._values[2]=t)}set w(t){this._values.length&amp;gt;3&amp;amp;&amp;amp;(this._values[3]=t)}toString(){return`[${this.values.join(&amp;quot;, &amp;quot;)}]`}set(...t){return t[0]instanceof i?this.values=t[0].values.slice():Array.isArray(t[0])?this.values=t[0].map(r=&amp;gt;r||0):this.values=t.map(r=&amp;gt;r||0),this.dimensions=this.values.length,this}copy(){return this.isPInst?new i(this._fromRadians,this._toRadians,...this.values):new i(...this.values)}add(...t){return t[0]instanceof i?t=t[0].values:Array.isArray(t[0])&amp;amp;&amp;amp;(t=t[0]),t.forEach((r,n)=&amp;gt;{this.values[n]=(this.values[n]||0)+(r||0)}),this}rem(t,r,n){if(t instanceof i){if([t.x,t.y,t.z].every(Number.isFinite)){let s=parseFloat(t.x),a=parseFloat(t.y),o=parseFloat(t.z);return Eh.call(this,s,a,o)}}else if(Array.isArray(t)){if(t.every(s=&amp;gt;Number.isFinite(s))){if(t.length===2)return td.call(this,t[0],t[1]);if(t.length===3)return Eh.call(this,t[0],t[1],t[2])}}else if(arguments.length===1){if(Number.isFinite(arguments[0])&amp;amp;&amp;amp;arguments[0]!==0)return this.x=this.x%arguments[0],this.y=this.y%arguments[0],this.z=this.z%arguments[0],this}else if(arguments.length===2){let s=[...arguments];if(s.every(a=&amp;gt;Number.isFinite(a))&amp;amp;&amp;amp;s.length===2)return td.call(this,s[0],s[1])}else if(arguments.length===3){let s=[...arguments];if(s.every(a=&amp;gt;Number.isFinite(a))&amp;amp;&amp;amp;s.length===3)return Eh.call(this,s[0],s[1],s[2])}}sub(...t){return t[0]instanceof i?t[0].values.forEach((r,n)=&amp;gt;{this.values[n]-=r||0}):Array.isArray(t[0])?t[0].forEach((r,n)=&amp;gt;{this.values[n]-=r||0}):t.forEach((r,n)=&amp;gt;{this.values[n]-=r||0}),this}mult(...t){if(t.length===1&amp;amp;&amp;amp;t[0]instanceof i){let r=t[0],n=Math.min(this.values.length,r.values.length);for(let s=0;s&amp;lt;n;s++)if(Number.isFinite(r.values[s])&amp;amp;&amp;amp;typeof r.values[s]==&amp;quot;number&amp;quot;)this._values[s]*=r.values[s];else return console.warn(&amp;quot;p5.Vector.prototype.mult:&amp;quot;,&amp;quot;v contains components that are either undefined or not finite numbers&amp;quot;),this}else if(t.length===1&amp;amp;&amp;amp;Array.isArray(t[0])){let r=t[0],n=Math.min(this.values.length,r.length);for(let s=0;s&amp;lt;n;s++)if(Number.isFinite(r[s])&amp;amp;&amp;amp;typeof r[s]==&amp;quot;number&amp;quot;)this._values[s]*=r[s];else return console.warn(&amp;quot;p5.Vector.prototype.mult:&amp;quot;,&amp;quot;arr contains elements that are either undefined or not finite numbers&amp;quot;),this}else if(t.length===1&amp;amp;&amp;amp;typeof t[0]==&amp;quot;number&amp;quot;&amp;amp;&amp;amp;Number.isFinite(t[0]))for(let r=0;r&amp;lt;this._values.length;r++)this._values[r]*=t[0];return this}div(...t){if(t.length===0)return this;if(t.length===1&amp;amp;&amp;amp;t[0]instanceof i){let r=t[0];if(r._values.every(n=&amp;gt;Number.isFinite(n)&amp;amp;&amp;amp;typeof n==&amp;quot;number&amp;quot;)){if(r._values.some(n=&amp;gt;n===0))return console.warn(&amp;quot;p5.Vector.prototype.div:&amp;quot;,&amp;quot;divide by 0&amp;quot;),this;this._values=this._values.map((n,s)=&amp;gt;n/r._values[s])}else console.warn(&amp;quot;p5.Vector.prototype.div:&amp;quot;,&amp;quot;vector contains components that are either undefined or not finite numbers&amp;quot;);return this}if(t.length===1&amp;amp;&amp;amp;Array.isArray(t[0])){let r=t[0];if(r.every(n=&amp;gt;Number.isFinite(n)&amp;amp;&amp;amp;typeof n==&amp;quot;number&amp;quot;)){if(r.some(n=&amp;gt;n===0))return console.warn(&amp;quot;p5.Vector.prototype.div:&amp;quot;,&amp;quot;divide by 0&amp;quot;),this;this._values=this._values.map((n,s)=&amp;gt;n/r[s])}else console.warn(&amp;quot;p5.Vector.prototype.div:&amp;quot;,&amp;quot;array contains components that are either undefined or not finite numbers&amp;quot;);return this}if(t.every(r=&amp;gt;Number.isFinite(r)&amp;amp;&amp;amp;typeof r==&amp;quot;number&amp;quot;)){if(t.some(r=&amp;gt;r===0))return console.warn(&amp;quot;p5.Vector.prototype.div:&amp;quot;,&amp;quot;divide by 0&amp;quot;),this;this._values=this._values.map((r,n)=&amp;gt;r/t[0])}else console.warn(&amp;quot;p5.Vector.prototype.div:&amp;quot;,&amp;quot;arguments contain components that are either undefined or not finite numbers&amp;quot;);return this}mag(){return Math.sqrt(this.magSq())}magSq(){return this._values.reduce((t,r)=&amp;gt;t+r*r,0)}dot(...t){return t[0]instanceof i?this.dot(...t[0]._values):this._values.reduce((r,n,s)=&amp;gt;r+n*(t[s]||0),0)}cross(t){let r=this.y*t.z-this.z*t.y,n=this.z*t.x-this.x*t.z,s=this.x*t.y-this.y*t.x;return this.isPInst?new i(this._fromRadians,this._toRadians,r,n,s):new i(r,n,s)}dist(t){return t.copy().sub(this).mag()}normalize(){let t=this.mag();return t!==0&amp;amp;&amp;amp;this.mult(1/t),this}limit(t){let r=this.magSq();return r&amp;gt;t*t&amp;amp;&amp;amp;this.div(Math.sqrt(r)).mult(t),this}setMag(t){return this.normalize().mult(t)}heading(){let t=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(t):t}setHeading(t){this.isPInst&amp;amp;&amp;amp;(t=this._toRadians(t));let r=this.mag();return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this}rotate(t){let r=this.heading()+t;this.isPInst&amp;amp;&amp;amp;(r=this._toRadians(r));let n=this.mag();return this.x=Math.cos(r)*n,this.y=Math.sin(r)*n,this}angleBetween(t){if(this.magSq()*t.magSq()===0)return NaN;let n=this.cross(t),s=Math.atan2(n.mag(),this.dot(t))*Math.sign(n.z||1);return this.isPInst&amp;amp;&amp;amp;(s=this._fromRadians(s)),s}lerp(t,r,n,s){return t instanceof i?this.lerp(t.x,t.y,t.z,r):(this.x+=(t-this.x)*s||0,this.y+=(r-this.y)*s||0,this.z+=(n-this.z)*s||0,this)}slerp(t,r){if(r===0)return this;if(r===1)return this.set(t);let n=this.mag(),s=t.mag();if(n*s===0)return this.mult(1-r).add(t.x*r,t.y*r,t.z*r),this;let o=this.cross(t),u=o.mag(),h=Math.atan2(u,this.dot(t));if(u&amp;gt;0)o.x/=u,o.y/=u,o.z/=u;else{if(h&amp;lt;Math.PI*.5)return this.mult(1-r).add(t.x*r,t.y*r,t.z*r),this;this.z===0&amp;amp;&amp;amp;t.z===0?o.set(0,0,1):this.x!==0?o.set(this.y,-this.x,0).normalize():o.set(1,0,0)}let l=o.cross(this),c=1-r+r*s/n,p=c*Math.cos(r*h),f=c*Math.sin(r*h);return this.x=this.x*p+l.x*f,this.y=this.y*p+l.y*f,this.z=this.z*p+l.z*f,this}reflect(t){let r=i.normalize(t);return this.sub(r.mult(2*this.dot(r)))}array(){return[this.x||0,this.y||0,this.z||0]}equals(...t){let r;t[0]instanceof i?r=t[0]._values:Array.isArray(t[0])?r=t[0]:r=t;for(let n=0;n&amp;lt;this._values.length;n++)if(this._values[n]!==(r[n]||0))return!1;return!0}clampToZero(){for(let t=0;t&amp;lt;this._values.length;t++)this._values[t]=this._clampToZero(this._values[t]);return this}_clampToZero(t){return Math.abs((t||0)-0)&amp;lt;=Number.EPSILON?0:t}static fromAngle(t,r){return typeof r&amp;gt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;(r=1),new i(r*Math.cos(t),r*Math.sin(t),0)}static fromAngles(t,r,n){typeof n&amp;gt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;(n=1);let s=Math.cos(r),a=Math.sin(r),o=Math.cos(t),u=Math.sin(t);return new i(n*u*a,-n*o,n*u*s)}static random2D(){return this.fromAngle(Math.random()*wt)}static random3D(){let t=Math.random()*wt,r=Math.random()*2-1,n=Math.sqrt(1-r*r),s=n*Math.cos(t),a=n*Math.sin(t);return new i(s,a,r)}static copy(t){return t.copy(t)}static add(t,r,n){return n?n.set(t):(n=t.copy(),arguments.length===3&amp;amp;&amp;amp;p5._friendlyError(&amp;quot;The target parameter is undefined, it should be of type p5.Vector&amp;quot;,&amp;quot;p5.Vector.add&amp;quot;)),n.add(r),n}static rem(t,r){if(t instanceof i&amp;amp;&amp;amp;r instanceof i){let n=t.copy();return n.rem(r),n}}static sub(t,r,n){return n?n.set(t):(n=t.copy(),arguments.length===3&amp;amp;&amp;amp;p5._friendlyError(&amp;quot;The target parameter is undefined, it should be of type p5.Vector&amp;quot;,&amp;quot;p5.Vector.sub&amp;quot;)),n.sub(r),n}static mult(t,r,n){return n?n.set(t):(n=t.copy(),arguments.length===3&amp;amp;&amp;amp;p5._friendlyError(&amp;quot;The target parameter is undefined, it should be of type p5.Vector&amp;quot;,&amp;quot;p5.Vector.mult&amp;quot;)),n.mult(r),n}static rotate(t,r,n){return arguments.length===2?n=t.copy():(n instanceof i||p5._friendlyError(&amp;quot;The target parameter should be of type p5.Vector&amp;quot;,&amp;quot;p5.Vector.rotate&amp;quot;),n.set(t)),n.rotate(r),n}static div(t,r,n){return n?n.set(t):(n=t.copy(),arguments.length===3&amp;amp;&amp;amp;p5._friendlyError(&amp;quot;The target parameter is undefined, it should be of type p5.Vector&amp;quot;,&amp;quot;p5.Vector.div&amp;quot;)),n.div(r),n}static dot(t,r){return t.dot(r)}static cross(t,r){return t.cross(r)}static dist(t,r){return t.dist(r)}static lerp(t,r,n,s){return s?s.set(t):(s=t.copy(),arguments.length===4&amp;amp;&amp;amp;p5._friendlyError(&amp;quot;The target parameter is undefined, it should be of type p5.Vector&amp;quot;,&amp;quot;p5.Vector.lerp&amp;quot;)),s.lerp(r,n),s}static slerp(t,r,n,s){return s?s.set(t):(s=t.copy(),arguments.length===4&amp;amp;&amp;amp;p5._friendlyError(&amp;quot;The target parameter is undefined, it should be of type p5.Vector&amp;quot;,&amp;quot;p5.Vector.slerp&amp;quot;)),s.slerp(r,n),s}static mag(t){return t.mag()}static magSq(t){return t.magSq()}static normalize(t,r){return arguments.length&amp;lt;2?r=t.copy():(r instanceof i||p5._friendlyError(&amp;quot;The target parameter should be of type p5.Vector&amp;quot;,&amp;quot;p5.Vector.normalize&amp;quot;),r.set(t)),r.normalize()}static limit(t,r,n){return arguments.length&amp;lt;3?n=t.copy():(n instanceof i||p5._friendlyError(&amp;quot;The target parameter should be of type p5.Vector&amp;quot;,&amp;quot;p5.Vector.limit&amp;quot;),n.set(t)),n.limit(r)}static setMag(t,r,n){return arguments.length&amp;lt;3?n=t.copy():(n instanceof i||p5._friendlyError(&amp;quot;The target parameter should be of type p5.Vector&amp;quot;,&amp;quot;p5.Vector.setMag&amp;quot;),n.set(t)),n.setMag(r)}static heading(t){return t.heading()}static angleBetween(t,r){return t.angleBetween(r)}static reflect(t,r,n){return arguments.length&amp;lt;3?n=t.copy():(n instanceof i||p5._friendlyError(&amp;quot;The target parameter should be of type p5.Vector&amp;quot;,&amp;quot;p5.Vector.reflect&amp;quot;),n.set(t)),n.reflect(r)}static array(t){return t.array()}static equals(t,r){let n;return t instanceof i?n=t:t instanceof Array?n=new i().set(t):p5._friendlyError(&amp;quot;The v1 parameter should be of type Array or p5.Vector&amp;quot;,&amp;quot;p5.Vector.equals&amp;quot;),n.equals(r)}};function Sh(i,t){i.Vector=H}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;Sh(p5,p5.prototype);function Ah(i,t){let r=[ih,nh,sh,ah,oh,uh];t._frameRate=0,t._lastFrameTime=window.performance.now(),t._targetFrameRate=60;let n=window.print,s=!1;t.print=function(...l){l.length?console.log(...l):s||(n(),window.confirm(&amp;quot;You just tried to print the webpage. Do you want to prevent this from running again?&amp;quot;)&amp;amp;&amp;amp;(s=!0))},t.frameCount=0,t.deltaTime=0,t.focused=document.hasFocus(),t.cursor=function(l,c,p){let f=&amp;quot;auto&amp;quot;,d=this._curElement.elt;if(r.includes(l))f=l;else if(typeof l==&amp;quot;string&amp;quot;){let m=&amp;quot;&amp;quot;;c&amp;amp;&amp;amp;p&amp;amp;&amp;amp;typeof c==&amp;quot;number&amp;quot;&amp;amp;&amp;amp;typeof p==&amp;quot;number&amp;quot;&amp;amp;&amp;amp;(m=`${c} ${p}`),l.substring(0,7)===&amp;quot;http://&amp;quot;||l.substring(0,8)===&amp;quot;https://&amp;quot;?f=`url(${l}) ${m}, auto`:/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(l)?f=`url(${l}) ${m}, auto`:f=l}d.style.cursor=f},t.frameRate=function(l){return typeof l!=&amp;quot;number&amp;quot;||l&amp;lt;0?this._frameRate:(this._targetFrameRate=l,l===0&amp;amp;&amp;amp;(this._frameRate=l),this)},t.getFrameRate=function(){return this.frameRate()},t.setFrameRate=function(l){return this.frameRate(l)},t.getTargetFrameRate=function(){return this._targetFrameRate},t.noCursor=function(){this._curElement.elt.style.cursor=&amp;quot;none&amp;quot;},t.webglVersion=Yr,t.displayWidth=screen.width,t.displayHeight=screen.height,t.windowWidth=0,t.windowHeight=0,t._onresize=function(l){this.windowWidth=a(),this.windowHeight=o();let c=this._isGlobal?window:this,p;typeof c.windowResized==&amp;quot;function&amp;quot;&amp;amp;&amp;amp;(p=c.windowResized(l),p!==void 0&amp;amp;&amp;amp;!p&amp;amp;&amp;amp;l.preventDefault())};function a(){return window.innerWidth||document.documentElement&amp;amp;&amp;amp;document.documentElement.clientWidth||document.body&amp;amp;&amp;amp;document.body.clientWidth||0}function o(){return window.innerHeight||document.documentElement&amp;amp;&amp;amp;document.documentElement.clientHeight||document.body&amp;amp;&amp;amp;document.body.clientHeight||0}t._updateWindowSize=function(){this.windowWidth=a(),this.windowHeight=o()},Object.defineProperty(t,&amp;quot;width&amp;quot;,{get(){return this._renderer.width}}),Object.defineProperty(t,&amp;quot;height&amp;quot;,{get(){return this._renderer.height}}),t.fullscreen=function(l){if(typeof l&amp;gt;&amp;quot;u&amp;quot;)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;l?u(document.documentElement):h()},t.pixelDensity=function(l){let c;return typeof l==&amp;quot;number&amp;quot;?(l!==this._renderer._pixelDensity&amp;amp;&amp;amp;(this._renderer._pixelDensity=l),c=this,this.resizeCanvas(this.width,this.height,!0)):c=this._renderer._pixelDensity,c},t.displayDensity=()=&amp;gt;window.devicePixelRatio;function u(l){if(!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error(&amp;quot;Fullscreen not enabled in this browser.&amp;quot;);l.requestFullscreen?l.requestFullscreen():l.mozRequestFullScreen?l.mozRequestFullScreen():l.webkitRequestFullscreen?l.webkitRequestFullscreen():l.msRequestFullscreen&amp;amp;&amp;amp;l.msRequestFullscreen()}function h(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&amp;amp;&amp;amp;document.msExitFullscreen()}t.getURL=()=&amp;gt;location.href,t.getURLPath=()=&amp;gt;location.pathname.split(&amp;quot;/&amp;quot;).filter(l=&amp;gt;l!==&amp;quot;&amp;quot;),t.getURLParams=function(){let l=/[?&amp;amp;]([^&amp;amp;=]+)(?:[&amp;amp;=])([^&amp;amp;=]+)/gim,c,p={};for(;(c=l.exec(location.search))!=null;)c.index===l.lastIndex&amp;amp;&amp;amp;l.lastIndex++,p[c[1]]=c[2];return p},t.worldToScreen=function(l){return typeof l==&amp;quot;number&amp;quot;&amp;amp;&amp;amp;(l=this.createVector(...arguments)),this._renderer.getWorldToScreenMatrix().multiplyAndNormalizePoint(l)},t.screenToWorld=function(l){typeof l==&amp;quot;number&amp;quot;&amp;amp;&amp;amp;(l=this.createVector(...arguments));let c=this._renderer.getWorldToScreenMatrix();if(l.dimensions==2){let d=c.mat4[14]/c.mat4[15];l=this.createVector(l.x,l.y,d)}return c.invert(c).multiplyAndNormalizePoint(l)}}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;Ah(p5,p5.prototype);function tt(i,t){let r=i.length;Array.isArray(i[0])||(i=[i]),Array.isArray(t[0])||(t=t.map(o=&amp;gt;[o]));let n=t[0].length,s=t[0].map((o,u)=&amp;gt;t.map(h=&amp;gt;h[u])),a=i.map(o=&amp;gt;s.map(u=&amp;gt;{let h=0;if(!Array.isArray(o)){for(let l of u)h+=o*l;return h}for(let l=0;l&amp;lt;o.length;l++)h+=o[l]*(u[l]||0);return h}));return r===1&amp;amp;&amp;amp;(a=a[0]),n===1?a.map(o=&amp;gt;o[0]):a}function su(i){return gi(i)===&amp;quot;string&amp;quot;}function gi(i){return(Object.prototype.toString.call(i).match(/^\[object\s+(.*?)\]$/)[1]||&amp;quot;&amp;quot;).toLowerCase()}function Na(i,{precision:t,unit:r}){return au(i)?&amp;quot;none&amp;quot;:Pv(i,t)+(r??&amp;quot;&amp;quot;)}function au(i){return Number.isNaN(i)||i instanceof Number&amp;amp;&amp;amp;i?.none}function Pv(i,t){if(i===0)return 0;let r=~~i,n=0;r&amp;amp;&amp;amp;t&amp;amp;&amp;amp;(n=~~Math.log10(Math.abs(r))+1);let s=10**(t-n);return Math.floor(i*s+.5)/s}var Ov={deg:1,grad:.9,rad:180/Math.PI,turn:360};function rd(i){if(!i)return;i=i.trim();let t=/^([a-z]+)\((.+?)\)$/i,r=/^-?[\d.]+$/,n=/%|deg|g?rad|turn$/,s=/\/?\s*(none|[-\w.]+(?:%|deg|g?rad|turn)?)/g,a=i.match(t);if(a){let o=[];return a[2].replace(s,(u,h)=&amp;gt;{let l=h.match(n),c=h;if(l){let p=l[0],f=c.slice(0,-p.length);p===&amp;quot;%&amp;quot;?(c=new Number(f/100),c.type=&amp;quot;&amp;lt;percentage&amp;gt;&amp;quot;):(c=new Number(f*Ov[p]),c.type=&amp;quot;&amp;lt;angle&amp;gt;&amp;quot;,c.unit=p)}else r.test(c)?(c=new Number(c),c.type=&amp;quot;&amp;lt;number&amp;gt;&amp;quot;):c===&amp;quot;none&amp;quot;&amp;amp;&amp;amp;(c=new Number(NaN),c.none=!0);u.startsWith(&amp;quot;/&amp;quot;)&amp;amp;&amp;amp;(c=c instanceof Number?c:new Number(c),c.alpha=!0),typeof c==&amp;quot;object&amp;quot;&amp;amp;&amp;amp;c instanceof Number&amp;amp;&amp;amp;(c.raw=h),o.push(c)}),{name:a[1].toLowerCase(),rawName:a[1],rawArgs:a[2],args:o}}}function id(i){return i[i.length-1]}function hs(i,t,r){return isNaN(i)?t:isNaN(t)?i:i+(t-i)*r}function Vv(i,t,r){return(r-i)/(t-i)}function ou(i,t,r){return hs(t[0],t[1],Vv(i[0],i[1],r))}function nd(i){return i.map(t=&amp;gt;t.split(&amp;quot;|&amp;quot;).map(r=&amp;gt;{r=r.trim();let n=r.match(/^(&amp;lt;[a-z]+&amp;gt;)\[(-?[.\d]+),\s*(-?[.\d]+)\]?$/);if(n){let s=new String(n[1]);return s.range=[+n[2],+n[3]],s}return r}))}function sd(i,t,r){return Math.max(Math.min(r,t),i)}function uu(i,t){return Math.sign(i)===Math.sign(t)?i:-i}function Kr(i,t){return uu(Math.abs(i)**t,i)}function Dh(i,t){return t===0?0:i/t}function ad(i,t,r=0,n=i.length){for(;r&amp;lt;n;){let s=r+n&amp;gt;&amp;gt;1;i[s]&amp;lt;t?r=s+1:n=s}return r}var Th=class{add(t,r,n){if(typeof arguments[0]!=&amp;quot;string&amp;quot;){for(var t in arguments[0])this.add(t,arguments[0][t],arguments[1]);return}(Array.isArray(t)?t:[t]).forEach(function(s){this[s]=this[s]||[],r&amp;amp;&amp;amp;this[s][n?&amp;quot;unshift&amp;quot;:&amp;quot;push&amp;quot;](r)},this)}run(t,r){this[t]=this[t]||[],this[t].forEach(function(n){n.call(r&amp;amp;&amp;amp;r.context?r.context:r,r)})}},Uv=new Th,wn=Uv;var nr={D50:[.3457/.3585,1,(1-.3457-.3585)/.3585],D65:[.3127/.329,1,(1-.3127-.329)/.329]};function lu(i){return Array.isArray(i)?i:nr[i]}function Cn(i,t,r,n={}){if(i=lu(i),t=lu(t),!i||!t)throw new TypeError(`Missing white point to convert ${i?&amp;quot;&amp;quot;:&amp;quot;from&amp;quot;}${!i&amp;amp;&amp;amp;!t?&amp;quot;/&amp;quot;:&amp;quot;&amp;quot;}${t?&amp;quot;&amp;quot;:&amp;quot;to&amp;quot;}`);if(i===t)return r;let s={W1:i,W2:t,XYZ:r,options:n};if(wn.run(&amp;quot;chromatic-adaptation-start&amp;quot;,s),s.M||(s.W1===nr.D65&amp;amp;&amp;amp;s.W2===nr.D50?s.M=[[1.0479297925449969,.022946870601609652,-.05019226628920524],[.02962780877005599,.9904344267538799,-.017073799063418826],[-.009243040646204504,.015055191490298152,.7518742814281371]]:s.W1===nr.D50&amp;amp;&amp;amp;s.W2===nr.D65&amp;amp;&amp;amp;(s.M=[[.955473421488075,-.02309845494876471,.06325924320057072],[-.0283697093338637,1.0099953980813041,.021041441191917323],[.012314014864481998,-.020507649298898964,1.330365926242124]])),wn.run(&amp;quot;chromatic-adaptation-end&amp;quot;,s),s.M)return tt(s.M,s.XYZ);throw new TypeError(&amp;quot;Only Bradford CAT with white points D50 and D65 supported for now.&amp;quot;)}var yr={gamut_mapping:&amp;quot;css&amp;quot;,precision:5,deltaE:&amp;quot;76&amp;quot;,verbose:globalThis?.process?.env?.NODE_ENV?.toLowerCase()!==&amp;quot;test&amp;quot;,warn:function(t){this.verbose&amp;amp;&amp;amp;globalThis?.console?.warn?.(t)}};var Gv=new Set([&amp;quot;&amp;lt;number&amp;gt;&amp;quot;,&amp;quot;&amp;lt;percentage&amp;gt;&amp;quot;,&amp;quot;&amp;lt;angle&amp;gt;&amp;quot;]);function od(i,t,r,n){return Object.entries(i.coords).map(([a,o],u)=&amp;gt;{let h=t.coordGrammar[u],l=n[u],c=l?.type,p;if(l.none?p=h.find(m=&amp;gt;Gv.has(m)):p=h.find(m=&amp;gt;m==c),!p){let m=o.name||a;throw new TypeError(`${c??l.raw} not allowed for ${m} in ${r}()`)}let f=p.range;c===&amp;quot;&amp;lt;percentage&amp;gt;&amp;quot;&amp;amp;&amp;amp;(f||=[0,1]);let d=o.range||o.refRange;return f&amp;amp;&amp;amp;d&amp;amp;&amp;amp;(n[u]=ou(f,d,n[u])),p})}function cs(i,{meta:t}={}){let r={str:String(i)?.trim()};if(wn.run(&amp;quot;parse-start&amp;quot;,r),r.color)return r.color;if(r.parsed=rd(r.str),r.parsed){let n=r.parsed.name;if(n===&amp;quot;color&amp;quot;){let s=r.parsed.args.shift(),a=s.startsWith(&amp;quot;--&amp;quot;)?s.substring(2):`--${s}`,o=[s,a],u=r.parsed.rawArgs.indexOf(&amp;quot;/&amp;quot;)&amp;gt;0?r.parsed.args.pop():1;for(let c of be.all){let p=c.getFormat(&amp;quot;color&amp;quot;);if(p&amp;amp;&amp;amp;(o.includes(p.id)||p.ids?.filter(f=&amp;gt;o.includes(f)).length)){let f=Object.keys(c.coords).map((m,g)=&amp;gt;r.parsed.args[g]||0),d;return p.coordGrammar&amp;amp;&amp;amp;(d=od(c,p,&amp;quot;color&amp;quot;,f)),t&amp;amp;&amp;amp;Object.assign(t,{formatId:&amp;quot;color&amp;quot;,types:d}),p.id.startsWith(&amp;quot;--&amp;quot;)&amp;amp;&amp;amp;!s.startsWith(&amp;quot;--&amp;quot;)&amp;amp;&amp;amp;yr.warn(`${c.name} is a non-standard space and not currently supported in the CSS spec. Use prefixed color(${p.id}) instead of color(${s}).`),s.startsWith(&amp;quot;--&amp;quot;)&amp;amp;&amp;amp;!p.id.startsWith(&amp;quot;--&amp;quot;)&amp;amp;&amp;amp;yr.warn(`${c.name} is a standard space and supported in the CSS spec. Use color(${p.id}) instead of prefixed color(${s}).`),{spaceId:c.id,coords:f,alpha:u}}}let h=&amp;quot;&amp;quot;,l=s in be.registry?s:a;if(l in be.registry){let c=be.registry[l].formats?.color?.id;c&amp;amp;&amp;amp;(h=`Did you mean color(${c})?`)}throw new TypeError(`Cannot parse color(${s}). `+(h||&amp;quot;Missing a plugin?&amp;quot;))}else for(let s of be.all){let a=s.getFormat(n);if(a&amp;amp;&amp;amp;a.type===&amp;quot;function&amp;quot;){let o=1;(a.lastAlpha||id(r.parsed.args).alpha)&amp;amp;&amp;amp;(o=r.parsed.args.pop());let u=r.parsed.args,h;return a.coordGrammar&amp;amp;&amp;amp;(h=od(s,a,n,u)),t&amp;amp;&amp;amp;Object.assign(t,{formatId:a.name,types:h}),{spaceId:s.id,coords:u,alpha:o}}}}else for(let n of be.all)for(let s in n.formats){let a=n.formats[s];if(a.type!==&amp;quot;custom&amp;quot;||a.test&amp;amp;&amp;amp;!a.test(r.str))continue;let o=a.parse(r.str);if(o)return o.alpha??=1,t&amp;amp;&amp;amp;(t.formatId=s),o}throw new TypeError(`Could not parse ${i} as a color. Missing a plugin?`)}function je(i){if(Array.isArray(i))return i.map(je);if(!i)throw new TypeError(&amp;quot;Empty color reference&amp;quot;);su(i)&amp;amp;&amp;amp;(i=cs(i));let t=i.space||i.spaceId;return t instanceof be||(i.space=be.get(t)),i.alpha===void 0&amp;amp;&amp;amp;(i.alpha=1),i}var zv=75e-6,be=class i{constructor(t){this.id=t.id,this.name=t.name,this.base=t.base?i.get(t.base):null,this.aliases=t.aliases,this.base&amp;amp;&amp;amp;(this.fromBase=t.fromBase,this.toBase=t.toBase);let r=t.coords??this.base.coords;for(let s in r)&amp;quot;name&amp;quot;in r[s]||(r[s].name=s);this.coords=r;let n=t.white??this.base.white??&amp;quot;D65&amp;quot;;this.white=lu(n),this.formats=t.formats??{};for(let s in this.formats){let a=this.formats[s];a.type||=&amp;quot;function&amp;quot;,a.name||=s}this.formats.color?.id||(this.formats.color={...this.formats.color??{},id:t.cssId||this.id}),t.gamutSpace?this.gamutSpace=t.gamutSpace===&amp;quot;self&amp;quot;?this:i.get(t.gamutSpace):this.isPolar?this.gamutSpace=this.base:this.gamutSpace=this,this.gamutSpace.isUnbounded&amp;amp;&amp;amp;(this.inGamut=(s,a)=&amp;gt;!0),this.referred=t.referred,Object.defineProperty(this,&amp;quot;path&amp;quot;,{value:jv(this).reverse(),writable:!1,enumerable:!0,configurable:!0}),wn.run(&amp;quot;colorspace-init-end&amp;quot;,this)}inGamut(t,{epsilon:r=zv}={}){if(!this.equals(this.gamutSpace))return t=this.to(this.gamutSpace,t),this.gamutSpace.inGamut(t,{epsilon:r});let n=Object.values(this.coords);return t.every((s,a)=&amp;gt;{let o=n[a];if(o.type!==&amp;quot;angle&amp;quot;&amp;amp;&amp;amp;o.range){if(Number.isNaN(s))return!0;let[u,h]=o.range;return(u===void 0||s&amp;gt;=u-r)&amp;amp;&amp;amp;(h===void 0||s&amp;lt;=h+r)}return!0})}get isUnbounded(){return Object.values(this.coords).every(t=&amp;gt;!(&amp;quot;range&amp;quot;in t))}get cssId(){return this.formats?.color?.id||this.id}get isPolar(){for(let t in this.coords)if(this.coords[t].type===&amp;quot;angle&amp;quot;)return!0;return!1}getFormat(t){if(typeof t==&amp;quot;object&amp;quot;)return t=ud(t,this),t;let r;return t===&amp;quot;default&amp;quot;?r=Object.values(this.formats)[0]:r=this.formats[t],r?(r=ud(r,this),r):null}equals(t){return t?this===t||this.id===t||this.id===t.id:!1}to(t,r){if(arguments.length===1){let u=je(t);[t,r]=[u.space,u.coords]}if(t=i.get(t),this.equals(t))return r;r=r.map(u=&amp;gt;Number.isNaN(u)?0:u);let n=this.path,s=t.path,a,o;for(let u=0;u&amp;lt;n.length&amp;amp;&amp;amp;n[u].equals(s[u]);u++)a=n[u],o=u;if(!a)throw new Error(`Cannot convert between color spaces ${this} and ${t}: no connection space was found`);for(let u=n.length-1;u&amp;gt;o;u--)r=n[u].toBase(r);for(let u=o+1;u&amp;lt;s.length;u++)r=s[u].fromBase(r);return r}from(t,r){if(arguments.length===1){let n=je(t);[t,r]=[n.space,n.coords]}return t=i.get(t),t.to(this,r)}toString(){return`${this.name} (${this.id})`}getMinCoords(){let t=[];for(let r in this.coords){let n=this.coords[r],s=n.range||n.refRange;t.push(s?.min??0)}return t}static registry={};static get all(){return[...new Set(Object.values(i.registry))]}static register(t,r){if(arguments.length===1&amp;amp;&amp;amp;(r=arguments[0],t=r.id),r=this.get(r),this.registry[t]&amp;amp;&amp;amp;this.registry[t]!==r)throw new Error(`Duplicate color space registration: &amp;#39;${t}&amp;#39;`);if(this.registry[t]=r,arguments.length===1&amp;amp;&amp;amp;r.aliases)for(let n of r.aliases)this.register(n,r);return r}static get(t,...r){if(!t||t instanceof i)return t;if(gi(t)===&amp;quot;string&amp;quot;){let s=i.registry[t.toLowerCase()];if(!s)throw new TypeError(`No color space found with id = &amp;quot;${t}&amp;quot;`);return s}if(r.length)return i.get(...r);throw new TypeError(`${t} is not a valid color space`)}static resolveCoord(t,r){let n=gi(t),s,a;if(n===&amp;quot;string&amp;quot;?t.includes(&amp;quot;.&amp;quot;)?[s,a]=t.split(&amp;quot;.&amp;quot;):[s,a]=[,t]:Array.isArray(t)?[s,a]=t:(s=t.space,a=t.coordId),s=i.get(s),s||(s=r),!s)throw new TypeError(`Cannot resolve coordinate reference ${t}: No color space specified and relative references are not allowed here`);if(n=gi(a),n===&amp;quot;number&amp;quot;||n===&amp;quot;string&amp;quot;&amp;amp;&amp;amp;a&amp;gt;=0){let h=Object.entries(s.coords)[a];if(h)return{space:s,id:h[0],index:a,...h[1]}}s=i.get(s);let o=a.toLowerCase(),u=0;for(let h in s.coords){let l=s.coords[h];if(h.toLowerCase()===o||l.name?.toLowerCase()===o)return{space:s,id:h,index:u,...l};u++}throw new TypeError(`No &amp;quot;${a}&amp;quot; coordinate found in ${s.name}. Its coordinates are: ${Object.keys(s.coords).join(&amp;quot;, &amp;quot;)}`)}static DEFAULT_FORMAT={type:&amp;quot;functions&amp;quot;,name:&amp;quot;color&amp;quot;}};function jv(i){let t=[i];for(let r=i;r=r.base;)t.push(r);return t}function ud(i,{coords:t}={}){if(i.coords&amp;amp;&amp;amp;!i.coordGrammar){i.type||=&amp;quot;function&amp;quot;,i.name||=&amp;quot;color&amp;quot;,i.coordGrammar=nd(i.coords);let r=Object.entries(t).map(([n,s],a)=&amp;gt;{let o=i.coordGrammar[a][0],u=s.range||s.refRange,h=o.range,l=&amp;quot;&amp;quot;;return o==&amp;quot;&amp;lt;percentage&amp;gt;&amp;quot;?(h=[0,100],l=&amp;quot;%&amp;quot;):o==&amp;quot;&amp;lt;angle&amp;gt;&amp;quot;&amp;amp;&amp;amp;(l=&amp;quot;deg&amp;quot;),{fromRange:u,toRange:h,suffix:l}});i.serializeCoords=(n,s)=&amp;gt;n.map((a,o)=&amp;gt;{let{fromRange:u,toRange:h,suffix:l}=r[o];return u&amp;amp;&amp;amp;h&amp;amp;&amp;amp;(a=ou(u,h,a)),a=Na(a,{precision:s,unit:l}),a})}return i}var Yt=new be({id:&amp;quot;xyz-d65&amp;quot;,name:&amp;quot;XYZ D65&amp;quot;,coords:{x:{name:&amp;quot;X&amp;quot;},y:{name:&amp;quot;Y&amp;quot;},z:{name:&amp;quot;Z&amp;quot;}},white:&amp;quot;D65&amp;quot;,formats:{color:{ids:[&amp;quot;xyz-d65&amp;quot;,&amp;quot;xyz&amp;quot;]}},aliases:[&amp;quot;xyz&amp;quot;]});var Lr=class extends be{constructor(t){t.coords||(t.coords={r:{range:[0,1],name:&amp;quot;Red&amp;quot;},g:{range:[0,1],name:&amp;quot;Green&amp;quot;},b:{range:[0,1],name:&amp;quot;Blue&amp;quot;}}),t.base||(t.base=Yt),t.toXYZ_M&amp;amp;&amp;amp;t.fromXYZ_M&amp;amp;&amp;amp;(t.toBase??=r=&amp;gt;{let n=tt(t.toXYZ_M,r);return this.white!==this.base.white&amp;amp;&amp;amp;(n=Cn(this.white,this.base.white,n)),n},t.fromBase??=r=&amp;gt;(r=Cn(this.base.white,this.white,r),tt(t.fromXYZ_M,r))),t.referred??=&amp;quot;display&amp;quot;,super(t)}};function Ia(i,t){return i=je(i),!t||i.space.equals(t)?i.coords.slice():(t=be.get(t),t.from(i))}function Rr(i,t){i=je(i);let{space:r,index:n}=be.resolveCoord(t,i.space);return Ia(i,r)[n]}function hu(i,t,r){return i=je(i),t=be.get(t),i.coords=t.to(i.space,r),i}hu.returns=&amp;quot;color&amp;quot;;function Hi(i,t,r){if(i=je(i),arguments.length===2&amp;amp;&amp;amp;gi(arguments[1])===&amp;quot;object&amp;quot;){let n=arguments[1];for(let s in n)Hi(i,s,n[s])}else{typeof r==&amp;quot;function&amp;quot;&amp;amp;&amp;amp;(r=r(Rr(i,t)));let{space:n,index:s}=be.resolveCoord(t,i.space),a=Ia(i,n);a[s]=r,hu(i,n,a)}return i}Hi.returns=&amp;quot;color&amp;quot;;var ld=new be({id:&amp;quot;xyz-d50&amp;quot;,name:&amp;quot;XYZ D50&amp;quot;,white:&amp;quot;D50&amp;quot;,base:Yt,fromBase:i=&amp;gt;Cn(Yt.white,&amp;quot;D50&amp;quot;,i),toBase:i=&amp;gt;Cn(&amp;quot;D50&amp;quot;,Yt.white,i)});var $v=216/24389,hd=24/116,cu=24389/27,Nh=nr.D50,Rt=new be({id:&amp;quot;lab&amp;quot;,name:&amp;quot;Lab&amp;quot;,coords:{l:{refRange:[0,100],name:&amp;quot;Lightness&amp;quot;},a:{refRange:[-125,125]},b:{refRange:[-125,125]}},white:Nh,base:ld,fromBase(i){let r=i.map((n,s)=&amp;gt;n/Nh[s]).map(n=&amp;gt;n&amp;gt;$v?Math.cbrt(n):(cu*n+16)/116);return[116*r[1]-16,500*(r[0]-r[1]),200*(r[1]-r[2])]},toBase(i){let t=[];return t[1]=(i[0]+16)/116,t[0]=i[1]/500+t[1],t[2]=t[1]-i[2]/200,[t[0]&amp;gt;hd?Math.pow(t[0],3):(116*t[0]-16)/cu,i[0]&amp;gt;8?Math.pow((i[0]+16)/116,3):i[0]/cu,t[2]&amp;gt;hd?Math.pow(t[2],3):(116*t[2]-16)/cu].map((n,s)=&amp;gt;n*Nh[s])},formats:{lab:{coords:[&amp;quot;&amp;lt;number&amp;gt; | &amp;lt;percentage&amp;gt;&amp;quot;,&amp;quot;&amp;lt;number&amp;gt; | &amp;lt;percentage&amp;gt;[-1,1]&amp;quot;,&amp;quot;&amp;lt;number&amp;gt; | &amp;lt;percentage&amp;gt;[-1,1]&amp;quot;]}}});function Xt(i){return(i%360+360)%360}function cd(i,t){if(i===&amp;quot;raw&amp;quot;)return t;let[r,n]=t.map(Xt),s=n-r;return i===&amp;quot;increasing&amp;quot;?s&amp;lt;0&amp;amp;&amp;amp;(n+=360):i===&amp;quot;decreasing&amp;quot;?s&amp;gt;0&amp;amp;&amp;amp;(r+=360):i===&amp;quot;longer&amp;quot;?-180&amp;lt;s&amp;amp;&amp;amp;s&amp;lt;180&amp;amp;&amp;amp;(s&amp;gt;0?r+=360:n+=360):i===&amp;quot;shorter&amp;quot;&amp;amp;&amp;amp;(s&amp;gt;180?r+=360:s&amp;lt;-180&amp;amp;&amp;amp;(n+=360)),[r,n]}var Jr=new be({id:&amp;quot;lch&amp;quot;,name:&amp;quot;LCH&amp;quot;,coords:{l:{refRange:[0,100],name:&amp;quot;Lightness&amp;quot;},c:{refRange:[0,150],name:&amp;quot;Chroma&amp;quot;},h:{refRange:[0,360],type:&amp;quot;angle&amp;quot;,name:&amp;quot;Hue&amp;quot;}},base:Rt,fromBase(i){let[t,r,n]=i,s,a=.02;return Math.abs(r)&amp;lt;a&amp;amp;&amp;amp;Math.abs(n)&amp;lt;a?s=NaN:s=Math.atan2(n,r)*180/Math.PI,[t,Math.sqrt(r**2+n**2),Xt(s)]},toBase(i){let[t,r,n]=i;return r&amp;lt;0&amp;amp;&amp;amp;(r=0),isNaN(n)&amp;amp;&amp;amp;(n=0),[t,r*Math.cos(n*Math.PI/180),r*Math.sin(n*Math.PI/180)]},formats:{lch:{coords:[&amp;quot;&amp;lt;number&amp;gt; | &amp;lt;percentage&amp;gt;&amp;quot;,&amp;quot;&amp;lt;number&amp;gt; | &amp;lt;percentage&amp;gt;&amp;quot;,&amp;quot;&amp;lt;number&amp;gt; | &amp;lt;angle&amp;gt;&amp;quot;]}}});var fd=25**7,fu=Math.PI,pd=180/fu,fs=fu/180;function dd(i){let t=i*i;return t*t*t*i}function pu(i,t,{kL:r=1,kC:n=1,kH:s=1}={}){[i,t]=je([i,t]);let[a,o,u]=Rt.from(i),h=Jr.from(Rt,[a,o,u])[1],[l,c,p]=Rt.from(t),f=Jr.from(Rt,[l,c,p])[1];h&amp;lt;0&amp;amp;&amp;amp;(h=0),f&amp;lt;0&amp;amp;&amp;amp;(f=0);let d=(h+f)/2,m=dd(d),g=.5*(1-Math.sqrt(m/(m+fd))),v=(1+g)*o,w=(1+g)*c,y=Math.sqrt(v**2+u**2),S=Math.sqrt(w**2+p**2),_=v===0&amp;amp;&amp;amp;u===0?0:Math.atan2(u,v),b=w===0&amp;amp;&amp;amp;p===0?0:Math.atan2(p,w);_&amp;lt;0&amp;amp;&amp;amp;(_+=2*fu),b&amp;lt;0&amp;amp;&amp;amp;(b+=2*fu),_*=pd,b*=pd;let I=l-a,E=S-y,A=b-_,C=_+b,T=Math.abs(A),D;y*S===0?D=0:T&amp;lt;=180?D=A:A&amp;gt;180?D=A-360:A&amp;lt;-180?D=A+360:yr.warn(&amp;quot;the unthinkable has happened&amp;quot;);let F=2*Math.sqrt(S*y)*Math.sin(D*fs/2),N=(a+l)/2,B=(y+S)/2,U=dd(B),j;y*S===0?j=C:T&amp;lt;=180?j=C/2:C&amp;lt;360?j=(C+360)/2:j=(C-360)/2;let W=(N-50)**2,te=1+.015*W/Math.sqrt(20+W),X=1+.045*B,Z=1;Z-=.17*Math.cos((j-30)*fs),Z+=.24*Math.cos(2*j*fs),Z+=.32*Math.cos((3*j+6)*fs),Z-=.2*Math.cos((4*j-63)*fs);let G=1+.015*B*Z,q=30*Math.exp(-1*((j-275)/25)**2),J=2*Math.sqrt(U/(U+fd)),Y=-1*Math.sin(2*q*fs)*J,Q=(I/(r*te))**2;return Q+=(E/(n*X))**2,Q+=(F/(s*G))**2,Q+=Y*(E/(n*X))*(F/(s*G)),Math.sqrt(Q)}var Wv=[[.819022437996703,.3619062600528904,-.1288737815209879],[.0329836539323885,.9292868615863434,.0361446663506424],[.0481771893596242,.2642395317527308,.6335478284694309]],qv=[[1.2268798758459243,-.5578149944602171,.2813910456659647],[-.0405757452148008,1.112286803280317,-.0717110580655164],[-.0763729366746601,-.4214933324022432,1.5869240198367816]],Zv=[[.210454268309314,.7936177747023054,-.0040720430116193],[1.9779985324311684,-2.42859224204858,.450593709617411],[.0259040424655478,.7827717124575296,-.8086757549230774]],Yv=[[1,.3963377773761749,.2158037573099136],[1,-.1055613458156586,-.0638541728258133],[1,-.0894841775298119,-1.2914855480194092]],vr=new be({id:&amp;quot;oklab&amp;quot;,name:&amp;quot;Oklab&amp;quot;,coords:{l:{refRange:[0,1],name:&amp;quot;Lightness&amp;quot;},a:{refRange:[-.4,.4]},b:{refRange:[-.4,.4]}},white:&amp;quot;D65&amp;quot;,base:Yt,fromBase(i){let r=tt(Wv,i).map(n=&amp;gt;Math.cbrt(n));return tt(Zv,r)},toBase(i){let r=tt(Yv,i).map(n=&amp;gt;n**3);return tt(qv,r)},formats:{oklab:{coords:[&amp;quot;&amp;lt;percentage&amp;gt; | &amp;lt;number&amp;gt;&amp;quot;,&amp;quot;&amp;lt;number&amp;gt; | &amp;lt;percentage&amp;gt;[-1,1]&amp;quot;,&amp;quot;&amp;lt;number&amp;gt; | &amp;lt;percentage&amp;gt;[-1,1]&amp;quot;]}}});function ka(i,t){[i,t]=je([i,t]);let[r,n,s]=vr.from(i),[a,o,u]=vr.from(t),h=r-a,l=n-o,c=s-u;return Math.sqrt(h**2+l**2+c**2)}var Xv=75e-6;function yi(i,t,{epsilon:r=Xv}={}){i=je(i),t||(t=i.space),t=be.get(t);let n=i.coords;return t!==i.space&amp;amp;&amp;amp;(n=t.from(i)),t.inGamut(n,{epsilon:r})}function vi(i){return{space:i.space,coords:i.coords.slice(),alpha:i.alpha}}function Ih(i,t,r=&amp;quot;lab&amp;quot;){r=be.get(r);let n=r.from(i),s=r.from(t);return Math.sqrt(n.reduce((a,o,u)=&amp;gt;{let h=s[u];return isNaN(o)||isNaN(h)?a:a+(h-o)**2},0))}function kh(i,t){return Ih(i,t,&amp;quot;lab&amp;quot;)}var Kv=Math.PI,md=Kv/180;function gd(i,t,{l:r=2,c:n=1}={}){[i,t]=je([i,t]);let[s,a,o]=Rt.from(i),[,u,h]=Jr.from(Rt,[s,a,o]),[l,c,p]=Rt.from(t),f=Jr.from(Rt,[l,c,p])[1];u&amp;lt;0&amp;amp;&amp;amp;(u=0),f&amp;lt;0&amp;amp;&amp;amp;(f=0);let d=s-l,m=u-f,g=a-c,v=o-p,w=g**2+v**2-m**2,y=.511;s&amp;gt;=16&amp;amp;&amp;amp;(y=.040975*s/(1+.01765*s));let S=.0638*u/(1+.0131*u)+.638,_;Number.isNaN(h)&amp;amp;&amp;amp;(h=0),h&amp;gt;=164&amp;amp;&amp;amp;h&amp;lt;=345?_=.56+Math.abs(.2*Math.cos((h+168)*md)):_=.36+Math.abs(.4*Math.cos((h+35)*md));let b=Math.pow(u,4),I=Math.sqrt(b/(b+1900)),E=S*(I*_+1-I),A=(d/(r*y))**2;return A+=(m/(n*S))**2,A+=w/E**2,Math.sqrt(A)}var yd=203,du=new be({id:&amp;quot;xyz-abs-d65&amp;quot;,cssId:&amp;quot;--xyz-abs-d65&amp;quot;,name:&amp;quot;Absolute XYZ D65&amp;quot;,coords:{x:{refRange:[0,9504.7],name:&amp;quot;Xa&amp;quot;},y:{refRange:[0,1e4],name:&amp;quot;Ya&amp;quot;},z:{refRange:[0,10888.3],name:&amp;quot;Za&amp;quot;}},base:Yt,fromBase(i){return i.map(t=&amp;gt;Math.max(t*yd,0))},toBase(i){return i.map(t=&amp;gt;Math.max(t/yd,0))}});var mu=1.15,gu=.66,vd=2610/2**14,Jv=2**14/2610,xd=3424/2**12,bd=2413/2**7,_d=2392/2**7,Qv=1.7*2523/2**5,wd=2**5/(1.7*2523),yu=-.56,Mh=16295499532821565e-27,ex=[[.41478972,.579999,.014648],[-.20151,1.120649,.0531008],[-.0166008,.2648,.6684799]],tx=[[1.9242264357876067,-1.0047923125953657,.037651404030618],[.35031676209499907,.7264811939316552,-.06538442294808501],[-.09098281098284752,-.3127282905230739,1.5227665613052603]],rx=[[.5,.5,0],[3.524,-4.066708,.542708],[.199076,1.096799,-1.295875]],ix=[[1,.1386050432715393,.05804731615611886],[.9999999999999999,-.1386050432715393,-.05804731615611886],[.9999999999999998,-.09601924202631895,-.8118918960560388]],Cd=new be({id:&amp;quot;jzazbz&amp;quot;,name:&amp;quot;Jzazbz&amp;quot;,coords:{jz:{refRange:[0,1],name:&amp;quot;Jz&amp;quot;},az:{refRange:[-.5,.5]},bz:{refRange:[-.5,.5]}},base:du,fromBase(i){let[t,r,n]=i,s=mu*t-(mu-1)*n,a=gu*r-(gu-1)*t,u=tt(ex,[s,a,n]).map(function(f){let d=xd+bd*(f/1e4)**vd,m=1+_d*(f/1e4)**vd;return(d/m)**Qv}),[h,l,c]=tt(rx,u);return[(1+yu)*h/(1+yu*h)-Mh,l,c]},toBase(i){let[t,r,n]=i,s=(t+Mh)/(1+yu-yu*(t+Mh)),o=tt(ix,[s,r,n]).map(function(f){let d=xd-f**wd,m=_d*f**wd-bd;return 1e4*(d/m)**Jv}),[u,h,l]=tt(tx,o),c=(u+(mu-1)*l)/mu,p=(h+(gu-1)*c)/gu;return[c,p,l]},formats:{color:{coords:[&amp;quot;&amp;lt;number&amp;gt; | &amp;lt;percentage&amp;gt;&amp;quot;,&amp;quot;&amp;lt;number&amp;gt; | &amp;lt;percentage&amp;gt;[-1,1]&amp;quot;,&amp;quot;&amp;lt;number&amp;gt; | &amp;lt;percentage&amp;gt;[-1,1]&amp;quot;]}}});var Lh=new be({id:&amp;quot;jzczhz&amp;quot;,name:&amp;quot;JzCzHz&amp;quot;,coords:{jz:{refRange:[0,1],name:&amp;quot;Jz&amp;quot;},cz:{refRange:[0,1],name:&amp;quot;Chroma&amp;quot;},hz:{refRange:[0,360],type:&amp;quot;angle&amp;quot;,name:&amp;quot;Hue&amp;quot;}},base:Cd,fromBase(i){let[t,r,n]=i,s,a=2e-4;return Math.abs(r)&amp;lt;a&amp;amp;&amp;amp;Math.abs(n)&amp;lt;a?s=NaN:s=Math.atan2(n,r)*180/Math.PI,[t,Math.sqrt(r**2+n**2),Xt(s)]},toBase(i){return[i[0],i[1]*Math.cos(i[2]*Math.PI/180),i[1]*Math.sin(i[2]*Math.PI/180)]}});function Ed(i,t){[i,t]=je([i,t]);let[r,n,s]=Lh.from(i),[a,o,u]=Lh.from(t),h=r-a,l=n-o;Number.isNaN(s)&amp;amp;&amp;amp;Number.isNaN(u)?(s=0,u=0):Number.isNaN(s)?s=u:Number.isNaN(u)&amp;amp;&amp;amp;(u=s);let c=s-u,p=2*Math.sqrt(n*o)*Math.sin(c/2*(Math.PI/180));return Math.sqrt(h**2+l**2+p**2)}var Dd=3424/4096,Fd=2413/128,Td=2392/128,Sd=2610/16384,nx=2523/32,sx=16384/2610,Ad=32/2523,ax=[[.3592832590121217,.6976051147779502,-.035891593232029],[-.1920808463704993,1.100476797037432,.0753748658519118],[.0070797844607479,.0748396662186362,.8433265453898765]],ox=[[2048/4096,2048/4096,0],[6610/4096,-13613/4096,7003/4096],[17933/4096,-17390/4096,-543/4096]],ux=[[.9999999999999998,.0086090370379328,.111029625003026],[.9999999999999998,-.0086090370379328,-.1110296250030259],[.9999999999999998,.5600313357106791,-.3206271749873188]],lx=[[2.0701522183894223,-1.3263473389671563,.2066510476294053],[.3647385209748072,.6805660249472273,-.0453045459220347],[-.0497472075358123,-.0492609666966131,1.1880659249923042]],Rh=new be({id:&amp;quot;ictcp&amp;quot;,name:&amp;quot;ICTCP&amp;quot;,coords:{i:{refRange:[0,1],name:&amp;quot;I&amp;quot;},ct:{refRange:[-.5,.5],name:&amp;quot;CT&amp;quot;},cp:{refRange:[-.5,.5],name:&amp;quot;CP&amp;quot;}},base:du,fromBase(i){let t=tt(ax,i);return hx(t)},toBase(i){let t=cx(i);return tt(lx,t)}});function hx(i){let t=i.map(function(r){let n=Dd+Fd*(r/1e4)**Sd,s=1+Td*(r/1e4)**Sd;return(n/s)**nx});return tt(ox,t)}function cx(i){return tt(ux,i).map(function(n){let s=Math.max(n**Ad-Dd,0),a=Fd-Td*n**Ad;return 1e4*(s/a)**sx})}function Nd(i,t){[i,t]=je([i,t]);let[r,n,s]=Rh.from(i),[a,o,u]=Rh.from(t);return 720*Math.sqrt((r-a)**2+.25*(n-o)**2+(s-u)**2)}var fx=nr.D65,Ld=.42,Id=1/Ld,Bh=2*Math.PI,Rd=[[.401288,.650173,-.051461],[-.250268,1.204414,.045854],[-.002079,.048952,.953127]],px=[[1.8620678550872327,-1.0112546305316843,.14918677544445175],[.38752654323613717,.6214474419314753,-.008973985167612518],[-.015841498849333856,-.03412293802851557,1.0499644368778496]],dx=[[460,451,288],[460,-891,-261],[460,-220,-6300]],mx={dark:[.8,.525,.8],dim:[.9,.59,.9],average:[1,.69,1]},En={h:[20.14,90,164.25,237.53,380.14],e:[.8,.7,1,1.2,.8],H:[0,100,200,300,400]},gx=180/Math.PI,kd=Math.PI/180;function Bd(i,t){return i.map(n=&amp;gt;{let s=Kr(t*Math.abs(n)*.01,Ld);return 400*uu(s,n)/(s+27.13)})}function yx(i,t){let r=100/t*27.13**Id;return i.map(n=&amp;gt;{let s=Math.abs(n);return uu(r*Kr(s/(400-s),Id),n)})}function vx(i){let t=Xt(i);t&amp;lt;=En.h[0]&amp;amp;&amp;amp;(t+=360);let r=ad(En.h,t)-1,[n,s]=En.h.slice(r,r+2),[a,o]=En.e.slice(r,r+2),u=En.H[r],h=(t-n)/a;return u+100*h/(h+(s-t)/o)}function xx(i){let t=(i%400+400)%400,r=Math.floor(.01*t);t=t%100;let[n,s]=En.h.slice(r,r+2),[a,o]=En.e.slice(r,r+2);return Xt((t*(o*n-a*s)-100*n*o)/(t*(o-a)-100*o))}function Ph(i,t,r,n,s){let a={};a.discounting=s,a.refWhite=i,a.surround=n;let o=i.map(g=&amp;gt;g*100);a.la=t,a.yb=r;let u=o[1],h=tt(Rd,o);n=mx[a.surround];let l=n[0];a.c=n[1],a.nc=n[2];let p=(1/(5*a.la+1))**4;a.fl=p*a.la+.1*(1-p)*(1-p)*Math.cbrt(5*a.la),a.flRoot=a.fl**.25,a.n=a.yb/u,a.z=1.48+Math.sqrt(a.n),a.nbb=.725*a.n**-.2,a.ncb=a.nbb;let f=s?1:Math.max(Math.min(l*(1-1/3.6*Math.exp((-a.la-42)/92)),1),0);a.dRgb=h.map(g=&amp;gt;hs(1,u/g,f)),a.dRgbInv=a.dRgb.map(g=&amp;gt;1/g);let d=h.map((g,v)=&amp;gt;g*a.dRgb[v]),m=Bd(d,a.fl);return a.aW=a.nbb*(2*m[0]+m[1]+.05*m[2]),a}var Md=Ph(fx,64/Math.PI*.2,20,&amp;quot;average&amp;quot;,!1);function vu(i,t){if(!(i.J!==void 0^i.Q!==void 0))throw new Error(&amp;quot;Conversion requires one and only one: &amp;#39;J&amp;#39; or &amp;#39;Q&amp;#39;&amp;quot;);if(!(i.C!==void 0^i.M!==void 0^i.s!==void 0))throw new Error(&amp;quot;Conversion requires one and only one: &amp;#39;C&amp;#39;, &amp;#39;M&amp;#39; or &amp;#39;s&amp;#39;&amp;quot;);if(!(i.h!==void 0^i.H!==void 0))throw new Error(&amp;quot;Conversion requires one and only one: &amp;#39;h&amp;#39; or &amp;#39;H&amp;#39;&amp;quot;);if(i.J===0||i.Q===0)return[0,0,0];let r=0;i.h!==void 0?r=Xt(i.h)*kd:r=xx(i.H)*kd;let n=Math.cos(r),s=Math.sin(r),a=0;i.J!==void 0?a=Kr(i.J,1/2)*.1:i.Q!==void 0&amp;amp;&amp;amp;(a=.25*t.c*i.Q/((t.aW+4)*t.flRoot));let o=0;i.C!==void 0?o=i.C/a:i.M!==void 0?o=i.M/t.flRoot/a:i.s!==void 0&amp;amp;&amp;amp;(o=4e-4*i.s**2*(t.aW+4)/t.c);let u=Kr(o*Math.pow(1.64-Math.pow(.29,t.n),-.73),10/9),h=.25*(Math.cos(r+2)+3.8),l=t.aW*Kr(a,2/t.c/t.z),c=5e4/13*t.nc*t.ncb*h,p=l/t.nbb,f=23*(p+.305)*Dh(u,23*c+u*(11*n+108*s)),d=f*n,m=f*s,g=yx(tt(dx,[p,d,m]).map(v=&amp;gt;v*1/1403),t.fl);return tt(px,g.map((v,w)=&amp;gt;v*t.dRgbInv[w])).map(v=&amp;gt;v/100)}function Oh(i,t){let r=i.map(S=&amp;gt;S*100),n=Bd(tt(Rd,r).map((S,_)=&amp;gt;S*t.dRgb[_]),t.fl),s=n[0]+(-12*n[1]+n[2])/11,a=(n[0]+n[1]-2*n[2])/9,o=(Math.atan2(a,s)%Bh+Bh)%Bh,u=.25*(Math.cos(o+2)+3.8),h=5e4/13*t.nc*t.ncb*Dh(u*Math.sqrt(s**2+a**2),n[0]+n[1]+1.05*n[2]+.305),l=Kr(h,.9)*Math.pow(1.64-Math.pow(.29,t.n),.73),c=t.nbb*(2*n[0]+n[1]+.05*n[2]),p=Kr(c/t.aW,.5*t.c*t.z),f=100*Kr(p,2),d=4/t.c*p*(t.aW+4)*t.flRoot,m=l*p,g=m*t.flRoot,v=Xt(o*gx),w=vx(v),y=50*Kr(t.c*l/(t.aW+4),1/2);return{J:f,C:m,h:v,s:y,Q:d,M:g,H:w}}var QA=new be({id:&amp;quot;cam16-jmh&amp;quot;,cssId:&amp;quot;--cam16-jmh&amp;quot;,name:&amp;quot;CAM16-JMh&amp;quot;,coords:{j:{refRange:[0,100],name:&amp;quot;J&amp;quot;},m:{refRange:[0,105],name:&amp;quot;Colorfulness&amp;quot;},h:{refRange:[0,360],type:&amp;quot;angle&amp;quot;,name:&amp;quot;Hue&amp;quot;}},base:Yt,fromBase(i){let t=Oh(i,Md);return[t.J,t.M,t.h]},toBase(i){return vu({J:i[0],M:i[1],h:i[2]},Md)}});var bx=nr.D65,_x=216/24389,Pd=24389/27;function wx(i){return 116*(i&amp;gt;_x?Math.cbrt(i):(Pd*i+16)/116)-16}function Vh(i){return i&amp;gt;8?Math.pow((i+16)/116,3):i/Pd}function Cx(i,t){let[r,n,s]=i,a=[],o=0;if(s===0)return[0,0,0];let u=Vh(s);s&amp;gt;0?o=.00379058511492914*s**2+.608983189401032*s+.9155088574762233:o=9514440756550361e-21*s**2+.08693057439788597*s-21.928975842194614;let h=2e-12,l=15,c=0,p=1/0,f=o;for(;c&amp;lt;=l;){a=vu({J:o,C:n,h:r},t);let d=Math.abs(a[1]-u);if(d&amp;lt;p){if(d&amp;lt;=h)return a;f=o,p=d}o=o-(a[1]-u)*o/(2*a[1]),c+=1}return vu({J:o,C:n,h:r},t)}function Ex(i,t){let r=wx(i[1]);if(r===0)return[0,0,0];let n=Oh(i,Ma);return[Xt(n.h),n.C,r]}var Ma=Ph(bx,200/Math.PI*Vh(50),Vh(50)*100,&amp;quot;average&amp;quot;,!1),La=new be({id:&amp;quot;hct&amp;quot;,name:&amp;quot;HCT&amp;quot;,coords:{h:{refRange:[0,360],type:&amp;quot;angle&amp;quot;,name:&amp;quot;Hue&amp;quot;},c:{refRange:[0,145],name:&amp;quot;Colorfulness&amp;quot;},t:{refRange:[0,100],name:&amp;quot;Tone&amp;quot;}},base:Yt,fromBase(i){return Ex(i,Ma)},toBase(i){return Cx(i,Ma)},formats:{color:{id:&amp;quot;--hct&amp;quot;,coords:[&amp;quot;&amp;lt;number&amp;gt; | &amp;lt;angle&amp;gt;&amp;quot;,&amp;quot;&amp;lt;percentage&amp;gt; | &amp;lt;number&amp;gt;&amp;quot;,&amp;quot;&amp;lt;percentage&amp;gt; | &amp;lt;number&amp;gt;&amp;quot;]}}});var hD=180/Math.PI,Sx=Math.PI/180,Od=[1,.007,.0228];function Vd(i){i[1]&amp;lt;0&amp;amp;&amp;amp;(i=La.fromBase(La.toBase(i)));let t=Math.log(Math.max(1+Od[2]*i[1]*Ma.flRoot,1))/Od[2],r=i[0]*Sx,n=t*Math.cos(r),s=t*Math.sin(r);return[i[2],n,s]}function Ud(i,t){[i,t]=je([i,t]);let[r,n,s]=Vd(La.from(i)),[a,o,u]=Vd(La.from(t));return Math.sqrt((r-a)**2+(n-o)**2+(s-u)**2)}var Uh={deltaE76:kh,deltaECMC:gd,deltaE2000:pu,deltaEJz:Ed,deltaEITP:Nd,deltaEOK:ka,deltaEHCT:Ud};function Ax(i){let t=i?Math.floor(Math.log10(Math.abs(i))):0;return Math.max(parseFloat(`1e${t-2}`),1e-6)}var Gd={hct:{method:&amp;quot;hct.c&amp;quot;,jnd:2,deltaEMethod:&amp;quot;hct&amp;quot;,blackWhiteClamp:{}},&amp;quot;hct-tonal&amp;quot;:{method:&amp;quot;hct.c&amp;quot;,jnd:0,deltaEMethod:&amp;quot;hct&amp;quot;,blackWhiteClamp:{channel:&amp;quot;hct.t&amp;quot;,min:0,max:100}}};function Br(i,{method:t=yr.gamut_mapping,space:r=void 0,deltaEMethod:n=&amp;quot;&amp;quot;,jnd:s=2,blackWhiteClamp:a={}}={}){if(i=je(i),su(arguments[1])?r=arguments[1]:r||(r=i.space),r=be.get(r),yi(i,r,{epsilon:0}))return i;let o;if(t===&amp;quot;css&amp;quot;)o=Dx(i,{space:r});else{if(t!==&amp;quot;clip&amp;quot;&amp;amp;&amp;amp;!yi(i,r)){Object.prototype.hasOwnProperty.call(Gd,t)&amp;amp;&amp;amp;({method:t,jnd:s,deltaEMethod:n,blackWhiteClamp:a}=Gd[t]);let u=pu;if(n!==&amp;quot;&amp;quot;){for(let l in Uh)if(&amp;quot;deltae&amp;quot;+n.toLowerCase()===l.toLowerCase()){u=Uh[l];break}}let h=Br(Ve(i,r),{method:&amp;quot;clip&amp;quot;,space:r});if(u(i,h)&amp;gt;s){if(Object.keys(a).length===3){let y=be.resolveCoord(a.channel),S=Rr(Ve(i,y.space),y.id);if(au(S)&amp;amp;&amp;amp;(S=0),S&amp;gt;=a.max)return Ve({space:&amp;quot;xyz-d65&amp;quot;,coords:nr.D65},i.space);if(S&amp;lt;=a.min)return Ve({space:&amp;quot;xyz-d65&amp;quot;,coords:[0,0,0]},i.space)}let l=be.resolveCoord(t),c=l.space,p=l.id,f=Ve(i,c);f.coords.forEach((y,S)=&amp;gt;{au(y)&amp;amp;&amp;amp;(f.coords[S]=0)});let m=(l.range||l.refRange)[0],g=Ax(s),v=m,w=Rr(f,p);for(;w-v&amp;gt;g;){let y=vi(f);y=Br(y,{space:r,method:&amp;quot;clip&amp;quot;}),u(f,y)-s&amp;lt;g?v=Rr(f,p):w=Rr(f,p),Hi(f,p,(v+w)/2)}o=Ve(f,r)}else o=h}else o=Ve(i,r);if(t===&amp;quot;clip&amp;quot;||!yi(o,r,{epsilon:0})){let u=Object.values(r.coords).map(h=&amp;gt;h.range||[]);o.coords=o.coords.map((h,l)=&amp;gt;{let[c,p]=u[l];return c!==void 0&amp;amp;&amp;amp;(h=Math.max(c,h)),p!==void 0&amp;amp;&amp;amp;(h=Math.min(h,p)),h})}}return r!==i.space&amp;amp;&amp;amp;(o=Ve(o,i.space)),i.coords=o.coords,i}Br.returns=&amp;quot;color&amp;quot;;var zd={WHITE:{space:vr,coords:[1,0,0]},BLACK:{space:vr,coords:[0,0,0]}};function Dx(i,{space:t}={}){i=je(i),t||(t=i.space),t=be.get(t);let s=be.get(&amp;quot;oklch&amp;quot;);if(t.isUnbounded)return Ve(i,t);let a=Ve(i,s),o=a.coords[0];if(o&amp;gt;=1){let m=Ve(zd.WHITE,t);return m.alpha=i.alpha,Ve(m,t)}if(o&amp;lt;=0){let m=Ve(zd.BLACK,t);return m.alpha=i.alpha,Ve(m,t)}if(yi(a,t,{epsilon:0}))return Ve(a,t);function u(m){let g=Ve(m,t),v=Object.values(t.coords);return g.coords=g.coords.map((w,y)=&amp;gt;{if(&amp;quot;range&amp;quot;in v[y]){let[S,_]=v[y].range;return sd(S,w,_)}return w}),g}let h=0,l=a.coords[1],c=!0,p=vi(a),f=u(p),d=ka(f,p);if(d&amp;lt;.02)return f;for(;l-h&amp;gt;1e-4;){let m=(h+l)/2;if(p.coords[1]=m,c&amp;amp;&amp;amp;yi(p,t,{epsilon:0}))h=m;else if(f=u(p),d=ka(f,p),d&amp;lt;.02){if(.02-d&amp;lt;1e-4)break;c=!1,h=m}else l=m}return f}function Ve(i,t,{inGamut:r}={}){i=je(i),t=be.get(t);let n=t.from(i),s={space:t,coords:n,alpha:i.alpha};return r&amp;amp;&amp;amp;(s=Br(s,r===!0?void 0:r)),s}Ve.returns=&amp;quot;color&amp;quot;;function xu(i,{precision:t=yr.precision,format:r=&amp;quot;default&amp;quot;,inGamut:n=!0,...s}={}){let a;i=je(i);let o=r;r=i.space.getFormat(r)??i.space.getFormat(&amp;quot;default&amp;quot;)??be.DEFAULT_FORMAT;let u=i.coords.slice();if(n||=r.toGamut,n&amp;amp;&amp;amp;!yi(i)&amp;amp;&amp;amp;(u=Br(vi(i),n===!0?void 0:n).coords),r.type===&amp;quot;custom&amp;quot;)if(s.precision=t,r.serialize)a=r.serialize(u,i.alpha,s);else throw new TypeError(`format ${o} can only be used to parse colors, not for serialization`);else{let h=r.name||&amp;quot;color&amp;quot;;r.serializeCoords?u=r.serializeCoords(u,t):t!==null&amp;amp;&amp;amp;(u=u.map(f=&amp;gt;Na(f,{precision:t})));let l=[...u];if(h===&amp;quot;color&amp;quot;){let f=r.id||r.ids?.[0]||i.space.id;l.unshift(f)}let c=i.alpha;t!==null&amp;amp;&amp;amp;(c=Na(c,{precision:t}));let p=i.alpha&amp;gt;=1||r.noAlpha?&amp;quot;&amp;quot;:`${r.commas?&amp;quot;,&amp;quot;:&amp;quot; /&amp;quot;} ${c}`;a=`${h}(${l.join(r.commas?&amp;quot;, &amp;quot;:&amp;quot; &amp;quot;)}${p})`}return a}var Fx=[[.4865709486482162,.26566769316909306,.1982172852343625],[.2289745640697488,.6917385218365064,.079286914093745],[0,.04511338185890264,1.043944368900976]],Tx=[[2.493496911941425,-.9313836179191239,-.40271078445071684],[-.8294889695615747,1.7626640603183463,.023624685841943577],[.03584583024378447,-.07617238926804182,.9568845240076872]],jd=new Lr({id:&amp;quot;p3-linear&amp;quot;,cssId:&amp;quot;--display-p3-linear&amp;quot;,name:&amp;quot;Linear P3&amp;quot;,white:&amp;quot;D65&amp;quot;,toXYZ_M:Fx,fromXYZ_M:Tx});var Nx=[[.41239079926595934,.357584339383878,.1804807884018343],[.21263900587151027,.715168678767756,.07219231536073371],[.01933081871559182,.11919477979462598,.9505321522496607]],Ix=[[3.2409699419045226,-1.537383177570094,-.4986107602930034],[-.9692436362808796,1.8759675015077202,.04155505740717559],[.05563007969699366,-.20397695888897652,1.0569715142428786]],$d=new Lr({id:&amp;quot;srgb-linear&amp;quot;,name:&amp;quot;Linear sRGB&amp;quot;,white:&amp;quot;D65&amp;quot;,toXYZ_M:Nx,fromXYZ_M:Ix});var Gh={aliceblue:[240/255,248/255,1],antiquewhite:[250/255,235/255,215/255],aqua:[0,1,1],aquamarine:[127/255,1,212/255],azure:[240/255,1,1],beige:[245/255,245/255,220/255],bisque:[1,228/255,196/255],black:[0,0,0],blanchedalmond:[1,235/255,205/255],blue:[0,0,1],blueviolet:[138/255,43/255,226/255],brown:[165/255,42/255,42/255],burlywood:[222/255,184/255,135/255],cadetblue:[95/255,158/255,160/255],chartreuse:[127/255,1,0],chocolate:[210/255,105/255,30/255],coral:[1,127/255,80/255],cornflowerblue:[100/255,149/255,237/255],cornsilk:[1,248/255,220/255],crimson:[220/255,20/255,60/255],cyan:[0,1,1],darkblue:[0,0,139/255],darkcyan:[0,139/255,139/255],darkgoldenrod:[184/255,134/255,11/255],darkgray:[169/255,169/255,169/255],darkgreen:[0,100/255,0],darkgrey:[169/255,169/255,169/255],darkkhaki:[189/255,183/255,107/255],darkmagenta:[139/255,0,139/255],darkolivegreen:[85/255,107/255,47/255],darkorange:[1,140/255,0],darkorchid:[153/255,50/255,204/255],darkred:[139/255,0,0],darksalmon:[233/255,150/255,122/255],darkseagreen:[143/255,188/255,143/255],darkslateblue:[72/255,61/255,139/255],darkslategray:[47/255,79/255,79/255],darkslategrey:[47/255,79/255,79/255],darkturquoise:[0,206/255,209/255],darkviolet:[148/255,0,211/255],deeppink:[1,20/255,147/255],deepskyblue:[0,191/255,1],dimgray:[105/255,105/255,105/255],dimgrey:[105/255,105/255,105/255],dodgerblue:[30/255,144/255,1],firebrick:[178/255,34/255,34/255],floralwhite:[1,250/255,240/255],forestgreen:[34/255,139/255,34/255],fuchsia:[1,0,1],gainsboro:[220/255,220/255,220/255],ghostwhite:[248/255,248/255,1],gold:[1,215/255,0],goldenrod:[218/255,165/255,32/255],gray:[128/255,128/255,128/255],green:[0,128/255,0],greenyellow:[173/255,1,47/255],grey:[128/255,128/255,128/255],honeydew:[240/255,1,240/255],hotpink:[1,105/255,180/255],indianred:[205/255,92/255,92/255],indigo:[75/255,0,130/255],ivory:[1,1,240/255],khaki:[240/255,230/255,140/255],lavender:[230/255,230/255,250/255],lavenderblush:[1,240/255,245/255],lawngreen:[124/255,252/255,0],lemonchiffon:[1,250/255,205/255],lightblue:[173/255,216/255,230/255],lightcoral:[240/255,128/255,128/255],lightcyan:[224/255,1,1],lightgoldenrodyellow:[250/255,250/255,210/255],lightgray:[211/255,211/255,211/255],lightgreen:[144/255,238/255,144/255],lightgrey:[211/255,211/255,211/255],lightpink:[1,182/255,193/255],lightsalmon:[1,160/255,122/255],lightseagreen:[32/255,178/255,170/255],lightskyblue:[135/255,206/255,250/255],lightslategray:[119/255,136/255,153/255],lightslategrey:[119/255,136/255,153/255],lightsteelblue:[176/255,196/255,222/255],lightyellow:[1,1,224/255],lime:[0,1,0],limegreen:[50/255,205/255,50/255],linen:[250/255,240/255,230/255],magenta:[1,0,1],maroon:[128/255,0,0],mediumaquamarine:[102/255,205/255,170/255],mediumblue:[0,0,205/255],mediumorchid:[186/255,85/255,211/255],mediumpurple:[147/255,112/255,219/255],mediumseagreen:[60/255,179/255,113/255],mediumslateblue:[123/255,104/255,238/255],mediumspringgreen:[0,250/255,154/255],mediumturquoise:[72/255,209/255,204/255],mediumvioletred:[199/255,21/255,133/255],midnightblue:[25/255,25/255,112/255],mintcream:[245/255,1,250/255],mistyrose:[1,228/255,225/255],moccasin:[1,228/255,181/255],navajowhite:[1,222/255,173/255],navy:[0,0,128/255],oldlace:[253/255,245/255,230/255],olive:[128/255,128/255,0],olivedrab:[107/255,142/255,35/255],orange:[1,165/255,0],orangered:[1,69/255,0],orchid:[218/255,112/255,214/255],palegoldenrod:[238/255,232/255,170/255],palegreen:[152/255,251/255,152/255],paleturquoise:[175/255,238/255,238/255],palevioletred:[219/255,112/255,147/255],papayawhip:[1,239/255,213/255],peachpuff:[1,218/255,185/255],peru:[205/255,133/255,63/255],pink:[1,192/255,203/255],plum:[221/255,160/255,221/255],powderblue:[176/255,224/255,230/255],purple:[128/255,0,128/255],rebeccapurple:[102/255,51/255,153/255],red:[1,0,0],rosybrown:[188/255,143/255,143/255],royalblue:[65/255,105/255,225/255],saddlebrown:[139/255,69/255,19/255],salmon:[250/255,128/255,114/255],sandybrown:[244/255,164/255,96/255],seagreen:[46/255,139/255,87/255],seashell:[1,245/255,238/255],sienna:[160/255,82/255,45/255],silver:[192/255,192/255,192/255],skyblue:[135/255,206/255,235/255],slateblue:[106/255,90/255,205/255],slategray:[112/255,128/255,144/255],slategrey:[112/255,128/255,144/255],snow:[1,250/255,250/255],springgreen:[0,1,127/255],steelblue:[70/255,130/255,180/255],tan:[210/255,180/255,140/255],teal:[0,128/255,128/255],thistle:[216/255,191/255,216/255],tomato:[1,99/255,71/255],turquoise:[64/255,224/255,208/255],violet:[238/255,130/255,238/255],wheat:[245/255,222/255,179/255],white:[1,1,1],whitesmoke:[245/255,245/255,245/255],yellow:[1,1,0],yellowgreen:[154/255,205/255,50/255]};var Hd=Array(3).fill(&amp;quot;&amp;lt;percentage&amp;gt; | &amp;lt;number&amp;gt;[0, 255]&amp;quot;),Wd=Array(3).fill(&amp;quot;&amp;lt;number&amp;gt;[0, 255]&amp;quot;),Pr=new Lr({id:&amp;quot;srgb&amp;quot;,name:&amp;quot;sRGB&amp;quot;,base:$d,fromBase:i=&amp;gt;i.map(t=&amp;gt;{let r=t&amp;lt;0?-1:1,n=t*r;return n&amp;gt;.0031308?r*(1.055*n**(1/2.4)-.055):12.92*t}),toBase:i=&amp;gt;i.map(t=&amp;gt;{let r=t&amp;lt;0?-1:1,n=t*r;return n&amp;lt;=.04045?t/12.92:r*((n+.055)/1.055)**2.4}),formats:{rgb:{coords:Hd},rgb_number:{name:&amp;quot;rgb&amp;quot;,commas:!0,coords:Wd,noAlpha:!0},color:{},rgba:{coords:Hd,commas:!0,lastAlpha:!0},rgba_number:{name:&amp;quot;rgba&amp;quot;,commas:!0,coords:Wd},hex:{type:&amp;quot;custom&amp;quot;,toGamut:!0,test:i=&amp;gt;/^#([a-f0-9]{3,4}){1,2}$/i.test(i),parse(i){i.length&amp;lt;=5&amp;amp;&amp;amp;(i=i.replace(/[a-f0-9]/gi,&amp;quot;$&amp;amp;$&amp;amp;&amp;quot;));let t=[];return i.replace(/[a-f0-9]{2}/gi,r=&amp;gt;{t.push(parseInt(r,16)/255)}),{spaceId:&amp;quot;srgb&amp;quot;,coords:t.slice(0,3),alpha:t.slice(3)[0]}},serialize:(i,t,{collapse:r=!0}={})=&amp;gt;{t&amp;lt;1&amp;amp;&amp;amp;i.push(t),i=i.map(a=&amp;gt;Math.round(a*255));let n=r&amp;amp;&amp;amp;i.every(a=&amp;gt;a%17===0);return&amp;quot;#&amp;quot;+i.map(a=&amp;gt;n?(a/17).toString(16):a.toString(16).padStart(2,&amp;quot;0&amp;quot;)).join(&amp;quot;&amp;quot;)}},keyword:{type:&amp;quot;custom&amp;quot;,test:i=&amp;gt;/^[a-z]+$/i.test(i),parse(i){i=i.toLowerCase();let t={spaceId:&amp;quot;srgb&amp;quot;,coords:null,alpha:1};if(i===&amp;quot;transparent&amp;quot;?(t.coords=Gh.black,t.alpha=0):t.coords=Gh[i],t.coords)return t}}}});var bu=new Lr({id:&amp;quot;p3&amp;quot;,cssId:&amp;quot;display-p3&amp;quot;,name:&amp;quot;P3&amp;quot;,base:jd,fromBase:Pr.fromBase,toBase:Pr.toBase});function _u(i,t,r={}){if(qd(i)){let[h,l]=[i,t];return _u(...h.rangeArgs.colors,{...h.rangeArgs.options,...l})}let{space:n,outputSpace:s,progression:a,premultiplied:o}=r;i=je(i),t=je(t),i=vi(i),t=vi(t);let u={colors:[i,t],options:r};if(n?n=be.get(n):n=be.registry[yr.interpolationSpace]||i.space,s=s?be.get(s):n,i=Ve(i,n),t=Ve(t,n),i=Br(i),t=Br(t),n.coords.h&amp;amp;&amp;amp;n.coords.h.type===&amp;quot;angle&amp;quot;){let h=r.hue=r.hue||&amp;quot;shorter&amp;quot;,l=[n,&amp;quot;h&amp;quot;],[c,p]=[Rr(i,l),Rr(t,l)];isNaN(c)&amp;amp;&amp;amp;!isNaN(p)?c=p:isNaN(p)&amp;amp;&amp;amp;!isNaN(c)&amp;amp;&amp;amp;(p=c),[c,p]=cd(h,[c,p]),Hi(i,l,c),Hi(t,l,p)}return o&amp;amp;&amp;amp;(i.coords=i.coords.map(h=&amp;gt;h*i.alpha),t.coords=t.coords.map(h=&amp;gt;h*t.alpha)),Object.assign(h=&amp;gt;{h=a?a(h):h;let l=i.coords.map((f,d)=&amp;gt;{let m=t.coords[d];return hs(f,m,h)}),c=hs(i.alpha,t.alpha,h),p={space:n,coords:l,alpha:c};return o&amp;amp;&amp;amp;(p.coords=p.coords.map(f=&amp;gt;f/c)),s!==n&amp;amp;&amp;amp;(p=Ve(p,s)),p},{rangeArgs:u})}function qd(i){return gi(i)===&amp;quot;function&amp;quot;&amp;amp;&amp;amp;!!i.rangeArgs}yr.interpolationSpace=&amp;quot;lab&amp;quot;;var ps=new be({id:&amp;quot;hsl&amp;quot;,name:&amp;quot;HSL&amp;quot;,coords:{h:{refRange:[0,360],type:&amp;quot;angle&amp;quot;,name:&amp;quot;Hue&amp;quot;},s:{range:[0,100],name:&amp;quot;Saturation&amp;quot;},l:{range:[0,100],name:&amp;quot;Lightness&amp;quot;}},base:Pr,fromBase:i=&amp;gt;{let t=Math.max(...i),r=Math.min(...i),[n,s,a]=i,[o,u,h]=[NaN,0,(r+t)/2],l=t-r;if(l!==0){switch(u=h===0||h===1?0:(t-h)/Math.min(h,1-h),t){case n:o=(s-a)/l+(s&amp;lt;a?6:0);break;case s:o=(a-n)/l+2;break;case a:o=(n-s)/l+4}o=o*60}return u&amp;lt;0&amp;amp;&amp;amp;(o+=180,u=Math.abs(u)),o&amp;gt;=360&amp;amp;&amp;amp;(o-=360),[o,u*100,h*100]},toBase:i=&amp;gt;{let[t,r,n]=i;t=t%360,t&amp;lt;0&amp;amp;&amp;amp;(t+=360),r/=100,n/=100;function s(a){let o=(a+t/30)%12,u=r*Math.min(n,1-n);return n-u*Math.max(-1,Math.min(o-3,9-o,1))}return[s(0),s(8),s(4)]},formats:{hsl:{coords:[&amp;quot;&amp;lt;number&amp;gt; | &amp;lt;angle&amp;gt;&amp;quot;,&amp;quot;&amp;lt;percentage&amp;gt;&amp;quot;,&amp;quot;&amp;lt;percentage&amp;gt;&amp;quot;]},hsla:{coords:[&amp;quot;&amp;lt;number&amp;gt; | &amp;lt;angle&amp;gt;&amp;quot;,&amp;quot;&amp;lt;percentage&amp;gt;&amp;quot;,&amp;quot;&amp;lt;percentage&amp;gt;&amp;quot;],commas:!0,lastAlpha:!0}}});var Zd=new be({id:&amp;quot;hsv&amp;quot;,name:&amp;quot;HSV&amp;quot;,coords:{h:{refRange:[0,360],type:&amp;quot;angle&amp;quot;,name:&amp;quot;Hue&amp;quot;},s:{range:[0,100],name:&amp;quot;Saturation&amp;quot;},v:{range:[0,100],name:&amp;quot;Value&amp;quot;}},base:ps,fromBase(i){let[t,r,n]=i;r/=100,n/=100;let s=n+r*Math.min(n,1-n);return[t,s===0?0:200*(1-n/s),100*s]},toBase(i){let[t,r,n]=i;r/=100,n/=100;let s=n*(1-r/2);return[t,s===0||s===1?0:(n-s)/Math.min(s,1-s)*100,s*100]},formats:{color:{id:&amp;quot;--hsv&amp;quot;,coords:[&amp;quot;&amp;lt;number&amp;gt; | &amp;lt;angle&amp;gt;&amp;quot;,&amp;quot;&amp;lt;percentage&amp;gt; | &amp;lt;number&amp;gt;&amp;quot;,&amp;quot;&amp;lt;percentage&amp;gt; | &amp;lt;number&amp;gt;&amp;quot;]}}});var wu=new be({id:&amp;quot;hwb&amp;quot;,name:&amp;quot;HWB&amp;quot;,coords:{h:{refRange:[0,360],type:&amp;quot;angle&amp;quot;,name:&amp;quot;Hue&amp;quot;},w:{range:[0,100],name:&amp;quot;Whiteness&amp;quot;},b:{range:[0,100],name:&amp;quot;Blackness&amp;quot;}},base:Zd,fromBase(i){let[t,r,n]=i;return[t,n*(100-r)/100,100-n]},toBase(i){let[t,r,n]=i;r/=100,n/=100;let s=r+n;if(s&amp;gt;=1){let u=r/s;return[t,0,u*100]}let a=1-n,o=a===0?0:1-r/a;return[t,o*100,a*100]},formats:{hwb:{coords:[&amp;quot;&amp;lt;number&amp;gt; | &amp;lt;angle&amp;gt;&amp;quot;,&amp;quot;&amp;lt;percentage&amp;gt; | &amp;lt;number&amp;gt;&amp;quot;,&amp;quot;&amp;lt;percentage&amp;gt; | &amp;lt;number&amp;gt;&amp;quot;]}}});var Cu=new be({id:&amp;quot;oklch&amp;quot;,name:&amp;quot;Oklch&amp;quot;,coords:{l:{refRange:[0,1],name:&amp;quot;Lightness&amp;quot;},c:{refRange:[0,.4],name:&amp;quot;Chroma&amp;quot;},h:{refRange:[0,360],type:&amp;quot;angle&amp;quot;,name:&amp;quot;Hue&amp;quot;}},white:&amp;quot;D65&amp;quot;,base:vr,fromBase(i){let[t,r,n]=i,s,a=2e-4;return Math.abs(r)&amp;lt;a&amp;amp;&amp;amp;Math.abs(n)&amp;lt;a?s=NaN:s=Math.atan2(n,r)*180/Math.PI,[t,Math.sqrt(r**2+n**2),Xt(s)]},toBase(i){let[t,r,n]=i,s,a;return isNaN(n)?(s=0,a=0):(s=r*Math.cos(n*Math.PI/180),a=r*Math.sin(n*Math.PI/180)),[t,s,a]},formats:{oklch:{coords:[&amp;quot;&amp;lt;percentage&amp;gt; | &amp;lt;number&amp;gt;&amp;quot;,&amp;quot;&amp;lt;number&amp;gt; | &amp;lt;percentage&amp;gt;[0,1]&amp;quot;,&amp;quot;&amp;lt;number&amp;gt; | &amp;lt;angle&amp;gt;&amp;quot;]}}});var zh=new be({id:&amp;quot;hsb&amp;quot;,name:&amp;quot;HSB&amp;quot;,coords:{h:{refRange:[0,360],type:&amp;quot;angle&amp;quot;,name:&amp;quot;Hue&amp;quot;},s:{range:[0,100],name:&amp;quot;Saturation&amp;quot;},b:{range:[0,100],name:&amp;quot;Brightness&amp;quot;}},base:Pr,fromBase:i=&amp;gt;{let t=Math.max(...i),r=t-Math.min(...i),[n,s,a]=i,o,u;return r===0?(o=0,u=0):(u=r/t,n===t?o=(s-a)/r:s===t?o=2+(a-n)/r:a===t&amp;amp;&amp;amp;(o=4+(n-s)/r),o&amp;lt;0?o+=6:o&amp;gt;=6&amp;amp;&amp;amp;(o-=6)),[o/6*360,u*100,t*100]},toBase:Yd,formats:{default:{type:&amp;quot;custom&amp;quot;,serialize:(i,t)=&amp;gt;{let r=Yd(i),n=`rgb(${Math.round(r[0]*100*100)/100}% ${Math.round(r[1]*100*100)/100}% ${Math.round(r[2]*100*100)/100}%`;return t&amp;lt;1&amp;amp;&amp;amp;(n+=` / ${t}`),n+=&amp;quot;)&amp;quot;,n}},hsb:{coords:[&amp;quot;&amp;lt;number&amp;gt; | &amp;lt;angle&amp;gt;&amp;quot;,&amp;quot;&amp;lt;percentage&amp;gt;&amp;quot;,&amp;quot;&amp;lt;percentage&amp;gt;&amp;quot;]},hsba:{coords:[&amp;quot;&amp;lt;number&amp;gt; | &amp;lt;angle&amp;gt;&amp;quot;,&amp;quot;&amp;lt;percentage&amp;gt;&amp;quot;,&amp;quot;&amp;lt;percentage&amp;gt;&amp;quot;],commans:!0,lastAlpha:!0}}});function Yd(i){let t=i[0]/360*6,r=i[1]/100,n=i[2]/100,s=[];if(r===0)s=[n,n,n];else{let a=Math.floor(t),o=n*(1-r),u=n*(1-r*(t-a)),h=n*(1-r*(1+a-t)),l,c,p;a===1?(l=u,c=n,p=o):a===2?(l=o,c=n,p=h):a===3?(l=o,c=u,p=n):a===4?(l=h,c=o,p=n):a===5?(l=n,c=o,p=u):(l=n,c=h,p=o),s=[l,c,p]}return s}var rt=(i,t,r,n,s,a)=&amp;gt;{let o=(i-t)/(r-t)*(s-n)+n;return a&amp;amp;&amp;amp;(o=Math.max(o,Math.min(n,s)),o=Math.min(o,Math.max(n,s))),o},Xd={},Qe=class i{_color;mode;static colorMap={};static#e={};static#t={};static addColorMode(t,r){be.register(r),i.colorMap[t]=r.id,i.#e[t]=Object.values(r.coords).reduce((n,s)=&amp;gt;(n.push(s.refRange||s.range),n),[]),i.#e[t].push([0,1]),i.#t[t]=r.fromGray}constructor(t,r,n,{clamp:s=!1}={}){if(this.mode=r||et,t instanceof i){let a=r?i.colorMap[r]:i.colorMap[t.mode];this._color=Ve(t._color,a),this.mode=a}else if(typeof t==&amp;quot;object&amp;quot;&amp;amp;&amp;amp;!Array.isArray(t)&amp;amp;&amp;amp;t!==null){let a=r?i.colorMap[r]:t.spaceId;this._color=Ve(t,a),this.mode=r||Object.entries(i.colorMap).find(([o,u])=&amp;gt;u===this._color.spaceId)}else if(typeof t[0]==&amp;quot;string&amp;quot;)try{this._color=cs(t[0]);let[a]=Object.entries(i.colorMap).find(([o,u])=&amp;gt;u===this._color.spaceId);this.mode=a,this._color=Ve(this._color,this._color.spaceId)}catch{throw new Error(&amp;quot;Invalid color string&amp;quot;)}else{let a;if(n)if(t.length===4)a=i.mapColorRange(t,this.mode,n,s);else if(t.length===3)a=i.mapColorRange([t[0],t[1],t[2]],this.mode,n,s),a.push(1);else if(t.length===2){i.#t[this.mode]?a=i.#t[this.mode](t[0],n,s):a=i.mapColorRange([t[0],t[0],t[0]],this.mode,n,s);let l=Array.isArray(n[n.length-1])?n[n.length-1]:[0,n[n.length-1]];a.push(rt(t[1],l[0],l[1],0,1,s))}else if(t.length===1)i.#t[this.mode]?a=i.#t[this.mode](t[0],n,s):a=i.mapColorRange([t[0],t[0],t[0]],this.mode,n,s),a.push(1);else throw new Error(&amp;quot;Invalid color&amp;quot;);else a=t;let o=i.colorMap[this.mode]||console.error(&amp;quot;Invalid color mode&amp;quot;),u=a.slice(0,3),h={space:o,coords:u,alpha:a[3]};this._color=Ve(h,o)}}static mapColorRange(t,r,n,s){let a=n.map(u=&amp;gt;Array.isArray(u)?u:[0,u]),o=i.#e[r];return t.map((u,h)=&amp;gt;rt(u,a[h][0],a[h][1],o[h][0],o[h][1],s))}static unmapColorRange(t,r,n){let s=n.map(o=&amp;gt;Array.isArray(o)?o:[0,o]),a=i.#e[r];return t.map((o,u)=&amp;gt;rt(o,a[u][0],a[u][1],s[u][0],s[u][1]))}#r(t){return new i(this._color,t)}get _array(){return this._getRGBA()}array(){return this._array}lerp(t,r,n){let s=-1;for(;(s+1&amp;lt;this._color.space.path.length||s+1&amp;lt;t._color.space.path.length)&amp;amp;&amp;amp;this._color.space.path[s+1]===t._color.space.path[s+1];)s+=1;if(s===-1)throw new Error(&amp;quot;Cannot lerp colors. No common color space found&amp;quot;);let a=_u(this._color,t._color,{space:this._color.space.path[s].id})(r);return new i(a,n||this.mode)}toString(t){let r=`${this._color.space.id}-${this._color.coords.join(&amp;quot;,&amp;quot;)}-${this._color.alpha}-${t}`,n=Xd[r];return n||(n=xu(this._color,{format:t}),Xd[r]=n),n}setRed(t,r=[0,1]){Array.isArray(r)||(r=[0,r]);let n=i.#e[et][0],s=rt(t,r[0],r[1],n[0],n[1]);if(this.mode===et||this.mode===It)this._color.coords[0]=s;else{let a=this._color.space.id,o=Ve(this._color,&amp;quot;srgb&amp;quot;);o.coords[0]=s,this._color=Ve(o,a)}}setGreen(t,r=[0,1]){Array.isArray(r)||(r=[0,r]);let n=i.#e[et][1],s=rt(t,r[0],r[1],n[0],n[1]);if(this.mode===et||this.mode===It)this._color.coords[1]=s;else{let a=this._color.space.id,o=Ve(this._color,&amp;quot;srgb&amp;quot;);o.coords[1]=s,this._color=Ve(o,a)}}setBlue(t,r=[0,1]){Array.isArray(r)||(r=[0,r]);let n=i.#e[et][2],s=rt(t,r[0],r[1],n[0],n[1]);if(this.mode===et||this.mode===It)this._color.coords[2]=s;else{let a=this._color.space.id,o=Ve(this._color,&amp;quot;srgb&amp;quot;);o.coords[2]=s,this._color=Ve(o,a)}}setAlpha(t,r=[0,1]){Array.isArray(r)||(r=[0,r]);let n=i.#e[this.mode][3],s=rt(t,r[0],r[1],n[0],n[1]);this._color.alpha=s}_getRGBA(t=[1,1,1,1]){let r=i.#e[et],n=structuredClone(Ve(this._color,&amp;quot;srgb&amp;quot;).coords);n.push(this._color.alpha);let s=t.map(a=&amp;gt;Array.isArray(a)?a:[0,a]);return n=n.map((a,o)=&amp;gt;rt(a,r[o][0],r[o][1],s[o][0],s[o][1])),n}_getMode(){return this.mode}_getRed(t=[0,1]){if(Array.isArray(t)||(t=[0,t]),this.mode===et||this.mode===It){let r=i.#e[this.mode][0];return rt(this._color.coords[0],r[0],r[1],t[0],t[1])}else{let r=i.#e[et][0];return rt(Ve(this._color,&amp;quot;srgb&amp;quot;).coords[0],r[0],r[1],t[0],t[1])}}_getGreen(t=[0,1]){if(Array.isArray(t)||(t=[0,t]),this.mode===et||this.mode===It){let r=i.#e[this.mode][1];return rt(this._color.coords[1],r[0],r[1],t[0],t[1])}else{let r=i.#e[et][1];return rt(Ve(this._color,&amp;quot;srgb&amp;quot;).coords[1],r[0],r[1],t[0],t[1])}}_getBlue(t=[0,1]){if(Array.isArray(t)||(t=[0,t]),this.mode===et||this.mode===It){let r=i.#e[this.mode][2];return rt(this._color.coords[2],r[0],r[1],t[0],t[1])}else{let r=i.#e[et][2];return rt(Ve(this._color,&amp;quot;srgb&amp;quot;).coords[2],r[0],r[1],t[0],t[1])}}_getAlpha(t=[0,1]){Array.isArray(t)||(t=[0,t]);let r=i.#e[this.mode][3];return rt(this._color.alpha,r[0],r[1],t[0],t[1])}_getHue(t=[0,360]){if(Array.isArray(t)||(t=[0,t]),this.mode===sr||this.mode===jt){let r=i.#e[this.mode][0];return rt(this._color.coords[0],r[0],r[1],t[0],t[1])}else{let r=i.#e[jt][0];return rt(Ve(this._color,&amp;quot;hsl&amp;quot;).coords[0],r[0],r[1],t[0],t[1])}}_getSaturation(t=[0,100]){if(Array.isArray(t)||(t=[0,t]),this.mode===sr||this.mode===jt){let r=i.#e[this.mode][1];return rt(this._color.coords[1],r[0],r[1],t[0],t[1])}else{let r=i.#e[jt][1];return rt(Ve(this._color,&amp;quot;hsl&amp;quot;).coords[1],r[0],r[1],t[0],t[1])}}_getBrightness(t=[0,100]){if(Array.isArray(t)||(t=[0,t]),this.mode===sr){let r=i.#e[this.mode][2];return rt(this._color.coords[2],r[0],r[1],t[0],t[1])}else{let r=i.#e[sr][2];return rt(Ve(this._color,&amp;quot;hsb&amp;quot;).coords[2],r[0],r[1],t[0],t[1])}}_getLightness(t=[0,100]){if(Array.isArray(t)||(t=[0,t]),this.mode===jt){let r=i.#e[this.mode][2];return rt(this._color.coords[2],r[0],r[1],t[0],t[1])}else{let r=i.#e[jt][2];return rt(Ve(this._color,&amp;quot;hsl&amp;quot;).coords[2],r[0],r[1],t[0],t[1])}}};function jh(i,t,r){i.Color=Qe,Pr.fromGray=bu.fromGray=function(n,s,a){let o=s.map(h=&amp;gt;Array.isArray(h)?h:[0,h]),u=rt(n,o[2][0],o[2][1],0,1,a);return[u,u,u]},zh.fromGray=ps.fromGray=function(n,s,a){let o=s.map(h=&amp;gt;Array.isArray(h)?h:[0,h]);return[0,0,rt(n,o[2][0],o[2][1],0,100,a)]},wu.fromGray=function(n,s,a){let o=s.map(p=&amp;gt;Array.isArray(p)?p:[0,p]),u=Math.abs(o[1][0]-o[1][1])/2+Math.abs(o[2][0]-o[2][1])/2,h=rt(n,0,u,0,100),l,c;return h&amp;lt;50?(c=h,l=100-h):h&amp;gt;=50&amp;amp;&amp;amp;(l=h,c=100-h),[0,l,c]},Rt.fromGray=Jr.fromGray=vr.fromGray=Cu.fromGray=function(n,s,a){let o=s.map(h=&amp;gt;Array.isArray(h)?h:[0,h]);return[rt(n,o[0][0],o[0][1],0,100,a),0,0]},i.Color.addColorMode(et,Pr),i.Color.addColorMode(It,bu),i.Color.addColorMode(sr,zh),i.Color.addColorMode(jt,ps),i.Color.addColorMode(Sn,wu),i.Color.addColorMode(ds,Rt),i.Color.addColorMode(An,Jr),i.Color.addColorMode(ms,vr),i.Color.addColorMode(Dn,Cu),r.presetup=function(){let n=this,s=[&amp;quot;Red&amp;quot;,&amp;quot;Green&amp;quot;,&amp;quot;Blue&amp;quot;,&amp;quot;Alpha&amp;quot;];for(let o in s){let u=s[o],h=i.Color.prototype[&amp;quot;set&amp;quot;+u];i.Color.prototype[&amp;quot;set&amp;quot;+u]=function(l,c){return c=c||n?._renderer?.states?.colorMaxes?.[et][o],h.call(this,l,c)}}function a(o,u){let h=i.Color.prototype[&amp;quot;_get&amp;quot;+o];i.Color.prototype[&amp;quot;_get&amp;quot;+o]=function(l){if(Object.keys(u).includes(this.mode))l=l||n?._renderer?.states?.colorMaxes?.[this.mode][u[this.mode]];else{let c=Object.keys(u)[0];l=l||n?._renderer?.states?.colorMaxes?.[c][u[c]]}return h.call(this,l)}}a(&amp;quot;Red&amp;quot;,{[et]:0,[It]:0}),a(&amp;quot;Green&amp;quot;,{[et]:1,[It]:1}),a(&amp;quot;Blue&amp;quot;,{[et]:2,[It]:2}),a(&amp;quot;Alpha&amp;quot;,{[et]:3,[It]:3,[sr]:3,[jt]:3,[Sn]:3,[ds]:3,[An]:3,[ms]:3,[Dn]:3}),a(&amp;quot;Hue&amp;quot;,{[jt]:0,[sr]:0,[Sn]:0,[An]:2,[Dn]:2}),a(&amp;quot;Saturation&amp;quot;,{[jt]:1,[sr]:1}),a(&amp;quot;Brightness&amp;quot;,{[sr]:2}),a(&amp;quot;Lightness&amp;quot;,{[jt]:2})}}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;jh(p5,p5.prototype);var et=&amp;quot;rgb&amp;quot;,It=&amp;quot;rgbhdr&amp;quot;,sr=&amp;quot;hsb&amp;quot;,jt=&amp;quot;hsl&amp;quot;,Sn=&amp;quot;hwb&amp;quot;,ds=&amp;quot;lab&amp;quot;,An=&amp;quot;lch&amp;quot;,ms=&amp;quot;oklab&amp;quot;,Dn=&amp;quot;oklch&amp;quot;,Ra=&amp;quot;rgba&amp;quot;;function Ba(i,t){t.RGB=et,t.RGBHDR=It,t.HSB=sr,t.HSL=jt,t.HWB=Sn,t.LAB=ds,t.LCH=An,t.OKLAB=ms,t.OKLCH=Dn,t.RGBA=Ra,i.Renderer.states.colorMode=et,i.Renderer.states.colorMaxes={[et]:[255,255,255,255],[It]:[255,255,255,255],[sr]:[360,100,100,1],[jt]:[360,100,100,1],[Sn]:[360,100,100,1],[ds]:[100,[-125,125],[-125,125],1],[An]:[100,150,360,1],[ms]:[100,[-125,125],[-125,125],1],[Dn]:[100,150,360,1],clone:function(){let r={...this};for(let n in r)r[n]instanceof Array&amp;amp;&amp;amp;(r[n]=[...r[n]]);return r}},t.color=function(...r){if(r[0]instanceof Qe)return r[0];let n=Array.isArray(r[0])?r[0]:r;return new Qe(n,this._renderer.states.colorMode,this._renderer.states.colorMaxes[this._renderer.states.colorMode],{clamp:!0})},t.red=function(r){return this.color(r)._getRed()},t.green=function(r){return this.color(r)._getGreen()},t.blue=function(r){return this.color(r)._getBlue()},t.alpha=function(r){return this.color(r)._getAlpha()},t.hue=function(r){return this.color(r)._getHue()},t.saturation=function(r){return this.color(r)._getSaturation()},t.brightness=function(r){return this.color(r)._getBrightness()},t.lightness=function(r){return this.color(r)._getLightness()},t.lerpColor=function(r,n,s){return r.lerp(n,s,this._renderer.states.colorMode)},t.paletteLerp=function(r,n){let s=r[0];if(n&amp;lt;s[1])return this.color(s[0]);for(let a=1;a&amp;lt;r.length;a++){let o=r[a];if(n&amp;lt;o[1]){let u=r[a-1];return this.lerpColor(this.color(u[0]),this.color(o[0]),(n-u[1])/(o[1]-u[1]))}}return this.color(r[r.length-1][0])}}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;Ba(p5,p5.prototype);var gs=class i{constructor(t){if(t)this.DOM=t;else{let r=document.implementation.createDocument(null,&amp;quot;doc&amp;quot;);this.DOM=r.createElement(&amp;quot;root&amp;quot;)}}getParent(){return new i(this.DOM.parentElement)}getName(){return this.DOM.tagName}setName(t){let r=this.DOM.innerHTML,n=this.DOM.attributes,a=document.implementation.createDocument(null,&amp;quot;default&amp;quot;).createElement(t);a.innerHTML=r;for(let o=0;o&amp;lt;n.length;o++)a.setAttribute(n[o].nodeName,n[o].nodeValue);this.DOM=a}hasChildren(){return this.DOM.children.length&amp;gt;0}listChildren(){let t=[];for(let r=0;r&amp;lt;this.DOM.childNodes.length;r++)t.push(this.DOM.childNodes[r].nodeName);return t}getChildren(t){return Kd(t?this.DOM.getElementsByTagName(t):this.DOM.children)}getChild(t){if(typeof t==&amp;quot;string&amp;quot;){for(let r of this.DOM.children)if(r.tagName===t)return new i(r)}else return new i(this.DOM.children[t])}addChild(t){t instanceof i&amp;amp;&amp;amp;this.DOM.appendChild(t.DOM)}removeChild(t){let r=-1;if(typeof t==&amp;quot;string&amp;quot;){for(let n=0;n&amp;lt;this.DOM.children.length;n++)if(this.DOM.children[n].tagName===t){r=n;break}}else r=t;r!==-1&amp;amp;&amp;amp;this.DOM.removeChild(this.DOM.children[r])}getAttributeCount(){return this.DOM.attributes.length}listAttributes(){let t=[];for(let r of this.DOM.attributes)t.push(r.nodeName);return t}hasAttribute(t){let r={};for(let n of this.DOM.attributes)r[n.nodeName]=n.nodeValue;return!!r[t]}getNum(t,r){let n={};for(let s of this.DOM.attributes)n[s.nodeName]=s.nodeValue;return Number(n[t])||r||0}getString(t,r){let n={};for(let s of this.DOM.attributes)n[s.nodeName]=s.nodeValue;return n[t]?String(n[t]):r||null}setAttribute(t,r){this.DOM.setAttribute(t,r)}getContent(t){let r;return r=this.DOM.textContent,r=r.replace(/\s\s+/g,&amp;quot;,&amp;quot;),r||t||null}setContent(t){this.DOM.children.length||(this.DOM.textContent=t)}serialize(){return new XMLSerializer().serializeToString(this.DOM)}};function Kd(i){let t=[];for(let r=0;r&amp;lt;i.length;r++)t.push(new gs(i[r]));return t}function $h(i,t){i.XML=gs}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;$h(p5,p5.prototype);var Fn=class i{constructor(t,r){this.file=t,this._pInst=r;let n=t.type.split(&amp;quot;/&amp;quot;);this.type=n[0],this.subtype=n[1],this.name=t.name,this.size=t.size,this.data=void 0}static _createLoader(t,r){let n=new FileReader;return n.onload=function(s){let a=new i(t);if(a.file.type===&amp;quot;application/json&amp;quot;)a.data=JSON.parse(s.target.result);else if(a.file.type===&amp;quot;text/xml&amp;quot;){let u=new DOMParser().parseFromString(s.target.result,&amp;quot;text/xml&amp;quot;);a.data=new gs(u.documentElement)}else a.data=s.target.result;r(a)},n}static _load(t,r){if(/^text\//.test(t.type)||t.type===&amp;quot;application/json&amp;quot;)i._createLoader(t,r).readAsText(t);else if(!/^(video|audio)\//.test(t.type))i._createLoader(t,r).readAsDataURL(t);else{let n=new i(t);n.data=URL.createObjectURL(t),r(n)}}};function Hh(i,t){i.File=Fn}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;Hh(p5,p5.prototype);var st=class i{width;height;elt;constructor(t,r){this.elt=t,this._pInst=this._pixelsState=r,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight}remove(){if(this.stop){this.stop();let r=this.elt.srcObject;r!==null&amp;amp;&amp;amp;r.getTracks().forEach(s=&amp;gt;{s.stop()})}let t=this._pInst._elements.indexOf(this);t!==-1&amp;amp;&amp;amp;this._pInst._elements.splice(t,1);for(let r in this._events)this.elt.removeEventListener(r,this._events[r]);this.elt&amp;amp;&amp;amp;this.elt.parentNode&amp;amp;&amp;amp;this.elt.parentNode.removeChild(this.elt)}parent(t){return typeof t&amp;gt;&amp;quot;u&amp;quot;?this.elt.parentNode:(typeof t==&amp;quot;string&amp;quot;?(t[0]===&amp;quot;#&amp;quot;&amp;amp;&amp;amp;(t=t.substring(1)),t=document.getElementById(t)):t instanceof i&amp;amp;&amp;amp;(t=t.elt),t.appendChild(this.elt),this)}child(t){return typeof t&amp;gt;&amp;quot;u&amp;quot;?this.elt.childNodes:(typeof t==&amp;quot;string&amp;quot;?(t[0]===&amp;quot;#&amp;quot;&amp;amp;&amp;amp;(t=t.substring(1)),t=document.getElementById(t)):t instanceof i&amp;amp;&amp;amp;(t=t.elt),t instanceof HTMLElement&amp;amp;&amp;amp;this.elt.appendChild(t),this)}html(...t){return t.length===0?this.elt.innerHTML:t[1]?(this.elt.insertAdjacentHTML(&amp;quot;beforeend&amp;quot;,t[0]),this):(this.elt.innerHTML=t[0],this)}id(t){return typeof t&amp;gt;&amp;quot;u&amp;quot;?this.elt.id:(this.elt.id=t,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)}class(t){return typeof t&amp;gt;&amp;quot;u&amp;quot;?this.elt.className:(this.elt.className=t,this)}addClass(t){return this.elt.className?this.hasClass(t)||(this.elt.className=this.elt.className+&amp;quot; &amp;quot;+t):this.elt.className=t,this}removeClass(t){return this.elt.classList.remove(t),this}hasClass(t){return this.elt.classList.contains(t)}toggleClass(t){return this.elt.classList.contains(t)?this.elt.classList.remove(t):this.elt.classList.add(t),this}center(t){let r=this.elt.style.display,n=this.elt.style.display===&amp;quot;none&amp;quot;,s=this.parent().style.display===&amp;quot;none&amp;quot;,a={x:this.elt.offsetLeft,y:this.elt.offsetTop};n&amp;amp;&amp;amp;this.show(),s&amp;amp;&amp;amp;this.parent().show(),this.elt.style.display=&amp;quot;block&amp;quot;,this.position(0,0);let o=Math.abs(this.parent().offsetWidth-this.elt.offsetWidth),u=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return t===&amp;quot;both&amp;quot;||t===void 0?this.position(o/2+this.parent().offsetLeft,u/2+this.parent().offsetTop):t===&amp;quot;horizontal&amp;quot;?this.position(o/2+this.parent().offsetLeft,a.y):t===&amp;quot;vertical&amp;quot;&amp;amp;&amp;amp;this.position(a.x,u/2+this.parent().offsetTop),this.style(&amp;quot;display&amp;quot;,r),n&amp;amp;&amp;amp;this.hide(),s&amp;amp;&amp;amp;this.parent().hide(),this}position(...t){if(t.length===0)return{x:this.elt.offsetLeft,y:this.elt.offsetTop};{let r=&amp;quot;absolute&amp;quot;;return(t[2]===&amp;quot;static&amp;quot;||t[2]===&amp;quot;fixed&amp;quot;||t[2]===&amp;quot;relative&amp;quot;||t[2]===&amp;quot;sticky&amp;quot;||t[2]===&amp;quot;initial&amp;quot;||t[2]===&amp;quot;inherit&amp;quot;)&amp;amp;&amp;amp;(r=t[2]),this.elt.style.position=r,this.elt.style.left=t[0]+&amp;quot;px&amp;quot;,this.elt.style.top=t[1]+&amp;quot;px&amp;quot;,this.x=t[0],this.y=t[1],this}}show(){return this.elt.style.display=&amp;quot;block&amp;quot;,this}hide(){return this.elt.style.display=&amp;quot;none&amp;quot;,this}size(t,r){if(arguments.length===0)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};{let n=t,s=r,a=ch;if(n!==a||s!==a){if(n===a?n=r*this.width/this.height:s===a&amp;amp;&amp;amp;(s=t*this.height/this.width),this.elt instanceof HTMLCanvasElement){let o={},u=this.elt.getContext(&amp;quot;2d&amp;quot;),h;for(h in u)o[h]=u[h];this.elt.setAttribute(&amp;quot;width&amp;quot;,n*this._pInst._pixelDensity),this.elt.setAttribute(&amp;quot;height&amp;quot;,s*this._pInst._pixelDensity),this.elt.style.width=n+&amp;quot;px&amp;quot;,this.elt.style.height=s+&amp;quot;px&amp;quot;,this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity);for(h in o)this.elt.getContext(&amp;quot;2d&amp;quot;)[h]=o[h]}else this.elt.style.width=n+&amp;quot;px&amp;quot;,this.elt.style.height=s+&amp;quot;px&amp;quot;,this.elt.width=n,this.elt.height=s;this.width=n,this.height=s,this._pInst&amp;amp;&amp;amp;this._pInst._curElement&amp;amp;&amp;amp;this._pInst._curElement.elt===this.elt&amp;amp;&amp;amp;(this._pInst.width=n,this._pInst.height=s)}return this}}style(t,r){let n=this;if(r instanceof Qe&amp;amp;&amp;amp;(r=r.toString()),typeof r&amp;gt;&amp;quot;u&amp;quot;){if(t.indexOf(&amp;quot;:&amp;quot;)===-1)return window.getComputedStyle(n.elt).getPropertyValue(t);{let s=t.split(&amp;quot;;&amp;quot;);for(let a=0;a&amp;lt;s.length;a++){let o=s[a].split(&amp;quot;:&amp;quot;);o[0]&amp;amp;&amp;amp;o[1]&amp;amp;&amp;amp;(this.elt.style[o[0].trim()]=o[1].trim())}}}else if(this.elt.style[t]=r,t===&amp;quot;width&amp;quot;||t===&amp;quot;height&amp;quot;||t===&amp;quot;left&amp;quot;||t===&amp;quot;top&amp;quot;){let o=window.getComputedStyle(n.elt).getPropertyValue(t).replace(/[^\d.]/g,&amp;quot;&amp;quot;);this[t]=Math.round(parseFloat(o,10))}return this}_translate(...t){this.elt.style.position=&amp;quot;absolute&amp;quot;;let r=&amp;quot;&amp;quot;;return this.elt.style.transform&amp;amp;&amp;amp;(r=this.elt.style.transform.replace(/translate3d\(.*\)/g,&amp;quot;&amp;quot;),r=r.replace(/translate[X-Z]?\(.*\)/g,&amp;quot;&amp;quot;)),t.length===2?this.elt.style.transform=&amp;quot;translate(&amp;quot;+t[0]+&amp;quot;px, &amp;quot;+t[1]+&amp;quot;px)&amp;quot;:t.length&amp;gt;2&amp;amp;&amp;amp;(this.elt.style.transform=&amp;quot;translate3d(&amp;quot;+t[0]+&amp;quot;px,&amp;quot;+t[1]+&amp;quot;px,&amp;quot;+t[2]+&amp;quot;px)&amp;quot;,t.length===3?this.elt.parentElement.style.perspective=&amp;quot;1000px&amp;quot;:this.elt.parentElement.style.perspective=t[3]+&amp;quot;px&amp;quot;),this.elt.style.transform+=r,this}_rotate(...t){let r=&amp;quot;&amp;quot;;return this.elt.style.transform&amp;amp;&amp;amp;(r=this.elt.style.transform.replace(/rotate3d\(.*\)/g,&amp;quot;&amp;quot;),r=r.replace(/rotate[X-Z]?\(.*\)/g,&amp;quot;&amp;quot;)),t.length===1?this.elt.style.transform=&amp;quot;rotate(&amp;quot;+t[0]+&amp;quot;deg)&amp;quot;:t.length===2?this.elt.style.transform=&amp;quot;rotate(&amp;quot;+t[0]+&amp;quot;deg, &amp;quot;+t[1]+&amp;quot;deg)&amp;quot;:t.length===3&amp;amp;&amp;amp;(this.elt.style.transform=&amp;quot;rotateX(&amp;quot;+t[0]+&amp;quot;deg)&amp;quot;,this.elt.style.transform+=&amp;quot;rotateY(&amp;quot;+t[1]+&amp;quot;deg)&amp;quot;,this.elt.style.transform+=&amp;quot;rotateZ(&amp;quot;+t[2]+&amp;quot;deg)&amp;quot;),this.elt.style.transform+=r,this}attribute(t,r){if(this.elt.firstChild!=null&amp;amp;&amp;amp;(this.elt.firstChild.type===&amp;quot;checkbox&amp;quot;||this.elt.firstChild.type===&amp;quot;radio&amp;quot;)){if(typeof r&amp;gt;&amp;quot;u&amp;quot;)return this.elt.firstChild.getAttribute(t);for(let n=0;n&amp;lt;this.elt.childNodes.length;n++)this.elt.childNodes[n].setAttribute(t,r)}else return typeof r&amp;gt;&amp;quot;u&amp;quot;?this.elt.getAttribute(t):(this.elt.setAttribute(t,r),this)}removeAttribute(t){if(this.elt.firstChild!=null&amp;amp;&amp;amp;(this.elt.firstChild.type===&amp;quot;checkbox&amp;quot;||this.elt.firstChild.type===&amp;quot;radio&amp;quot;))for(let r=0;r&amp;lt;this.elt.childNodes.length;r++)this.elt.childNodes[r].removeAttribute(t);return this.elt.removeAttribute(t),this}value(...t){return t.length&amp;gt;0?(this.elt.value=t[0],this):this.elt.type===&amp;quot;range&amp;quot;?parseFloat(this.elt.value):this.elt.value}mousePressed(t){let r=function(n){return this._pInst.mouseIsPressed=!0,this._pInst._activePointers.set(n.pointerId,n),this._pInst._setMouseButton(n),this._pInst._updatePointerCoords(n),t.call(this,n)};return i._adjustListener(&amp;quot;pointerdown&amp;quot;,r,this),this}doubleClicked(t){return i._adjustListener(&amp;quot;dblclick&amp;quot;,t,this),this}mouseWheel(t){return i._adjustListener(&amp;quot;wheel&amp;quot;,t,this),this}mouseReleased(t){return i._adjustListener(&amp;quot;pointerup&amp;quot;,t,this),this}mouseClicked(t){return i._adjustListener(&amp;quot;click&amp;quot;,t,this),this}mouseMoved(t){return i._adjustListener(&amp;quot;pointermove&amp;quot;,t,this),this}mouseOver(t){return i._adjustListener(&amp;quot;pointerover&amp;quot;,t,this),this}mouseOut(t){return i._adjustListener(&amp;quot;pointerout&amp;quot;,t,this),this}dragOver(t){return i._adjustListener(&amp;quot;dragover&amp;quot;,t,this),this}dragLeave(t){return i._adjustListener(&amp;quot;dragleave&amp;quot;,t,this),this}changed(t){return i._adjustListener(&amp;quot;change&amp;quot;,t,this),this}input(t){return i._adjustListener(&amp;quot;input&amp;quot;,t,this),this}drop(t,r){if(window.File&amp;amp;&amp;amp;window.FileReader&amp;amp;&amp;amp;window.FileList&amp;amp;&amp;amp;window.Blob){if(!this._dragDisabled){this._dragDisabled=!0;let n=function(s){s.preventDefault()};this.elt.addEventListener(&amp;quot;dragover&amp;quot;,n),this.elt.addEventListener(&amp;quot;dragleave&amp;quot;,n)}i._attachListener(&amp;quot;drop&amp;quot;,function(n){n.preventDefault(),typeof r==&amp;quot;function&amp;quot;&amp;amp;&amp;amp;r.call(this,n);let s=n.dataTransfer.files;for(let a of s)Fn._load(a,t)},this)}else console.log(&amp;quot;The File APIs are not fully supported in this browser.&amp;quot;);return this}draggable(t){let r=&amp;quot;ontouchstart&amp;quot;in window,n=0,s=0,a=0,o=0,u,h=r?&amp;quot;touchstart&amp;quot;:&amp;quot;mousedown&amp;quot;,l=r?&amp;quot;touchend&amp;quot;:&amp;quot;mouseup&amp;quot;,c=r?&amp;quot;touchmove&amp;quot;:&amp;quot;mousemove&amp;quot;;t===void 0?(t=this.elt,u=t):t!==this.elt&amp;amp;&amp;amp;t.elt!==this.elt&amp;amp;&amp;amp;(t=t.elt,u=this.elt),u.addEventListener(h,p,!1),u.style.cursor=&amp;quot;move&amp;quot;;function p(m){if(m=m||window.event,r){let g=m.changedTouches;a=parseInt(g[0].clientX),o=parseInt(g[0].clientY)}else a=parseInt(m.clientX),o=parseInt(m.clientY);return document.addEventListener(l,d,!1),document.addEventListener(c,f,!1),!1}function f(m){if(m=m||window.event,r){let g=m.changedTouches;n=a-parseInt(g[0].clientX),s=o-parseInt(g[0].clientY),a=parseInt(g[0].clientX),o=parseInt(g[0].clientY)}else n=a-parseInt(m.clientX),s=o-parseInt(m.clientY),a=parseInt(m.clientX),o=parseInt(m.clientY);t.style.left=t.offsetLeft-n+&amp;quot;px&amp;quot;,t.style.top=t.offsetTop-s+&amp;quot;px&amp;quot;}function d(){document.removeEventListener(l,d,!1),document.removeEventListener(c,f,!1)}return this}static _adjustListener(t,r,n){return r===!1?i._detachListener(t,n):i._attachListener(t,r,n),this}static _attachListener(t,r,n){n._events[t]&amp;amp;&amp;amp;i._detachListener(t,n);let s=r.bind(n);n.elt.addEventListener(t,s,!1),n._events[t]=s}static _detachListener(t,r){let n=r._events[t];r.elt.removeEventListener(t,n,!1),r._events[t]=null}};function Wh(i,t){i.Element=st}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;Wh(p5,p5.prototype);var Xe={_toPixels(i){if(i instanceof ImageData)return i.data;if(i.getContext(&amp;quot;2d&amp;quot;))return i.getContext(&amp;quot;2d&amp;quot;).getImageData(0,0,i.width,i.height).data;if(i.getContext(&amp;quot;webgl&amp;quot;)){let t=i.getContext(&amp;quot;webgl&amp;quot;),r=t.drawingBufferWidth*t.drawingBufferHeight*4,n=new Uint8Array(r);return t.readPixels(0,0,i.width,i.height,t.RGBA,t.UNSIGNED_BYTE,n),n}},_getARGB(i,t){let r=t*4;return i[r+3]&amp;lt;&amp;lt;24&amp;amp;4278190080|i[r]&amp;lt;&amp;lt;16&amp;amp;16711680|i[r+1]&amp;lt;&amp;lt;8&amp;amp;65280|i[r+2]&amp;amp;255},_setPixels(i,t){let r=0;for(let n=0,s=i.length;n&amp;lt;s;n++)r=n*4,i[r+0]=(t[n]&amp;amp;16711680)&amp;gt;&amp;gt;&amp;gt;16,i[r+1]=(t[n]&amp;amp;65280)&amp;gt;&amp;gt;&amp;gt;8,i[r+2]=t[n]&amp;amp;255,i[r+3]=(t[n]&amp;amp;4278190080)&amp;gt;&amp;gt;&amp;gt;24},_toImageData(i){return i instanceof ImageData?i:i.getContext(&amp;quot;2d&amp;quot;).getImageData(0,0,i.width,i.height)},_createImageData(i,t){return Xe._tmpCanvas=document.createElement(&amp;quot;canvas&amp;quot;),Xe._tmpCtx=Xe._tmpCanvas.getContext(&amp;quot;2d&amp;quot;),this._tmpCtx.createImageData(i,t)},apply(i,t,r){let n=i.getContext(&amp;quot;2d&amp;quot;),s=n.getImageData(0,0,i.width,i.height),a=t(s,r);a instanceof ImageData?n.putImageData(a,0,0,0,0,i.width,i.height):n.putImageData(s,0,0,0,0,i.width,i.height)},threshold(i,t=.5){let r=Xe._toPixels(i),n=Math.floor(t*255);for(let s=0;s&amp;lt;r.length;s+=4){let a=r[s],o=r[s+1],u=r[s+2],h=.2126*a+.7152*o+.0722*u,l;h&amp;gt;=n?l=255:l=0,r[s]=r[s+1]=r[s+2]=l}},gray(i){let t=Xe._toPixels(i);for(let r=0;r&amp;lt;t.length;r+=4){let n=t[r],s=t[r+1],a=t[r+2],o=.2126*n+.7152*s+.0722*a;t[r]=t[r+1]=t[r+2]=o}},opaque(i){let t=Xe._toPixels(i);for(let r=0;r&amp;lt;t.length;r+=4)t[r+3]=255;return t},invert(i){let t=Xe._toPixels(i);for(let r=0;r&amp;lt;t.length;r+=4)t[r]=255-t[r],t[r+1]=255-t[r+1],t[r+2]=255-t[r+2]},posterize(i,t=4){let r=Xe._toPixels(i);if(t&amp;lt;2||t&amp;gt;255)throw new Error(&amp;quot;Level must be greater than 2 and less than 255 for posterize&amp;quot;);let n=t-1;for(let s=0;s&amp;lt;r.length;s+=4){let a=r[s],o=r[s+1],u=r[s+2];r[s]=(a*t&amp;gt;&amp;gt;8)*255/n,r[s+1]=(o*t&amp;gt;&amp;gt;8)*255/n,r[s+2]=(u*t&amp;gt;&amp;gt;8)*255/n}},dilate(i){let t=Xe._toPixels(i),r=0,n=t.length?t.length/4:0,s=new Int32Array(n),a,o,u,h,l,c,p,f,d,m,g,v,w,y,S,_,b;for(;r&amp;lt;n;)for(a=r,o=r+i.width;r&amp;lt;o;)u=h=Xe._getARGB(t,r),p=r-1,c=r+1,f=r-i.width,d=r+i.width,p&amp;lt;a&amp;amp;&amp;amp;(p=r),c&amp;gt;=o&amp;amp;&amp;amp;(c=r),f&amp;lt;0&amp;amp;&amp;amp;(f=0),d&amp;gt;=n&amp;amp;&amp;amp;(d=r),v=Xe._getARGB(t,f),g=Xe._getARGB(t,p),w=Xe._getARGB(t,d),m=Xe._getARGB(t,c),l=77*(u&amp;gt;&amp;gt;16&amp;amp;255)+151*(u&amp;gt;&amp;gt;8&amp;amp;255)+28*(u&amp;amp;255),S=77*(g&amp;gt;&amp;gt;16&amp;amp;255)+151*(g&amp;gt;&amp;gt;8&amp;amp;255)+28*(g&amp;amp;255),y=77*(m&amp;gt;&amp;gt;16&amp;amp;255)+151*(m&amp;gt;&amp;gt;8&amp;amp;255)+28*(m&amp;amp;255),_=77*(v&amp;gt;&amp;gt;16&amp;amp;255)+151*(v&amp;gt;&amp;gt;8&amp;amp;255)+28*(v&amp;amp;255),b=77*(w&amp;gt;&amp;gt;16&amp;amp;255)+151*(w&amp;gt;&amp;gt;8&amp;amp;255)+28*(w&amp;amp;255),S&amp;gt;l&amp;amp;&amp;amp;(h=g,l=S),y&amp;gt;l&amp;amp;&amp;amp;(h=m,l=y),_&amp;gt;l&amp;amp;&amp;amp;(h=v,l=_),b&amp;gt;l&amp;amp;&amp;amp;(h=w,l=b),s[r++]=h;Xe._setPixels(t,s)},erode(i){let t=Xe._toPixels(i),r=0,n=t.length?t.length/4:0,s=new Int32Array(n),a,o,u,h,l,c,p,f,d,m,g,v,w,y,S,_,b;for(;r&amp;lt;n;)for(a=r,o=r+i.width;r&amp;lt;o;)u=h=Xe._getARGB(t,r),p=r-1,c=r+1,f=r-i.width,d=r+i.width,p&amp;lt;a&amp;amp;&amp;amp;(p=r),c&amp;gt;=o&amp;amp;&amp;amp;(c=r),f&amp;lt;0&amp;amp;&amp;amp;(f=0),d&amp;gt;=n&amp;amp;&amp;amp;(d=r),v=Xe._getARGB(t,f),g=Xe._getARGB(t,p),w=Xe._getARGB(t,d),m=Xe._getARGB(t,c),l=77*(u&amp;gt;&amp;gt;16&amp;amp;255)+151*(u&amp;gt;&amp;gt;8&amp;amp;255)+28*(u&amp;amp;255),S=77*(g&amp;gt;&amp;gt;16&amp;amp;255)+151*(g&amp;gt;&amp;gt;8&amp;amp;255)+28*(g&amp;amp;255),y=77*(m&amp;gt;&amp;gt;16&amp;amp;255)+151*(m&amp;gt;&amp;gt;8&amp;amp;255)+28*(m&amp;amp;255),_=77*(v&amp;gt;&amp;gt;16&amp;amp;255)+151*(v&amp;gt;&amp;gt;8&amp;amp;255)+28*(v&amp;amp;255),b=77*(w&amp;gt;&amp;gt;16&amp;amp;255)+151*(w&amp;gt;&amp;gt;8&amp;amp;255)+28*(w&amp;amp;255),S&amp;lt;l&amp;amp;&amp;amp;(h=g,l=S),y&amp;lt;l&amp;amp;&amp;amp;(h=m,l=y),_&amp;lt;l&amp;amp;&amp;amp;(h=v,l=_),b&amp;lt;l&amp;amp;&amp;amp;(h=w,l=b),s[r++]=h;Xe._setPixels(t,s)},blur(i,t){Mx(i,t)}},Pa,ys,vs,Tn;function kx(i){let t=i*3.5|0;if(t=t&amp;lt;1?1:t&amp;lt;248?t:248,Pa!==t){Pa=t,ys=1+Pa&amp;lt;&amp;lt;1,vs=new Int32Array(ys),Tn=new Array(ys);for(let o=0;o&amp;lt;ys;o++)Tn[o]=new Int32Array(256);let r,n,s,a;for(let o=1,u=t-1;o&amp;lt;t;o++){vs[t+o]=vs[u]=n=u*u,s=Tn[t+o],a=Tn[u--];for(let h=0;h&amp;lt;256;h++)s[h]=a[h]=n*h}r=vs[t]=t*t,s=Tn[t];for(let o=0;o&amp;lt;256;o++)s[o]=r*o}}function Mx(i,t){let r=Xe._toPixels(i),n=i.width,s=i.height,a=n*s,o=new Int32Array(a);for(let T=0;T&amp;lt;a;T++)o[T]=Xe._getARGB(r,T);let u,h,l,c,p,f,d,m,g,v,w=new Int32Array(a),y=new Int32Array(a),S=new Int32Array(a),_=new Int32Array(a),b=0;kx(t);let I,E,A,C;for(E=0;E&amp;lt;s;E++){for(I=0;I&amp;lt;n;I++){if(c=l=h=p=u=0,f=I-Pa,f&amp;lt;0)v=-f,f=0;else{if(f&amp;gt;=n)break;v=0}for(A=v;A&amp;lt;ys&amp;amp;&amp;amp;!(f&amp;gt;=n);A++){let T=o[f+b];C=Tn[A],p+=C[(T&amp;amp;-16777216)&amp;gt;&amp;gt;&amp;gt;24],h+=C[(T&amp;amp;16711680)&amp;gt;&amp;gt;16],l+=C[(T&amp;amp;65280)&amp;gt;&amp;gt;8],c+=C[T&amp;amp;255],u+=vs[A],f++}d=b+I,w[d]=p/u,y[d]=h/u,S[d]=l/u,_[d]=c/u}b+=n}for(b=0,m=-Pa,g=m*n,E=0;E&amp;lt;s;E++){for(I=0;I&amp;lt;n;I++){if(c=l=h=p=u=0,m&amp;lt;0)v=d=-m,f=I;else{if(m&amp;gt;=s)break;v=0,d=m,f=I+g}for(A=v;A&amp;lt;ys&amp;amp;&amp;amp;!(d&amp;gt;=s);A++)C=Tn[A],p+=C[w[f]],h+=C[y[f]],l+=C[S[f]],c+=C[_[f]],u+=vs[A],d++,f+=n;o[I+b]=p/u&amp;lt;&amp;lt;24|h/u&amp;lt;&amp;lt;16|l/u&amp;lt;&amp;lt;8|c/u}b+=n,g+=n,m++}Xe._setPixels(r,o)}function Jd(i){let t=0;for(let r=1;r&amp;lt;i.length;r++)t+=i[r-1].position.dist(i[r].position);return t}var Eu=class{constructor(t){for(let[r,n]of Object.entries(t))this[r]=n}},xr=class i{vertices;_shape=null;_primitivesIndex=null;_contoursIndex=null;isClosing=!1;constructor(...t){if(this.constructor===i)throw new Error(&amp;quot;ShapePrimitive is an abstract class: it cannot be instantiated.&amp;quot;);if(t.length&amp;gt;0)this.vertices=t;else throw new Error(&amp;quot;At least one vertex must be passed to the constructor.&amp;quot;)}get vertexCount(){return this.vertices.length}get vertexCapacity(){throw new Error(&amp;quot;Getter vertexCapacity must be implemented.&amp;quot;)}get _firstInterpolatedVertex(){return this.startVertex()}get canOverrideAnchor(){return!1}accept(t){throw new Error(&amp;quot;Method accept() must be implemented.&amp;quot;)}addToShape(t){let r=t.at(-1);if(r.primitives.length===0)r.primitives.push(this);else{let s=t.at(-1,-1),a=s instanceof this.constructor,o=s.vertexCapacity-s.vertexCount,u,h;a&amp;amp;&amp;amp;o&amp;gt;0?(u=this.vertices.splice(0,o),h=this.vertices,s.vertices.push(...u),h.length&amp;gt;0&amp;amp;&amp;amp;r.primitives.push(this)):r.primitives.push(this)}if(this.vertices.length&amp;gt;0){let s=t.at(-1);this._primitivesIndex=s.primitives.length-1,this._contoursIndex=t.contours.length-1,this._shape=t}return t.at(-1,-1)}get _nextPrimitive(){return this._belongsToShape?this._shape.at(this._contoursIndex,this._primitivesIndex+1):null}get _belongsToShape(){return this._shape!==null}handlesClose(){return!1}close(t){throw new Error(&amp;quot;Unimplemented!&amp;quot;)}},Su=class{#e;primitives;constructor(t=rr){this.#e=t,this.primitives=[]}get kind(){let t=this.primitives.length===0,r=this.#e===rr;return t&amp;amp;&amp;amp;r?dn:this.#e}accept(t){for(let r of this.primitives)r.accept(t)}},xs=class extends xr{#e=1;get vertexCapacity(){return this.#e}accept(t){t.visitAnchor(this)}getEndVertex(){return this.vertices[0]}},Nn=class i extends xr{constructor(...t){if(super(...t),this.constructor===i)throw new Error(&amp;quot;Segment is an abstract class: it cannot be instantiated.&amp;quot;)}get _previousPrimitive(){return this._belongsToShape?this._shape.at(this._contoursIndex,this._primitivesIndex-1):null}getStartVertex(){return this._previousPrimitive.getEndVertex()}getEndVertex(){return this.vertices.at(-1)}},Au=class extends Nn{#e=1;get vertexCapacity(){return this.#e}accept(t){t.visitLineSegment(this)}},Du=class extends Nn{#e;#t;constructor(t,...r){super(...r);let n=Array.isArray(t)?t[0]:t;this.#e=n,this.#t=n}get order(){return this.#e}get vertexCapacity(){return this.#t}#r;hullLength(){return this.#r===void 0&amp;amp;&amp;amp;(this.#r=Jd([this.getStartVertex(),...this.vertices])),this.#r}accept(t){t.visitBezierSegment(this)}},Fu=class extends Nn{#e=1/0;_splineProperties={ends:$i,tightness:0};get vertexCapacity(){return this.#e}accept(t){t.visitSplineSegment(this)}get _comesAfterSegment(){return this._previousPrimitive instanceof Nn}get canOverrideAnchor(){return this._splineProperties.ends===_n}get _firstInterpolatedVertex(){return this._splineProperties.ends===_n?this._comesAfterSegment?this.vertices[1]:this.vertices[0]:this.getStartVertex()}get _chainedToSegment(){if(this._belongsToShape&amp;amp;&amp;amp;this._comesAfterSegment){let t=this._firstInterpolatedVertex.position;return this.getStartVertex().position.equals(t)}else return!1}addToShape(t){let r=super.addToShape(t);if(this._splineProperties.ends=t._splineProperties.ends,this._splineProperties.tightness=t._splineProperties.tightness,this._splineProperties.ends!==_n)return r;let n=!this._belongsToShape,s=t.at(-1,-1),a=(o,u)=&amp;gt;`Spline does not start where previous path segment ends:
<a href="#l326" class="line" id="l326">    326</a> &lt;a href=&quot;#l307&quot; class=&quot;line&quot; id=&quot;l307&quot;&gt;    307&lt;/a&gt;       second spline vertex at (${o})
<a href="#l327" class="line" id="l327">    327</a> &lt;a href=&quot;#l308&quot; class=&quot;line&quot; id=&quot;l308&quot;&gt;    308&lt;/a&gt;       expected to be at (${u}).`;if(n&amp;amp;&amp;amp;s.vertices.length===2&amp;amp;&amp;amp;s._comesAfterSegment&amp;amp;&amp;amp;!s._chainedToSegment){let o=s._firstInterpolatedVertex.position,u=s.getStartVertex().position;console.warn(a(o.array(),u.array()))}return r}getEndVertex(){return this._splineProperties.ends===$i?super.getEndVertex():this._splineProperties.ends===_n?this.vertices.at(-2):this.getStartVertex()}getControlPoints(){let t=[];this._comesAfterSegment&amp;amp;&amp;amp;t.push(this.getStartVertex()),t.push(this.getStartVertex());for(let n of this.vertices)t.push(n);let r=this.getStartVertex();return this._splineProperties.ends===$i?(t.unshift(r),t.push(this.vertices.at(-1))):this._splineProperties.ends===nu&amp;amp;&amp;amp;(t.unshift(this.vertices.at(-1)),t.push(r,this.vertices.at(0))),t}handlesClose(){return this._belongsToShape?this._shape.at(this._contoursIndex).primitives.length===2&amp;amp;&amp;amp;this._primitivesIndex===1:!1}close(){this._splineProperties.ends=nu}},Tu=class extends xr{#e=1;get vertexCapacity(){return this.#e}accept(t){t.visitPoint(this)}},Nu=class extends xr{#e=2;get vertexCapacity(){return this.#e}accept(t){t.visitLine(this)}},Iu=class extends xr{#e=3;get vertexCapacity(){return this.#e}accept(t){t.visitTriangle(this)}},ku=class extends xr{#e=4;get vertexCapacity(){return this.#e}accept(t){t.visitQuad(this)}},Mu=class extends xr{#e=1/0;get vertexCapacity(){return this.#e}accept(t){t.visitTriangleFan(this)}},Lu=class extends xr{#e=1/0;get vertexCapacity(){return this.#e}accept(t){t.visitTriangleStrip(this)}},Ru=class extends xr{#e=1/0;get vertexCapacity(){return this.#e}accept(t){t.visitQuadStrip(this)}},qh=class{creators;constructor(){let t=new Map;t.set(`vertex-${dn}`,(...r)=&amp;gt;new xs(...r)),t.set(`vertex-${rr}`,(...r)=&amp;gt;new Au(...r)),t.set(`vertex-${Jn}`,(...r)=&amp;gt;new Tu(...r)),t.set(`vertex-${ci}`,(...r)=&amp;gt;new Nu(...r)),t.set(`vertex-${fi}`,(...r)=&amp;gt;new Iu(...r)),t.set(`vertex-${pn}`,(...r)=&amp;gt;new ku(...r)),t.set(`vertex-${cn}`,(...r)=&amp;gt;new Mu(...r)),t.set(`vertex-${zi}`,(...r)=&amp;gt;new Lu(...r)),t.set(`vertex-${ji}`,(...r)=&amp;gt;new Ru(...r)),t.set(`bezierVertex-${dn}`,(r,...n)=&amp;gt;new xs(...n)),t.set(`bezierVertex-${rr}`,(r,...n)=&amp;gt;new Du(r,...n)),t.set(`splineVertex-${dn}`,(...r)=&amp;gt;new xs(...r)),t.set(`splineVertex-${rr}`,(...r)=&amp;gt;new Fu(...r)),this.creators=t}get(t,r){let n=`${t}-${r}`;return this.creators.get(n)}set(t,r,n){let s=`${t}-${r}`;this.creators.set(s,n)}clear(){this.creators.clear()}},Oa=class{#e;#t;#r;#n=3;kind=null;contours=[];_splineProperties={tightness:0,ends:$i};userVertexProperties=null;constructor(t,r=new qh){this.#t=t,this.#e=t,this.#r=r;for(let n in this.#e)n!==&amp;quot;position&amp;quot;&amp;amp;&amp;amp;n!==&amp;quot;textureCoordinates&amp;quot;&amp;amp;&amp;amp;(this[n]=function(s){this.#e[n]=s})}serializeToArray(t){if(t==null)return[];if(t instanceof Number)return[t];if(t instanceof Array)return t;if(t.array instanceof Function)return t.array();throw new Error(`Can&amp;#39;t convert ${t} to array!`)}vertexToArray(t){let r=[];for(let n in this.#e){if(this.userVertexProperties&amp;amp;&amp;amp;n in this.userVertexProperties)continue;let s=t[n];r.push(...this.serializeToArray(s))}for(let n in this.userVertexProperties)n in t?r.push(...this.serializeToArray(t[n])):r.push(...new Array(this.userVertexProperties[n]).fill(0));return r}hydrateValue(t,r){if(r===null)return null;if(r instanceof Number)return t.shift();if(r instanceof Array){let n=[];for(let s=0;s&amp;lt;r.length;s++)n.push(t.shift());return n}else{if(r instanceof H)return new H(t.shift(),t.shift(),t.shift());if(r instanceof Qe){let n=[t.shift(),t.shift(),t.shift(),t.shift()];return new Qe(n)}}}arrayToVertex(t){let r={},n=[...t];for(let s in this.#e){if(this.userVertexProperties&amp;amp;&amp;amp;s in this.userVertexProperties)continue;let a=this.#e[s];r[s]=this.hydrateValue(n,a)}for(let s in this.userVertexProperties){let a=this.#e[s];r[s]=this.hydrateValue(n,a)}return r}arrayScale(t,r){return t.map(n=&amp;gt;n*r)}arraySum(t,...r){return t.map((n,s)=&amp;gt;{let a=n;for(let o=0;o&amp;lt;r.length;o++)a+=r[o][s];return a})}arrayMinus(t,r){return t.map((n,s)=&amp;gt;n-r[s])}evaluateCubicBezier([t,r,n,s],a){return this.arraySum(this.arrayScale(t,Math.pow(1-a,3)),this.arrayScale(r,3*Math.pow(1-a,2)*a),this.arrayScale(n,3*(1-a)*Math.pow(a,2)),this.arrayScale(s,Math.pow(a,3)))}evaluateQuadraticBezier([t,r,n],s){return this.arraySum(this.arrayScale(t,Math.pow(1-s,2)),this.arrayScale(r,2*(1-s)*s),this.arrayScale(n,s*s))}catmullRomToBezier(t,r){let n=1-r,s=[];for(let a=0;a+3&amp;lt;t.length;a++){let[o,u,h,l]=t.slice(a,a+4),c=this.arraySum(u,this.arrayScale(this.arrayMinus(h,o),n/6)),p=this.arraySum(h,this.arrayScale(this.arrayMinus(u,l),n/6)),f=h;s.push([c,p,f])}return s}at(t,r,n){let s,a;switch(s=this.contours.at(t),arguments.length){case 1:return s;case 2:return s.primitives.at(r);case 3:return a=s.primitives.at(r),a.vertices.at(n)}}reset(){this.#e={...this.#t},this.kind=null,this.contours=[],this.userVertexProperties=null}vertexProperty(t,r){this.userVertexProperties=this.userVertexProperties||{};let n=this.vertexPropertyKey(t),s=Array.isArray(r)?r:[r];this.userVertexProperties[n]||(this.userVertexProperties[n]=s.length),this.#e[n]=s}vertexPropertyName(t){return t.replace(/Src$/,&amp;quot;&amp;quot;)}vertexPropertyKey(t){return t+&amp;quot;Src&amp;quot;}bezierOrder(...t){this.#n=t}splineProperty(t,r){this._splineProperties[t]=r}splineProperties(t){if(t)for(let r in t)this.splineProperty(r,t[r]);else return this._splineProperties}#s(t,r){return this.#e.position=t,r!==void 0&amp;amp;&amp;amp;(this.#e.textureCoordinates=r),new Eu(this.#e)}#a(t,r,...n){let s=this.#r.get(t,r);return t===&amp;quot;bezierVertex&amp;quot;?s(this.#n,...n):s(...n)}#i(t,r,n){let s=t,a=this.at(-1).kind,o=this.#s(r,n);return this.#a(s,a,o).addToShape(this)}vertex(t,r,{isClosing:n=!1}={}){let s=this.#i(&amp;quot;vertex&amp;quot;,t,r);s.isClosing=n}bezierVertex(t,r){this.#i(&amp;quot;bezierVertex&amp;quot;,t,r)}splineVertex(t,r){this.#i(&amp;quot;splineVertex&amp;quot;,t,r)}arcVertex(t,r){this.#i(&amp;quot;arcVertex&amp;quot;,t,r)}beginContour(t=rr){this.at(-1)?.kind===dn&amp;amp;&amp;amp;this.contours.pop(),this.contours.push(new Su(t))}endContour(t=Xr,r=this.contours.length-1){let n=this.at(r);if(t===mn){let s=n.kind===rr,a=this.at(r,0,0),o=Object.hasOwn(a,&amp;quot;position&amp;quot;),u=this.at(r,-1);if(s&amp;amp;&amp;amp;o)if(u.handlesClose())u.close(a);else{let h=this.contours.splice(r+1,this.contours.length-r-1),l=this.#e;this.#e={...l};for(let c in a)[&amp;quot;position&amp;quot;,&amp;quot;textureCoordinates&amp;quot;].includes(c)||(this.#e[c]=a[c]);this.vertex(a.position,a.textureCoordinates,{isClosing:!0}),this.#e=l,this.contours.push(...h)}}}beginShape(t=rr){this.kind=t,this.beginContour(t)}endShape(t=Xr){t===mn&amp;amp;&amp;amp;this.endContour(t,0)}accept(t){for(let r of this.contours)r.accept(t)}},bs=class i{constructor(){if(this.constructor===i)throw new Error(&amp;quot;PrimitiveVisitor is an abstract class: it cannot be instantiated.&amp;quot;)}visitAnchor(t){throw new Error(&amp;quot;Method visitAnchor() has not been implemented.&amp;quot;)}visitLineSegment(t){throw new Error(&amp;quot;Method visitLineSegment() has not been implemented.&amp;quot;)}visitBezierSegment(t){throw new Error(&amp;quot;Method visitBezierSegment() has not been implemented.&amp;quot;)}visitSplineSegment(t){throw new Error(&amp;quot;Method visitSplineSegment() has not been implemented.&amp;quot;)}visitArcSegment(t){throw new Error(&amp;quot;Method visitArcSegment() has not been implemented.&amp;quot;)}visitPoint(t){throw new Error(&amp;quot;Method visitPoint() has not been implemented.&amp;quot;)}visitLine(t){throw new Error(&amp;quot;Method visitLine() has not been implemented.&amp;quot;)}visitTriangle(t){throw new Error(&amp;quot;Method visitTriangle() has not been implemented.&amp;quot;)}visitQuad(t){throw new Error(&amp;quot;Method visitQuad() has not been implemented.&amp;quot;)}visitTriangleFan(t){throw new Error(&amp;quot;Method visitTriangleFan() has not been implemented.&amp;quot;)}visitTriangleStrip(t){throw new Error(&amp;quot;Method visitTriangleStrip() has not been implemented.&amp;quot;)}visitQuadStrip(t){throw new Error(&amp;quot;Method visitQuadStrip() has not been implemented.&amp;quot;)}},Va=class extends bs{path=new Path2D;strokeWeight;constructor({strokeWeight:t}){super(),this.strokeWeight=t}visitAnchor(t){let r=t.getEndVertex();this.path.moveTo(r.position.x,r.position.y)}visitLineSegment(t){if(t.isClosing)this.path.closePath();else{let r=t.getEndVertex();this.path.lineTo(r.position.x,r.position.y)}}visitBezierSegment(t){let[r,n,s]=t.vertices;switch(t.order){case 2:this.path.quadraticCurveTo(r.position.x,r.position.y,n.position.x,n.position.y);break;case 3:this.path.bezierCurveTo(r.position.x,r.position.y,n.position.x,n.position.y,s.position.x,s.position.y);break}}visitSplineSegment(t){let r=t._shape;if(t._splineProperties.ends===_n&amp;amp;&amp;amp;!t._comesAfterSegment){let a=t._firstInterpolatedVertex;this.path.moveTo(a.position.x,a.position.y)}let n=t.getControlPoints().map(a=&amp;gt;r.vertexToArray(a)),s=r.catmullRomToBezier(n,t._splineProperties.tightness).map(a=&amp;gt;a.map(o=&amp;gt;r.arrayToVertex(o)));for(let a of s){let o=a.flatMap(u=&amp;gt;[u.position.x,u.position.y]);this.path.bezierCurveTo(...o)}}visitPoint(t){let{x:r,y:n}=t.vertices[0].position;this.path.moveTo(r,n),this.path.lineTo(r+1e-5,n)}visitLine(t){let{x:r,y:n}=t.vertices[0].position,{x:s,y:a}=t.vertices[1].position;this.path.moveTo(r,n),this.path.lineTo(s,a)}visitTriangle(t){let[r,n,s]=t.vertices;this.path.moveTo(r.position.x,r.position.y),this.path.lineTo(n.position.x,n.position.y),this.path.lineTo(s.position.x,s.position.y),this.path.closePath()}visitQuad(t){let[r,n,s,a]=t.vertices;this.path.moveTo(r.position.x,r.position.y),this.path.lineTo(n.position.x,n.position.y),this.path.lineTo(s.position.x,s.position.y),this.path.lineTo(a.position.x,a.position.y),this.path.closePath()}visitTriangleFan(t){let[r,...n]=t.vertices;for(let s=0;s&amp;lt;n.length-1;s++){let a=n[s],o=n[s+1];this.path.moveTo(r.position.x,r.position.y),this.path.lineTo(a.position.x,a.position.y),this.path.lineTo(o.position.x,o.position.y),this.path.closePath()}}visitTriangleStrip(t){for(let r=0;r&amp;lt;t.vertices.length-2;r++){let n=t.vertices[r],s=t.vertices[r+1],a=t.vertices[r+2];this.path.moveTo(n.position.x,n.position.y),this.path.lineTo(s.position.x,s.position.y),this.path.lineTo(a.position.x,a.position.y),this.path.closePath()}}visitQuadStrip(t){for(let r=0;r&amp;lt;t.vertices.length-3;r+=2){let n=t.vertices[r],s=t.vertices[r+1],a=t.vertices[r+2],o=t.vertices[r+3];this.path.moveTo(n.position.x,n.position.y),this.path.lineTo(s.position.x,s.position.y),this.path.lineTo(o.position.x,o.position.y),this.path.lineTo(a.position.x,a.position.y),this.path.closePath()}}},Ua=class extends bs{contours=[];curveDetail;constructor({curveDetail:t=1}={}){super(),this.curveDetail=t}lastContour(){return this.contours[this.contours.length-1]}visitAnchor(t){this.contours.push([]);let r=t._nextPrimitive;r?.canOverrideAnchor?this.lastContour().push(r._firstInterpolatedVertex):this.lastContour().push(t.getEndVertex())}visitLineSegment(t){this.lastContour().push(t.getEndVertex())}visitBezierSegment(t){let r=this.lastContour(),n=Math.max(1,Math.ceil(t.hullLength()*this.curveDetail)),s=[t.getStartVertex(),...t.vertices].map(a=&amp;gt;t._shape.vertexToArray(a));for(let a=0;a&amp;lt;n;a++){let o=(a+1)/n;r.push(t._shape.arrayToVertex(t.order===3?t._shape.evaluateCubicBezier(s,o):t._shape.evaluateQuadraticBezier(s,o)))}}visitSplineSegment(t){let r=t._shape,n=this.lastContour(),s=t.getControlPoints().map(u=&amp;gt;r.vertexToArray(u)),a=r.catmullRomToBezier(s,t._splineProperties.tightness),o=r.vertexToArray(t._firstInterpolatedVertex);for(let u of a){let h=[o,...u],l=Math.max(1,Math.ceil(Jd(h.map(c=&amp;gt;r.arrayToVertex(c)))*this.curveDetail));for(let c=0;c&amp;lt;l;c++){let p=(c+1)/l;n.push(r.arrayToVertex(r.evaluateCubicBezier(h,p)))}o=u[2]}}visitPoint(t){this.contours.push(t.vertices.slice())}visitLine(t){this.contours.push(t.vertices.slice())}visitTriangle(t){this.contours.push(t.vertices.slice())}visitQuad(t){this.contours.push(t.vertices.slice())}visitTriangleFan(t){this.contours.push(t.vertices.slice())}visitTriangleStrip(t){this.contours.push(t.vertices.slice())}visitQuadStrip(t){this.contours.push(t.vertices.slice())}},Zh=class extends bs{constructor(){super()}};function Ga(i,t){i.Shape=Oa,i.Contour=Su,i.ShapePrimitive=xr,i.Vertex=Eu,i.Anchor=xs,i.Segment=Nn,i.LineSegment=Au,i.BezierSegment=Du,i.SplineSegment=Fu,i.Point=Tu,i.Line=Nu,i.Triangle=Iu,i.Quad=ku,i.TriangleFan=Mu,i.TriangleStrip=Lu,i.QuadStrip=Ru,i.PrimitiveVisitor=bs,i.PrimitiveToPath2DConverter=Va,i.PrimitiveToVerticesConverter=Ua,i.PointAtLengthGetter=Zh,t.bezierOrder=function(r){return this._renderer.bezierOrder(r)},t.splineVertex=function(...r){let n=0,s=0,a=0,o=0,u=0;r.length===2?[n,s]=r:r.length===4?[n,s,o,u]=r:r.length===3?[n,s,a]=r:r.length===5&amp;amp;&amp;amp;([n,s,a,o,u]=r),this._renderer.splineVertex(n,s,a,o,u)},t.splineProperty=function(r,n){return this._renderer.splineProperty(r,n)},t.splineProperties=function(r){return this._renderer.splineProperties(r)},t.vertex=function(r,n){let s,a,o;s=a=o=0,arguments.length===3?s=arguments[2]:arguments.length===4?(a=arguments[2],o=arguments[3]):arguments.length===5&amp;amp;&amp;amp;(s=arguments[2],a=arguments[3],o=arguments[4]),this._renderer.vertex(r,n,s,a,o)},t.beginContour=function(r){this._renderer.beginContour(r)},t.endContour=function(r=Xr){this._renderer.endContour(r)}}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;Ga(p5,p5.prototype);var Bu=class{#e={};constructor(t){for(let r in t)this[r]=t[r]}setValue(t,r){t in this.#e||(this.#e[t]=this[t]),this[t]=r}getDiff(){let t=this.#e;return this.#e={},t}getModified(){return this.#e}applyDiff(t){for(let r in this.#e)this[r]=this.#e[r];this.#e=t}};var em=Se(Bt());function za(i,t,r){let s=_s(t,r)[0],a=i;a instanceof Blob||(a=new Blob([i])),em.saveAs(a,s)}function _s(i,t){(!t||t===!0||t===&amp;quot;true&amp;quot;)&amp;amp;&amp;amp;(t=&amp;quot;&amp;quot;),i||(i=&amp;quot;untitled&amp;quot;);let r=&amp;quot;&amp;quot;;return i&amp;amp;&amp;amp;i.includes(&amp;quot;.&amp;quot;)&amp;amp;&amp;amp;(r=i.split(&amp;quot;.&amp;quot;).pop()),t&amp;amp;&amp;amp;r!==t&amp;amp;&amp;amp;(r=t,i=`${i}.${r}`),[i,r]}var ar=class i{constructor(t,r){this.width=t,this.height=r,this.canvas=document.createElement(&amp;quot;canvas&amp;quot;),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext(&amp;quot;2d&amp;quot;),this._pixelsState=this,this._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]}pixelDensity(t){return typeof t&amp;lt;&amp;quot;u&amp;quot;?(t&amp;lt;=0&amp;amp;&amp;amp;(t=1),this._pixelDensity=t,this.width/=t,this.height/=t,this):this._pixelDensity}_animateGif(t){let r=this.gifProperties,n=t._lastRealFrameTime||window.performance.now();if(r.lastChangeTime===0&amp;amp;&amp;amp;(r.lastChangeTime=n),r.playing){r.timeDisplayed=n-r.lastChangeTime;let s=r.frames[r.displayIndex].delay;if(r.timeDisplayed&amp;gt;=s){let a=Math.floor(r.timeDisplayed/s);if(r.timeDisplayed=0,r.lastChangeTime=n,r.displayIndex+=a,r.loopCount=Math.floor(r.displayIndex/r.numFrames),r.loopLimit!==null&amp;amp;&amp;amp;r.loopCount&amp;gt;=r.loopLimit)r.playing=!1;else{let o=r.displayIndex%r.numFrames;this.drawingContext.putImageData(r.frames[o].image,0,0),r.displayIndex=o,this.setModified(!0)}}}}loadPixels(){let t=this._pixelsState,r=this._pixelDensity,n=this.width*r,s=this.height*r,a=this.drawingContext.getImageData(0,0,n,s);t.imageData=a,this.pixels=t.pixels=a.data,this.setModified(!0)}updatePixels(t,r,n,s){let a=this._pixelsState,o=this._pixelDensity;t===void 0&amp;amp;&amp;amp;r===void 0&amp;amp;&amp;amp;n===void 0&amp;amp;&amp;amp;s===void 0&amp;amp;&amp;amp;(t=0,r=0,n=this.width,s=this.height),t*=o,r*=o,n*=o,s*=o,this.gifProperties&amp;amp;&amp;amp;(this.gifProperties.frames[this.gifProperties.displayIndex].image=a.imageData),this.drawingContext.putImageData(a.imageData,t,r,0,0,n,s),this.setModified(!0)}get(t,r,n,s){let a=this._pixelsState,o=this._pixelDensity,u=this.canvas;if(typeof t&amp;gt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;typeof r&amp;gt;&amp;quot;u&amp;quot;)t=r=0,n=a.width,s=a.height;else if(t*=o,r*=o,typeof n&amp;gt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;typeof s&amp;gt;&amp;quot;u&amp;quot;)return t&amp;lt;0||r&amp;lt;0||t&amp;gt;=u.width||r&amp;gt;=u.height?[0,0,0,0]:this._getPixel(t,r);let h=new i(n*o,s*o);return h.pixelDensity(o),h.canvas.getContext(&amp;quot;2d&amp;quot;).drawImage(u,t,r,n*o,s*o,0,0,n*o,s*o),h}_getPixel(t,r){let n,s;return n=this.drawingContext.getImageData(t,r,1,1).data,s=0,[n[s+0],n[s+1],n[s+2],n[s+3]]}set(t,r,n){t=Math.floor(t),r=Math.floor(r);let s=this._pixelsState;if(n instanceof i)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pixelDensity,this._pixelDensity),this.drawingContext.clearRect(t,r,n.width,n.height),this.drawingContext.drawImage(n.canvas,t,r),this.drawingContext.restore();else{let a=0,o=0,u=0,h=0,l=4*(r*this._pixelDensity*(this.width*this._pixelDensity)+t*this._pixelDensity);if(s.imageData||s.loadPixels(),typeof n==&amp;quot;number&amp;quot;)l&amp;lt;s.pixels.length&amp;amp;&amp;amp;(a=n,o=n,u=n,h=255);else if(Array.isArray(n)){if(n.length&amp;lt;4)throw new Error(&amp;quot;pixel array must be of the form [R, G, B, A]&amp;quot;);l&amp;lt;s.pixels.length&amp;amp;&amp;amp;(a=n[0],o=n[1],u=n[2],h=n[3])}else n instanceof p5.Color&amp;amp;&amp;amp;l&amp;lt;s.pixels.length&amp;amp;&amp;amp;([a,o,u,h]=n._getRGBA([255,255,255,255]));for(let c=0;c&amp;lt;this._pixelDensity;c++)for(let p=0;p&amp;lt;this._pixelDensity;p++)l=4*((r*this._pixelDensity+p)*this.width*this._pixelDensity+(t*this._pixelDensity+c)),s.pixels[l]=a,s.pixels[l+1]=o,s.pixels[l+2]=u,s.pixels[l+3]=h}this.setModified(!0)}resize(t,r){t===0&amp;amp;&amp;amp;r===0?(t=this.canvas.width,r=this.canvas.height):t===0?t=this.canvas.width*r/this.canvas.height:r===0&amp;amp;&amp;amp;(r=this.canvas.height*t/this.canvas.width),t=Math.floor(t),r=Math.floor(r);let n=document.createElement(&amp;quot;canvas&amp;quot;);if(n.width=t,n.height=r,this.gifProperties){let s=this.gifProperties,a=(o,u)=&amp;gt;{let h=0;for(let l=0;l&amp;lt;u.height;l++)for(let c=0;c&amp;lt;u.width;c++){let p=Math.floor(c*o.width/u.width),d=(Math.floor(l*o.height/u.height)*o.width+p)*4;u.data[h++]=o.data[d++],u.data[h++]=o.data[d++],u.data[h++]=o.data[d++],u.data[h++]=o.data[d++]}};for(let o=0;o&amp;lt;s.numFrames;o++){let u=this.drawingContext.createImageData(t,r);a(s.frames[o].image,u),s.frames[o].image=u}}n.getContext(&amp;quot;2d&amp;quot;).drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,n.width,n.height),this.canvas.width=this.width=t,this.canvas.height=this.height=r,this.drawingContext.drawImage(n,0,0,t,r,0,0,t,r),this.pixels.length&amp;gt;0&amp;amp;&amp;amp;this.loadPixels(),this.setModified(!0)}copy(...t){let r,n,s,a,o,u,h,l,c;if(t.length===9)r=t[0],n=t[1],s=t[2],a=t[3],o=t[4],u=t[5],h=t[6],l=t[7],c=t[8];else if(t.length===8)r=this,n=t[0],s=t[1],a=t[2],o=t[3],u=t[4],h=t[5],l=t[6],c=t[7];else throw new Error(&amp;quot;Signature not supported&amp;quot;);this._copyHelper(this,r,n,s,a,o,u,h,l,c)}_copyHelper(t,r,n,s,a,o,u,h,l,c){let p=r.canvas.width/r.width,f=0,d=0;r._renderer&amp;amp;&amp;amp;r._renderer.isP3D&amp;amp;&amp;amp;(f=r.width/2,d=r.height/2),t._renderer&amp;amp;&amp;amp;t._renderer.isP3D?(t.push(),t.resetMatrix(),t.noLights(),t.blendMode(t.BLEND),t.imageMode(t.CORNER),t._renderer.image(r,n+f,s+d,a,o,u,h,l,c),t.pop()):t.drawingContext.drawImage(r.canvas,p*(n+f),p*(s+d),p*a,p*o,u,h,l,c)}mask(t){t===void 0&amp;amp;&amp;amp;(t=this);let r=this.drawingContext.globalCompositeOperation,n=this._pixelDensity,s=1;t instanceof ke&amp;amp;&amp;amp;(s=t._pInst._renderer._pixelDensity);let a=[t,0,0,s*t.width,s*t.height,0,0,n*this.width,n*this.height];if(this.drawingContext.globalCompositeOperation=&amp;quot;destination-in&amp;quot;,this.gifProperties){for(let o=0;o&amp;lt;this.gifProperties.frames.length;o++)this.drawingContext.putImageData(this.gifProperties.frames[o].image,0,0),this.copy(...a),this.gifProperties.frames[o].image=this.drawingContext.getImageData(0,0,n*this.width,n*this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else this.copy(...a);this.drawingContext.globalCompositeOperation=r,this.setModified(!0)}filter(t,r){Xe.apply(this.canvas,Xe[t],r),this.setModified(!0)}blend(...t){let r=this.drawingContext.globalCompositeOperation,n=t[t.length-1],s=Array.prototype.slice.call(t,0,t.length-1);this.drawingContext.globalCompositeOperation=n,this.copy(...s),this.drawingContext.globalCompositeOperation=r,this.setModified(!0)}setModified(t){this._modified=t}isModified(){return this._modified}save(t,r){if(this.gifProperties)Lx(this,t);else{let n=this.canvas;r=r||_s(t,r)[1]||&amp;quot;png&amp;quot;;let s;switch(r){default:s=&amp;quot;image/png&amp;quot;;break;case&amp;quot;webp&amp;quot;:s=&amp;quot;image/webp&amp;quot;;break;case&amp;quot;jpeg&amp;quot;:case&amp;quot;jpg&amp;quot;:s=&amp;quot;image/jpeg&amp;quot;;break}n.toBlob(a=&amp;gt;{za(a,t,r)},s)}}async toBlob(){return new Promise(t=&amp;gt;{this.canvas.toBlob(t)})}reset(){if(this.gifProperties){let t=this.gifProperties;t.playing=!0,t.timeSinceStart=0,t.timeDisplayed=0,t.lastChangeTime=0,t.loopCount=0,t.displayIndex=0,this.drawingContext.putImageData(t.frames[0].image,0,0)}}getCurrentFrame(){if(this.gifProperties){let t=this.gifProperties;return t.displayIndex%t.numFrames}}setFrame(t){if(this.gifProperties){let r=this.gifProperties;t&amp;lt;r.numFrames&amp;amp;&amp;amp;t&amp;gt;=0?(r.timeDisplayed=0,r.lastChangeTime=0,r.displayIndex=t,this.drawingContext.putImageData(r.frames[t].image,0,0)):console.log(&amp;quot;Cannot set GIF to a frame number that is higher than total number of frames or below zero.&amp;quot;)}}numFrames(){if(this.gifProperties)return this.gifProperties.numFrames}play(){this.gifProperties&amp;amp;&amp;amp;(this.gifProperties.playing=!0)}pause(){this.gifProperties&amp;amp;&amp;amp;(this.gifProperties.playing=!1)}delay(t,r){if(this.gifProperties){let n=this.gifProperties;if(r&amp;lt;n.numFrames&amp;amp;&amp;amp;r&amp;gt;=0)n.frames[r].delay=t;else for(let s of n.frames)s.delay=t}}};function Lx(i,t){let r=i.gifProperties,n=r.loopLimit;n===1?n=null:n===null&amp;amp;&amp;amp;(n=0);let s=new Uint8Array(i.width*i.height*r.numFrames),a=[],o={};for(let y=0;y&amp;lt;r.numFrames;y++){let S=new Set,_=r.frames[y].image.data,b=_.length,I=new Uint32Array(i.width*i.height);for(let A=0,C=0;A&amp;lt;b;A+=4,C++){let T=_[A+0],D=_[A+1],F=_[A+2],N=T&amp;lt;&amp;lt;16|D&amp;lt;&amp;lt;8|F&amp;lt;&amp;lt;0;S.add(N),I[C]=N}let E=[...S].sort().toString();o[E]===void 0?o[E]={freq:1,frames:[y]}:(o[E].freq+=1,o[E].frames.push(y)),a.push(I)}let u=[],h=Object.keys(o).sort(function(y,S){return o[S].freq-o[y].freq}),l=h[0].split(&amp;quot;,&amp;quot;).map(y=&amp;gt;parseInt(y));u=u.concat(o[l].frames);let c=new Set(l);for(let y=1;y&amp;lt;h.length;y++){let _=h[y].split(&amp;quot;,&amp;quot;).map(b=&amp;gt;parseInt(b)).filter(b=&amp;gt;!c.has(b));if(l.length+_.length&amp;lt;=256){for(let b=0;b&amp;lt;_.length;b++)l.push(_[b]),c.add(_[b]);u=u.concat(o[h[y]].frames)}}u=new Set(u);let p={};for(let y=0;y&amp;lt;l.length;y++)p[l[y]]||(p[l[y]]=y);let f=1;for(;f&amp;lt;l.length;)f&amp;lt;&amp;lt;=1;l.length=f;let d={loop:n,palette:new Uint32Array(l)},m=new omggif.GifWriter(s,i.width,i.height,d),g={};for(let y=0;y&amp;lt;r.numFrames;y++){let S=!u.has(y),_=S?[]:l,b=new Uint8Array(i.width*i.height),I={},E=new Set;a[y].forEach((T,D)=&amp;gt;{S?(I[T]===void 0&amp;amp;&amp;amp;(I[T]=_.length,_.push(T)),b[D]=I[T]):b[D]=p[T],y&amp;gt;0&amp;amp;&amp;amp;a[y-1][D]!==T&amp;amp;&amp;amp;E.add(T)});let A={},C=_.filter(T=&amp;gt;!E.has(T));if(C.length&amp;gt;0){let T=C[0],D=S?I[T]:p[T];if(y&amp;gt;0){for(let F=0;F&amp;lt;a[y].length;F++)a[y-1][F]===a[y][F]&amp;amp;&amp;amp;(b[F]=D);A.transparent=D,g.frameOpts.disposal=1}}if(A.delay=r.frames[y].delay/10,S){let T=1;for(;T&amp;lt;_.length;)T&amp;lt;&amp;lt;=1;_.length=T,A.palette=new Uint32Array(_)}y&amp;gt;0&amp;amp;&amp;amp;m.addFrame(0,0,i.width,i.height,g.pixelPaletteIndex,g.frameOpts),g={pixelPaletteIndex:b,frameOpts:A}}g.frameOpts.disposal=1,m.addFrame(0,0,i.width,i.height,g.pixelPaletteIndex,g.frameOpts);let v=&amp;quot;gif&amp;quot;,w=new Blob([s.slice(0,m.end())],{type:&amp;quot;image/gif&amp;quot;});za(w,t,v)}function Kh(i,t){i.Image=ar}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;Kh(p5,p5.prototype);var Xh=class i{constructor(t={}){for(let r in t)this[r]=t[r]}clone(){return new i(this)}},ke=class i{static states={strokeColor:null,strokeSet:!1,fillColor:null,fillSet:!1,tint:null,imageMode:Ct,rectMode:Ct,ellipseMode:Et,strokeWeight:1,textFont:{family:&amp;quot;sans-serif&amp;quot;},textLeading:15,leadingSet:!1,textSize:12,textAlign:lh,textBaseline:hh,bezierOrder:3,splineProperties:new Xh({ends:$i,tightness:0}),textWrap:ph,fontStyle:ir,fontStretch:ir,fontWeight:ir,lineHeight:ir,fontVariant:ir,direction:&amp;quot;inherit&amp;quot;};constructor(t,r,n,s){this._pInst=t,this._isMainCanvas=s,this.pixels=[],this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this.width=r,this.height=n,this._events={},s&amp;amp;&amp;amp;(this._isMainCanvas=!0),this.states=new Bu(i.states),this.states.strokeColor=new Qe([0,0,0]),this.states.fillColor=new Qe([1,1,1]),this._pushPopStack=[],this._pushPopDepth=0,this._clipping=!1,this._clipInvert=!1,this._currentShape=void 0}get currentShape(){return this._currentShape||(this._currentShape=new Oa(this.getCommonVertexProperties())),this._currentShape}remove(){}pixelDensity(t){let r;return typeof t==&amp;quot;number&amp;quot;?(t!==this._pixelDensity&amp;amp;&amp;amp;(this._pixelDensity=t),r=this,this.resize(this.width,this.height)):r=this._pixelDensity,r}push(){this._pushPopDepth++,this._pushPopStack.push(this.states.getDiff())}pop(){this._pushPopDepth--;let t=this._pushPopStack.pop()||{},r=this.states.getModified();this.states.applyDiff(t),this.updateShapeVertexProperties(r),this.updateShapeProperties(r)}bezierOrder(t){if(t===void 0)return this.states.bezierOrder;this.states.setValue(&amp;quot;bezierOrder&amp;quot;,t),this.updateShapeProperties()}bezierVertex(t,r,n=0,s=0,a=0){let o=new H(t,r,n),u=this.getSupportedIndividualVertexProperties().textureCoordinates?new H(s,a):void 0;this.currentShape.bezierVertex(o,u)}splineProperty(t,r){if(r===void 0)return this.states.splineProperties[t];this.states.setValue(&amp;quot;splineProperties&amp;quot;,this.states.splineProperties.clone()),this.states.splineProperties[t]=r,this.updateShapeProperties()}splineProperties(t){if(t)for(let r in t)this.splineProperty(r,t[r]);else return{...this.states.splineProperties}}splineVertex(t,r,n=0,s=0,a=0){let o=new H(t,r,n),u=this.getSupportedIndividualVertexProperties().textureCoordinates?new H(s,a):void 0;this.currentShape.splineVertex(o,u)}curveDetail(t){if(t===void 0)return this.states.curveDetail;this.states.setValue(&amp;quot;curveDetail&amp;quot;,t)}beginShape(...t){this.currentShape.reset(),this.updateShapeVertexProperties(),this.currentShape.beginShape(...t)}endShape(...t){this.currentShape.endShape(...t),this.drawShape(this.currentShape)}beginContour(t){this.currentShape.beginContour(t)}endContour(t){this.currentShape.endContour(t)}drawShape(t,r){throw new Error(&amp;quot;Unimplemented&amp;quot;)}vertex(t,r,n=0,s=0,a=0){let o=new H(t,r,n),u=this.getSupportedIndividualVertexProperties().textureCoordinates?new H(s,a):void 0;this.currentShape.vertex(o,u)}bezier(t,r,n,s,a,o,u,h){let l=this._pInst.bezierOrder();return this._pInst.bezierOrder(l),this._pInst.beginShape(),this._pInst.bezierVertex(t,r),this._pInst.bezierVertex(n,s),this._pInst.bezierVertex(a,o),this._pInst.bezierVertex(u,h),this._pInst.endShape(),this}spline(...t){if(t.length===8){let[r,n,s,a,o,u,h,l]=t;this._pInst.beginShape(),this._pInst.splineVertex(r,n),this._pInst.splineVertex(s,a),this._pInst.splineVertex(o,u),this._pInst.splineVertex(h,l),this._pInst.endShape()}else if(t.length===12){let[r,n,s,a,o,u,h,l,c,p,f,d]=t;this._pInst.beginShape(),this._pInst.splineVertex(r,n,s),this._pInst.splineVertex(a,o,u),this._pInst.splineVertex(h,l,c),this._pInst.splineVertex(p,f,d),this._pInst.endShape()}return this}beginClip(t={}){if(this._clipping)throw new Error(&amp;quot;It looks like you&amp;#39;re trying to clip while already in the middle of clipping. Did you forget to endClip()?&amp;quot;);this._clipping=!0,this._clipInvert=t.invert}endClip(){if(!this._clipping)throw new Error(&amp;quot;It looks like you&amp;#39;ve called endClip() without beginClip(). Did you forget to call beginClip() first?&amp;quot;);this._clipping=!1}resize(t,r){this.width=t,this.height=r}get(t,r,n,s){let a=this._pixelDensity,o=this.canvas;if(typeof t&amp;gt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;typeof r&amp;gt;&amp;quot;u&amp;quot;)t=r=0,n=this.width,s=this.height;else if(t*=a,r*=a,typeof n&amp;gt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;typeof s&amp;gt;&amp;quot;u&amp;quot;)return t&amp;lt;0||r&amp;lt;0||t&amp;gt;=o.width||r&amp;gt;=o.height?[0,0,0,0]:this._getPixel(t,r);let u=new ar(n*a,s*a);return u.pixelDensity(a),u.canvas.getContext(&amp;quot;2d&amp;quot;).drawImage(o,t,r,n*a,s*a,0,0,n*a,s*a),u}scale(t,r){}fill(...t){this.states.setValue(&amp;quot;fillSet&amp;quot;,!0),this.states.setValue(&amp;quot;fillColor&amp;quot;,this._pInst.color(...t)),this.updateShapeVertexProperties()}noFill(){this.states.setValue(&amp;quot;fillColor&amp;quot;,null)}strokeWeight(t){if(t===void 0)return this.states.strokeWeight;this.states.setValue(&amp;quot;strokeWeight&amp;quot;,t)}stroke(...t){this.states.setValue(&amp;quot;strokeSet&amp;quot;,!0),this.states.setValue(&amp;quot;strokeColor&amp;quot;,this._pInst.color(...t)),this.updateShapeVertexProperties()}noStroke(){this.states.setValue(&amp;quot;strokeColor&amp;quot;,null)}getCommonVertexProperties(){return{}}getSupportedIndividualVertexProperties(){return{textureCoordinates:!1}}updateShapeProperties(t){if(!t||t.bezierOrder||t.splineProperties){let r=this.currentShape;r.bezierOrder(this.states.bezierOrder),r.splineProperty(&amp;quot;ends&amp;quot;,this.states.splineProperties.ends),r.splineProperty(&amp;quot;tightness&amp;quot;,this.states.splineProperties.tightness)}}updateShapeVertexProperties(t){let r=this.getCommonVertexProperties();if(!t||Object.keys(t).some(n=&amp;gt;n in r)){let n=this.currentShape;for(let s in r)n[s](r[s])}}_applyDefaults(){return this}};function tm(i,t){i.Renderer=ke}var xi=class extends st{constructor(t,r){super(t,r);let n=this;this.elt.crossOrigin=&amp;quot;anonymous&amp;quot;,this._prevTime=0,this._cueIDCounter=0,this._cues=[],this.pixels=[],this._pixelsState=this,this._pixelDensity=1,this._modified=!1,this._frameOnCanvas=-1,Object.defineProperty(n,&amp;quot;src&amp;quot;,{get(){let s=n.elt.children[0].src,a=n.elt.src===window.location.href?&amp;quot;&amp;quot;:n.elt.src;return s===window.location.href?a:s},set(s){for(let o=0;o&amp;lt;n.elt.children.length;o++)n.elt.removeChild(n.elt.children[o]);let a=document.createElement(&amp;quot;source&amp;quot;);a.src=s,t.appendChild(a),n.elt.src=s,n.modified=!0}}),n._onended=function(){},n.elt.onended=function(){n._onended(n)}}play(){this.elt.currentTime===this.elt.duration&amp;amp;&amp;amp;(this.elt.currentTime=0);let t;return this.elt.readyState&amp;gt;1?t=this.elt.play():(this.elt.load(),t=this.elt.play()),t&amp;amp;&amp;amp;t.catch&amp;amp;&amp;amp;t.catch(r=&amp;gt;{r.name===&amp;quot;NotAllowedError&amp;quot;?typeof IS_MINIFIED&amp;gt;&amp;quot;u&amp;quot;?p5._friendlyAutoplayError(this.src):console.error(r):console.error(&amp;quot;Media play method encountered an unexpected error&amp;quot;,r)}),this}stop(){return this.elt.pause(),this.elt.currentTime=0,this}pause(){return this.elt.pause(),this}loop(){return this.elt.setAttribute(&amp;quot;loop&amp;quot;,!0),this.play(),this}noLoop(){return this.elt.removeAttribute(&amp;quot;loop&amp;quot;),this}_setupAutoplayFailDetection(){let t=setTimeout(()=&amp;gt;{typeof IS_MINIFIED&amp;gt;&amp;quot;u&amp;quot;?p5._friendlyAutoplayError(this.src):console.error(e)},500);this.elt.addEventListener(&amp;quot;play&amp;quot;,()=&amp;gt;clearTimeout(t),{passive:!0,once:!0})}autoplay(t){let r=this.elt.getAttribute(&amp;quot;autoplay&amp;quot;);if(this.elt.setAttribute(&amp;quot;autoplay&amp;quot;,t),t&amp;amp;&amp;amp;!r){let n=()=&amp;gt;this._setupAutoplayFailDetection();this.elt.readyState===4?n():this.elt.addEventListener(&amp;quot;canplay&amp;quot;,n,{passive:!0,once:!0})}return this}volume(t){if(typeof t&amp;gt;&amp;quot;u&amp;quot;)return this.elt.volume;this.elt.volume=t}speed(t){if(typeof t&amp;gt;&amp;quot;u&amp;quot;)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=t:this.presetPlaybackRate=t}time(t){return typeof t&amp;gt;&amp;quot;u&amp;quot;?this.elt.currentTime:(this.elt.currentTime=t,this)}duration(){return this.elt.duration}_ensureCanvas(){this.canvas||(this.canvas=document.createElement(&amp;quot;canvas&amp;quot;),this.drawingContext=this.canvas.getContext(&amp;quot;2d&amp;quot;),this.setModified(!0));let t=this._frameOnCanvas!==this._pInst.frameCount;this.loadedmetadata&amp;amp;&amp;amp;t&amp;amp;&amp;amp;(this.canvas.width!==this.elt.width&amp;amp;&amp;amp;(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.clearRect(0,0,this.canvas.width,this.canvas.height),this.flipped===!0&amp;amp;&amp;amp;(this.drawingContext.save(),this.drawingContext.scale(-1,1),this.drawingContext.translate(-this.canvas.width,0)),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.flipped===!0&amp;amp;&amp;amp;this.drawingContext.restore(),this.setModified(!0),this._frameOnCanvas=this._pInst.frameCount)}loadPixels(...t){return this._ensureCanvas(),p5.Renderer2D.prototype.loadPixels.apply(this,t)}updatePixels(t,r,n,s){return this.loadedmetadata&amp;amp;&amp;amp;(this._ensureCanvas(),p5.Renderer2D.prototype.updatePixels.call(this,t,r,n,s)),this.setModified(!0),this}get(...t){return this._ensureCanvas(),p5.Renderer2D.prototype.get.apply(this,t)}_getPixel(...t){return this.loadPixels(),p5.Renderer2D.prototype._getPixel.apply(this,t)}set(t,r,n){this.loadedmetadata&amp;amp;&amp;amp;(this._ensureCanvas(),p5.Renderer2D.prototype.set.call(this,t,r,n),this.setModified(!0))}copy(...t){this._ensureCanvas(),fn.copy.apply(this,t)}mask(...t){this.loadPixels(),this.setModified(!0),p5.Image.prototype.mask.apply(this,t)}isModified(){return this._modified}setModified(t){this._modified=t}onended(t){return this._onended=t,this}connect(t){let r,n;if(typeof fn.getAudioContext==&amp;quot;function&amp;quot;)r=fn.getAudioContext(),n=p5.soundOut.input;else try{r=t.context,n=r.destination}catch{throw&amp;quot;connect() is meant to be used with Web Audio API or p5.sound.js&amp;quot;}this.audioSourceNode||(this.audioSourceNode=r.createMediaElementSource(this.elt),this.audioSourceNode.connect(n)),t?t.input?this.audioSourceNode.connect(t.input):this.audioSourceNode.connect(t):this.audioSourceNode.connect(n)}disconnect(){if(this.audioSourceNode)this.audioSourceNode.disconnect();else throw&amp;quot;nothing to disconnect&amp;quot;}showControls(){this.elt.style[&amp;quot;text-align&amp;quot;]=&amp;quot;inherit&amp;quot;,this.elt.controls=!0}hideControls(){this.elt.controls=!1}addCue(t,r,n){let s=this._cueIDCounter++,a=new Jh(r,t,s,n);return this._cues.push(a),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),s}removeCue(t){for(let r=0;r&amp;lt;this._cues.length;r++)this._cues[r].id===t&amp;amp;&amp;amp;(console.log(t),this._cues.splice(r,1));this._cues.length===0&amp;amp;&amp;amp;(this.elt.ontimeupdate=null)}clearCues(){this._cues=[],this.elt.ontimeupdate=null}_onTimeUpdate(){let t=this.time();for(let r=0;r&amp;lt;this._cues.length;r++){let n=this._cues[r].time,s=this._cues[r].val;this._prevTime&amp;lt;n&amp;amp;&amp;amp;n&amp;lt;=t&amp;amp;&amp;amp;this._cues[r].callback(s)}this._prevTime=t}},Jh=class{constructor(t,r,n,s){this.callback=t,this.time=r,this.id=n,this.val=s}};function Qh(i,t){function r(s,a,o){(a._userNode?a._userNode:document.body).appendChild(s);let h=o?new xi(s,a):new st(s,a);return a._elements.push(h),h}function n(s,a,o,u){let h=document.createElement(a);o=o||&amp;quot;&amp;quot;,typeof o==&amp;quot;string&amp;quot;&amp;amp;&amp;amp;(o=[o]);for(let c of o){let p=document.createElement(&amp;quot;source&amp;quot;);p.setAttribute(&amp;quot;src&amp;quot;,c),h.appendChild(p)}if(typeof u==&amp;quot;function&amp;quot;){let c=()=&amp;gt;{u(),h.removeEventListener(&amp;quot;canplaythrough&amp;quot;,c)};h.addEventListener(&amp;quot;canplaythrough&amp;quot;,c)}let l=r(h,s,!0);return l.loadedmetadata=!1,h.addEventListener(&amp;quot;loadedmetadata&amp;quot;,()=&amp;gt;{l.width=h.videoWidth,l.height=h.videoHeight,l.elt.width===0&amp;amp;&amp;amp;(l.elt.width=h.videoWidth),l.elt.height===0&amp;amp;&amp;amp;(l.elt.height=h.videoHeight),l.presetPlaybackRate&amp;amp;&amp;amp;(l.elt.playbackRate=l.presetPlaybackRate,delete l.presetPlaybackRate),l.loadedmetadata=!0}),l}t.createVideo=function(s,a){return n(this,&amp;quot;video&amp;quot;,s,a)},t.createAudio=function(s,a){return n(this,&amp;quot;audio&amp;quot;,s,a)},t.VIDEO=&amp;quot;video&amp;quot;,t.AUDIO=&amp;quot;audio&amp;quot;,navigator.mediaDevices===void 0&amp;amp;&amp;amp;(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&amp;amp;&amp;amp;(navigator.mediaDevices.getUserMedia=function(s){let a=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return a?new Promise(function(o,u){a.call(navigator,s,o,u)}):Promise.reject(new Error(&amp;quot;getUserMedia is not implemented in this browser&amp;quot;))}),t.createCapture=function(...s){if(!(navigator.mediaDevices&amp;amp;&amp;amp;navigator.mediaDevices.getUserMedia))throw new DOMException(&amp;quot;getUserMedia not supported in this browser&amp;quot;);let a=!0,o=!0,u,h,l=!1;for(let d of s)d===t.VIDEO?o=!1:d===t.AUDIO?a=!1:typeof d==&amp;quot;object&amp;quot;?(d.flipped!==void 0&amp;amp;&amp;amp;(l=d.flipped,delete d.flipped),u=Object.assign({},u,d)):typeof d==&amp;quot;function&amp;quot;&amp;amp;&amp;amp;(h=d);u=Object.assign({},{video:a,audio:o},u);let p=document.createElement(&amp;quot;video&amp;quot;);p.setAttribute(&amp;quot;playsinline&amp;quot;,&amp;quot;&amp;quot;),navigator.mediaDevices.getUserMedia(u).then(function(d){try{&amp;quot;srcObject&amp;quot;in p?p.srcObject=d:p.src=window.URL.createObjectURL(d)}catch{p.src=d}}).catch(d=&amp;gt;{d.name===&amp;quot;NotFoundError&amp;quot;&amp;amp;&amp;amp;i._friendlyError(&amp;quot;No webcam found on this device&amp;quot;,&amp;quot;createCapture&amp;quot;),d.name===&amp;quot;NotAllowedError&amp;quot;&amp;amp;&amp;amp;i._friendlyError(&amp;quot;Access to the camera was denied&amp;quot;,&amp;quot;createCapture&amp;quot;),console.error(d)});let f=r(p,this,!0);return f.loadedmetadata=!1,p.addEventListener(&amp;quot;loadedmetadata&amp;quot;,function(){p.play(),p.width?(f.width=p.width,f.height=p.height,l&amp;amp;&amp;amp;(f.elt.style.transform=&amp;quot;scaleX(-1)&amp;quot;)):(f.width=f.elt.width=p.videoWidth,f.height=f.elt.height=p.videoHeight),f.loadedmetadata=!0,h&amp;amp;&amp;amp;h(p.srcObject)}),f.flipped=l,f},i.MediaElement=xi}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;Qh(p5,p5.prototype);function Rx(i,t,r,n,s){let a;return s===Ct?a={x:i,y:t,w:Math.abs(r),h:Math.abs(n)}:s===Ui?a={x:Math.min(i,r),y:Math.min(t,n),w:Math.abs(r-i),h:Math.abs(n-t)}:s===Gi?(r=Math.abs(r),n=Math.abs(n),a={x:i-r,y:t-n,w:2*r,h:2*n}):s===Et&amp;amp;&amp;amp;(r=Math.abs(r),n=Math.abs(n),a={x:i-r*.5,y:t-n*.5,w:r,h:n}),a}var ws={modeAdjust:Rx};function ja(i,t){t._normalizeArcAngles=(r,n,s,a,o)=&amp;gt;{let h;return r=r-wt*Math.floor(r/wt),n=n-wt*Math.floor(n/wt),h=Math.min(Math.abs(r-n),wt-Math.abs(r-n)),o&amp;amp;&amp;amp;(r&amp;lt;=Pi?r=Math.atan(s/a*Math.tan(r)):r&amp;gt;Pi&amp;amp;&amp;amp;r&amp;lt;=3*Pi?r=Math.atan(s/a*Math.tan(r))+Jo:r=Math.atan(s/a*Math.tan(r))+wt,n&amp;lt;=Pi?n=Math.atan(s/a*Math.tan(n)):n&amp;gt;Pi&amp;amp;&amp;amp;n&amp;lt;=3*Pi?n=Math.atan(s/a*Math.tan(n))+Jo:n=Math.atan(s/a*Math.tan(n))+wt),r&amp;gt;n&amp;amp;&amp;amp;(n+=wt),{start:r,stop:n,correspondToSamePoint:h&amp;lt;1e-5}},t.arc=function(r,n,s,a,o,u,h,l){if(!this._renderer.states.strokeColor&amp;amp;&amp;amp;!this._renderer.states.fillColor)return this;if(o===u)return this;o=this._toRadians(o),u=this._toRadians(u);let c=ws.modeAdjust(r,n,s,a,this._renderer.states.ellipseMode),p=this._normalizeArcAngles(o,u,c.w,c.h,!0);return p.correspondToSamePoint?this._renderer.ellipse([c.x,c.y,c.w,c.h,l]):(this._renderer.arc(c.x,c.y,c.w,c.h,p.start,p.stop,h,l),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&amp;amp;&amp;amp;this._accsOutput(&amp;quot;arc&amp;quot;,[c.x,c.y,c.w,c.h,p.start,p.stop,h])),this},t.ellipse=function(r,n,s,a,o){return this._renderEllipse(...arguments)},t.circle=function(...r){let n=r.slice(0,2);return n.push(r[2],r[2]),this._renderEllipse(...n)},t._renderEllipse=function(r,n,s,a,o){if(!this._renderer.states.strokeColor&amp;amp;&amp;amp;!this._renderer.states.fillColor)return this;typeof a&amp;gt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;(a=s);let u=ws.modeAdjust(r,n,s,a,this._renderer.states.ellipseMode);return this._renderer.ellipse([u.x,u.y,u.w,u.h,o]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&amp;amp;&amp;amp;this._accsOutput(&amp;quot;ellipse&amp;quot;,[u.x,u.y,u.w,u.h]),this},t.line=function(...r){return this._renderer.states.strokeColor&amp;amp;&amp;amp;this._renderer.line(...r),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&amp;amp;&amp;amp;this._accsOutput(&amp;quot;line&amp;quot;,r),this},t.point=function(...r){return this._renderer.states.strokeColor&amp;amp;&amp;amp;(r.length===1&amp;amp;&amp;amp;r[0]instanceof i.Vector?this._renderer.point.call(this._renderer,r[0].x,r[0].y,r[0].z):(this._renderer.point(...r),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&amp;amp;&amp;amp;this._accsOutput(&amp;quot;point&amp;quot;,r))),this},t.quad=function(...r){return(this._renderer.states.strokeColor||this._renderer.states.fillColor)&amp;amp;&amp;amp;(this._renderer.isP3D&amp;amp;&amp;amp;r.length&amp;lt;12?this._renderer.quad.call(this._renderer,r[0],r[1],0,r[2],r[3],0,r[4],r[5],0,r[6],r[7],0,r[8],r[9]):(this._renderer.quad(...r),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&amp;amp;&amp;amp;this._accsOutput(&amp;quot;quadrilateral&amp;quot;,r))),this},t.rect=function(...r){return this._renderRect(...r)},t.square=function(r,n,s,a,o,u,h){return this._renderRect.call(this,r,n,s,s,a,o,u,h)},t._renderRect=function(){if(this._renderer.states.strokeColor||this._renderer.states.fillColor){arguments.length===3&amp;amp;&amp;amp;(arguments[3]=arguments[2]);let r=ws.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer.states.rectMode);this._renderer.states.rectMode===Ct&amp;amp;&amp;amp;(r.w=arguments[2],r.h=arguments[3]);let n=[r.x,r.y,r.w,r.h];for(let s=4;s&amp;lt;arguments.length;s++)n[s]=arguments[s];this._renderer.rect(n),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&amp;amp;&amp;amp;this._accsOutput(&amp;quot;rectangle&amp;quot;,[r.x,r.y,r.w,r.h])}return this},t.triangle=function(...r){return(this._renderer.states.strokeColor||this._renderer.states.fillColor)&amp;amp;&amp;amp;this._renderer.triangle(r),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&amp;amp;&amp;amp;this._accsOutput(&amp;quot;triangle&amp;quot;,r),this}}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;ja(p5,p5.prototype);function $a(i,t){t.ellipseMode=function(r){return(r===Ct||r===Ui||r===Gi||r===Et)&amp;amp;&amp;amp;this._renderer.states.setValue(&amp;quot;ellipseMode&amp;quot;,r),this},t.noSmooth=function(){return this._renderer.isP3D?this.setAttributes(&amp;quot;antialias&amp;quot;,!1):&amp;quot;imageSmoothingEnabled&amp;quot;in this.drawingContext&amp;amp;&amp;amp;(this.drawingContext.imageSmoothingEnabled=!1),this},t.rectMode=function(r){return(r===Ct||r===Ui||r===Gi||r===Et)&amp;amp;&amp;amp;this._renderer.states.setValue(&amp;quot;rectMode&amp;quot;,r),this},t.smooth=function(){return this._renderer.isP3D?this.setAttributes(&amp;quot;antialias&amp;quot;,!0):&amp;quot;imageSmoothingEnabled&amp;quot;in this.drawingContext&amp;amp;&amp;amp;(this.drawingContext.imageSmoothingEnabled=!0),this},t.strokeCap=function(r){return(r===Mr||r===ma||r===da)&amp;amp;&amp;amp;this._renderer.strokeCap(r),this},t.strokeJoin=function(r){return(r===Mr||r===ga||r===ya)&amp;amp;&amp;amp;this._renderer.strokeJoin(r),this},t.strokeWeight=function(r){return this._renderer.strokeWeight(r),this}}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;$a(p5,p5.prototype);function Ha(i,t){t.bezier=function(...r){return!this._renderer.states.strokeColor&amp;amp;&amp;amp;!this._renderer.states.fillColor?this:(this._renderer.bezier(...r),this)},t.bezierPoint=function(r,n,s,a,o){let u=1-o;return Math.pow(u,3)*r+3*Math.pow(u,2)*o*n+3*u*Math.pow(o,2)*s+Math.pow(o,3)*a},t.bezierTangent=function(r,n,s,a,o){let u=1-o;return 3*a*Math.pow(o,2)-3*s*Math.pow(o,2)+6*s*u*o-6*n*u*o+3*n*Math.pow(u,2)-3*r*Math.pow(u,2)},t.spline=function(...r){return!this._renderer.states.strokeColor&amp;amp;&amp;amp;!this._renderer.states.fillColor?this:(this._renderer.spline(...r),this)},t.splinePoint=function(r,n,s,a,o){let u=this._renderer.states.splineProperties.tightness,h=o*o*o,l=o*o,c=(u-1)/2*h+(1-u)*l+(u-1)/2*o,p=(u+3)/2*h+(-5-u)/2*l+1,f=(-3-u)/2*h+(u+2)*l+(1-u)/2*o,d=(1-u)/2*h+(u-1)/2*l;return r*c+n*p+s*f+a*d},t.splineTangent=function(r,n,s,a,o){let u=this._renderer.states.splineProperties.tightness,h=o*o*3,l=o*2,c=(u-1)/2*h+(1-u)*l+(u-1)/2,p=(u+3)/2*h+(-5-u)/2*l,f=(-3-u)/2*h+(u+2)*l+(1-u)/2,d=(1-u)/2*h+(u-1)/2*l;return r*c+n*p+s*f+a*d}}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;Ha(p5,p5.prototype);function Wa(i,t){t.beginShape=function(r){this._renderer.beginShape(...arguments)},t.bezierVertex=function(...r){this._renderer.bezierVertex(...r)},t.endShape=function(r,n=1){n&amp;lt;1&amp;amp;&amp;amp;(console.log(&amp;quot;\u{1F338} p5.js says: You can not have less than one instance&amp;quot;),n=1),this._renderer.endShape(r,n)},t.normal=function(r,n,s){return this._assert3d(&amp;quot;normal&amp;quot;),this._renderer.normal(...arguments),this},t.vertexProperty=function(r,n){this._renderer.vertexProperty(r,n)}}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;Wa(p5,p5.prototype);function qa(i,t){t.beginClip=function(r={}){this._renderer.beginClip(r)},t.endClip=function(){this._renderer.endClip()},t.clip=function(r,n){this._renderer.beginClip(n),r(),this._renderer.endClip(n)},t.background=function(...r){return this._renderer.background(...r),this},t.clear=function(...r){let n=r[0]||0,s=r[1]||0,a=r[2]||0,o=r[3]||0;return this._renderer.clear(n,s,a,o),this},t.colorMode=function(r,n,s,a,o){if([et,It,sr,jt,Sn,ds,An,ms,Dn].includes(r)){this._renderer.states.setValue(&amp;quot;colorMode&amp;quot;,r),this._renderer.states.setValue(&amp;quot;colorMaxes&amp;quot;,this._renderer.states.colorMaxes.clone());let u=this._renderer.states.colorMaxes[r];arguments.length===2?(u[0]=n,u[1]=n,u[2]=n,u[3]=n):arguments.length===4?(u[0]=n,u[1]=s,u[2]=a):arguments.length===5&amp;amp;&amp;amp;(u[0]=n,u[1]=s,u[2]=a,u[3]=o)}return this._renderer.states.colorMode},t.fill=function(...r){return this._renderer.fill(...r),this},t.noFill=function(){return this._renderer.noFill(),this},t.noStroke=function(){return this._renderer.states.setValue(&amp;quot;strokeColor&amp;quot;,null),this},t.stroke=function(...r){return this._renderer.stroke(...r),this},t.erase=function(r=255,n=255){return this._renderer.erase(r,n),this},t.noErase=function(){return this._renderer.noErase(),this},t.blendMode=function(r){r===ir&amp;amp;&amp;amp;(console.warn(&amp;quot;NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead.&amp;quot;),r=St),this._renderer.blendMode(r)}}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;qa(p5,p5.prototype);var nl=Se(or());function im(i,t,r=n=&amp;gt;n){let n=Object.create(null);if(n.options=t||{},n.reviver=r,n.value=&amp;quot;&amp;quot;,n.entry=[],n.output=[],n.col=1,n.row=1,n.options.delimiter=n.options.delimiter===void 0?&amp;#39;&amp;quot;&amp;#39;:t.delimiter,n.options.delimiter.length&amp;gt;1||n.options.delimiter.length===0)throw Error(`CSVError: delimiter must be one character [${n.options.separator}]`);if(n.options.separator=n.options.separator===void 0?&amp;quot;,&amp;quot;:t.separator,n.options.separator.length&amp;gt;1||n.options.separator.length===0)throw Error(`CSVError: separator must be one character [${n.options.separator}]`);let s=new RegExp(`${Cs(n.options.delimiter)}|${Cs(n.options.separator)}|\r
<a href="#l328" class="line" id="l328">    328</a> &lt;a href=&quot;#l309&quot; class=&quot;line&quot; id=&quot;l309&quot;&gt;    309&lt;/a&gt; |
<a href="#l329" class="line" id="l329">    329</a> &lt;a href=&quot;#l310&quot; class=&quot;line&quot; id=&quot;l310&quot;&gt;    310&lt;/a&gt; |\r|[^${Cs(n.options.delimiter)}${Cs(n.options.separator)}\r
<a href="#l330" class="line" id="l330">    330</a> &lt;a href=&quot;#l311&quot; class=&quot;line&quot; id=&quot;l311&quot;&gt;    311&lt;/a&gt; ]+`,&amp;quot;y&amp;quot;),a=/^(\r\n|\n|\r)$/,o=[],u=&amp;quot;&amp;quot;,h=0;for(;(o=s.exec(i))!==null;)switch(u=o[0],h){case 0:switch(!0){case u===n.options.delimiter:h=3;break;case u===n.options.separator:h=0,In(n);break;case a.test(u):h=0,In(n),Ou(n);break;default:n.value+=u,h=2;break}break;case 2:switch(!0){case u===n.options.separator:h=0,In(n);break;case a.test(u):h=0,In(n),Ou(n);break;default:throw h=4,Error(`CSVError: Illegal state [row:${n.row}, col:${n.col}]`)}break;case 3:switch(!0){case u===n.options.delimiter:h=4;break;default:h=3,n.value+=u;break}break;case 4:switch(!0){case u===n.options.delimiter:h=3,n.value+=u;break;case u===n.options.separator:h=0,In(n);break;case a.test(u):h=0,In(n),Ou(n);break;default:throw Error(`CSVError: Illegal state [row:${n.row}, col:${n.col}]`)}break}return n.entry.length!==0&amp;amp;&amp;amp;(In(n),Ou(n)),n.output}function nm(i,t={},r=n=&amp;gt;n){let n=Object.create(null);if(n.options=t,n.options.eof=n.options.eof!==void 0?n.options.eof:!0,n.row=1,n.col=1,n.output=&amp;quot;&amp;quot;,n.options.delimiter=n.options.delimiter===void 0?&amp;#39;&amp;quot;&amp;#39;:t.delimiter,n.options.delimiter.length&amp;gt;1||n.options.delimiter.length===0)throw Error(`CSVError: delimiter must be one character [${n.options.separator}]`);if(n.options.separator=n.options.separator===void 0?&amp;quot;,&amp;quot;:t.separator,n.options.separator.length&amp;gt;1||n.options.separator.length===0)throw Error(`CSVError: separator must be one character [${n.options.separator}]`);let s=new RegExp(`${Cs(n.options.delimiter)}|${Cs(n.options.separator)}|\r
<a href="#l331" class="line" id="l331">    331</a> &lt;a href=&quot;#l312&quot; class=&quot;line&quot; id=&quot;l312&quot;&gt;    312&lt;/a&gt; |
<a href="#l332" class="line" id="l332">    332</a> &lt;a href=&quot;#l313&quot; class=&quot;line&quot; id=&quot;l313&quot;&gt;    313&lt;/a&gt; |\r`);return i.forEach((a,o)=&amp;gt;{let u=&amp;quot;&amp;quot;;switch(n.col=1,a.forEach((h,l)=&amp;gt;{typeof h==&amp;quot;string&amp;quot;&amp;amp;&amp;amp;(h=h.replace(new RegExp(n.options.delimiter,&amp;quot;g&amp;quot;),`${n.options.delimiter}${n.options.delimiter}`),h=s.test(h)?`${n.options.delimiter}${h}${n.options.delimiter}`:h),u+=r(h,n.row,n.col),l!==a.length-1&amp;amp;&amp;amp;(u+=n.options.separator),n.col++}),!0){case n.options.eof:case(!n.options.eof&amp;amp;&amp;amp;o!==i.length-1):n.output+=`${u}
<a href="#l333" class="line" id="l333">    333</a> &lt;a href=&quot;#l314&quot; class=&quot;line&quot; id=&quot;l314&quot;&gt;    314&lt;/a&gt; `;break;default:n.output+=`${u}`;break}n.row++}),n.output}function In(i){let t=i.options.typed?Vx(i.value):i.value;i.entry.push(i.reviver(t,i.row,i.col)),i.value=&amp;quot;&amp;quot;,i.col++}function Ou(i){i.output.push(i.entry),i.entry=[],i.row++,i.col=1}function Vx(i){let t=/.\./;switch(!0){case i===&amp;quot;true&amp;quot;:case i===&amp;quot;false&amp;quot;:return i===&amp;quot;true&amp;quot;;case t.test(i):return parseFloat(i);case isFinite(i):return parseInt(i);default:return i}}function Cs(i){return i.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,&amp;quot;\\$&amp;amp;&amp;quot;)}var Ns=Se(ur());function Ya(i,t){t.blend=function(...n){this._renderer?this._renderer.blend(...n):i.Renderer2D.prototype.blend.apply(this,n)},t.copy=function(...n){let s,a,o,u,h,l,c,p,f;if(n.length===9)s=n[0],a=n[1],o=n[2],u=n[3],h=n[4],l=n[5],c=n[6],p=n[7],f=n[8];else if(n.length===8)s=this,a=n[0],o=n[1],u=n[2],h=n[3],l=n[4],c=n[5],p=n[6],f=n[7];else throw new Error(&amp;quot;Signature not supported&amp;quot;);t._copyHelper(this,s,a,o,u,h,l,c,p,f)},t._copyHelper=(n,s,a,o,u,h,l,c,p,f)=&amp;gt;{let d=s.canvas.width/s.width,m=0,g=0;s._renderer&amp;amp;&amp;amp;s._renderer.isP3D&amp;amp;&amp;amp;(m=s.width/2,g=s.height/2),n._renderer&amp;amp;&amp;amp;n._renderer.isP3D?(n.push(),n.resetMatrix(),n.noLights(),n.blendMode(n.BLEND),n.imageMode(n.CORNER),n._renderer.image(s,a+m,o+g,u,h,l,c,p,f),n.pop()):n.drawingContext.drawImage(s.canvas,d*(a+m),d*(o+g),d*u,d*h,l,c,p,f)},t.getFilterGraphicsLayer=function(){return this._renderer.getFilterGraphicsLayer()},t.filter=function(...n){let{shader:s,operation:a,value:o,useWebGL:u}=r(...n);if(this._renderer.isP3D&amp;amp;&amp;amp;s){this._renderer.filter(s);return}if(!u&amp;amp;&amp;amp;!this._renderer.isP3D){this.canvas!==void 0?Xe.apply(this.canvas,Xe[a],o):Xe.apply(this.elt,Xe[a],o);return}!u&amp;amp;&amp;amp;this._renderer.isP3D&amp;amp;&amp;amp;console.warn(&amp;quot;filter() with useWebGL=false is not supported in WEBGL&amp;quot;),this._renderer.isP3D?this._renderer.filter(a,o):(s?this._renderer.filterRenderer.setOperation(a,o,s):this._renderer.filterRenderer.setOperation(a,o),this._renderer.filterRenderer.applyFilter())};function r(...n){let s={shader:void 0,operation:void 0,value:void 0,useWebGL:!0};return n[0]instanceof i.Shader?(s.shader=n[0],s):(s.operation=n[0],n.length&amp;gt;1&amp;amp;&amp;amp;typeof n[1]==&amp;quot;number&amp;quot;&amp;amp;&amp;amp;(s.value=n[1]),n[n.length-1]===!1&amp;amp;&amp;amp;(s.useWebGL=!1),s)}t.get=function(n,s,a,o){return this._renderer.get(...arguments)},t.loadPixels=function(...n){this._renderer.loadPixels()},t.set=function(n,s,a){this._renderer.set(n,s,a)},t.updatePixels=function(n,s,a,o){this.pixels.length!==0&amp;amp;&amp;amp;this._renderer.updatePixels(n,s,a,o)}}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;Ya(p5,p5.prototype);var ob=Array,ub=i=&amp;gt;Array.isArray(i);typeof Float32Array&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;(ob=Float32Array,ub=i=&amp;gt;Array.isArray(i)||i instanceof Float32Array);var zu=class i{#e=null;constructor(...t){if(this.constructor===i)throw new Error(&amp;quot;Class is of abstract type and can&amp;#39;t be instantiated&amp;quot;);[&amp;quot;add&amp;quot;,&amp;quot;setElement&amp;quot;,&amp;quot;reset&amp;quot;,&amp;quot;set&amp;quot;,&amp;quot;get&amp;quot;,&amp;quot;copy&amp;quot;,&amp;quot;clone&amp;quot;,&amp;quot;diagonal&amp;quot;,&amp;quot;row&amp;quot;,&amp;quot;column&amp;quot;,&amp;quot;transpose&amp;quot;,&amp;quot;mult&amp;quot;,&amp;quot;multiplyVec&amp;quot;,&amp;quot;invert&amp;quot;,&amp;quot;createSubMatrix3x3&amp;quot;,&amp;quot;inverseTranspose4x4&amp;quot;,&amp;quot;apply&amp;quot;,&amp;quot;scale&amp;quot;,&amp;quot;rotate4x4&amp;quot;,&amp;quot;translate&amp;quot;,&amp;quot;rotateX&amp;quot;,&amp;quot;rotateY&amp;quot;,&amp;quot;rotateZ&amp;quot;,&amp;quot;perspective&amp;quot;,&amp;quot;ortho&amp;quot;,&amp;quot;multiplyVec4&amp;quot;,&amp;quot;multiplyPoint&amp;quot;,&amp;quot;multiplyAndNormalizePoint&amp;quot;,&amp;quot;multiplyDirection&amp;quot;,&amp;quot;multiplyVec3&amp;quot;].forEach(n=&amp;gt;{if(this[n]===void 0)throw new Error(`${n}() method must be implemented`)})}};var sc=i=&amp;gt;{if(Math.sqrt(Array.from(i).length)%1!==0)throw new Error(&amp;quot;Array length must be a perfect square.&amp;quot;);return!0},bi=Array,Mn=i=&amp;gt;Array.isArray(i);typeof Float32Array&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;(bi=Float32Array,Mn=i=&amp;gt;Array.isArray(i)||i instanceof Float32Array);var at=class i extends zu{matrix;#e;constructor(...t){if(super(...t),Mn(t[0])&amp;amp;&amp;amp;sc(t[0])){let r=Math.sqrt(Array.from(t[0]).length);this.#e=r,this.matrix=bi.from(t[0])}else typeof t[0]==&amp;quot;number&amp;quot;&amp;amp;&amp;amp;(this.#e=Number(t[0]),this.matrix=this.#t(t[0]));return this}get mat3(){if(this.#e===3)return this.matrix}get mat4(){if(this.#e===4)return this.matrix}add(t){if(this.matrix.length!==t.matrix.length)throw new Error(&amp;quot;Matrices must be of the same dimension to add.&amp;quot;);for(let r=0;r&amp;lt;this.matrix.length;r++)this.matrix[r]+=t.matrix[r];return this}setElement(t,r){return t&amp;gt;=0&amp;amp;&amp;amp;t&amp;lt;this.matrix.length&amp;amp;&amp;amp;(this.matrix[t]=r),this}reset(){return this.matrix=this.#t(this.#e),this}set(t){let r=bi.from([...arguments]);return t instanceof i?r=bi.from(t.matrix):Mn(t)&amp;amp;&amp;amp;(r=bi.from(t)),r.length!==this.matrix.length?(p5._friendlyError(`Expected same dimensions values but received different ${r.length}.`,&amp;quot;p5.Matrix.set&amp;quot;),this):(this.matrix=r,this)}get(){return new i(this.matrix)}copy(){return new i(this.matrix)}clone(){return this.copy()}diagonal(){let t=[];for(let r=0;r&amp;lt;this.#e;r++)t.push(this.matrix[r*(this.#e+1)]);return t}row(t){let r=[];for(let n=0;n&amp;lt;this.#e;n++)r.push(this.matrix[n*this.#e+t]);return new H(...r)}column(t){let r=[];for(let n=0;n&amp;lt;this.#e;n++)r.push(this.matrix[t*this.#e+n]);return new H(...r)}transpose(t){return this.#e===4?this.#i(t):this.#e===3?this.#o(t):this.#a(t)}mult(t){let r;return t===this||t===this.matrix?r=this.copy().matrix:t instanceof i?r=t.matrix:Mn(t)&amp;amp;&amp;amp;sc(t)?r=t:sc(arguments)&amp;amp;&amp;amp;(r=Array.from(arguments)),this.#e===4&amp;amp;&amp;amp;r.length===16?this.#r(r):this.#e===3&amp;amp;&amp;amp;r.length===9?this.#s(r):this.#n(r)}multiplyVec(t,r){r===void 0&amp;amp;&amp;amp;(r=t.copy());for(let n=0;n&amp;lt;this.#e;n++)r.values[n]=this.row(n).dot(t);return r}invert(t){if(this.#e===4)return this.#u(t);if(this.#e===3)return this.#l(t);throw new Error(&amp;quot;Invert is not implemented for N&amp;gt;4 at the moment, we are working on it&amp;quot;)}createSubMatrix3x3(){if(this.#e===4){let t=new i(3);return t.mat3[0]=this.matrix[0],t.mat3[1]=this.matrix[1],t.mat3[2]=this.matrix[2],t.mat3[3]=this.matrix[4],t.mat3[4]=this.matrix[5],t.mat3[5]=this.matrix[6],t.mat3[6]=this.matrix[8],t.mat3[7]=this.matrix[9],t.mat3[8]=this.matrix[10],t}else throw new Error(&amp;quot;Matrix dimension must be 4 to create a 3x3 submatrix.&amp;quot;)}inverseTranspose4x4({mat4:t}){if(this.#e!==3)throw new Error(&amp;quot;This function only works with 3\xD73 matrices.&amp;quot;);this.matrix[0]=t[0],this.matrix[1]=t[1],this.matrix[2]=t[2],this.matrix[3]=t[4],this.matrix[4]=t[5],this.matrix[5]=t[6],this.matrix[6]=t[8],this.matrix[7]=t[9],this.matrix[8]=t[10];let r=this.invert();if(r)r.transpose(this.matrix);else for(let n=0;n&amp;lt;9;n++)this.matrix[n]=0;return this}apply(t){let r;if(t===this||t===this.matrix)r=this.copy().matrix;else if(t instanceof i)r=t.matrix;else if(Mn(t))r=t;else if(arguments.length===16)r=arguments;else return;let n=this.matrix,s=n[0],a=n[4],o=n[8],u=n[12];n[0]=r[0]*s+r[1]*a+r[2]*o+r[3]*u,n[4]=r[4]*s+r[5]*a+r[6]*o+r[7]*u,n[8]=r[8]*s+r[9]*a+r[10]*o+r[11]*u,n[12]=r[12]*s+r[13]*a+r[14]*o+r[15]*u;let h=n[1],l=n[5],c=n[9],p=n[13];n[1]=r[0]*h+r[1]*l+r[2]*c+r[3]*p,n[5]=r[4]*h+r[5]*l+r[6]*c+r[7]*p,n[9]=r[8]*h+r[9]*l+r[10]*c+r[11]*p,n[13]=r[12]*h+r[13]*l+r[14]*c+r[15]*p;let f=n[2],d=n[6],m=n[10],g=n[14];n[2]=r[0]*f+r[1]*d+r[2]*m+r[3]*g,n[6]=r[4]*f+r[5]*d+r[6]*m+r[7]*g,n[10]=r[8]*f+r[9]*d+r[10]*m+r[11]*g,n[14]=r[12]*f+r[13]*d+r[14]*m+r[15]*g;let v=n[3],w=n[7],y=n[11],S=n[15];return n[3]=r[0]*v+r[1]*w+r[2]*y+r[3]*S,n[7]=r[4]*v+r[5]*w+r[6]*y+r[7]*S,n[11]=r[8]*v+r[9]*w+r[10]*y+r[11]*S,n[15]=r[12]*v+r[13]*w+r[14]*y+r[15]*S,this}scale(t,r,n){return t instanceof H?(r=t.y,n=t.z,t=t.x):t instanceof Array&amp;amp;&amp;amp;(r=t[1],n=t[2],t=t[0]),this.matrix[0]*=t,this.matrix[1]*=t,this.matrix[2]*=t,this.matrix[3]*=t,this.matrix[4]*=r,this.matrix[5]*=r,this.matrix[6]*=r,this.matrix[7]*=r,this.matrix[8]*=n,this.matrix[9]*=n,this.matrix[10]*=n,this.matrix[11]*=n,this}rotate4x4(t,r,n,s){r instanceof H?(n=r.y,s=r.z,r=r.x):r instanceof Array&amp;amp;&amp;amp;(n=r[1],s=r[2],r=r[0]);let a=Math.sqrt(r*r+n*n+s*s);r*=1/a,n*=1/a,s*=1/a;let o=this.matrix[0],u=this.matrix[1],h=this.matrix[2],l=this.matrix[3],c=this.matrix[4],p=this.matrix[5],f=this.matrix[6],d=this.matrix[7],m=this.matrix[8],g=this.matrix[9],v=this.matrix[10],w=this.matrix[11],y=Math.sin(t),S=Math.cos(t),_=1-S,b=r*r*_+S,I=n*r*_+s*y,E=s*r*_-n*y,A=r*n*_-s*y,C=n*n*_+S,T=s*n*_+r*y,D=r*s*_+n*y,F=n*s*_-r*y,N=s*s*_+S;return this.matrix[0]=o*b+c*I+m*E,this.matrix[1]=u*b+p*I+g*E,this.matrix[2]=h*b+f*I+v*E,this.matrix[3]=l*b+d*I+w*E,this.matrix[4]=o*A+c*C+m*T,this.matrix[5]=u*A+p*C+g*T,this.matrix[6]=h*A+f*C+v*T,this.matrix[7]=l*A+d*C+w*T,this.matrix[8]=o*D+c*F+m*N,this.matrix[9]=u*D+p*F+g*N,this.matrix[10]=h*D+f*F+v*N,this.matrix[11]=l*D+d*F+w*N,this}translate(t){let r=t[0],n=t[1],s=t[2]||0;return this.matrix[12]+=this.matrix[0]*r+this.matrix[4]*n+this.matrix[8]*s,this.matrix[13]+=this.matrix[1]*r+this.matrix[5]*n+this.matrix[9]*s,this.matrix[14]+=this.matrix[2]*r+this.matrix[6]*n+this.matrix[10]*s,this.matrix[15]+=this.matrix[3]*r+this.matrix[7]*n+this.matrix[11]*s,this}rotateX(t){this.rotate4x4(t,1,0,0)}rotateY(t){this.rotate4x4(t,0,1,0)}rotateZ(t){this.rotate4x4(t,0,0,1)}perspective(t,r,n,s){let a=1/Math.tan(t/2),o=1/(n-s);return this.matrix[0]=a/r,this.matrix[1]=0,this.matrix[2]=0,this.matrix[3]=0,this.matrix[4]=0,this.matrix[5]=a,this.matrix[6]=0,this.matrix[7]=0,this.matrix[8]=0,this.matrix[9]=0,this.matrix[10]=(s+n)*o,this.matrix[11]=-1,this.matrix[12]=0,this.matrix[13]=0,this.matrix[14]=2*s*n*o,this.matrix[15]=0,this}ortho(t,r,n,s,a,o){let u=1/(t-r),h=1/(n-s),l=1/(a-o);return this.matrix[0]=-2*u,this.matrix[1]=0,this.matrix[2]=0,this.matrix[3]=0,this.matrix[4]=0,this.matrix[5]=-2*h,this.matrix[6]=0,this.matrix[7]=0,this.matrix[8]=0,this.matrix[9]=0,this.matrix[10]=2*l,this.matrix[11]=0,this.matrix[12]=(t+r)*u,this.matrix[13]=(s+n)*h,this.matrix[14]=(o+a)*l,this.matrix[15]=1,this}multiplyVec4(t,r,n,s){let a=new Array(4),o=this.matrix;return a[0]=o[0]*t+o[4]*r+o[8]*n+o[12]*s,a[1]=o[1]*t+o[5]*r+o[9]*n+o[13]*s,a[2]=o[2]*t+o[6]*r+o[10]*n+o[14]*s,a[3]=o[3]*t+o[7]*r+o[11]*n+o[15]*s,a}multiplyPoint({x:t,y:r,z:n}){let s=this.multiplyVec4(t,r,n,1);return new H(s[0],s[1],s[2])}multiplyAndNormalizePoint({x:t,y:r,z:n}){let s=this.multiplyVec4(t,r,n,1);return s[0]/=s[3],s[1]/=s[3],s[2]/=s[3],new H(s[0],s[1],s[2])}multiplyDirection({x:t,y:r,z:n}){let s=this.multiplyVec4(t,r,n,0);return new H(s[0],s[1],s[2])}multiplyVec3(t,r){return r===void 0&amp;amp;&amp;amp;(r=t.copy()),r.x=this.row(0).dot(t),r.y=this.row(1).dot(t),r.z=this.row(2).dot(t),r}#t(t){if(t===3)return new bi([1,0,0,0,1,0,0,0,1]);if(t===4)return new bi([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);let r=new bi(t*t).fill(0);for(let n=0;n&amp;lt;t;n++)r[n*t+n]=1;return r}#r(t){let r=this.matrix[0],n=this.matrix[1],s=this.matrix[2],a=this.matrix[3];return this.matrix[0]=r*t[0]+n*t[4]+s*t[8]+a*t[12],this.matrix[1]=r*t[1]+n*t[5]+s*t[9]+a*t[13],this.matrix[2]=r*t[2]+n*t[6]+s*t[10]+a*t[14],this.matrix[3]=r*t[3]+n*t[7]+s*t[11]+a*t[15],r=this.matrix[4],n=this.matrix[5],s=this.matrix[6],a=this.matrix[7],this.matrix[4]=r*t[0]+n*t[4]+s*t[8]+a*t[12],this.matrix[5]=r*t[1]+n*t[5]+s*t[9]+a*t[13],this.matrix[6]=r*t[2]+n*t[6]+s*t[10]+a*t[14],this.matrix[7]=r*t[3]+n*t[7]+s*t[11]+a*t[15],r=this.matrix[8],n=this.matrix[9],s=this.matrix[10],a=this.matrix[11],this.matrix[8]=r*t[0]+n*t[4]+s*t[8]+a*t[12],this.matrix[9]=r*t[1]+n*t[5]+s*t[9]+a*t[13],this.matrix[10]=r*t[2]+n*t[6]+s*t[10]+a*t[14],this.matrix[11]=r*t[3]+n*t[7]+s*t[11]+a*t[15],r=this.matrix[12],n=this.matrix[13],s=this.matrix[14],a=this.matrix[15],this.matrix[12]=r*t[0]+n*t[4]+s*t[8]+a*t[12],this.matrix[13]=r*t[1]+n*t[5]+s*t[9]+a*t[13],this.matrix[14]=r*t[2]+n*t[6]+s*t[10]+a*t[14],this.matrix[15]=r*t[3]+n*t[7]+s*t[11]+a*t[15],this}#n(t){if(t.length!==this.matrix.length)throw new Error(&amp;quot;Matrices must be of the same dimension to multiply.&amp;quot;);let r=new bi(this.matrix.length).fill(0);for(let n=0;n&amp;lt;this.#e;n++)for(let s=0;s&amp;lt;this.#e;s++)for(let a=0;a&amp;lt;this.#e;a++)r[n*this.#e+s]+=this.matrix[n*this.#e+a]*t[a*this.#e+s];return this.matrix=r,this}#s(t){let r=this.mat3[0],n=this.mat3[1],s=this.mat3[2];return this.mat3[0]=r*t[0]+n*t[3]+s*t[6],this.mat3[1]=r*t[1]+n*t[4]+s*t[7],this.mat3[2]=r*t[2]+n*t[5]+s*t[8],r=this.mat3[3],n=this.mat3[4],s=this.mat3[5],this.mat3[3]=r*t[0]+n*t[3]+s*t[6],this.mat3[4]=r*t[1]+n*t[4]+s*t[7],this.mat3[5]=r*t[2]+n*t[5]+s*t[8],r=this.mat3[6],n=this.mat3[7],s=this.mat3[8],this.mat3[6]=r*t[0]+n*t[3]+s*t[6],this.mat3[7]=r*t[1]+n*t[4]+s*t[7],this.mat3[8]=r*t[2]+n*t[5]+s*t[8],this}#a(){let t=this.#e;for(let r=0;r&amp;lt;t;r++)for(let n=0;n&amp;lt;t;n++)this.matrix[r*t+n]=this.matrix[n*t+r];return this}#i(t){console.log(&amp;quot;====&amp;gt; 4x4&amp;quot;);let r,n,s,a,o,u;return t instanceof i?(r=t.matrix[1],n=t.matrix[2],s=t.matrix[3],a=t.matrix[6],o=t.matrix[7],u=t.matrix[11],this.matrix[0]=t.matrix[0],this.matrix[1]=t.matrix[4],this.matrix[2]=t.matrix[8],this.matrix[3]=t.matrix[12],this.matrix[4]=r,this.matrix[5]=t.matrix[5],this.matrix[6]=t.matrix[9],this.matrix[7]=t.matrix[13],this.matrix[8]=n,this.matrix[9]=a,this.matrix[10]=t.matrix[10],this.matrix[11]=t.matrix[14],this.matrix[12]=s,this.matrix[13]=o,this.matrix[14]=u,this.matrix[15]=t.matrix[15]):Mn(t)&amp;amp;&amp;amp;(r=t[1],n=t[2],s=t[3],a=t[6],o=t[7],u=t[11],this.matrix[0]=t[0],this.matrix[1]=t[4],this.matrix[2]=t[8],this.matrix[3]=t[12],this.matrix[4]=r,this.matrix[5]=t[5],this.matrix[6]=t[9],this.matrix[7]=t[13],this.matrix[8]=n,this.matrix[9]=a,this.matrix[10]=t[10],this.matrix[11]=t[14],this.matrix[12]=s,this.matrix[13]=o,this.matrix[14]=u,this.matrix[15]=t[15]),this}#o(t){t===void 0&amp;amp;&amp;amp;(t=this.mat3);let r=t[1],n=t[2],s=t[5];return this.mat3[0]=t[0],this.mat3[1]=t[3],this.mat3[2]=t[6],this.mat3[3]=r,this.mat3[4]=t[4],this.mat3[5]=t[7],this.mat3[6]=n,this.mat3[7]=s,this.mat3[8]=t[8],this}#u(t){let r,n,s,a,o,u,h,l,c,p,f,d,m,g,v,w;t instanceof i?(r=t.matrix[0],n=t.matrix[1],s=t.matrix[2],a=t.matrix[3],o=t.matrix[4],u=t.matrix[5],h=t.matrix[6],l=t.matrix[7],c=t.matrix[8],p=t.matrix[9],f=t.matrix[10],d=t.matrix[11],m=t.matrix[12],g=t.matrix[13],v=t.matrix[14],w=t.matrix[15]):Mn(t)&amp;amp;&amp;amp;(r=t[0],n=t[1],s=t[2],a=t[3],o=t[4],u=t[5],h=t[6],l=t[7],c=t[8],p=t[9],f=t[10],d=t[11],m=t[12],g=t[13],v=t[14],w=t[15]);let y=r*u-n*o,S=r*h-s*o,_=r*l-a*o,b=n*h-s*u,I=n*l-a*u,E=s*l-a*h,A=c*g-p*m,C=c*v-f*m,T=c*w-d*m,D=p*v-f*g,F=p*w-d*g,N=f*w-d*v,B=y*N-S*F+_*D+b*T-I*C+E*A;return B?(B=1/B,this.matrix[0]=(u*N-h*F+l*D)*B,this.matrix[1]=(s*F-n*N-a*D)*B,this.matrix[2]=(g*E-v*I+w*b)*B,this.matrix[3]=(f*I-p*E-d*b)*B,this.matrix[4]=(h*T-o*N-l*C)*B,this.matrix[5]=(r*N-s*T+a*C)*B,this.matrix[6]=(v*_-m*E-w*S)*B,this.matrix[7]=(c*E-f*_+d*S)*B,this.matrix[8]=(o*F-u*T+l*A)*B,this.matrix[9]=(n*T-r*F-a*A)*B,this.matrix[10]=(m*I-g*_+w*y)*B,this.matrix[11]=(p*_-c*I-d*y)*B,this.matrix[12]=(u*C-o*D-h*A)*B,this.matrix[13]=(r*D-n*C+s*A)*B,this.matrix[14]=(g*S-m*b-v*y)*B,this.matrix[15]=(c*b-p*S+f*y)*B,this):null}#l(){let t=this.mat3[0],r=this.mat3[1],n=this.mat3[2],s=this.mat3[3],a=this.mat3[4],o=this.mat3[5],u=this.mat3[6],h=this.mat3[7],l=this.mat3[8],c=l*a-o*h,p=-l*s+o*u,f=h*s-a*u,d=t*c+r*p+n*f;return d?(d=1/d,this.mat3[0]=c*d,this.mat3[1]=(-l*r+n*h)*d,this.mat3[2]=(o*r-n*a)*d,this.mat3[3]=p*d,this.mat3[4]=(l*t-n*u)*d,this.mat3[5]=(-o*t+n*s)*d,this.mat3[6]=f*d,this.mat3[7]=(-h*t+r*u)*d,this.mat3[8]=(a*t-r*s)*d,this):null}#h(){if(this.#e!==4)throw new Error(&amp;quot;Determinant is only implemented for 4x4 matrices. We are working on it.&amp;quot;);let t=this.matrix[0]*this.matrix[5]-this.matrix[1]*this.matrix[4],r=this.matrix[0]*this.matrix[6]-this.matrix[2]*this.matrix[4],n=this.matrix[0]*this.matrix[7]-this.matrix[3]*this.matrix[4],s=this.matrix[1]*this.matrix[6]-this.matrix[2]*this.matrix[5],a=this.matrix[1]*this.matrix[7]-this.matrix[3]*this.matrix[5],o=this.matrix[2]*this.matrix[7]-this.matrix[3]*this.matrix[6],u=this.matrix[8]*this.matrix[13]-this.matrix[9]*this.matrix[12],h=this.matrix[8]*this.matrix[14]-this.matrix[10]*this.matrix[12],l=this.matrix[8]*this.matrix[15]-this.matrix[11]*this.matrix[12],c=this.matrix[9]*this.matrix[14]-this.matrix[10]*this.matrix[13],p=this.matrix[9]*this.matrix[15]-this.matrix[11]*this.matrix[13],f=this.matrix[10]*this.matrix[15]-this.matrix[11]*this.matrix[14];return t*f-r*p+n*c+s*l-a*h+o*u}};function ac(i,t){i.Matrix=at}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;ac(p5,p5.prototype);var Or=class{constructor(t=128){this.length=0,this.data=new Float32Array(t),this.initialLength=t}dataArray(){return this.subArray(0,this.length)}clear(){this.length=0}rescale(){if(this.length&amp;lt;this.data.length/2){let t=1&amp;lt;&amp;lt;Math.ceil(Math.log2(this.length)),r=new Float32Array(t);r.set(this.data.subarray(0,this.length),0),this.data=r}}reset(){this.clear(),this.data=new Float32Array(this.initialLength)}push(...t){this.ensureLength(this.length+t.length),this.data.set(t,this.length),this.length+=t.length}slice(t,r){return this.data.slice(t,Math.min(r,this.length))}subArray(t,r){return this.data.subarray(t,Math.min(r,this.length))}ensureLength(t){for(;this.data.length&amp;lt;t;){let r=new Float32Array(this.data.length*2);r.set(this.data,0),this.data=r}}};function oc(i,t){i.DataArray=Or}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;oc(p5,p5.prototype);var dt=class i{constructor(t,r,n,s){this.renderer=s,this.vertices=[],this.boundingBoxCache=null,this.lineVertices=new Or,this.lineTangentsIn=new Or,this.lineTangentsOut=new Or,this.lineSides=new Or,this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.vertexStrokeColors=[],this.userVertexProperties={},this.lineVertexColors=new Or,this.detailX=t!==void 0?t:1,this.detailY=r!==void 0?r:1,this.dirtyFlags={},this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,this.gid=`_p5_Geometry_${i.nextId}`,i.nextId++,n instanceof Function&amp;amp;&amp;amp;n.call(this)}calculateBoundingBox(){if(this.boundingBoxCache)return this.boundingBoxCache;let t=new H(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),r=new H(Number.MIN_VALUE,Number.MIN_VALUE,Number.MIN_VALUE);for(let a=0;a&amp;lt;this.vertices.length;a++){let o=this.vertices[a];t.x=Math.min(t.x,o.x),t.y=Math.min(t.y,o.y),t.z=Math.min(t.z,o.z),r.x=Math.max(r.x,o.x),r.y=Math.max(r.y,o.y),r.z=Math.max(r.z,o.z)}let n=new H(r.x-t.x,r.y-t.y,r.z-t.z),s=new H((t.x+r.x)/2,(t.y+r.y)/2,(t.z+r.z)/2);return this.boundingBoxCache={min:t,max:r,size:n,offset:s},this.boundingBoxCache}reset(){this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear(),this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexStrokeColors.length=0,this.lineVertexColors.clear(),this.vertexNormals.length=0,this.uvs.length=0;for(let t in this.userVertexProperties)this.userVertexProperties[t].delete();this.userVertexProperties={},this.dirtyFlags={}}hasFillTransparency(){if(this._hasFillTransparency===void 0){this._hasFillTransparency=!1;for(let t=0;t&amp;lt;this.vertexColors.length;t+=4)if(this.vertexColors[t+3]&amp;lt;1){this._hasFillTransparency=!0;break}}return this._hasFillTransparency}hasStrokeTransparency(){if(this._hasStrokeTransparency===void 0){this._hasStrokeTransparency=!1;for(let t=0;t&amp;lt;this.lineVertexColors.length;t+=4)if(this.lineVertexColors[t+3]&amp;lt;1){this._hasStrokeTransparency=!0;break}}return this._hasStrokeTransparency}clearColors(){return this.vertexColors=[],this}saveObj(t=&amp;quot;model.obj&amp;quot;){let r=&amp;quot;&amp;quot;;if(this.vertices.forEach(s=&amp;gt;{r+=`v ${s.x} ${s.y} ${s.z}
<a href="#l334" class="line" id="l334">    334</a> &lt;a href=&quot;#l315&quot; class=&quot;line&quot; id=&quot;l315&quot;&gt;    315&lt;/a&gt; `}),this.uvs&amp;amp;&amp;amp;this.uvs.length&amp;gt;0)for(let s=0;s&amp;lt;this.uvs.length;s+=2)r+=`vt ${this.uvs[s]} ${this.uvs[s+1]}
<a href="#l335" class="line" id="l335">    335</a> &lt;a href=&quot;#l316&quot; class=&quot;line&quot; id=&quot;l316&quot;&gt;    316&lt;/a&gt; `;this.vertexNormals&amp;amp;&amp;amp;this.vertexNormals.length&amp;gt;0&amp;amp;&amp;amp;this.vertexNormals.forEach(s=&amp;gt;{r+=`vn ${s.x} ${s.y} ${s.z}
<a href="#l336" class="line" id="l336">    336</a> &lt;a href=&quot;#l317&quot; class=&quot;line&quot; id=&quot;l317&quot;&gt;    317&lt;/a&gt; `}),this.faces.forEach(s=&amp;gt;{let a=&amp;quot;f&amp;quot;;s.forEach(o=&amp;gt;{a+=&amp;quot; &amp;quot;,a+=o+1,(this.vertexNormals.length&amp;gt;0||this.uvs.length&amp;gt;0)&amp;amp;&amp;amp;(a+=&amp;quot;/&amp;quot;,this.uvs.length&amp;gt;0&amp;amp;&amp;amp;(a+=o+1),a+=&amp;quot;/&amp;quot;,this.vertexNormals.length&amp;gt;0&amp;amp;&amp;amp;(a+=o+1))}),r+=a+`
<a href="#l337" class="line" id="l337">    337</a> &lt;a href=&quot;#l318&quot; class=&quot;line&quot; id=&quot;l318&quot;&gt;    318&lt;/a&gt; `});let n=new Blob([r],{type:&amp;quot;text/plain&amp;quot;});fn.downloadFile(n,t,&amp;quot;obj&amp;quot;)}saveStl(t=&amp;quot;model.stl&amp;quot;,{binary:r=!1}={}){let n,s=t.substring(0,t.lastIndexOf(&amp;quot;.&amp;quot;)),a=[];for(let u of this.faces){let h=H.sub(this.vertices[u[1]],this.vertices[u[0]]),l=H.sub(this.vertices[u[2]],this.vertices[u[0]]),c=h.y*l.z-h.z*l.y,p=h.z*l.x-h.x*l.z,f=h.x*l.y-h.y*l.x;a.push(new H(c,p,f).normalize())}if(r){let u=80,h=this.faces.length*2+this.faces.length*3*4*4+80+4,l=new ArrayBuffer(h);n=new DataView(l),n.setUint32(u,this.faces.length,!0),u+=4;for(let[c,p]of Object.entries(this.faces)){let f=a[c];n.setFloat32(u,f.x,!0),u+=4,n.setFloat32(u,f.y,!0),u+=4,n.setFloat32(u,f.z,!0),u+=4;for(let d of p){let m=this.vertices[d];n.setFloat32(u,m.x,!0),u+=4,n.setFloat32(u,m.y,!0),u+=4,n.setFloat32(u,m.z,!0),u+=4}n.setUint16(u,0,!0),u+=2}}else{n=&amp;quot;solid &amp;quot;+s+`
<a href="#l338" class="line" id="l338">    338</a> &lt;a href=&quot;#l319&quot; class=&quot;line&quot; id=&quot;l319&quot;&gt;    319&lt;/a&gt; `;for(let[u,h]of Object.entries(this.faces)){let l=a[u];n+=&amp;quot; facet norm &amp;quot;+l.x+&amp;quot; &amp;quot;+l.y+&amp;quot; &amp;quot;+l.z+`
<a href="#l339" class="line" id="l339">    339</a> &lt;a href=&quot;#l320&quot; class=&quot;line&quot; id=&quot;l320&quot;&gt;    320&lt;/a&gt; `,n+=`  outer loop
<a href="#l340" class="line" id="l340">    340</a> &lt;a href=&quot;#l321&quot; class=&quot;line&quot; id=&quot;l321&quot;&gt;    321&lt;/a&gt; `;for(let c of h){let p=this.vertices[c];n+=&amp;quot;   vertex &amp;quot;+p.x+&amp;quot; &amp;quot;+p.y+&amp;quot; &amp;quot;+p.z+`
<a href="#l341" class="line" id="l341">    341</a> &lt;a href=&quot;#l322&quot; class=&quot;line&quot; id=&quot;l322&quot;&gt;    322&lt;/a&gt; `}n+=`  endloop
<a href="#l342" class="line" id="l342">    342</a> &lt;a href=&quot;#l323&quot; class=&quot;line&quot; id=&quot;l323&quot;&gt;    323&lt;/a&gt; `,n+=` endfacet
<a href="#l343" class="line" id="l343">    343</a> &lt;a href=&quot;#l324&quot; class=&quot;line&quot; id=&quot;l324&quot;&gt;    324&lt;/a&gt; `}n+=&amp;quot;endsolid &amp;quot;+s+`
<a href="#l344" class="line" id="l344">    344</a> &lt;a href=&quot;#l325&quot; class=&quot;line&quot; id=&quot;l325&quot;&gt;    325&lt;/a&gt; `}let o=new Blob([n],{type:&amp;quot;text/plain&amp;quot;});fn.downloadFile(o,t,&amp;quot;stl&amp;quot;)}flipU(){this.uvs=this.uvs.flat().map((t,r)=&amp;gt;r%2===0?1-t:t)}flipV(){this.uvs=this.uvs.flat().map((t,r)=&amp;gt;r%2===0?t:1-t)}computeFaces(){this.faces.length=0;let t=this.detailX+1,r,n,s,a;for(let o=0;o&amp;lt;this.detailY;o++)for(let u=0;u&amp;lt;this.detailX;u++)r=o*t+u,n=o*t+u+1,s=(o+1)*t+u+1,a=(o+1)*t+u,this.faces.push([r,n,a]),this.faces.push([a,n,s]);return this}_getFaceNormal(t){let r=this.faces[t],n=this.vertices[r[0]],s=this.vertices[r[1]],a=this.vertices[r[2]],o=H.sub(s,n),u=H.sub(a,n),h=H.cross(o,u),l=H.mag(h),c=l/(H.mag(o)*H.mag(u));return c===0||isNaN(c)?(console.warn(&amp;quot;p5.Geometry.prototype._getFaceNormal:&amp;quot;,&amp;quot;face has colinear sides or a repeated vertex&amp;quot;),h):(c&amp;gt;1&amp;amp;&amp;amp;(c=1),h.mult(Math.asin(c)/l))}computeNormals(t=mh,{roundToPrecision:r=3}={}){let n=this.vertexNormals,s=this.vertices,a=this.faces,o;if(t===gh){let u={},h=[],l=Math.pow(10,r),c=f=&amp;gt;Math.round(f*l)/l,p=f=&amp;gt;`${c(f.x)},${c(f.y)},${c(f.z)}`;for(let f=0;f&amp;lt;s.length;f++){let d=s[f],m=p(d);u[m]===void 0&amp;amp;&amp;amp;(u[m]=h.length,h.push(d))}a.forEach(f=&amp;gt;{for(let d=0;d&amp;lt;3;++d){let m=f[d],g=s[m],v=p(g);f[d]=u[v]}}),this.edges.forEach(f=&amp;gt;{for(let d=0;d&amp;lt;2;++d){let m=f[d],g=s[m],v=p(g);f[d]=u[v]}}),this.vertices=s=h}for(n.length=0,o=0;o&amp;lt;s.length;++o)n.push(new H);for(a.forEach((u,h)=&amp;gt;{let l=this._getFaceNormal(h);for(let c=0;c&amp;lt;3;++c){let p=u[c];n[p].add(l)}}),o=0;o&amp;lt;s.length;++o)n[o].normalize();return this}averageNormals(){for(let t=0;t&amp;lt;=this.detailY;t++){let r=this.detailX+1,n=H.add(this.vertexNormals[t*r],this.vertexNormals[t*r+this.detailX]);n=H.div(n,2),this.vertexNormals[t*r]=n,this.vertexNormals[t*r+this.detailX]=n}return this}averagePoleNormals(){let t=new H(0,0,0);for(let r=0;r&amp;lt;this.detailX;r++)t.add(this.vertexNormals[r]);t=H.div(t,this.detailX);for(let r=0;r&amp;lt;this.detailX;r++)this.vertexNormals[r]=t;t=new H(0,0,0);for(let r=this.vertices.length-1;r&amp;gt;this.vertices.length-1-this.detailX;r--)t.add(this.vertexNormals[r]);t=H.div(t,this.detailX);for(let r=this.vertices.length-1;r&amp;gt;this.vertices.length-1-this.detailX;r--)this.vertexNormals[r]=t;return this}_makeTriangleEdges(){this.edges.length=0;for(let t=0;t&amp;lt;this.faces.length;t++)this.edges.push([this.faces[t][0],this.faces[t][1]]),this.edges.push([this.faces[t][1],this.faces[t][2]]),this.edges.push([this.faces[t][2],this.faces[t][0]]);return this}makeEdgesFromFaces(){this._makeTriangleEdges()}_edgesToVertices(){this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear();let t=new Map,r=new Set,n;for(let s=0;s&amp;lt;this.edges.length;s++){let a=this.edges[s-1],o=this.edges[s],u=this.vertices[o[0]],h=this.vertices[o[1]],l=this.vertexStrokeColors.length&amp;gt;0&amp;amp;&amp;amp;a?this.vertexStrokeColors.slice(a[1]*4,(a[1]+1)*4):[0,0,0,0],c=this.vertexStrokeColors.length&amp;gt;0?this.vertexStrokeColors.slice(o[0]*4,(o[0]+1)*4):[0,0,0,0],p=this.vertexStrokeColors.length&amp;gt;0?this.vertexStrokeColors.slice(o[1]*4,(o[1]+1)*4):[0,0,0,0],f=h.copy().sub(u).normalize(),d=f.magSq()&amp;gt;0;if(d&amp;amp;&amp;amp;this._addSegment(u,h,c,p,f),!this.renderer?._simpleLines){if(s&amp;gt;0&amp;amp;&amp;amp;a[1]===o[0])r.has(o[0])||(r.add(o[0]),t.delete(o[0]),n&amp;amp;&amp;amp;d&amp;amp;&amp;amp;f.dot(n)&amp;lt;1-1e-8&amp;amp;&amp;amp;this._addJoin(u,n,f,c));else{if(d&amp;amp;&amp;amp;!r.has(o[0])){let m=t.get(o[0]);m?(this._addJoin(u,m.dir,f,c),t.delete(o[0]),r.add(o[0])):t.set(o[0],{point:u,dir:f.copy().mult(-1),color:c})}if(n&amp;amp;&amp;amp;!r.has(a[1])){let m=t.get(a[1]);m?(this._addJoin(this.vertices[a[1]],n,m.dir.copy().mult(-1),l),t.delete(a[1]),r.add(a[1])):t.set(a[1],{point:this.vertices[a[1]],dir:n,color:l}),n=void 0}}if(s===this.edges.length-1&amp;amp;&amp;amp;!r.has(o[1])){let m=t.get(o[1]);m?(this._addJoin(h,f,m.dir.copy().mult(-1),p),t.delete(o[1]),r.add(o[1])):t.set(o[1],{point:h,dir:f,color:p})}d&amp;amp;&amp;amp;(n=f)}}for(let{point:s,dir:a,color:o}of t.values())this._addCap(s,a,o);return this}_addSegment(t,r,n,s,a){let o=t.array(),u=r.array(),h=a.array();this.lineSides.push(1,1,-1,1,-1,-1);for(let l of[this.lineTangentsIn,this.lineTangentsOut])for(let c=0;c&amp;lt;6;c++)l.push(...h);return this.lineVertices.push(...o,...u,...o,...u,...u,...o),this.renderer?._simpleLines||this.lineVertexColors.push(...n,...s,...n,...s,...s,...n),this}_addCap(t,r,n){let s=t.array(),a=r.array(),o=[0,0,0];for(let u=0;u&amp;lt;6;u++)this.lineVertices.push(...s),this.lineTangentsIn.push(...a),this.lineTangentsOut.push(...o),this.lineVertexColors.push(...n);return this.lineSides.push(-1,2,-2,1,2,-1),this}_addJoin(t,r,n,s){let a=t.array(),o=r.array(),u=n.array();for(let h=0;h&amp;lt;12;h++)this.lineVertices.push(...a),this.lineTangentsIn.push(...o),this.lineTangentsOut.push(...u),this.lineVertexColors.push(...s);return this.lineSides.push(-1,-3,-2,-1,0,-3),this.lineSides.push(3,1,2,3,0,1),this}normalize(){if(this.vertices.length&amp;gt;0){let t=this.vertices[0].copy(),r=this.vertices[0].copy();for(let u=0;u&amp;lt;this.vertices.length;u++)t.x=Math.max(t.x,this.vertices[u].x),r.x=Math.min(r.x,this.vertices[u].x),t.y=Math.max(t.y,this.vertices[u].y),r.y=Math.min(r.y,this.vertices[u].y),t.z=Math.max(t.z,this.vertices[u].z),r.z=Math.min(r.z,this.vertices[u].z);let n=H.lerp(t,r,.5),s=H.sub(t,r),o=200/Math.max(Math.max(s.x,s.y),s.z);for(let u=0;u&amp;lt;this.vertices.length;u++)this.vertices[u].sub(n),this.vertices[u].mult(o)}return this}vertexProperty(t,r,n){let s;this.userVertexProperties[t]||(s=this.userVertexProperties[t]=this._userVertexPropertyHelper(t,r,n)),s=this.userVertexProperties[t],n?s.pushDirect(r):(s.setCurrentData(r),s.pushCurrentData())}_userVertexPropertyHelper(t,r,n){let s=this,a=this.userVertexProperties[t]={name:t,dataSize:n||(r.length?r.length:1),geometry:s,getName(){return this.name},getCurrentData(){return this.currentData===void 0&amp;amp;&amp;amp;(this.currentData=new Array(this.getDataSize()).fill(0)),this.currentData},getDataSize(){return this.dataSize},getSrcName(){return this.name.concat(&amp;quot;Src&amp;quot;)},getDstName(){return this.name.concat(&amp;quot;Buffer&amp;quot;)},getSrcArray(){let o=this.getSrcName();return this.geometry[o]},setCurrentData(o){o.length&amp;amp;&amp;amp;o.length,this.currentData=o},pushCurrentData(){let o=this.getCurrentData();this.pushDirect(o)},pushDirect(o){o.length?this.getSrcArray().push(...o):this.getSrcArray().push(o)},resetSrcArray(){this.geometry[this.getSrcName()]=[]},delete(){let o=this.getSrcName();delete this.geometry[o],delete this}};return this[a.getSrcName()]=[],this.userVertexProperties[t]}};dt.nextId=0;function uc(i,t){i.Geometry=dt}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;uc(p5,p5.prototype);var Xa=class i{constructor(t){this.renderer=t,t._pInst.push(),this.identityMatrix=new at(4),t.states.setValue(&amp;quot;uModelMatrix&amp;quot;,new at(4)),this.geometry=new dt(void 0,void 0,void 0,this.renderer),this.geometry.gid=`_p5_GeometryBuilder_${i.nextGeometryId}`,i.nextGeometryId++,this.hasTransform=!1}transformVertices(t){return this.hasTransform?t.map(r=&amp;gt;this.renderer.states.uModelMatrix.multiplyPoint(r)):t}transformNormals(t){return this.hasTransform?t.map(r=&amp;gt;this.renderer.scratchMat3.multiplyVec(r)):t}addGeometry(t){this.hasTransform=!this.renderer.states.uModelMatrix.mat4.every((u,h)=&amp;gt;u===this.identityMatrix.mat4[h]),this.hasTransform&amp;amp;&amp;amp;this.renderer.scratchMat3.inverseTranspose4x4(this.renderer.states.uModelMatrix);let r=this.geometry.vertices.length;this.geometry.vertices.push(...this.transformVertices(t.vertices)),this.geometry.vertexNormals.push(...this.transformNormals(t.vertexNormals)),this.geometry.uvs.push(...t.uvs);let n=t.userVertexProperties,s=this.geometry.userVertexProperties,a=this.geometry.vertices.length-t.vertices.length;for(let u in s){if(u in n)continue;let h=s[u],c=h.getDataSize()*t.vertices.length,p=Array(c).fill(0);h.pushDirect(p)}for(let u in n){let h=n[u],l=h.getSrcArray(),c=h.getDataSize();if(a&amp;gt;0&amp;amp;&amp;amp;!(u in s)){let p=c*a,f=Array(p).fill(0);this.geometry.vertexProperty(u,f,c)}this.geometry.vertexProperty(u,l,c)}this.renderer.states.fillColor&amp;amp;&amp;amp;this.geometry.faces.push(...t.faces.map(u=&amp;gt;u.map(h=&amp;gt;h+r))),this.renderer.states.strokeColor&amp;amp;&amp;amp;this.geometry.edges.push(...t.edges.map(u=&amp;gt;u.map(h=&amp;gt;h+r)));let o=[...t.vertexColors];for(;o.length&amp;lt;t.vertices.length*4;)o.push(...this.renderer.states.curFillColor);this.geometry.vertexColors.push(...o)}addImmediate(t,r){let n=[];if(this.renderer.states.fillColor)if(r===zi||r===ji)for(let s=2;s&amp;lt;t.vertices.length;s++)s%2===0?n.push([s,s-1,s-2]):n.push([s,s-2,s-1]);else if(r===cn)for(let s=2;s&amp;lt;t.vertices.length;s++)n.push([0,s-1,s]);else for(let s=0;s&amp;lt;t.vertices.length;s+=3)n.push([s,s+1,s+2]);this.addGeometry(Object.assign({},t,{faces:n}))}addRetained(t){this.addGeometry(t)}finish(){return this.renderer._pInst.pop(),this.geometry}};Xa.nextGeometryId=0;var Ka=class i{constructor(t,r,n,s){this.w=t,this.vec=new H(r,n,s)}static fromAxisAngle(t,r,n,s){let a=Math.cos(t/2),o=new H(r,n,s).normalize().mult(Math.sin(t/2));return new i(a,o.x,o.y,o.z)}conjugate(){return new i(this.w,-this.vec.x,-this.vec.y,-this.vec.z)}multiply(t){return new i(this.w*t.w-this.vec.x*t.vec.x-this.vec.y*t.vec.y-this.vec.z-t.vec.z,this.w*t.vec.x+this.vec.x*t.w+this.vec.y*t.vec.z-this.vec.z*t.vec.y,this.w*t.vec.y-this.vec.x*t.vec.z+this.vec.y*t.w+this.vec.z*t.vec.x,this.w*t.vec.z+this.vec.x*t.vec.y-this.vec.y*t.vec.x+this.vec.z*t.w)}rotateVector(t){return H.mult(t,this.w*this.w-this.vec.dot(this.vec)).add(H.mult(this.vec,2*t.dot(this.vec))).add(H.mult(this.vec,2*this.w).cross(t)).clampToZero()}rotateBy(t){return t.multiply(this).multiply(t.conjugate()).vec.clampToZero()}};function lc(i,t){i.Quat=Ka}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;lc(p5,p5.prototype);var At=class{constructor(t,r,n,s,a,o){this.size=t,this.src=r,this.dst=n,this.attr=s,this._renderer=a,this.map=o}_prepareBuffer(t,r){let n=r.attributes,s=this._renderer.GL,a=this._renderer._getOrMakeCachedBuffers(t),o=n[this.attr];if(!o)return;let u=a[this.dst],h=t[this.src];if(h&amp;amp;&amp;amp;h.length&amp;gt;0){let l=!u;if(l&amp;amp;&amp;amp;(a[this.dst]=u=s.createBuffer()),s.bindBuffer(s.ARRAY_BUFFER,u),l||t.dirtyFlags[this.src]!==!1){let c=this.map,p=c?c(h):h;this._renderer._bindBuffer(u,s.ARRAY_BUFFER,p),t.dirtyFlags[this.src]=!1}r.enableAttrib(o,this.size)}else{let l=o.location;if(l===-1||!this._renderer.registerEnabled.has(l))return;s.disableVertexAttribArray(l),this._renderer.registerEnabled.delete(l)}}};function hc(i,t){i.RenderBuffer=At}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;hc(p5,p5.prototype);var ti=Se(lr());var Vm={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},Om=Object.values(Vm).reduce((i,t)=&amp;gt;i+t),Ku=class{constructor(t){this.renderer=t,this.shapeMode=rr,this.geometry=new dt(void 0,void 0,void 0,this.renderer),this.geometry.gid=&amp;quot;__IMMEDIATE_MODE_GEOMETRY__&amp;quot;,this.contourIndices=[],this._useUserVertexProperties=void 0,this._bezierVertex=[],this._quadraticVertex=[],this._curveVertex=[],this.isProcessingVertices=!1,this._tessy=this._initTessy(),this.tessyVertexSize=Om,this.bufferStrides={...Vm}}constructFromContours(t,r){this._useUserVertexProperties&amp;amp;&amp;amp;this._resetUserVertexProperties(),this.geometry.reset(),this.contourIndices=[],this.shapeMode=t.contours[0].kind;let n=!!this.renderer.states.strokeColor,s={};if(t.userVertexProperties){this._useUserVertexProperties=!0;for(let a in t.userVertexProperties){let o=t.vertexPropertyName(a),u=this.geometry._userVertexPropertyHelper(o,[],t.userVertexProperties[a]);s[a]=u,this.tessyVertexSize+=u.getDataSize(),this.bufferStrides[u.getSrcName()]=u.getDataSize(),this.renderer.buffers.user.push(new At(u.getDataSize(),u.getSrcName(),u.getDstName(),o,this.renderer))}}else this._useUserVertexProperties=!1;for(let a of r){this.contourIndices.push(this.geometry.vertices.length);for(let o of a){if(this.shapeMode===pn&amp;amp;&amp;amp;this.geometry.vertices.length%6===3)for(let u in this.bufferStrides){let h=this.bufferStrides[u],l=this.geometry[u];l.push(...l.slice(l.length-3*h,l.length-2*h),...l.slice(l.length-h,l.length))}this.geometry.vertices.push(o.position),this.geometry.vertexNormals.push(o.normal||new H(0,0,0)),this.geometry.uvs.push(o.textureCoordinates.x,o.textureCoordinates.y),this.renderer.states.fillColor?this.geometry.vertexColors.push(...o.fill.array()):this.geometry.vertexColors.push(0,0,0,0),this.renderer.states.strokeColor?this.geometry.vertexStrokeColors.push(...o.stroke.array()):this.geometry.vertexStrokeColors.push(0,0,0,0);for(let u in s){let h=s[u];u in o&amp;amp;&amp;amp;h.setCurrentData(o[u]),h.pushCurrentData()}}}n&amp;amp;&amp;amp;(this.geometry.edges=this._calculateEdges(this.shapeMode,this.geometry.vertices)),n&amp;amp;&amp;amp;!this.renderer.geometryBuilder&amp;amp;&amp;amp;this.geometry._edgesToVertices(),this.shapeMode===rr?(this.isProcessingVertices=!0,this._tesselateShape(),this.isProcessingVertices=!1):this.shapeMode===ji?this.shapeMode=zi:this.shapeMode===pn&amp;amp;&amp;amp;(this.shapeMode=fi),this.renderer.states.textureMode===us&amp;amp;&amp;amp;this.renderer.states._tex!==null&amp;amp;&amp;amp;this.renderer.states._tex.width&amp;gt;0&amp;amp;&amp;amp;this.renderer.states._tex.height&amp;gt;0&amp;amp;&amp;amp;(this.geometry.uvs=this.geometry.uvs.map((a,o)=&amp;gt;o%2===0?a/this.renderer.states._tex.width:a/this.renderer.states._tex.height))}_resetUserVertexProperties(){let t=this.geometry.userVertexProperties;for(let r in t){let n=t[r];delete this.bufferStrides[r],n.delete()}this._useUserVertexProperties=!1,this.tessyVertexSize=Om,this.geometry.userVertexProperties={}}_calculateEdges(t,r){let n=[],s=0,a=this.contourIndices.slice(),o=-1;switch(t){case zi:for(s=0;s&amp;lt;r.length-2;s++)n.push([s,s+1]),n.push([s,s+2]);n.push([s,s+1]);break;case cn:for(s=1;s&amp;lt;r.length-1;s++)n.push([0,s]),n.push([s,s+1]);n.push([0,r.length-1]);break;case fi:for(s=0;s&amp;lt;r.length-2;s=s+3)n.push([s,s+1]),n.push([s+1,s+2]),n.push([s+2,s]);break;case ci:for(s=0;s&amp;lt;r.length-1;s=s+2)n.push([s,s+1]);break;case pn:for(s=0;s&amp;lt;r.length-5;s+=6)n.push([s,s+1]),n.push([s+1,s+2]),n.push([s+2,s+5]),n.push([s+5,s]);break;case ji:for(s=0;s&amp;lt;r.length-2;s+=2)n.push([s,s+1]),n.push([s+1,s+3]),n.push([s,s+2]);n.push([s,s+1]);break;default:for(s=0;s&amp;lt;r.length;s++)s===a[0]?o=a.shift():r[o]&amp;amp;&amp;amp;r[s].equals(r[o])?n.push([s-1,o]):n.push([s-1,s]);break}return n}_tesselateShape(){this.shapeMode=fi;let t=[];for(let a=0;a&amp;lt;this.geometry.vertices.length;a++){this.contourIndices.length&amp;gt;0&amp;amp;&amp;amp;this.contourIndices[0]===a&amp;amp;&amp;amp;(this.contourIndices.shift(),t.push([])),t[t.length-1].push(this.geometry.vertices[a].x,this.geometry.vertices[a].y,this.geometry.vertices[a].z,this.geometry.uvs[a*2],this.geometry.uvs[a*2+1],this.geometry.vertexColors[a*4],this.geometry.vertexColors[a*4+1],this.geometry.vertexColors[a*4+2],this.geometry.vertexColors[a*4+3],this.geometry.vertexNormals[a].x,this.geometry.vertexNormals[a].y,this.geometry.vertexNormals[a].z);for(let o in this.geometry.userVertexProperties){let u=this.geometry.userVertexProperties[o],h=a*u.getDataSize(),l=h+u.getDataSize(),c=u.getSrcArray().slice(h,l);t[t.length-1].push(...c)}}let r=this._triangulate(t),n=this.geometry.vertices;this.geometry.vertices=[],this.geometry.vertexNormals=[],this.geometry.uvs=[];for(let a in this.geometry.userVertexProperties)this.geometry.userVertexProperties[a].resetSrcArray();let s=[];for(let a=0,o=r.length;a&amp;lt;o;a=a+this.tessyVertexSize){s.push(...r.slice(a+5,a+9)),this.geometry.vertexNormals.push(new H(...r.slice(a+9,a+12)));{let u=12;for(let h in this.geometry.userVertexProperties){let l=this.geometry.userVertexProperties[h],c=l.getDataSize(),p=a+u,f=p+c;l.setCurrentData(r.slice(p,f)),l.pushCurrentData(),u+=c}}this.geometry.vertices.push(new H(...r.slice(a,a+3))),this.geometry.uvs.push(...r.slice(a+3,a+5))}if(this.renderer.geometryBuilder){let a=new Map;this.geometry.edges=this.geometry.edges.map(o=&amp;gt;o.map(u=&amp;gt;{if(!a.has(u)){let h=n[u],l=this.geometry.vertices.findIndex(c=&amp;gt;h.x===c.x&amp;amp;&amp;amp;h.y===c.y&amp;amp;&amp;amp;h.z===c.z);if(l===-1){let c=1/0,p=0;for(let f=0;f&amp;lt;this.geometry.vertices.length;f++){let d=this.geometry.vertices[f],m=h.x-d.x,g=h.y-d.y,v=h.z-d.z,w=m*m+g*g+v*v;w&amp;lt;c&amp;amp;&amp;amp;(c=w,p=f)}l=p}a.set(u,l)}return a.get(u)}))}this.geometry.vertexColors=s}_initTessy(){function t(u,h){for(let l of u)h.push(l)}function r(u){u!==ti.default.primitiveType.GL_TRIANGLES&amp;amp;&amp;amp;console.log(`expected TRIANGLES but got type: ${u}`)}function n(u){console.log(&amp;quot;error callback&amp;quot;),console.log(`error number: ${u}`)}let s=(u,h,l)=&amp;gt;{let c=new Array(this.tessyVertexSize).fill(0);for(let p=0;p&amp;lt;l.length;p++)for(let f=0;f&amp;lt;c.length;f++)l[p]===0||!h[p]||(c[f]+=h[p][f]*l[p]);return c};function a(u){}let o=new ti.default.GluTesselator;return o.gluTessCallback(ti.default.gluEnum.GLU_TESS_VERTEX_DATA,t),o.gluTessCallback(ti.default.gluEnum.GLU_TESS_BEGIN,r),o.gluTessCallback(ti.default.gluEnum.GLU_TESS_ERROR,n),o.gluTessCallback(ti.default.gluEnum.GLU_TESS_COMBINE,s),o.gluTessCallback(ti.default.gluEnum.GLU_TESS_EDGE_FLAG,a),o.gluTessProperty(ti.default.gluEnum.GLU_TESS_WINDING_RULE,ti.default.windingRule.GLU_TESS_WINDING_NONZERO),o}_triangulate(t){let r=t[0]?t[0][2]:void 0,n=!0;for(let a of t)for(let o=0;o&amp;lt;a.length;o+=this.tessyVertexSize)if(a[o+2]!==r){n=!1;break}n?this._tessy.gluTessNormal(0,0,1):this._tessy.gluTessNormal(0,0,0);let s=[];this._tessy.gluTessBeginPolygon(s);for(let a of t){this._tessy.gluTessBeginContour();for(let o=0;o&amp;lt;a.length;o+=this.tessyVertexSize){let u=a.slice(o,o+this.tessyVertexSize);this._tessy.gluTessVertex(u,u)}this._tessy.gluTessEndContour()}return this._tessy.gluTessEndPolygon(),s}};var Ju=class{constructor(t){this.renderer=t,this.cache={}}numCached(){return Object.keys(this.cache).length}isCached(t){return this.cache[t]!==void 0}getGeometryByID(t){return this.cache[t]?.geometry}getCached(t){return this.getCachedID(t.gid)}getCachedID(t){return this.cache[t]}ensureCached(t){let r=t.gid;if(!r)throw new Error(&amp;quot;The p5.Geometry you passed in has no gid property!&amp;quot;);if(this.isCached(t.gid))return this.getCached(t);let n=this.renderer.GL;if(this.freeBuffers(r),Object.keys(this.cache).length&amp;gt;1e3){let o=Object.keys(this.cache)[0];this.freeBuffers(o)}let s={};this.cache[r]=s,s.geometry=t;let a=s.indexBuffer;if(t.faces.length){a||(a=s.indexBuffer=n.createBuffer());let o=t.faces.flat(),u=o.some(l=&amp;gt;l&amp;gt;65535),h=u?Uint32Array:Uint16Array;this.renderer._bindBuffer(a,n.ELEMENT_ARRAY_BUFFER,o,h),s.indexBufferType=u?n.UNSIGNED_INT:n.UNSIGNED_SHORT}else a&amp;amp;&amp;amp;(n.deleteBuffer(a),s.indexBuffer=null);return s}freeBuffers(t){let r=this.cache[t];if(!r)return;delete this.cache[t];let n=this.renderer.GL;r.indexBuffer&amp;amp;&amp;amp;n.deleteBuffer(r.indexBuffer);function s(a){for(let o of a)r[o.dst]&amp;amp;&amp;amp;(n.deleteBuffer(r[o.dst]),r[o.dst]=null)}s(this.renderer.buffers.stroke),s(this.renderer.buffers.fill),s(this.renderer.buffers.user)}};var Ds={[di]:3,[xn]:4,[vn]:.5};function ro(i,t){let r=t.DEGREES=&amp;quot;degrees&amp;quot;,n=t.RADIANS=&amp;quot;radians&amp;quot;;t._angleMode=n,t.acos=function(s){return this._fromRadians(Math.acos(s))},t.asin=function(s){return this._fromRadians(Math.asin(s))},t.atan=function(s){return this._fromRadians(Math.atan(s))},t.atan2=function(s,a){return this._fromRadians(Math.atan2(s,a))},t.cos=function(s){return Math.cos(this._toRadians(s))},t.sin=function(s){return Math.sin(this._toRadians(s))},t.tan=function(s){return Math.tan(this._toRadians(s))},t.degrees=s=&amp;gt;s*Vi,t.radians=s=&amp;gt;s*Oi,t.angleMode=function(s){if(typeof s&amp;gt;&amp;quot;u&amp;quot;)return this._angleMode;if(s===r||s===n){let a=this._angleMode;if(s===a)return;s===n?(this.pRotationX=this.pRotationX*Oi,this.pRotationY=this.pRotationY*Oi,this.pRotationZ=this.pRotationZ*Oi):(this.pRotationX=this.pRotationX*Vi,this.pRotationY=this.pRotationY*Vi,this.pRotationZ=this.pRotationZ*Vi),this._angleMode=s}},t._toRadians=function(s){return this._angleMode===r?s*Oi:s},t._toDegrees=function(s){return this._angleMode===n?s*Vi:s},t._fromRadians=function(s){return this._angleMode===r?s*Vi:s},t._fromDegrees=function(s){return this._angleMode===n?s*Oi:s}}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;ro(p5,p5.prototype);function sl(i,t){t.createImage=function(r,n){return new i.Image(r,n)},t.saveCanvas=function(...r){let n,s,a,o;if(r[0]instanceof HTMLCanvasElement)n=r[0],r.shift();else if(r[0]instanceof st)n=r[0].elt,r.shift();else if(r[0]instanceof hr){let h=r[0];o=this.createGraphics(h.width,h.height),o.pixelDensity(h.pixelDensity()),h.loadPixels(),o.loadPixels(),o.pixels.set(h.pixels),o.updatePixels(),n=o._renderer.canvas,r.shift()}else n=this._curElement&amp;amp;&amp;amp;this._curElement.elt;r.length&amp;gt;=1&amp;amp;&amp;amp;(s=r[0]),r.length&amp;gt;=2&amp;amp;&amp;amp;(a=r[1]),a=a||t._checkFileExtension(s,a)[1]||&amp;quot;png&amp;quot;;let u;switch(a){default:u=&amp;quot;image/png&amp;quot;;break;case&amp;quot;webp&amp;quot;:u=&amp;quot;image/webp&amp;quot;;break;case&amp;quot;jpeg&amp;quot;:case&amp;quot;jpg&amp;quot;:u=&amp;quot;image/jpeg&amp;quot;;break}n.toBlob(h=&amp;gt;{t.downloadFile(h,s,a),o&amp;amp;&amp;amp;o.remove()},u)},t.encodeAndDownloadGif=function(r,n){let s=r.gifProperties,a=s.loopLimit;a===1?a=null:a===null&amp;amp;&amp;amp;(a=0);let o=new Uint8Array(r.width*r.height*s.numFrames),u=[],h={};for(let _=0;_&amp;lt;s.numFrames;_++){let b=new Set,I=s.frames[_].image.data,E=I.length,A=new Uint32Array(r.width*r.height);for(let T=0,D=0;T&amp;lt;E;T+=4,D++){let F=I[T+0],N=I[T+1],B=I[T+2],U=F&amp;lt;&amp;lt;16|N&amp;lt;&amp;lt;8|B&amp;lt;&amp;lt;0;b.add(U),A[D]=U}let C=[...b].sort().toString();h[C]===void 0?h[C]={freq:1,frames:[_]}:(h[C].freq+=1,h[C].frames.push(_)),u.push(A)}let l=[],c=Object.keys(h).sort(function(_,b){return h[b].freq-h[_].freq}),p=c[0].split(&amp;quot;,&amp;quot;).map(_=&amp;gt;parseInt(_));l=l.concat(h[p].frames);let f=new Set(p);for(let _=1;_&amp;lt;c.length;_++){let I=c[_].split(&amp;quot;,&amp;quot;).map(E=&amp;gt;parseInt(E)).filter(E=&amp;gt;!f.has(E));if(p.length+I.length&amp;lt;=256){for(let E=0;E&amp;lt;I.length;E++)p.push(I[E]),f.add(I[E]);l=l.concat(h[c[_]].frames)}}l=new Set(l);let d={};for(let _=0;_&amp;lt;p.length;_++)d[p[_]]||(d[p[_]]=_);let m=1;for(;m&amp;lt;p.length;)m&amp;lt;&amp;lt;=1;p.length=m;let g={loop:a,palette:new Uint32Array(p)},v=new nl.GifWriter(o,r.width,r.height,g),w={};for(let _=0;_&amp;lt;s.numFrames;_++){let b=!l.has(_),I=b?[]:p,E=new Uint8Array(r.width*r.height),A={},C=new Set;u[_].forEach((F,N)=&amp;gt;{b?(A[F]===void 0&amp;amp;&amp;amp;(A[F]=I.length,I.push(F)),E[N]=A[F]):E[N]=d[F],_&amp;gt;0&amp;amp;&amp;amp;u[_-1][N]!==F&amp;amp;&amp;amp;C.add(F)});let T={},D=I.filter(F=&amp;gt;!C.has(F));if(D.length&amp;gt;0){let F=D[0],N=b?A[F]:d[F];if(_&amp;gt;0){for(let B=0;B&amp;lt;u[_].length;B++)u[_-1][B]===u[_][B]&amp;amp;&amp;amp;(E[B]=N);T.transparent=N,w.frameOpts.disposal=1}}if(T.delay=s.frames[_].delay/10,b){let F=1;for(;F&amp;lt;I.length;)F&amp;lt;&amp;lt;=1;I.length=F,T.palette=new Uint32Array(I)}_&amp;gt;0&amp;amp;&amp;amp;v.addFrame(0,0,r.width,r.height,w.pixelPaletteIndex,w.frameOpts),w={pixelPaletteIndex:E,frameOpts:T}}w.frameOpts.disposal=1,v.addFrame(0,0,r.width,r.height,w.pixelPaletteIndex,w.frameOpts);let y=&amp;quot;gif&amp;quot;,S=new Blob([o.slice(0,v.end())],{type:&amp;quot;image/gif&amp;quot;});t.downloadFile(S,n,y)},t.saveFrames=function(r,n,s,a,o){let u=s||3;u=Math.max(Math.min(u,15),0),u=u*1e3;let h=a||15;h=Math.max(Math.min(h,22),0);let l=0,c=t._makeFrame,p=this._curElement.elt,f=[],d=setInterval(()=&amp;gt;{f.push(c(r+l,n,p)),l++},1e3/h);setTimeout(()=&amp;gt;{if(clearInterval(d),o)o(f);else for(let m of f)t.downloadFile(m.imageData,m.filename,m.ext);f=[]},u+.01)},t._makeFrame=function(r,n,s){let a;this?a=this._curElement.elt:a=s;let o;if(!n)n=&amp;quot;png&amp;quot;,o=&amp;quot;image/png&amp;quot;;else switch(n.toLowerCase()){case&amp;quot;png&amp;quot;:o=&amp;quot;image/png&amp;quot;;break;case&amp;quot;jpeg&amp;quot;:o=&amp;quot;image/jpeg&amp;quot;;break;case&amp;quot;jpg&amp;quot;:o=&amp;quot;image/jpeg&amp;quot;;break;default:o=&amp;quot;image/png&amp;quot;;break}let u=&amp;quot;image/octet-stream&amp;quot;,h=a.toDataURL(o);h=h.replace(o,u);let l={};return l.imageData=h,l.filename=r,l.ext=n,l}}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;sl(p5,p5.prototype);var el=class extends Error{status;response;ok};async function Kt(i,t){try{let r=await fetch(i);if(r.ok){let n;switch(t){case&amp;quot;json&amp;quot;:n=await r.json();break;case&amp;quot;text&amp;quot;:n=await r.text();break;case&amp;quot;arrayBuffer&amp;quot;:n=await r.arrayBuffer();break;case&amp;quot;blob&amp;quot;:n=await r.blob();break;case&amp;quot;bytes&amp;quot;:if(r.bytes)n=await r.bytes();else{let s=await r.arrayBuffer();n=new Uint8Array(s)}break;default:throw new Error(&amp;quot;Unsupported response type&amp;quot;)}return{data:n,headers:r.headers}}else{let n=new el(r.statusText);throw n.status=r.status,n.response=r,n.ok=!1,n}}catch(r){throw r instanceof TypeError?console.log(&amp;quot;You may have encountered a CORS error&amp;quot;):r instanceof el?console.log(&amp;quot;You have encountered a HTTP error&amp;quot;):r instanceof SyntaxError&amp;amp;&amp;amp;console.log(&amp;quot;There is an error parsing the response to requested data structure&amp;quot;),r}}function Ec(i,t){t.loadJSON=async function(n,s,a){try{let{data:o}=await Kt(n,&amp;quot;json&amp;quot;);return s?s(o):o}catch(o){if(i._friendlyFileLoadError(5,n),a)return a(o);throw o}},t.loadStrings=async function(n,s,a){try{let{data:o}=await Kt(n,&amp;quot;text&amp;quot;);return o=o.split(/\r?\n/),s?s(o):o}catch(o){if(i._friendlyFileLoadError(3,n),a)return a(o);throw o}},t.loadTable=async function(n,s,a,o,u){typeof arguments[arguments.length-1]==&amp;quot;function&amp;quot;&amp;amp;&amp;amp;(typeof arguments[arguments.length-2]==&amp;quot;function&amp;quot;?(o=arguments[arguments.length-2],u=arguments[arguments.length-1]):o=arguments[arguments.length-1]),typeof s!=&amp;quot;string&amp;quot;&amp;amp;&amp;amp;(s=&amp;quot;,&amp;quot;),typeof a==&amp;quot;function&amp;quot;&amp;amp;&amp;amp;(a=!1);try{let{data:h}=await Kt(n,&amp;quot;text&amp;quot;),l=new i.Table;return h=im(h,{separator:s}),a?l.columns=h.shift():l.columns=Array(h[0].length).fill(null),h.forEach(c=&amp;gt;{let p=new i.TableRow(c);l.addRow(p)}),o?o(l):l}catch(h){if(i._friendlyFileLoadError(2,n),u)return u(h);throw h}},t.loadXML=async function(n,s,a){try{let o=new DOMParser,{data:u}=await Kt(n,&amp;quot;text&amp;quot;),h=o.parseFromString(u,&amp;quot;application/xml&amp;quot;);return u=new i.XML(h),s?s(u):u}catch(o){if(i._friendlyFileLoadError(1,n),a)return a(o);throw o}},t.loadBytes=async function(n,s,a){try{let{data:o}=await Kt(n,&amp;quot;arrayBuffer&amp;quot;);return o=new Uint8Array(o),s?s(o):o}catch(o){if(i._friendlyFileLoadError(6,n),a)return a(o);throw o}},t.loadBlob=async function(n,s,a){try{let{data:o}=await Kt(n,&amp;quot;blob&amp;quot;);return s?s(o):o}catch(o){if(a)return a(o);throw o}},t.httpGet=async function(n,s=&amp;quot;text&amp;quot;,a,o){return typeof s==&amp;quot;function&amp;quot;&amp;amp;&amp;amp;(o=a,a=s,s=&amp;quot;text&amp;quot;),this.httpDo(n,&amp;quot;GET&amp;quot;,s,a,o)},t.httpPost=async function(n,s,a=&amp;quot;text&amp;quot;,o,u){typeof s==&amp;quot;function&amp;quot;?(o=s,u=a,s=void 0,a=&amp;quot;text&amp;quot;):typeof a==&amp;quot;function&amp;quot;&amp;amp;&amp;amp;(u=o,o=a,a=&amp;quot;text&amp;quot;);let h=s,l=&amp;quot;text/plain&amp;quot;;s instanceof i.XML?(h=s.serialize(),l=&amp;quot;application/xml&amp;quot;):s instanceof i.Image?(h=await s.toBlob(),l=&amp;quot;image/png&amp;quot;):typeof s==&amp;quot;object&amp;quot;&amp;amp;&amp;amp;(h=JSON.stringify(s),l=&amp;quot;application/json&amp;quot;);let c={method:&amp;quot;POST&amp;quot;,body:h,headers:{&amp;quot;Content-Type&amp;quot;:l}};h&amp;amp;&amp;amp;(c.body=h);let p=new Request(n,c);return this.httpDo(p,&amp;quot;POST&amp;quot;,a,o,u)},t.httpDo=async function(n,s,a,o,u){if(typeof a==&amp;quot;function&amp;quot;&amp;amp;&amp;amp;(u=o,o=a,a=void 0),!a)switch(typeof n==&amp;quot;string&amp;quot;?n.split(&amp;quot;.&amp;quot;).pop():n.url.split(&amp;quot;.&amp;quot;).pop()){case&amp;quot;json&amp;quot;:a=&amp;quot;json&amp;quot;;break;case&amp;quot;jpg&amp;quot;:case&amp;quot;jpeg&amp;quot;:case&amp;quot;png&amp;quot;:case&amp;quot;webp&amp;quot;:case&amp;quot;gif&amp;quot;:a=&amp;quot;blob&amp;quot;;break;case&amp;quot;xml&amp;quot;:case&amp;quot;txt&amp;quot;:default:a=&amp;quot;text&amp;quot;}let h=new Request(n,{method:s});try{let{data:l}=await Kt(h,a);return o?o(l):l}catch(l){if(u)return u(l);throw l}},t._pWriters=[],t.createWriter=function(n,s){let a;for(let o in t._pWriters)if(t._pWriters[o].name===n)return a=new i.PrintWriter(n+this.millis(),s),t._pWriters.push(a),a;return a=new i.PrintWriter(n,s),t._pWriters.push(a),a},i.PrintWriter=function(n,s){let a=this;this.name=n,this.content=&amp;quot;&amp;quot;,this.write=function(o){this.content+=o},this.print=function(o){this.content+=`${o}
<a href="#l345" class="line" id="l345">    345</a> &lt;a href=&quot;#l326&quot; class=&quot;line&quot; id=&quot;l326&quot;&gt;    326&lt;/a&gt; `},this.clear=function(){this.content=&amp;quot;&amp;quot;},this.close=function(){let o=[];o.push(this.content),t.writeFile(o,n,s);for(let u in t._pWriters)t._pWriters[u].name===this.name&amp;amp;&amp;amp;t._pWriters.splice(u,1);a.clear(),a={}}},t.save=function(n,s,a){let o=arguments,u=this._curElement?this._curElement.elt:this.elt;if(o.length===0){t.saveCanvas(u);return}else if(o[0]instanceof ke||o[0]instanceof _i){t.saveCanvas(o[0].canvas,o[1],o[2]);return}else if(o.length===1&amp;amp;&amp;amp;typeof o[0]==&amp;quot;string&amp;quot;)t.saveCanvas(u,o[0]);else switch(_s(o[1],o[2])[1]){case&amp;quot;json&amp;quot;:t.saveJSON(o[0],o[1],o[2]);return;case&amp;quot;txt&amp;quot;:t.saveStrings(o[0],o[1],o[2]);return;default:o[0]instanceof Array?t.saveStrings(o[0],o[1],o[2]):o[0]instanceof i.Table?t.saveTable(o[0],o[1],o[2]):o[0]instanceof i.Image?t.saveCanvas(o[0].canvas,o[1]):o[0]instanceof i.SoundFile&amp;amp;&amp;amp;t.saveSound(o[0],o[1],o[2],o[3])}},t.saveJSON=function(n,s,a){let o;a?o=JSON.stringify(n):o=JSON.stringify(n,void 0,2),this.saveStrings(o.split(`
<a href="#l346" class="line" id="l346">    346</a> &lt;a href=&quot;#l327&quot; class=&quot;line&quot; id=&quot;l327&quot;&gt;    327&lt;/a&gt; `),s,&amp;quot;json&amp;quot;)},t.saveStrings=function(n,s,a,o){let u=a||&amp;quot;txt&amp;quot;,h=new i.PrintWriter(s,u);for(let l of n)o?h.write(l+`\r
<a href="#l347" class="line" id="l347">    347</a> &lt;a href=&quot;#l328&quot; class=&quot;line&quot; id=&quot;l328&quot;&gt;    328&lt;/a&gt; `):h.write(l+`
<a href="#l348" class="line" id="l348">    348</a> &lt;a href=&quot;#l329&quot; class=&quot;line&quot; id=&quot;l329&quot;&gt;    329&lt;/a&gt; `);h.close(),h.clear()};function r(n){return n.replace(/&amp;amp;/g,&amp;quot;&amp;amp;amp;&amp;quot;).replace(/&amp;lt;/g,&amp;quot;&amp;amp;lt;&amp;quot;).replace(/&amp;gt;/g,&amp;quot;&amp;amp;gt;&amp;quot;).replace(/&amp;quot;/g,&amp;quot;&amp;amp;quot;&amp;quot;).replace(/&amp;#39;/g,&amp;quot;&amp;amp;#039;&amp;quot;)}t.saveTable=function(n,s,a){let o;a===void 0?(o=s.substring(s.lastIndexOf(&amp;quot;.&amp;quot;)+1,s.length),o===s&amp;amp;&amp;amp;(o=&amp;quot;csv&amp;quot;)):o=a;let u=this.createWriter(s,o),h=n.columns,l=&amp;quot;,&amp;quot;;if(o===&amp;quot;tsv&amp;quot;&amp;amp;&amp;amp;(l=&amp;quot;	&amp;quot;),o!==&amp;quot;html&amp;quot;){let c=n.toString(l);u.write(c)}else{u.print(&amp;quot;&amp;lt;html&amp;gt;&amp;quot;),u.print(&amp;quot;&amp;lt;head&amp;gt;&amp;quot;);let c=&amp;#39;  &amp;lt;meta http-equiv=&amp;quot;content-type&amp;quot; content&amp;#39;;if(c+=&amp;#39;=&amp;quot;text/html;charset=utf-8&amp;quot; /&amp;gt;&amp;#39;,u.print(c),u.print(&amp;quot;&amp;lt;/head&amp;gt;&amp;quot;),u.print(&amp;quot;&amp;lt;body&amp;gt;&amp;quot;),u.print(&amp;quot;  &amp;lt;table&amp;gt;&amp;quot;),h[0]!==&amp;quot;0&amp;quot;){u.print(&amp;quot;    &amp;lt;tr&amp;gt;&amp;quot;);for(let p=0;p&amp;lt;h.length;p++){let f=r(h[p]);u.print(`      &amp;lt;td&amp;gt;${f}`),u.print(&amp;quot;      &amp;lt;/td&amp;gt;&amp;quot;)}u.print(&amp;quot;    &amp;lt;/tr&amp;gt;&amp;quot;)}for(let p=0;p&amp;lt;n.rows.length;p++){u.print(&amp;quot;    &amp;lt;tr&amp;gt;&amp;quot;);for(let f=0;f&amp;lt;n.columns.length;f++){let d=n.rows[p].getString(f),m=r(d);u.print(`      &amp;lt;td&amp;gt;${m}`),u.print(&amp;quot;      &amp;lt;/td&amp;gt;&amp;quot;)}u.print(&amp;quot;    &amp;lt;/tr&amp;gt;&amp;quot;)}u.print(&amp;quot;  &amp;lt;/table&amp;gt;&amp;quot;),u.print(&amp;quot;&amp;lt;/body&amp;gt;&amp;quot;),u.print(&amp;quot;&amp;lt;/html&amp;gt;&amp;quot;)}u.close(),u.clear()},t.writeFile=function(n,s,a){let o=&amp;quot;application/octet-stream&amp;quot;;t._isSafari()&amp;amp;&amp;amp;(o=&amp;quot;text/plain&amp;quot;);let u=new Blob(n,{type:o});t.downloadFile(u,s,a)},t.downloadFile=za,t._checkFileExtension=_s,t._isSafari=function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;Ec(p5,p5.prototype);function al(i,t){t.loadImage=async function(l,c,p){try{let f=new i.Image(1,1,this),d=new Request(l,{method:&amp;quot;GET&amp;quot;,mode:&amp;quot;cors&amp;quot;}),{data:m,headers:g}=await Kt(d,&amp;quot;bytes&amp;quot;),v=g.get(&amp;quot;content-type&amp;quot;);if(v===null&amp;amp;&amp;amp;console.warn(&amp;quot;The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset.&amp;quot;),v&amp;amp;&amp;amp;v.includes(&amp;quot;image/gif&amp;quot;))await s(m,f);else{let w=new Blob([m]),y=await createImageBitmap(w);f.width=f.canvas.width=y.width,f.height=f.canvas.height=y.height,f.drawingContext.drawImage(y,0,0)}return f.modified=!0,c?c(f):f}catch(f){if(i._friendlyFileLoadError(0,l),typeof p==&amp;quot;function&amp;quot;)return p(f);throw f}},t.saveGif=async function(l,c,p={delay:0,units:&amp;quot;seconds&amp;quot;,silent:!1,notificationDuration:0,notificationID:&amp;quot;progressBar&amp;quot;}){if(typeof l!=&amp;quot;string&amp;quot;)throw TypeError(&amp;quot;fileName parameter must be a string&amp;quot;);if(typeof c!=&amp;quot;number&amp;quot;)throw TypeError(&amp;quot;Duration parameter must be a number&amp;quot;);let f=p&amp;amp;&amp;amp;p.delay||0,d=p&amp;amp;&amp;amp;p.units||&amp;quot;seconds&amp;quot;,m=p&amp;amp;&amp;amp;p.silent||!1,g=p&amp;amp;&amp;amp;p.notificationDuration||0,v=p&amp;amp;&amp;amp;p.notificationID||&amp;quot;progressBar&amp;quot;;if(typeof f!=&amp;quot;number&amp;quot;)throw TypeError(&amp;quot;Delay parameter must be a number&amp;quot;);if(d!==&amp;quot;seconds&amp;quot;&amp;amp;&amp;amp;d!==&amp;quot;frames&amp;quot;)throw TypeError(&amp;#39;Units parameter must be either &amp;quot;frames&amp;quot; or &amp;quot;seconds&amp;quot;&amp;#39;);if(typeof m!=&amp;quot;boolean&amp;quot;)throw TypeError(&amp;quot;Silent parameter must be a boolean&amp;quot;);if(typeof g!=&amp;quot;number&amp;quot;)throw TypeError(&amp;quot;Notification duration parameter must be a number&amp;quot;);if(typeof v!=&amp;quot;string&amp;quot;)throw TypeError(&amp;quot;Notification ID parameter must be a string&amp;quot;);this._recording=!0;let w=this._targetFrameRate;(w===1/0||w===void 0||w===0)&amp;amp;&amp;amp;(w=60);let y=1/w*1e3;y=y&amp;lt;20?20:y;let S=d===&amp;quot;seconds&amp;quot;?c*w:c,_=d===&amp;quot;seconds&amp;quot;?f*w:f,b=S+_,I=_;this.frameCount=I;let E=this._renderer._pixelDensity;this.pixelDensity(1);let A=[];document.getElementById(v)!==null&amp;amp;&amp;amp;document.getElementById(v).remove();let C;m||(C=this.createP(&amp;quot;&amp;quot;),C.id(v),C.style(&amp;quot;font-size&amp;quot;,&amp;quot;16px&amp;quot;),C.style(&amp;quot;font-family&amp;quot;,&amp;quot;Montserrat&amp;quot;),C.style(&amp;quot;background-color&amp;quot;,&amp;quot;#ffffffa0&amp;quot;),C.style(&amp;quot;padding&amp;quot;,&amp;quot;8px&amp;quot;),C.style(&amp;quot;border-radius&amp;quot;,&amp;quot;10px&amp;quot;),C.position(0,0));let T,D;for(this._renderer instanceof i.RendererGL&amp;amp;&amp;amp;(D=this.drawingContext,T=new Uint8Array(D.drawingBufferWidth*D.drawingBufferHeight*4)),this.noLoop(),await Promise.resolve();I&amp;lt;b;){this.redraw();let G;this._renderer instanceof i.RendererGL?(T=new Uint8Array(D.drawingBufferWidth*D.drawingBufferHeight*4),D.readPixels(0,0,D.drawingBufferWidth,D.drawingBufferHeight,D.RGBA,D.UNSIGNED_BYTE,T),G=r(T,this.width,this.height)):G=this.drawingContext.getImageData(0,0,this.width,this.height).data,A.push(G),I++,m||C.html(&amp;quot;Saved frame &amp;lt;b&amp;gt;&amp;quot;+A.length.toString()+&amp;quot;&amp;lt;/b&amp;gt; out of &amp;quot;+S.toString()),await new Promise(q=&amp;gt;setTimeout(q,0))}m||C.html(&amp;quot;Frames processed, generating color palette...&amp;quot;),this.loop(),this.pixelDensity(E);let F=(0,Ns.GIFEncoder)(),N=n(A),B={},U=G=&amp;gt;{let q=G.length/4,J=new Uint8Array(q);for(let Y=0;Y&amp;lt;q;Y++){let Q=G[Y*4]&amp;lt;&amp;lt;24|G[Y*4+1]&amp;lt;&amp;lt;16|G[Y*4+2]&amp;lt;&amp;lt;8|G[Y*4+3];B[Q]===void 0&amp;amp;&amp;amp;(B[Q]=(0,Ns.nearestColorIndex)(N,G.slice(Y*4,(Y+1)*4))),J[Y]=B[Q]}return J},j=N.length-1,W=[];for(let G=0;G&amp;lt;A.length;G++){let q=U(A[G]),J=q.slice();if(G===0)F.writeFrame(q,this.width,this.height,{palette:N,delay:y,dispose:1});else{for(let Y=0;Y&amp;lt;q.length;Y++)q[Y]===W[Y]&amp;amp;&amp;amp;(q[Y]=j);F.writeFrame(q,this.width,this.height,{delay:y,transparent:!0,transparentIndex:j,dispose:1})}W=J,m||C.html(&amp;quot;Rendered frame &amp;lt;b&amp;gt;&amp;quot;+G.toString()+&amp;quot;&amp;lt;/b&amp;gt; out of &amp;quot;+S.toString()),await new Promise(Y=&amp;gt;setTimeout(Y,0))}F.finish();let te=F.bytesView(),X=&amp;quot;gif&amp;quot;,Z=new Blob([te],{type:&amp;quot;image/gif&amp;quot;});A=[],this._recording=!1,this.loop(),m||(C.html(&amp;quot;Done. Downloading your gif!\u{1F338}&amp;quot;),g&amp;gt;0&amp;amp;&amp;amp;setTimeout(()=&amp;gt;C.remove(),g*1e3)),t.downloadFile(Z,l,X)};function r(l,c,p){let f=parseInt(p/2),d=c*4,m=new Uint8Array(c*4);for(let g=0;g&amp;lt;f;++g){let v=g*d,w=(p-g-1)*d;m.set(l.subarray(v,v+d)),l.copyWithin(v,w,w+d),l.set(m,w)}return l}function n(l){let c=new Uint8Array(l.length*l[0].length);for(let f=0;f&amp;lt;l.length;f++)c.set(l[f],f*l[0].length);let p=(0,Ns.quantize)(c,256,{format:&amp;quot;rgba4444&amp;quot;,oneBitAlpha:!0});return p.length===256?p[p.length-1]=[Math.random()*255,Math.random()*255,Math.random()*255,0]:p.push([Math.random()*255,Math.random()*255,Math.random()*255,0]),p}async function s(l,c){let p=new nl.GifReader(l);c.width=c.canvas.width=p.width,c.height=c.canvas.height=p.height;let f=[],d=p.numFrames(),m=new Uint8ClampedArray(c.width*c.height*4),g=(w,y)=&amp;gt;{try{y.decodeAndBlitFrameRGBA(w,m)}catch(S){throw i._friendlyFileLoadError(8,c.src),S}};for(let w=0;w&amp;lt;d;w++){let y=p.frameInfo(w),S=c.drawingContext.getImageData(0,0,c.width,c.height);m=S.data.slice(),g(w,p);let _=new ImageData(m,c.width,c.height);c.drawingContext.putImageData(_,0,0);let b=y.delay;b===0&amp;amp;&amp;amp;(b=10),f.push({image:c.drawingContext.getImageData(0,0,c.width,c.height),delay:b*10}),y.disposal===2?c.drawingContext.clearRect(y.x,y.y,y.width,y.height):y.disposal===3&amp;amp;&amp;amp;c.drawingContext.putImageData(S,0,0,y.x,y.y,y.width,y.height)}let v=p.loopCount();return v===null?v=1:v===0&amp;amp;&amp;amp;(v=null),c.drawingContext.putImageData(f[0].image,0,0),f.length&amp;gt;1&amp;amp;&amp;amp;(c.gifProperties={displayIndex:0,loopLimit:v,loopCount:0,frames:f,numFrames:d,playing:!0,timeDisplayed:0,lastChangeTime:0}),c}function a(l,c,p,f,d,m,g,v){let w=Math.max(g/d,v/m),[y,S]=[g/w,v/w],_=p,b=f;return l===Et?_+=(d-y)/2:l===Kn&amp;amp;&amp;amp;(_+=d-y),c===Et?b+=(m-S)/2:c===Qo&amp;amp;&amp;amp;(b+=m-S),{x:_,y:b,w:y,h:S}}function o(l,c,p,f,d,m,g,v){let w=Math.max(p/g,f/v),[y,S]=[p/w,f/w],_=d,b=m;return l===Et?_+=(g-y)/2:l===Kn&amp;amp;&amp;amp;(_+=g-y),c===Et?b+=(v-S)/2:c===Qo&amp;amp;&amp;amp;(b+=v-S),{x:_,y:b,w:y,h:S}}function u(l,c,p,f,d,m,g,v,w,y,S){if(l===wh){let{x:_,y:b,w:I,h:E}=o(c,p,m,g,v,w,y,S);v=_,w=b,y=I,S=E}if(l===_h){let{x:_,y:b,w:I,h:E}=a(c,p,f,d,m,g,y,S);f=_,d=b,m=I,g=E}return{sx:v,sy:w,sw:y,sh:S,dx:f,dy:d,dw:m,dh:g}}function h(l,c){return l&amp;gt;0&amp;amp;&amp;amp;l&amp;lt;c?l:c}t.image=function(l,c,p,f,d,m,g,v,w,y,S,_){let b=l.width,I=l.height;_=_||Et,S=S||Et,l.elt&amp;amp;&amp;amp;(b=b!==void 0?b:l.elt.width,I=I!==void 0?I:l.elt.height),l.elt&amp;amp;&amp;amp;l.elt.videoWidth&amp;amp;&amp;amp;!l.canvas&amp;amp;&amp;amp;(b=b!==void 0?b:l.elt.videoWidth,I=I!==void 0?I:l.elt.videoHeight);let E=c,A=p,C=f||b,T=d||I,D=m||0,F=g||0,N=v!==void 0?v:b,B=w!==void 0?w:I;N=h(N,b),B=h(B,I);let U=1;l.elt&amp;amp;&amp;amp;!l.canvas&amp;amp;&amp;amp;l.elt.style.width&amp;amp;&amp;amp;(l.elt.videoWidth&amp;amp;&amp;amp;!f?U=l.elt.videoWidth:U=l.elt.width,U/=parseInt(l.elt.style.width,10)),D*=U,F*=U,B*=U,N*=U;let j=ws.modeAdjust(E,A,C,T,this._renderer.states.imageMode);j=u(y,S,_,j.x,j.y,j.w,j.h,D,F,N,B),this._renderer.image(l,j.sx,j.sy,j.sw,j.sh,j.dx,j.dy,j.dw,j.dh)},t.tint=function(...l){let c=this.color(...l);this._renderer.states.setValue(&amp;quot;tint&amp;quot;,c._getRGBA([255,255,255,255]))},t.noTint=function(){this._renderer.states.setValue(&amp;quot;tint&amp;quot;,null)},t.imageMode=function(l){(l===Ct||l===Ui||l===Et)&amp;amp;&amp;amp;this._renderer.states.setValue(&amp;quot;imageMode&amp;quot;,l)}}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;al(p5,p5.prototype);var Ln=class i{constructor(t){this._renderer=t,this.cameraType=&amp;quot;default&amp;quot;,this.useLinePerspective=!0,this.cameraMatrix=new at(4),this.projMatrix=new at(4),this.yScale=1}perspective(t,r,n,s){this.cameraType=arguments.length&amp;gt;0?&amp;quot;custom&amp;quot;:&amp;quot;default&amp;quot;,typeof t&amp;gt;&amp;quot;u&amp;quot;?(t=this.defaultCameraFOV,this.cameraFOV=t):this.cameraFOV=this._renderer._pInst._toRadians(t),typeof r&amp;gt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;(r=this.defaultAspectRatio),typeof n&amp;gt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;(n=this.defaultCameraNear),typeof s&amp;gt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;(s=this.defaultCameraFar),n&amp;lt;=1e-4&amp;amp;&amp;amp;(n=.01,console.log(&amp;quot;Avoid perspective near plane values close to or below 0. Setting value to 0.01.&amp;quot;)),s&amp;lt;n&amp;amp;&amp;amp;console.log(&amp;quot;Perspective far plane value is less than near plane value. Nothing will be shown.&amp;quot;),this.aspectRatio=r,this.cameraNear=n,this.cameraFar=s,this.projMatrix=new at(4);let a=1/Math.tan(this.cameraFOV/2),o=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(a/r,0,0,0,0,-a*this.yScale,0,0,0,0,(s+n)*o,-1,0,0,2*s*n*o,0),this._isActive()&amp;amp;&amp;amp;(this._renderer.states.setValue(&amp;quot;uPMatrix&amp;quot;,this._renderer.states.uPMatrix.clone()),this._renderer.states.uPMatrix.set(this.projMatrix))}ortho(t,r,n,s,a,o){let u=this.fbo||this._renderer;t===void 0&amp;amp;&amp;amp;(t=-u.width/2),r===void 0&amp;amp;&amp;amp;(r=+u.width/2),n===void 0&amp;amp;&amp;amp;(n=-u.height/2),s===void 0&amp;amp;&amp;amp;(s=+u.height/2),a===void 0&amp;amp;&amp;amp;(a=0),o===void 0&amp;amp;&amp;amp;(o=Math.max(u.width,u.height)+800),this.cameraNear=a,this.cameraFar=o;let h=r-t,l=s-n,c=o-a,p=2/h,f=2/l*this.yScale,d=-2/c,m=-(r+t)/h,g=-(s+n)/l,v=-(o+a)/c;this.projMatrix=new at(4),this.projMatrix.set(p,0,0,0,0,-f,0,0,0,0,d,0,m,g,v,1),this._isActive()&amp;amp;&amp;amp;(this._renderer.states.setValue(&amp;quot;uPMatrix&amp;quot;,this._renderer.states.uPMatrix.clone()),this._renderer.states.uPMatrix.set(this.projMatrix)),this.cameraType=&amp;quot;custom&amp;quot;}frustum(t,r,n,s,a,o){t===void 0&amp;amp;&amp;amp;(t=-this._renderer.width*.05),r===void 0&amp;amp;&amp;amp;(r=+this._renderer.width*.05),n===void 0&amp;amp;&amp;amp;(n=+this._renderer.height*.05),s===void 0&amp;amp;&amp;amp;(s=-this._renderer.height*.05),a===void 0&amp;amp;&amp;amp;(a=this.defaultCameraNear),o===void 0&amp;amp;&amp;amp;(o=this.defaultCameraFar),this.cameraNear=a,this.cameraFar=o;let u=r-t,h=s-n,l=o-a,c=+(2*a)/u,p=+(2*a)/h*this.yScale,f=-(2*o*a)/l,d=(r+t)/u,m=(s+n)/h,g=-(o+a)/l;this.projMatrix=new at(4),this.projMatrix.set(c,0,0,0,0,-p,0,0,d,m,g,-1,0,0,f,0),this._isActive()&amp;amp;&amp;amp;(this._renderer.states.setValue(&amp;quot;uPMatrix&amp;quot;,this._renderer.states.uPMatrix.clone()),this._renderer.states.uPMatrix.set(this.projMatrix)),this.cameraType=&amp;quot;custom&amp;quot;}_rotateView(t,r,n,s){let a=this.centerX,o=this.centerY,u=this.centerZ;a-=this.eyeX,o-=this.eyeY,u-=this.eyeZ;let h=new at(4);h.rotate4x4(this._renderer._pInst._toRadians(t),r,n,s);let l=[a*h.mat4[0]+o*h.mat4[4]+u*h.mat4[8],a*h.mat4[1]+o*h.mat4[5]+u*h.mat4[9],a*h.mat4[2]+o*h.mat4[6]+u*h.mat4[10]];l[0]+=this.eyeX,l[1]+=this.eyeY,l[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,l[0],l[1],l[2],this.upX,this.upY,this.upZ)}roll(t){let r=this._getLocalAxes(),s=Ka.fromAxisAngle(this._renderer._pInst._toRadians(t),r.z[0],r.z[1],r.z[2]).rotateVector(new H(this.upX,this.upY,this.upZ));this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,s.x,s.y,s.z)}pan(t){let r=this._getLocalAxes();this._rotateView(t,r.y[0],r.y[1],r.y[2])}tilt(t){let r=this._getLocalAxes();this._rotateView(t,r.x[0],r.x[1],r.x[2])}lookAt(t,r,n){this.camera(this.eyeX,this.eyeY,this.eyeZ,t,r,n,this.upX,this.upY,this.upZ)}camera(t,r,n,s,a,o,u,h,l){typeof t&amp;gt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;(t=this.defaultEyeX,r=this.defaultEyeY,n=this.defaultEyeZ,s=t,a=r,o=0,u=0,h=1,l=0),this.eyeX=t,this.eyeY=r,this.eyeZ=n,typeof s&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;(this.centerX=s,this.centerY=a,this.centerZ=o),typeof u&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;(this.upX=u,this.upY=h,this.upZ=l);let c=this._getLocalAxes();this.cameraMatrix.set(c.x[0],c.y[0],c.z[0],0,c.x[1],c.y[1],c.z[1],0,c.x[2],c.y[2],c.z[2],0,0,0,0,1);let p=-t,f=-r,d=-n;return this.cameraMatrix.translate([p,f,d]),this._isActive()&amp;amp;&amp;amp;(this._renderer.states.setValue(&amp;quot;uViewMatrix&amp;quot;,this._renderer.states.uViewMatrix.clone()),this._renderer.states.uViewMatrix.set(this.cameraMatrix)),this}move(t,r,n){let s=this._getLocalAxes(),a=[s.x[0]*t,s.x[1]*t,s.x[2]*t],o=[s.y[0]*r,s.y[1]*r,s.y[2]*r],u=[s.z[0]*n,s.z[1]*n,s.z[2]*n];this.camera(this.eyeX+a[0]+o[0]+u[0],this.eyeY+a[1]+o[1]+u[1],this.eyeZ+a[2]+o[2]+u[2],this.centerX+a[0]+o[0]+u[0],this.centerY+a[1]+o[1]+u[1],this.centerZ+a[2]+o[2]+u[2],this.upX,this.upY,this.upZ)}setPosition(t,r,n){let s=t-this.eyeX,a=r-this.eyeY,o=n-this.eyeZ;this.camera(t,r,n,this.centerX+s,this.centerY+a,this.centerZ+o,this.upX,this.upY,this.upZ)}set(t){let r=[&amp;quot;eyeX&amp;quot;,&amp;quot;eyeY&amp;quot;,&amp;quot;eyeZ&amp;quot;,&amp;quot;centerX&amp;quot;,&amp;quot;centerY&amp;quot;,&amp;quot;centerZ&amp;quot;,&amp;quot;upX&amp;quot;,&amp;quot;upY&amp;quot;,&amp;quot;upZ&amp;quot;,&amp;quot;cameraFOV&amp;quot;,&amp;quot;aspectRatio&amp;quot;,&amp;quot;cameraNear&amp;quot;,&amp;quot;cameraFar&amp;quot;,&amp;quot;cameraType&amp;quot;,&amp;quot;yScale&amp;quot;,&amp;quot;useLinePerspective&amp;quot;];for(let n of r)this[n]=t[n];this.cameraMatrix=t.cameraMatrix.copy(),this.projMatrix=t.projMatrix.copy(),this._isActive()&amp;amp;&amp;amp;(this._renderer.states.setValue(&amp;quot;uModelMatrix&amp;quot;,this._renderer.states.uModelMatrix.clone()),this._renderer.states.setValue(&amp;quot;uViewMatrix&amp;quot;,this._renderer.states.uViewMatrix.clone()),this._renderer.states.setValue(&amp;quot;uPMatrix&amp;quot;,this._renderer.states.uPMatrix.clone()),this._renderer.states.uModelMatrix.reset(),this._renderer.states.uViewMatrix.set(this.cameraMatrix),this._renderer.states.uPMatrix.set(this.projMatrix))}slerp(t,r,n){if(n===0){this.set(t);return}else if(n===1){this.set(r);return}this.projMatrix.mat4[15]!==0&amp;amp;&amp;amp;(this.projMatrix.setElement(0,t.projMatrix.mat4[0]*Math.pow(r.projMatrix.mat4[0]/t.projMatrix.mat4[0],n)),this.projMatrix.setElement(5,t.projMatrix.mat4[5]*Math.pow(r.projMatrix.mat4[5]/t.projMatrix.mat4[5],n)),this._isActive()&amp;amp;&amp;amp;(this._renderer.states.setValue(&amp;quot;uPMatrix&amp;quot;,this._renderer.states.uPMatrix.clone()),this._renderer.states.uPMatrix.mat4=this.projMatrix.mat4.slice()));let s=new H(t.eyeX,t.eyeY,t.eyeZ),a=new H(r.eyeX,r.eyeY,r.eyeZ),o=new H(t.centerX,t.centerY,t.centerZ),u=new H(r.centerX,r.centerY,r.centerZ),h=H.dist(s,o),l=H.dist(a,u),c=h*Math.pow(l/h,n),p=H.sub(s,a),f=s.copy().sub(a).sub(o).add(u),d=f.magSq(),m=1;d&amp;gt;1e-6&amp;amp;&amp;amp;(m=H.dot(p,f)/d,m=Math.max(0,Math.min(m,1)));let g=H.lerp(H.lerp(s,o,m),H.lerp(a,u,m),n),v=t.cameraMatrix.createSubMatrix3x3(),w=r.cameraMatrix.createSubMatrix3x3(),y=v.row(2),S=w.row(2),_=v.row(1),b=w.row(1),I=new H,E=new H,A=new H,C=new H,T=w.mult(v.copy().transpose()),D=T.diagonal(),F=.5*(D[0]+D[1]+D[2]-1);if(1-F&amp;lt;1e-7){I.set(H.lerp(y,S,n)).normalize(),A.set(I).mult(m*c).add(g),C.set(I).mult((m-1)*c).add(g),E.set(H.lerp(_,b,n)).normalize(),this.camera(A.x,A.y,A.z,C.x,C.y,C.z,E.x,E.y,E.z);return}let N,B,U,j,W=1/(1-F),te=Math.max(D[0],D[1],D[2]),X=T.mat3[1]+T.mat3[3],Z=T.mat3[2]+T.mat3[6],G=T.mat3[5]+T.mat3[7];te===D[0]?(N=Math.sqrt((D[0]-F)*W),W/=N,B=.5*X*W,U=.5*Z*W,j=.5*(T.mat3[7]-T.mat3[5])/N):te===D[1]?(B=Math.sqrt((D[1]-F)*W),W/=B,U=.5*G*W,N=.5*X*W,j=.5*(T.mat3[2]-T.mat3[6])/B):(U=Math.sqrt((D[2]-F)*W),W/=U,N=.5*Z*W,B=.5*G*W,j=.5*(T.mat3[3]-T.mat3[1])/U);let q=n*Math.atan2(j,F),J=Math.cos(q),Y=Math.sin(q),Q=1-J,fe=N*B,de=B*U,me=U*N,ie=new at([J+Q*N*N,Q*fe+Y*U,Q*me-Y*B,Q*fe-Y*U,J+Q*B*B,Q*de+Y*N,Q*me+Y*B,Q*de-Y*N,J+Q*U*U]);ie.multiplyVec(y,I),A.set(I).mult(m*c).add(g),C.set(I).mult((m-1)*c).add(g),ie.multiplyVec(_,E),this.camera(A.x,A.y,A.z,C.x,C.y,C.z,E.x,E.y,E.z)}_computeCameraDefaultSettings(){this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=800,this.defaultCameraFOV=2*Math.atan(this._renderer.height/2/this.defaultEyeZ),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=this.defaultEyeZ*.1,this.defaultCameraFar=this.defaultEyeZ*10}_setDefaultCamera(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType=&amp;quot;default&amp;quot;}_resize(){this.cameraType===&amp;quot;default&amp;quot;&amp;amp;&amp;amp;(this._computeCameraDefaultSettings(),this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.perspective())}copy(){let t=new i(this._renderer);return t.cameraFOV=this.cameraFOV,t.aspectRatio=this.aspectRatio,t.eyeX=this.eyeX,t.eyeY=this.eyeY,t.eyeZ=this.eyeZ,t.centerX=this.centerX,t.centerY=this.centerY,t.centerZ=this.centerZ,t.upX=this.upX,t.upY=this.upY,t.upZ=this.upZ,t.cameraNear=this.cameraNear,t.cameraFar=this.cameraFar,t.cameraType=this.cameraType,t.useLinePerspective=this.useLinePerspective,t.cameraMatrix=this.cameraMatrix.copy(),t.projMatrix=this.projMatrix.copy(),t.yScale=this.yScale,t}clone(){return this.copy()}_getLocalAxes(){let t=this.eyeX-this.centerX,r=this.eyeY-this.centerY,n=this.eyeZ-this.centerZ,s=Math.sqrt(t*t+r*r+n*n);s!==0&amp;amp;&amp;amp;(t/=s,r/=s,n/=s);let a=this.upX,o=this.upY,u=this.upZ,h=o*n-u*r,l=-a*n+u*t,c=a*r-o*t;a=r*c-n*l,o=-t*c+n*h,u=t*l-r*h;let p=Math.sqrt(h*h+l*l+c*c);p!==0&amp;amp;&amp;amp;(h/=p,l/=p,c/=p);let f=Math.sqrt(a*a+o*o+u*u);return f!==0&amp;amp;&amp;amp;(a/=f,o/=f,u/=f),{x:[h,l,c],y:[a,o,u],z:[t,r,n]}}_orbit(t,r,n){let s=this.eyeX-this.centerX,a=this.eyeY-this.centerY,o=this.eyeZ-this.centerZ,u=Math.hypot(s,a,o),h=new H(s,a,o).normalize(),l=new H(this.upX,this.upY,this.upZ).normalize(),c=H.cross(l,h).normalize(),p=H.cross(c,l);u*=Math.pow(10,n),u&amp;lt;this.cameraNear&amp;amp;&amp;amp;(u=this.cameraNear),u&amp;gt;this.cameraFar&amp;amp;&amp;amp;(u=this.cameraFar);let f=Math.acos(Math.max(-1,Math.min(1,H.dot(h,l))))+r,d=t;(f&amp;lt;=0||f&amp;gt;=Math.PI)&amp;amp;&amp;amp;(this.upX*=-1,this.upY*=-1,this.upZ*=-1),l.mult(Math.cos(f)),p.mult(Math.cos(d)*Math.sin(f)),c.mult(Math.sin(d)*Math.sin(f)),h.set(l).add(p).add(c),this.eyeX=u*h.x+this.centerX,this.eyeY=u*h.y+this.centerY,this.eyeZ=u*h.z+this.centerZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,this.upX,this.upY,this.upZ)}_orbitFree(t,r,n){let s=this.eyeX-this.centerX,a=this.eyeY-this.centerY,o=this.eyeZ-this.centerZ,u=Math.hypot(s,a,o),h=new H(s,a,o).normalize(),l=new H(this.upX,this.upY,this.upZ),c=H.cross(l,h).normalize(),p=H.cross(h,c),f=Math.atan2(r,t);p.mult(Math.sin(f)),c.mult(Math.cos(f)).add(p);let d=Math.sqrt(t*t+r*r),m=H.cross(h,c);u*=Math.pow(10,n),u&amp;lt;this.cameraNear&amp;amp;&amp;amp;(u=this.cameraNear),u&amp;gt;this.cameraFar&amp;amp;&amp;amp;(u=this.cameraFar);let g=Math.cos(d),v=Math.sin(d),w=l.dot(h),y=l.dot(c),S=w*g+y*v,_=-w*v+y*g,b=l.dot(m);l.x=S*h.x+_*c.x+b*m.x,l.y=S*h.y+_*c.y+b*m.y,l.z=S*h.z+_*c.z+b*m.z,c.mult(-v),h.mult(g).add(c).mult(u),this.camera(h.x+this.centerX,h.y+this.centerY,h.z+this.centerZ,this.centerX,this.centerY,this.centerZ,l.x,l.y,l.z)}_isActive(){return this===this._renderer.states.curCamera}};function Sc(i,t){t.camera=function(...r){return this._assert3d(&amp;quot;camera&amp;quot;),this._renderer.camera(...r),this},t.perspective=function(...r){return this._assert3d(&amp;quot;perspective&amp;quot;),this._renderer.perspective(...r),this},t.linePerspective=function(r){if(!(this._renderer instanceof Le))throw new Error(&amp;quot;linePerspective() must be called in WebGL mode.&amp;quot;);return this._renderer.linePerspective(r)},t.ortho=function(...r){return this._assert3d(&amp;quot;ortho&amp;quot;),this._renderer.ortho(...r),this},t.frustum=function(...r){return this._assert3d(&amp;quot;frustum&amp;quot;),this._renderer.frustum(...r),this},t.createCamera=function(){return this._assert3d(&amp;quot;createCamera&amp;quot;),this._renderer.createCamera()},t.setCamera=function(r){this._renderer.setCamera(r)},i.Camera=Ln,Le.prototype.camera=function(...r){this.states.curCamera.camera(...r)},Le.prototype.perspective=function(...r){this.states.curCamera.perspective(...r)},Le.prototype.linePerspective=function(r){if(r!==void 0)this.states.curCamera.useLinePerspective=r;else return this.states.curCamera.useLinePerspective},Le.prototype.ortho=function(...r){this.states.curCamera.ortho(...r)},Le.prototype.frustum=function(...r){this.states.curCamera.frustum(...r)},Le.prototype.createCamera=function(){let r=new Ln(this);return r._computeCameraDefaultSettings(),r._setDefaultCamera(),r},Le.prototype.setCamera=function(r){this.states.setValue(&amp;quot;curCamera&amp;quot;,r),this.states.setValue(&amp;quot;uPMatrix&amp;quot;,this.states.uPMatrix.clone()),this.states.uPMatrix.set(r.projMatrix),this.states.setValue(&amp;quot;uViewMatrix&amp;quot;,this.states.uViewMatrix.clone()),this.states.uViewMatrix.set(r.cameraMatrix)}}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;Sc(p5,p5.prototype);var Tt=class i{constructor(t,r,n,s={}){this._renderer=t,this._vertSrc=r,this._fragSrc=n,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[],this.hooks={uniforms:s.uniforms||{},declarations:s.declarations,helpers:s.helpers||{},vertex:s.vertex||{},fragment:s.fragment||{},modified:{vertex:s.modified&amp;amp;&amp;amp;s.modified.vertex||{},fragment:s.modified&amp;amp;&amp;amp;s.modified.fragment||{}}}}hookTypes(t){let r=this._vertSrc,n=this.hooks.vertex[t];if(n||(n=this.hooks.fragment[t],r=this._fragSrc),!n)throw new Error(`Can&amp;#39;t find hook ${t}!`);let s=t.split(/\s+/g),a=s.pop(),o=s.pop(),u=[...s],h=/\(([^\)]*)\)/.exec(n);if(!h)throw new Error(`Couldn&amp;#39;t find function parameters in hook body:
<a href="#l349" class="line" id="l349">    349</a> &lt;a href=&quot;#l330&quot; class=&quot;line&quot; id=&quot;l330&quot;&gt;    330&lt;/a&gt; ${n}`);let l=p=&amp;gt;{let f=new RegExp(`struct\\s+${p}\\s*{([^}]*)}`).exec(r);if(!f)return;let d=[];for(let m of f[1].split(&amp;quot;;&amp;quot;)){let g=m.trim().split(/\s+|,/g),v=g.shift(),w=[...g],y=l(v);for(let S of w)d.push({name:S,type:{typeName:v,qualifiers:[],properties:y}})}return d},c=h[1].split(&amp;quot;,&amp;quot;).map(p=&amp;gt;{let f=p.trim().split(/\s+/g),d=f.pop(),m=f.pop(),g=[...f],v=l(m);return{name:d,type:{typeName:m,qualifiers:g,properties:v}}});return{name:a,returnType:{typeName:o,qualifiers:u,properties:l(o)},parameters:c}}shaderSrc(t,r){let n=&amp;quot;void main&amp;quot;,[s,a]=t.split(n),o=&amp;quot;&amp;quot;,u=&amp;quot;&amp;quot;;for(let h in this.hooks.uniforms)o+=`uniform ${h};
<a href="#l350" class="line" id="l350">    350</a> &lt;a href=&quot;#l331&quot; class=&quot;line&quot; id=&quot;l331&quot;&gt;    331&lt;/a&gt; `;this.hooks.declarations&amp;amp;&amp;amp;(o+=this.hooks.declarations+`
<a href="#l351" class="line" id="l351">    351</a> &lt;a href=&quot;#l332&quot; class=&quot;line&quot; id=&quot;l332&quot;&gt;    332&lt;/a&gt; `),this.hooks[r].declarations&amp;amp;&amp;amp;(o+=this.hooks[r].declarations+`
<a href="#l352" class="line" id="l352">    352</a> &lt;a href=&quot;#l333&quot; class=&quot;line&quot; id=&quot;l333&quot;&gt;    333&lt;/a&gt; `);for(let h in this.hooks.helpers)o+=`${h}${this.hooks.helpers[h]}
<a href="#l353" class="line" id="l353">    353</a> &lt;a href=&quot;#l334&quot; class=&quot;line&quot; id=&quot;l334&quot;&gt;    334&lt;/a&gt; `;for(let h in this.hooks[r]){if(h===&amp;quot;declarations&amp;quot;)continue;let[l,c]=h.split(&amp;quot; &amp;quot;);this.hooks.modified[r][h]&amp;amp;&amp;amp;(u+=&amp;quot;#define AUGMENTED_HOOK_&amp;quot;+c+`
<a href="#l354" class="line" id="l354">    354</a> &lt;a href=&quot;#l335&quot; class=&quot;line&quot; id=&quot;l335&quot;&gt;    335&lt;/a&gt; `),o+=l+&amp;quot; HOOK_&amp;quot;+c+this.hooks[r][h]+`
<a href="#l355" class="line" id="l355">    355</a> &lt;a href=&quot;#l336&quot; class=&quot;line&quot; id=&quot;l336&quot;&gt;    336&lt;/a&gt; `}return s.indexOf(&amp;quot;#define HOOK_DEFINES&amp;quot;)!==-1&amp;amp;&amp;amp;(s=s.replace(&amp;quot;#define HOOK_DEFINES&amp;quot;,`
<a href="#l356" class="line" id="l356">    356</a> &lt;a href=&quot;#l337&quot; class=&quot;line&quot; id=&quot;l337&quot;&gt;    337&lt;/a&gt; `+u+`
<a href="#l357" class="line" id="l357">    357</a> &lt;a href=&quot;#l338&quot; class=&quot;line&quot; id=&quot;l338&quot;&gt;    338&lt;/a&gt; `),u=&amp;quot;&amp;quot;),s+`
<a href="#l358" class="line" id="l358">    358</a> &lt;a href=&quot;#l339&quot; class=&quot;line&quot; id=&quot;l339&quot;&gt;    339&lt;/a&gt; `+u+o+n+a}version(){let t=/#version (.+)$/.exec(this.vertSrc());return t?t[1]:&amp;quot;100 es&amp;quot;}vertSrc(){return this.shaderSrc(this._vertSrc,&amp;quot;vertex&amp;quot;)}fragSrc(){return this.shaderSrc(this._fragSrc,&amp;quot;fragment&amp;quot;)}inspectHooks(){console.log(&amp;quot;==== Vertex shader hooks: ====&amp;quot;);for(let t in this.hooks.vertex)console.log((this.hooks.modified.vertex[t]?&amp;quot;[MODIFIED] &amp;quot;:&amp;quot;&amp;quot;)+t+this.hooks.vertex[t]);console.log(&amp;quot;&amp;quot;),console.log(&amp;quot;==== Fragment shader hooks: ====&amp;quot;);for(let t in this.hooks.fragment)console.log((this.hooks.modified.fragment[t]?&amp;quot;[MODIFIED] &amp;quot;:&amp;quot;&amp;quot;)+t+this.hooks.fragment[t]);console.log(&amp;quot;&amp;quot;),console.log(&amp;quot;==== Helper functions: ====&amp;quot;);for(let t in this.hooks.helpers)console.log(t+this.hooks.helpers[t])}modify(t){let r={vertex:{},fragment:{},helpers:{}};for(let a in t)a!==&amp;quot;declarations&amp;quot;&amp;amp;&amp;amp;a!==&amp;quot;uniforms&amp;quot;&amp;amp;&amp;amp;(a===&amp;quot;vertexDeclarations&amp;quot;?r.vertex.declarations=(r.vertex.declarations||&amp;quot;&amp;quot;)+`
<a href="#l359" class="line" id="l359">    359</a> &lt;a href=&quot;#l340&quot; class=&quot;line&quot; id=&quot;l340&quot;&gt;    340&lt;/a&gt; `+t[a]:a===&amp;quot;fragmentDeclarations&amp;quot;?r.fragment.declarations=(r.fragment.declarations||&amp;quot;&amp;quot;)+`
<a href="#l360" class="line" id="l360">    360</a> &lt;a href=&quot;#l341&quot; class=&quot;line&quot; id=&quot;l341&quot;&gt;    341&lt;/a&gt; `+t[a]:this.hooks.vertex[a]?r.vertex[a]=t[a]:this.hooks.fragment[a]?r.fragment[a]=t[a]:r.helpers[a]=t[a]);let n=Object.assign({},this.hooks.modified.vertex),s=Object.assign({},this.hooks.modified.fragment);for(let a in r.vertex||{})a!==&amp;quot;declarations&amp;quot;&amp;amp;&amp;amp;(n[a]=!0);for(let a in r.fragment||{})a!==&amp;quot;declarations&amp;quot;&amp;amp;&amp;amp;(s[a]=!0);return new i(this._renderer,this._vertSrc,this._fragSrc,{declarations:(this.hooks.declarations||&amp;quot;&amp;quot;)+`
<a href="#l361" class="line" id="l361">    361</a> &lt;a href=&quot;#l342&quot; class=&quot;line&quot; id=&quot;l342&quot;&gt;    342&lt;/a&gt; `+(t.declarations||&amp;quot;&amp;quot;),uniforms:Object.assign({},this.hooks.uniforms,t.uniforms||{}),fragment:Object.assign({},this.hooks.fragment,r.fragment||{}),vertex:Object.assign({},this.hooks.vertex,r.vertex||{}),helpers:Object.assign({},this.hooks.helpers,r.helpers||{}),modified:{vertex:n,fragment:s}})}init(){if(this._glProgram===0){let t=this._renderer.GL;if(this._vertShader=t.createShader(t.VERTEX_SHADER),t.shaderSource(this._vertShader,this.vertSrc()),t.compileShader(this._vertShader),!t.getShaderParameter(this._vertShader,t.COMPILE_STATUS)){let r=t.getShaderInfoLog(this._vertShader);if(typeof IS_MINIFIED&amp;lt;&amp;quot;u&amp;quot;)console.error(r);else throw r;return null}if(this._fragShader=t.createShader(t.FRAGMENT_SHADER),t.shaderSource(this._fragShader,this.fragSrc()),t.compileShader(this._fragShader),!t.getShaderParameter(this._fragShader,t.COMPILE_STATUS)){let r=t.getShaderInfoLog(this._fragShader);if(typeof IS_MINIFIED&amp;lt;&amp;quot;u&amp;quot;)console.error(r);else throw r;return null}this._glProgram=t.createProgram(),t.attachShader(this._glProgram,this._vertShader),t.attachShader(this._glProgram,this._fragShader),t.linkProgram(this._glProgram),t.getProgramParameter(this._glProgram,t.LINK_STATUS)||p5._friendlyError(`Snap! Error linking shader program: ${t.getProgramInfoLog(this._glProgram)}`),this._loadAttributes(),this._loadUniforms()}return this}setDefaultUniforms(){for(let t in this.hooks.uniforms){let[,r]=t.split(&amp;quot; &amp;quot;),n=this.hooks.uniforms[t],s;n instanceof Function?s=n():s=n,s!=null&amp;amp;&amp;amp;this.setUniform(r,s)}}copyToContext(t){let r=new i(t._renderer,this._vertSrc,this._fragSrc);return r.ensureCompiledOnContext(t._renderer),r}ensureCompiledOnContext(t){if(this._glProgram!==0&amp;amp;&amp;amp;this._renderer!==t)throw new Error(&amp;quot;The shader being run is attached to a different context. Do you need to copy it to this context first with .copyToContext()?&amp;quot;);this._glProgram===0&amp;amp;&amp;amp;(this._renderer=t?._renderer?.filterRenderer?._renderer||t,this.init())}_loadAttributes(){if(this._loadedAttributes)return;this.attributes={};let t=this._renderer.GL,r=t.getProgramParameter(this._glProgram,t.ACTIVE_ATTRIBUTES);for(let n=0;n&amp;lt;r;++n){let s=t.getActiveAttrib(this._glProgram,n),a=s.name,o=t.getAttribLocation(this._glProgram,a),u={};u.name=a,u.location=o,u.index=n,u.type=s.type,u.size=s.size,this.attributes[a]=u}this._loadedAttributes=!0}_loadUniforms(){if(this._loadedUniforms)return;let t=this._renderer.GL,r=t.getProgramParameter(this._glProgram,t.ACTIVE_UNIFORMS),n=0;for(let s=0;s&amp;lt;r;++s){let a=t.getActiveUniform(this._glProgram,s),o={};o.location=t.getUniformLocation(this._glProgram,a.name),o.size=a.size;let u=a.name;a.size&amp;gt;1&amp;amp;&amp;amp;(u=u.substring(0,u.indexOf(&amp;quot;[0]&amp;quot;))),o.name=u,o.type=a.type,o._cachedData=void 0,o.type===t.SAMPLER_2D&amp;amp;&amp;amp;(o.samplerIndex=n,n++,this.samplers.push(o)),o.isArray=a.size&amp;gt;1||o.type===t.FLOAT_MAT3||o.type===t.FLOAT_MAT4||o.type===t.FLOAT_VEC2||o.type===t.FLOAT_VEC3||o.type===t.FLOAT_VEC4||o.type===t.INT_VEC2||o.type===t.INT_VEC4||o.type===t.INT_VEC3,this.uniforms[u]=o}this._loadedUniforms=!0}compile(){}bindShader(){this.init(),this._bound||(this.useProgram(),this._bound=!0)}unbindShader(){return this._bound&amp;amp;&amp;amp;(this.unbindTextures(),this._bound=!1),this}bindTextures(){let t=this._renderer.GL,r=this._renderer._getEmptyTexture();for(let n of this.samplers){let s=n.texture;s===void 0&amp;amp;&amp;amp;(n.texture=s=r),t.activeTexture(t.TEXTURE0+n.samplerIndex),s.bindTexture(),s.update(),t.uniform1i(n.location,n.samplerIndex)}}updateTextures(){for(let t of this.samplers){let r=t.texture;r&amp;amp;&amp;amp;r.update()}}unbindTextures(){let t=this._renderer.GL,r=this._renderer._getEmptyTexture();for(let n of this.samplers)n.texture?.isFramebufferTexture&amp;amp;&amp;amp;(t.activeTexture(t.TEXTURE0+n.samplerIndex),r.bindTexture(),t.uniform1i(n.location,n.samplerIndex))}useProgram(){let t=this._renderer.GL;return this._renderer._curShader!==this&amp;amp;&amp;amp;(t.useProgram(this._glProgram),this._renderer._curShader=this),this}setUniform(t,r){this.init();let n=this.uniforms[t];if(!n)return;let s=this._renderer.GL;if(n.isArray){if(n._cachedData&amp;amp;&amp;amp;this._renderer._arraysEqual(n._cachedData,r))return;n._cachedData=r.slice(0)}else{if(n._cachedData&amp;amp;&amp;amp;n._cachedData===r)return;Array.isArray(r)?n._cachedData=r.slice(0):n._cachedData=r}let a=n.location;switch(this.useProgram(),n.type){case s.BOOL:r===!0?s.uniform1i(a,1):s.uniform1i(a,0);break;case s.INT:n.size&amp;gt;1?r.length&amp;amp;&amp;amp;s.uniform1iv(a,r):s.uniform1i(a,r);break;case s.FLOAT:n.size&amp;gt;1?r.length&amp;amp;&amp;amp;s.uniform1fv(a,r):s.uniform1f(a,r);break;case s.FLOAT_MAT3:s.uniformMatrix3fv(a,!1,r);break;case s.FLOAT_MAT4:s.uniformMatrix4fv(a,!1,r);break;case s.FLOAT_VEC2:n.size&amp;gt;1?r.length&amp;amp;&amp;amp;s.uniform2fv(a,r):s.uniform2f(a,r[0],r[1]);break;case s.FLOAT_VEC3:n.size&amp;gt;1?r.length&amp;amp;&amp;amp;s.uniform3fv(a,r):s.uniform3f(a,r[0],r[1],r[2]);break;case s.FLOAT_VEC4:n.size&amp;gt;1?r.length&amp;amp;&amp;amp;s.uniform4fv(a,r):s.uniform4f(a,r[0],r[1],r[2],r[3]);break;case s.INT_VEC2:n.size&amp;gt;1?r.length&amp;amp;&amp;amp;s.uniform2iv(a,r):s.uniform2i(a,r[0],r[1]);break;case s.INT_VEC3:n.size&amp;gt;1?r.length&amp;amp;&amp;amp;s.uniform3iv(a,r):s.uniform3i(a,r[0],r[1],r[2]);break;case s.INT_VEC4:n.size&amp;gt;1?r.length&amp;amp;&amp;amp;s.uniform4iv(a,r):s.uniform4i(a,r[0],r[1],r[2],r[3]);break;case s.SAMPLER_2D:if(typeof r==&amp;quot;number&amp;quot;){if(r&amp;lt;s.TEXTURE0||r&amp;gt;s.TEXTURE31||r!==Math.ceil(r))return console.log(&amp;quot;\u{1F338} p5.js says: You&amp;#39;re trying to use a number as the data for a texture.Please use a texture.&amp;quot;),this;s.activeTexture(r),s.uniform1i(a,r)}else s.activeTexture(s.TEXTURE0+n.samplerIndex),n.texture=r instanceof _r?r:this._renderer.getTexture(r),s.uniform1i(a,n.samplerIndex),n.texture.src.gifProperties&amp;amp;&amp;amp;n.texture.src._animateGif(this._renderer._pInst);break;case s.SAMPLER_CUBE:case s.SAMPLER_3D:case s.SAMPLER_2D_SHADOW:case s.SAMPLER_2D_ARRAY:case s.SAMPLER_2D_ARRAY_SHADOW:case s.SAMPLER_CUBE_SHADOW:case s.INT_SAMPLER_2D:case s.INT_SAMPLER_3D:case s.INT_SAMPLER_CUBE:case s.INT_SAMPLER_2D_ARRAY:case s.UNSIGNED_INT_SAMPLER_2D:case s.UNSIGNED_INT_SAMPLER_3D:case s.UNSIGNED_INT_SAMPLER_CUBE:case s.UNSIGNED_INT_SAMPLER_2D_ARRAY:if(typeof r!=&amp;quot;number&amp;quot;)break;if(r&amp;lt;s.TEXTURE0||r&amp;gt;s.TEXTURE31||r!==Math.ceil(r)){console.log(&amp;quot;\u{1F338} p5.js says: You&amp;#39;re trying to use a number as the data for a texture.Please use a texture.&amp;quot;);break}s.activeTexture(r),s.uniform1i(a,r);break}return this}enableAttrib(t,r,n,s,a,o){if(t){typeof IS_MINIFIED&amp;gt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;this.attributes[t.name]!==t&amp;amp;&amp;amp;console.warn(`The attribute &amp;quot;${t.name}&amp;quot;passed to enableAttrib does not belong to this shader.`);let u=t.location;if(u!==-1){let h=this._renderer.GL;this._renderer.registerEnabled.has(u)||(h.enableVertexAttribArray(u),this._renderer.registerEnabled.add(u)),this._renderer.GL.vertexAttribPointer(u,r,n||h.FLOAT,s||!1,a||0,o||0)}}return this}disableRemainingAttributes(){for(let t of this._renderer.registerEnabled.values())Object.keys(this.attributes).some(r=&amp;gt;this.attributes[r].location===t)||(this._renderer.GL.disableVertexAttribArray(t),this._renderer.registerEnabled.delete(t))}};function io(i,t){i.Shader=Tt}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;io(p5,p5.prototype);var Ac=`precision highp int;
<a href="#l362" class="line" id="l362">    362</a> &lt;a href=&quot;#l343&quot; class=&quot;line&quot; id=&quot;l343&quot;&gt;    343&lt;/a&gt; 
<a href="#l363" class="line" id="l363">    363</a> &lt;a href=&quot;#l344&quot; class=&quot;line&quot; id=&quot;l344&quot;&gt;    344&lt;/a&gt; uniform mat4 uModelViewMatrix;
<a href="#l364" class="line" id="l364">    364</a> &lt;a href=&quot;#l345&quot; class=&quot;line&quot; id=&quot;l345&quot;&gt;    345&lt;/a&gt; uniform mat4 uProjectionMatrix;
<a href="#l365" class="line" id="l365">    365</a> &lt;a href=&quot;#l346&quot; class=&quot;line&quot; id=&quot;l346&quot;&gt;    346&lt;/a&gt; 
<a href="#l366" class="line" id="l366">    366</a> &lt;a href=&quot;#l347&quot; class=&quot;line&quot; id=&quot;l347&quot;&gt;    347&lt;/a&gt; IN vec3 aPosition;
<a href="#l367" class="line" id="l367">    367</a> &lt;a href=&quot;#l348&quot; class=&quot;line&quot; id=&quot;l348&quot;&gt;    348&lt;/a&gt; IN vec2 aTexCoord;
<a href="#l368" class="line" id="l368">    368</a> &lt;a href=&quot;#l349&quot; class=&quot;line&quot; id=&quot;l349&quot;&gt;    349&lt;/a&gt; OUT vec2 vTexCoord;
<a href="#l369" class="line" id="l369">    369</a> &lt;a href=&quot;#l350&quot; class=&quot;line&quot; id=&quot;l350&quot;&gt;    350&lt;/a&gt; 
<a href="#l370" class="line" id="l370">    370</a> &lt;a href=&quot;#l351&quot; class=&quot;line&quot; id=&quot;l351&quot;&gt;    351&lt;/a&gt; void main() {
<a href="#l371" class="line" id="l371">    371</a> &lt;a href=&quot;#l352&quot; class=&quot;line&quot; id=&quot;l352&quot;&gt;    352&lt;/a&gt;   // transferring texcoords for the frag shader
<a href="#l372" class="line" id="l372">    372</a> &lt;a href=&quot;#l353&quot; class=&quot;line&quot; id=&quot;l353&quot;&gt;    353&lt;/a&gt;   vTexCoord = aTexCoord;
<a href="#l373" class="line" id="l373">    373</a> &lt;a href=&quot;#l354&quot; class=&quot;line&quot; id=&quot;l354&quot;&gt;    354&lt;/a&gt; 
<a href="#l374" class="line" id="l374">    374</a> &lt;a href=&quot;#l355&quot; class=&quot;line&quot; id=&quot;l355&quot;&gt;    355&lt;/a&gt;   // copy position with a fourth coordinate for projection (1.0 is normal)
<a href="#l375" class="line" id="l375">    375</a> &lt;a href=&quot;#l356&quot; class=&quot;line&quot; id=&quot;l356&quot;&gt;    356&lt;/a&gt;   vec4 positionVec4 = vec4(aPosition, 1.0);
<a href="#l376" class="line" id="l376">    376</a> &lt;a href=&quot;#l357&quot; class=&quot;line&quot; id=&quot;l357&quot;&gt;    357&lt;/a&gt; 
<a href="#l377" class="line" id="l377">    377</a> &lt;a href=&quot;#l358&quot; class=&quot;line&quot; id=&quot;l358&quot;&gt;    358&lt;/a&gt;   // project to 3D space
<a href="#l378" class="line" id="l378">    378</a> &lt;a href=&quot;#l359&quot; class=&quot;line&quot; id=&quot;l359&quot;&gt;    359&lt;/a&gt;   gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
<a href="#l379" class="line" id="l379">    379</a> &lt;a href=&quot;#l360&quot; class=&quot;line&quot; id=&quot;l360&quot;&gt;    360&lt;/a&gt; }
<a href="#l380" class="line" id="l380">    380</a> &lt;a href=&quot;#l361&quot; class=&quot;line&quot; id=&quot;l361&quot;&gt;    361&lt;/a&gt; `,Um=`#define PI 3.141592
<a href="#l381" class="line" id="l381">    381</a> &lt;a href=&quot;#l362&quot; class=&quot;line&quot; id=&quot;l362&quot;&gt;    362&lt;/a&gt; 
<a href="#l382" class="line" id="l382">    382</a> &lt;a href=&quot;#l363&quot; class=&quot;line&quot; id=&quot;l363&quot;&gt;    363&lt;/a&gt; precision highp float;
<a href="#l383" class="line" id="l383">    383</a> &lt;a href=&quot;#l364&quot; class=&quot;line&quot; id=&quot;l364&quot;&gt;    364&lt;/a&gt; precision highp int;
<a href="#l384" class="line" id="l384">    384</a> &lt;a href=&quot;#l365&quot; class=&quot;line&quot; id=&quot;l365&quot;&gt;    365&lt;/a&gt; 
<a href="#l385" class="line" id="l385">    385</a> &lt;a href=&quot;#l366&quot; class=&quot;line&quot; id=&quot;l366&quot;&gt;    366&lt;/a&gt; uniform mat4 uViewMatrix;
<a href="#l386" class="line" id="l386">    386</a> &lt;a href=&quot;#l367&quot; class=&quot;line&quot; id=&quot;l367&quot;&gt;    367&lt;/a&gt; 
<a href="#l387" class="line" id="l387">    387</a> &lt;a href=&quot;#l368&quot; class=&quot;line&quot; id=&quot;l368&quot;&gt;    368&lt;/a&gt; uniform bool uUseLighting;
<a href="#l388" class="line" id="l388">    388</a> &lt;a href=&quot;#l369&quot; class=&quot;line&quot; id=&quot;l369&quot;&gt;    369&lt;/a&gt; 
<a href="#l389" class="line" id="l389">    389</a> &lt;a href=&quot;#l370&quot; class=&quot;line&quot; id=&quot;l370&quot;&gt;    370&lt;/a&gt; uniform int uAmbientLightCount;
<a href="#l390" class="line" id="l390">    390</a> &lt;a href=&quot;#l371&quot; class=&quot;line&quot; id=&quot;l371&quot;&gt;    371&lt;/a&gt; uniform vec3 uAmbientColor[5];
<a href="#l391" class="line" id="l391">    391</a> &lt;a href=&quot;#l372&quot; class=&quot;line&quot; id=&quot;l372&quot;&gt;    372&lt;/a&gt; uniform mat3 uCameraRotation;
<a href="#l392" class="line" id="l392">    392</a> &lt;a href=&quot;#l373&quot; class=&quot;line&quot; id=&quot;l373&quot;&gt;    373&lt;/a&gt; uniform int uDirectionalLightCount;
<a href="#l393" class="line" id="l393">    393</a> &lt;a href=&quot;#l374&quot; class=&quot;line&quot; id=&quot;l374&quot;&gt;    374&lt;/a&gt; uniform vec3 uLightingDirection[5];
<a href="#l394" class="line" id="l394">    394</a> &lt;a href=&quot;#l375&quot; class=&quot;line&quot; id=&quot;l375&quot;&gt;    375&lt;/a&gt; uniform vec3 uDirectionalDiffuseColors[5];
<a href="#l395" class="line" id="l395">    395</a> &lt;a href=&quot;#l376&quot; class=&quot;line&quot; id=&quot;l376&quot;&gt;    376&lt;/a&gt; uniform vec3 uDirectionalSpecularColors[5];
<a href="#l396" class="line" id="l396">    396</a> &lt;a href=&quot;#l377&quot; class=&quot;line&quot; id=&quot;l377&quot;&gt;    377&lt;/a&gt; 
<a href="#l397" class="line" id="l397">    397</a> &lt;a href=&quot;#l378&quot; class=&quot;line&quot; id=&quot;l378&quot;&gt;    378&lt;/a&gt; uniform int uPointLightCount;
<a href="#l398" class="line" id="l398">    398</a> &lt;a href=&quot;#l379&quot; class=&quot;line&quot; id=&quot;l379&quot;&gt;    379&lt;/a&gt; uniform vec3 uPointLightLocation[5];
<a href="#l399" class="line" id="l399">    399</a> &lt;a href=&quot;#l380&quot; class=&quot;line&quot; id=&quot;l380&quot;&gt;    380&lt;/a&gt; uniform vec3 uPointLightDiffuseColors[5];	
<a href="#l400" class="line" id="l400">    400</a> &lt;a href=&quot;#l381&quot; class=&quot;line&quot; id=&quot;l381&quot;&gt;    381&lt;/a&gt; uniform vec3 uPointLightSpecularColors[5];
<a href="#l401" class="line" id="l401">    401</a> &lt;a href=&quot;#l382&quot; class=&quot;line&quot; id=&quot;l382&quot;&gt;    382&lt;/a&gt; 
<a href="#l402" class="line" id="l402">    402</a> &lt;a href=&quot;#l383&quot; class=&quot;line&quot; id=&quot;l383&quot;&gt;    383&lt;/a&gt; uniform int uSpotLightCount;
<a href="#l403" class="line" id="l403">    403</a> &lt;a href=&quot;#l384&quot; class=&quot;line&quot; id=&quot;l384&quot;&gt;    384&lt;/a&gt; uniform float uSpotLightAngle[5];
<a href="#l404" class="line" id="l404">    404</a> &lt;a href=&quot;#l385&quot; class=&quot;line&quot; id=&quot;l385&quot;&gt;    385&lt;/a&gt; uniform float uSpotLightConc[5];
<a href="#l405" class="line" id="l405">    405</a> &lt;a href=&quot;#l386&quot; class=&quot;line&quot; id=&quot;l386&quot;&gt;    386&lt;/a&gt; uniform vec3 uSpotLightDiffuseColors[5];
<a href="#l406" class="line" id="l406">    406</a> &lt;a href=&quot;#l387&quot; class=&quot;line&quot; id=&quot;l387&quot;&gt;    387&lt;/a&gt; uniform vec3 uSpotLightSpecularColors[5];
<a href="#l407" class="line" id="l407">    407</a> &lt;a href=&quot;#l388&quot; class=&quot;line&quot; id=&quot;l388&quot;&gt;    388&lt;/a&gt; uniform vec3 uSpotLightLocation[5];
<a href="#l408" class="line" id="l408">    408</a> &lt;a href=&quot;#l389&quot; class=&quot;line&quot; id=&quot;l389&quot;&gt;    389&lt;/a&gt; uniform vec3 uSpotLightDirection[5];
<a href="#l409" class="line" id="l409">    409</a> &lt;a href=&quot;#l390&quot; class=&quot;line&quot; id=&quot;l390&quot;&gt;    390&lt;/a&gt; 
<a href="#l410" class="line" id="l410">    410</a> &lt;a href=&quot;#l391&quot; class=&quot;line&quot; id=&quot;l391&quot;&gt;    391&lt;/a&gt; uniform bool uSpecular;
<a href="#l411" class="line" id="l411">    411</a> &lt;a href=&quot;#l392&quot; class=&quot;line&quot; id=&quot;l392&quot;&gt;    392&lt;/a&gt; uniform float uShininess;
<a href="#l412" class="line" id="l412">    412</a> &lt;a href=&quot;#l393&quot; class=&quot;line&quot; id=&quot;l393&quot;&gt;    393&lt;/a&gt; uniform float uMetallic;
<a href="#l413" class="line" id="l413">    413</a> &lt;a href=&quot;#l394&quot; class=&quot;line&quot; id=&quot;l394&quot;&gt;    394&lt;/a&gt; 
<a href="#l414" class="line" id="l414">    414</a> &lt;a href=&quot;#l395&quot; class=&quot;line&quot; id=&quot;l395&quot;&gt;    395&lt;/a&gt; uniform float uConstantAttenuation;
<a href="#l415" class="line" id="l415">    415</a> &lt;a href=&quot;#l396&quot; class=&quot;line&quot; id=&quot;l396&quot;&gt;    396&lt;/a&gt; uniform float uLinearAttenuation;
<a href="#l416" class="line" id="l416">    416</a> &lt;a href=&quot;#l397&quot; class=&quot;line&quot; id=&quot;l397&quot;&gt;    397&lt;/a&gt; uniform float uQuadraticAttenuation;
<a href="#l417" class="line" id="l417">    417</a> &lt;a href=&quot;#l398&quot; class=&quot;line&quot; id=&quot;l398&quot;&gt;    398&lt;/a&gt; 
<a href="#l418" class="line" id="l418">    418</a> &lt;a href=&quot;#l399&quot; class=&quot;line&quot; id=&quot;l399&quot;&gt;    399&lt;/a&gt; // setting from  _setImageLightUniforms()
<a href="#l419" class="line" id="l419">    419</a> &lt;a href=&quot;#l400&quot; class=&quot;line&quot; id=&quot;l400&quot;&gt;    400&lt;/a&gt; // boolean to initiate the calculateImageDiffuse and calculateImageSpecular
<a href="#l420" class="line" id="l420">    420</a> &lt;a href=&quot;#l401&quot; class=&quot;line&quot; id=&quot;l401&quot;&gt;    401&lt;/a&gt; uniform bool uUseImageLight;
<a href="#l421" class="line" id="l421">    421</a> &lt;a href=&quot;#l402&quot; class=&quot;line&quot; id=&quot;l402&quot;&gt;    402&lt;/a&gt; // texture for use in calculateImageDiffuse
<a href="#l422" class="line" id="l422">    422</a> &lt;a href=&quot;#l403&quot; class=&quot;line&quot; id=&quot;l403&quot;&gt;    403&lt;/a&gt; uniform sampler2D environmentMapDiffused;
<a href="#l423" class="line" id="l423">    423</a> &lt;a href=&quot;#l404&quot; class=&quot;line&quot; id=&quot;l404&quot;&gt;    404&lt;/a&gt; // texture for use in calculateImageSpecular
<a href="#l424" class="line" id="l424">    424</a> &lt;a href=&quot;#l405&quot; class=&quot;line&quot; id=&quot;l405&quot;&gt;    405&lt;/a&gt; uniform sampler2D environmentMapSpecular;
<a href="#l425" class="line" id="l425">    425</a> &lt;a href=&quot;#l406&quot; class=&quot;line&quot; id=&quot;l406&quot;&gt;    406&lt;/a&gt; 
<a href="#l426" class="line" id="l426">    426</a> &lt;a href=&quot;#l407&quot; class=&quot;line&quot; id=&quot;l407&quot;&gt;    407&lt;/a&gt; const float specularFactor = 2.0;
<a href="#l427" class="line" id="l427">    427</a> &lt;a href=&quot;#l408&quot; class=&quot;line&quot; id=&quot;l408&quot;&gt;    408&lt;/a&gt; const float diffuseFactor = 0.73;
<a href="#l428" class="line" id="l428">    428</a> &lt;a href=&quot;#l409&quot; class=&quot;line&quot; id=&quot;l409&quot;&gt;    409&lt;/a&gt; 
<a href="#l429" class="line" id="l429">    429</a> &lt;a href=&quot;#l410&quot; class=&quot;line&quot; id=&quot;l410&quot;&gt;    410&lt;/a&gt; struct LightResult {
<a href="#l430" class="line" id="l430">    430</a> &lt;a href=&quot;#l411&quot; class=&quot;line&quot; id=&quot;l411&quot;&gt;    411&lt;/a&gt;   float specular;
<a href="#l431" class="line" id="l431">    431</a> &lt;a href=&quot;#l412&quot; class=&quot;line&quot; id=&quot;l412&quot;&gt;    412&lt;/a&gt;   float diffuse;
<a href="#l432" class="line" id="l432">    432</a> &lt;a href=&quot;#l413&quot; class=&quot;line&quot; id=&quot;l413&quot;&gt;    413&lt;/a&gt; };
<a href="#l433" class="line" id="l433">    433</a> &lt;a href=&quot;#l414&quot; class=&quot;line&quot; id=&quot;l414&quot;&gt;    414&lt;/a&gt; 
<a href="#l434" class="line" id="l434">    434</a> &lt;a href=&quot;#l415&quot; class=&quot;line&quot; id=&quot;l415&quot;&gt;    415&lt;/a&gt; float _phongSpecular(
<a href="#l435" class="line" id="l435">    435</a> &lt;a href=&quot;#l416&quot; class=&quot;line&quot; id=&quot;l416&quot;&gt;    416&lt;/a&gt;   vec3 lightDirection,
<a href="#l436" class="line" id="l436">    436</a> &lt;a href=&quot;#l417&quot; class=&quot;line&quot; id=&quot;l417&quot;&gt;    417&lt;/a&gt;   vec3 viewDirection,
<a href="#l437" class="line" id="l437">    437</a> &lt;a href=&quot;#l418&quot; class=&quot;line&quot; id=&quot;l418&quot;&gt;    418&lt;/a&gt;   vec3 surfaceNormal,
<a href="#l438" class="line" id="l438">    438</a> &lt;a href=&quot;#l419&quot; class=&quot;line&quot; id=&quot;l419&quot;&gt;    419&lt;/a&gt;   float shininess) {
<a href="#l439" class="line" id="l439">    439</a> &lt;a href=&quot;#l420&quot; class=&quot;line&quot; id=&quot;l420&quot;&gt;    420&lt;/a&gt; 
<a href="#l440" class="line" id="l440">    440</a> &lt;a href=&quot;#l421&quot; class=&quot;line&quot; id=&quot;l421&quot;&gt;    421&lt;/a&gt;   vec3 R = reflect(lightDirection, surfaceNormal);
<a href="#l441" class="line" id="l441">    441</a> &lt;a href=&quot;#l422&quot; class=&quot;line&quot; id=&quot;l422&quot;&gt;    422&lt;/a&gt;   return pow(max(0.0, dot(R, viewDirection)), shininess);
<a href="#l442" class="line" id="l442">    442</a> &lt;a href=&quot;#l423&quot; class=&quot;line&quot; id=&quot;l423&quot;&gt;    423&lt;/a&gt; }
<a href="#l443" class="line" id="l443">    443</a> &lt;a href=&quot;#l424&quot; class=&quot;line&quot; id=&quot;l424&quot;&gt;    424&lt;/a&gt; 
<a href="#l444" class="line" id="l444">    444</a> &lt;a href=&quot;#l425&quot; class=&quot;line&quot; id=&quot;l425&quot;&gt;    425&lt;/a&gt; float _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {
<a href="#l445" class="line" id="l445">    445</a> &lt;a href=&quot;#l426&quot; class=&quot;line&quot; id=&quot;l426&quot;&gt;    426&lt;/a&gt;   return max(0.0, dot(-lightDirection, surfaceNormal));
<a href="#l446" class="line" id="l446">    446</a> &lt;a href=&quot;#l427&quot; class=&quot;line&quot; id=&quot;l427&quot;&gt;    427&lt;/a&gt; }
<a href="#l447" class="line" id="l447">    447</a> &lt;a href=&quot;#l428&quot; class=&quot;line&quot; id=&quot;l428&quot;&gt;    428&lt;/a&gt; 
<a href="#l448" class="line" id="l448">    448</a> &lt;a href=&quot;#l429&quot; class=&quot;line&quot; id=&quot;l429&quot;&gt;    429&lt;/a&gt; LightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector, float shininess, float metallic) {
<a href="#l449" class="line" id="l449">    449</a> &lt;a href=&quot;#l430&quot; class=&quot;line&quot; id=&quot;l430&quot;&gt;    430&lt;/a&gt; 
<a href="#l450" class="line" id="l450">    450</a> &lt;a href=&quot;#l431&quot; class=&quot;line&quot; id=&quot;l431&quot;&gt;    431&lt;/a&gt;   vec3 lightDir = normalize(lightVector);
<a href="#l451" class="line" id="l451">    451</a> &lt;a href=&quot;#l432&quot; class=&quot;line&quot; id=&quot;l432&quot;&gt;    432&lt;/a&gt; 
<a href="#l452" class="line" id="l452">    452</a> &lt;a href=&quot;#l433&quot; class=&quot;line&quot; id=&quot;l433&quot;&gt;    433&lt;/a&gt;   //compute our diffuse &amp;amp; specular terms
<a href="#l453" class="line" id="l453">    453</a> &lt;a href=&quot;#l434&quot; class=&quot;line&quot; id=&quot;l434&quot;&gt;    434&lt;/a&gt;   LightResult lr;
<a href="#l454" class="line" id="l454">    454</a> &lt;a href=&quot;#l435&quot; class=&quot;line&quot; id=&quot;l435&quot;&gt;    435&lt;/a&gt;   float specularIntensity = mix(1.0, 0.4, metallic);
<a href="#l455" class="line" id="l455">    455</a> &lt;a href=&quot;#l436&quot; class=&quot;line&quot; id=&quot;l436&quot;&gt;    436&lt;/a&gt;   float diffuseIntensity = mix(1.0, 0.1, metallic);
<a href="#l456" class="line" id="l456">    456</a> &lt;a href=&quot;#l437&quot; class=&quot;line&quot; id=&quot;l437&quot;&gt;    437&lt;/a&gt;   if (uSpecular)
<a href="#l457" class="line" id="l457">    457</a> &lt;a href=&quot;#l438&quot; class=&quot;line&quot; id=&quot;l438&quot;&gt;    438&lt;/a&gt;     lr.specular = (_phongSpecular(lightDir, viewDirection, normal, shininess)) * specularIntensity;
<a href="#l458" class="line" id="l458">    458</a> &lt;a href=&quot;#l439&quot; class=&quot;line&quot; id=&quot;l439&quot;&gt;    439&lt;/a&gt;     lr.diffuse = _lambertDiffuse(lightDir, normal) * diffuseIntensity;
<a href="#l459" class="line" id="l459">    459</a> &lt;a href=&quot;#l440&quot; class=&quot;line&quot; id=&quot;l440&quot;&gt;    440&lt;/a&gt;   return lr;
<a href="#l460" class="line" id="l460">    460</a> &lt;a href=&quot;#l441&quot; class=&quot;line&quot; id=&quot;l441&quot;&gt;    441&lt;/a&gt; }
<a href="#l461" class="line" id="l461">    461</a> &lt;a href=&quot;#l442&quot; class=&quot;line&quot; id=&quot;l442&quot;&gt;    442&lt;/a&gt; 
<a href="#l462" class="line" id="l462">    462</a> &lt;a href=&quot;#l443&quot; class=&quot;line&quot; id=&quot;l443&quot;&gt;    443&lt;/a&gt; // converts the range of &amp;quot;value&amp;quot; from [min1 to max1] to [min2 to max2]
<a href="#l463" class="line" id="l463">    463</a> &lt;a href=&quot;#l444&quot; class=&quot;line&quot; id=&quot;l444&quot;&gt;    444&lt;/a&gt; float map(float value, float min1, float max1, float min2, float max2) {
<a href="#l464" class="line" id="l464">    464</a> &lt;a href=&quot;#l445&quot; class=&quot;line&quot; id=&quot;l445&quot;&gt;    445&lt;/a&gt;   return min2 + (value - min1) * (max2 - min2) / (max1 - min1);
<a href="#l465" class="line" id="l465">    465</a> &lt;a href=&quot;#l446&quot; class=&quot;line&quot; id=&quot;l446&quot;&gt;    446&lt;/a&gt; }
<a href="#l466" class="line" id="l466">    466</a> &lt;a href=&quot;#l447&quot; class=&quot;line&quot; id=&quot;l447&quot;&gt;    447&lt;/a&gt; 
<a href="#l467" class="line" id="l467">    467</a> &lt;a href=&quot;#l448&quot; class=&quot;line&quot; id=&quot;l448&quot;&gt;    448&lt;/a&gt; vec2 mapTextureToNormal( vec3 v ){
<a href="#l468" class="line" id="l468">    468</a> &lt;a href=&quot;#l449&quot; class=&quot;line&quot; id=&quot;l449&quot;&gt;    449&lt;/a&gt;   // x = r sin(phi) cos(theta)   
<a href="#l469" class="line" id="l469">    469</a> &lt;a href=&quot;#l450&quot; class=&quot;line&quot; id=&quot;l450&quot;&gt;    450&lt;/a&gt;   // y = r cos(phi)  
<a href="#l470" class="line" id="l470">    470</a> &lt;a href=&quot;#l451&quot; class=&quot;line&quot; id=&quot;l451&quot;&gt;    451&lt;/a&gt;   // z = r sin(phi) sin(theta)
<a href="#l471" class="line" id="l471">    471</a> &lt;a href=&quot;#l452&quot; class=&quot;line&quot; id=&quot;l452&quot;&gt;    452&lt;/a&gt;   float phi = acos( v.y );
<a href="#l472" class="line" id="l472">    472</a> &lt;a href=&quot;#l453&quot; class=&quot;line&quot; id=&quot;l453&quot;&gt;    453&lt;/a&gt;   // if phi is 0, then there are no x, z components
<a href="#l473" class="line" id="l473">    473</a> &lt;a href=&quot;#l454&quot; class=&quot;line&quot; id=&quot;l454&quot;&gt;    454&lt;/a&gt;   float theta = 0.0;
<a href="#l474" class="line" id="l474">    474</a> &lt;a href=&quot;#l455&quot; class=&quot;line&quot; id=&quot;l455&quot;&gt;    455&lt;/a&gt;   // else 
<a href="#l475" class="line" id="l475">    475</a> &lt;a href=&quot;#l456&quot; class=&quot;line&quot; id=&quot;l456&quot;&gt;    456&lt;/a&gt;   theta = acos(v.x / sin(phi));
<a href="#l476" class="line" id="l476">    476</a> &lt;a href=&quot;#l457&quot; class=&quot;line&quot; id=&quot;l457&quot;&gt;    457&lt;/a&gt;   float sinTheta = v.z / sin(phi);
<a href="#l477" class="line" id="l477">    477</a> &lt;a href=&quot;#l458&quot; class=&quot;line&quot; id=&quot;l458&quot;&gt;    458&lt;/a&gt;   if (sinTheta &amp;lt; 0.0) {
<a href="#l478" class="line" id="l478">    478</a> &lt;a href=&quot;#l459&quot; class=&quot;line&quot; id=&quot;l459&quot;&gt;    459&lt;/a&gt;     // Turn it into -theta, but in the 0-2PI range
<a href="#l479" class="line" id="l479">    479</a> &lt;a href=&quot;#l460&quot; class=&quot;line&quot; id=&quot;l460&quot;&gt;    460&lt;/a&gt;     theta = 2.0 * PI - theta;
<a href="#l480" class="line" id="l480">    480</a> &lt;a href=&quot;#l461&quot; class=&quot;line&quot; id=&quot;l461&quot;&gt;    461&lt;/a&gt;   }
<a href="#l481" class="line" id="l481">    481</a> &lt;a href=&quot;#l462&quot; class=&quot;line&quot; id=&quot;l462&quot;&gt;    462&lt;/a&gt;   theta = theta / (2.0 * 3.14159);
<a href="#l482" class="line" id="l482">    482</a> &lt;a href=&quot;#l463&quot; class=&quot;line&quot; id=&quot;l463&quot;&gt;    463&lt;/a&gt;   phi = phi / 3.14159 ;
<a href="#l483" class="line" id="l483">    483</a> &lt;a href=&quot;#l464&quot; class=&quot;line&quot; id=&quot;l464&quot;&gt;    464&lt;/a&gt;   
<a href="#l484" class="line" id="l484">    484</a> &lt;a href=&quot;#l465&quot; class=&quot;line&quot; id=&quot;l465&quot;&gt;    465&lt;/a&gt;   vec2 angles = vec2( fract(theta + 0.25), 1.0 - phi );
<a href="#l485" class="line" id="l485">    485</a> &lt;a href=&quot;#l466&quot; class=&quot;line&quot; id=&quot;l466&quot;&gt;    466&lt;/a&gt;   return angles;
<a href="#l486" class="line" id="l486">    486</a> &lt;a href=&quot;#l467&quot; class=&quot;line&quot; id=&quot;l467&quot;&gt;    467&lt;/a&gt; }
<a href="#l487" class="line" id="l487">    487</a> &lt;a href=&quot;#l468&quot; class=&quot;line&quot; id=&quot;l468&quot;&gt;    468&lt;/a&gt; 
<a href="#l488" class="line" id="l488">    488</a> &lt;a href=&quot;#l469&quot; class=&quot;line&quot; id=&quot;l469&quot;&gt;    469&lt;/a&gt; 
<a href="#l489" class="line" id="l489">    489</a> &lt;a href=&quot;#l470&quot; class=&quot;line&quot; id=&quot;l470&quot;&gt;    470&lt;/a&gt; vec3 calculateImageDiffuse(vec3 vNormal, vec3 vViewPosition, float metallic){
<a href="#l490" class="line" id="l490">    490</a> &lt;a href=&quot;#l471&quot; class=&quot;line&quot; id=&quot;l471&quot;&gt;    471&lt;/a&gt;   // make 2 seperate builds 
<a href="#l491" class="line" id="l491">    491</a> &lt;a href=&quot;#l472&quot; class=&quot;line&quot; id=&quot;l472&quot;&gt;    472&lt;/a&gt;   vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);  // hardcoded world camera position
<a href="#l492" class="line" id="l492">    492</a> &lt;a href=&quot;#l473&quot; class=&quot;line&quot; id=&quot;l473&quot;&gt;    473&lt;/a&gt;   vec3 worldNormal = normalize(vNormal * uCameraRotation);
<a href="#l493" class="line" id="l493">    493</a> &lt;a href=&quot;#l474&quot; class=&quot;line&quot; id=&quot;l474&quot;&gt;    474&lt;/a&gt;   vec2 newTexCoor = mapTextureToNormal( worldNormal );
<a href="#l494" class="line" id="l494">    494</a> &lt;a href=&quot;#l475&quot; class=&quot;line&quot; id=&quot;l475&quot;&gt;    475&lt;/a&gt;   vec4 texture = TEXTURE( environmentMapDiffused, newTexCoor );
<a href="#l495" class="line" id="l495">    495</a> &lt;a href=&quot;#l476&quot; class=&quot;line&quot; id=&quot;l476&quot;&gt;    476&lt;/a&gt;   // this is to make the darker sections more dark
<a href="#l496" class="line" id="l496">    496</a> &lt;a href=&quot;#l477&quot; class=&quot;line&quot; id=&quot;l477&quot;&gt;    477&lt;/a&gt;   // png and jpg usually flatten the brightness so it is to reverse that
<a href="#l497" class="line" id="l497">    497</a> &lt;a href=&quot;#l478&quot; class=&quot;line&quot; id=&quot;l478&quot;&gt;    478&lt;/a&gt;   return mix(smoothstep(vec3(0.0), vec3(1.0), texture.xyz), vec3(0.0), metallic);
<a href="#l498" class="line" id="l498">    498</a> &lt;a href=&quot;#l479&quot; class=&quot;line&quot; id=&quot;l479&quot;&gt;    479&lt;/a&gt; }
<a href="#l499" class="line" id="l499">    499</a> &lt;a href=&quot;#l480&quot; class=&quot;line&quot; id=&quot;l480&quot;&gt;    480&lt;/a&gt; 
<a href="#l500" class="line" id="l500">    500</a> &lt;a href=&quot;#l481&quot; class=&quot;line&quot; id=&quot;l481&quot;&gt;    481&lt;/a&gt; vec3 calculateImageSpecular(vec3 vNormal, vec3 vViewPosition, float shininess, float metallic){
<a href="#l501" class="line" id="l501">    501</a> &lt;a href=&quot;#l482&quot; class=&quot;line&quot; id=&quot;l482&quot;&gt;    482&lt;/a&gt;   vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);
<a href="#l502" class="line" id="l502">    502</a> &lt;a href=&quot;#l483&quot; class=&quot;line&quot; id=&quot;l483&quot;&gt;    483&lt;/a&gt;   vec3 worldNormal = normalize(vNormal);
<a href="#l503" class="line" id="l503">    503</a> &lt;a href=&quot;#l484&quot; class=&quot;line&quot; id=&quot;l484&quot;&gt;    484&lt;/a&gt;   vec3 lightDirection = normalize( vViewPosition - worldCameraPosition );
<a href="#l504" class="line" id="l504">    504</a> &lt;a href=&quot;#l485&quot; class=&quot;line&quot; id=&quot;l485&quot;&gt;    485&lt;/a&gt;   vec3 R = reflect(lightDirection, worldNormal) * uCameraRotation;
<a href="#l505" class="line" id="l505">    505</a> &lt;a href=&quot;#l486&quot; class=&quot;line&quot; id=&quot;l486&quot;&gt;    486&lt;/a&gt;   vec2 newTexCoor = mapTextureToNormal( R );
<a href="#l506" class="line" id="l506">    506</a> &lt;a href=&quot;#l487&quot; class=&quot;line&quot; id=&quot;l487&quot;&gt;    487&lt;/a&gt; #ifdef WEBGL2
<a href="#l507" class="line" id="l507">    507</a> &lt;a href=&quot;#l488&quot; class=&quot;line&quot; id=&quot;l488&quot;&gt;    488&lt;/a&gt;   // In p5js the range of shininess is &amp;gt;= 1,
<a href="#l508" class="line" id="l508">    508</a> &lt;a href=&quot;#l489&quot; class=&quot;line&quot; id=&quot;l489&quot;&gt;    489&lt;/a&gt;   // Therefore roughness range will be ([0,1]*8)*20 or [0, 160]
<a href="#l509" class="line" id="l509">    509</a> &lt;a href=&quot;#l490&quot; class=&quot;line&quot; id=&quot;l490&quot;&gt;    490&lt;/a&gt;   // The factor of 8 is because currently the getSpecularTexture
<a href="#l510" class="line" id="l510">    510</a> &lt;a href=&quot;#l491&quot; class=&quot;line&quot; id=&quot;l491&quot;&gt;    491&lt;/a&gt;   // only calculated 8 different levels of roughness
<a href="#l511" class="line" id="l511">    511</a> &lt;a href=&quot;#l492&quot; class=&quot;line&quot; id=&quot;l492&quot;&gt;    492&lt;/a&gt;   // The factor of 20 is just to spread up this range so that,
<a href="#l512" class="line" id="l512">    512</a> &lt;a href=&quot;#l493&quot; class=&quot;line&quot; id=&quot;l493&quot;&gt;    493&lt;/a&gt;   // [1, max] of shininess is converted to [0,160] of roughness
<a href="#l513" class="line" id="l513">    513</a> &lt;a href=&quot;#l494&quot; class=&quot;line&quot; id=&quot;l494&quot;&gt;    494&lt;/a&gt;   float roughness = 20. / shininess;
<a href="#l514" class="line" id="l514">    514</a> &lt;a href=&quot;#l495&quot; class=&quot;line&quot; id=&quot;l495&quot;&gt;    495&lt;/a&gt;   vec4 outColor = textureLod(environmentMapSpecular, newTexCoor, roughness * 8.);
<a href="#l515" class="line" id="l515">    515</a> &lt;a href=&quot;#l496&quot; class=&quot;line&quot; id=&quot;l496&quot;&gt;    496&lt;/a&gt; #else
<a href="#l516" class="line" id="l516">    516</a> &lt;a href=&quot;#l497&quot; class=&quot;line&quot; id=&quot;l497&quot;&gt;    497&lt;/a&gt;   vec4 outColor = TEXTURE(environmentMapSpecular, newTexCoor);
<a href="#l517" class="line" id="l517">    517</a> &lt;a href=&quot;#l498&quot; class=&quot;line&quot; id=&quot;l498&quot;&gt;    498&lt;/a&gt; #endif
<a href="#l518" class="line" id="l518">    518</a> &lt;a href=&quot;#l499&quot; class=&quot;line&quot; id=&quot;l499&quot;&gt;    499&lt;/a&gt;   // this is to make the darker sections more dark
<a href="#l519" class="line" id="l519">    519</a> &lt;a href=&quot;#l500&quot; class=&quot;line&quot; id=&quot;l500&quot;&gt;    500&lt;/a&gt;   // png and jpg usually flatten the brightness so it is to reverse that
<a href="#l520" class="line" id="l520">    520</a> &lt;a href=&quot;#l501&quot; class=&quot;line&quot; id=&quot;l501&quot;&gt;    501&lt;/a&gt;   return mix(
<a href="#l521" class="line" id="l521">    521</a> &lt;a href=&quot;#l502&quot; class=&quot;line&quot; id=&quot;l502&quot;&gt;    502&lt;/a&gt;     pow(outColor.xyz, vec3(10)),
<a href="#l522" class="line" id="l522">    522</a> &lt;a href=&quot;#l503&quot; class=&quot;line&quot; id=&quot;l503&quot;&gt;    503&lt;/a&gt;     pow(outColor.xyz, vec3(1.2)),
<a href="#l523" class="line" id="l523">    523</a> &lt;a href=&quot;#l504&quot; class=&quot;line&quot; id=&quot;l504&quot;&gt;    504&lt;/a&gt;     metallic 
<a href="#l524" class="line" id="l524">    524</a> &lt;a href=&quot;#l505&quot; class=&quot;line&quot; id=&quot;l505&quot;&gt;    505&lt;/a&gt;   );
<a href="#l525" class="line" id="l525">    525</a> &lt;a href=&quot;#l506&quot; class=&quot;line&quot; id=&quot;l506&quot;&gt;    506&lt;/a&gt; }
<a href="#l526" class="line" id="l526">    526</a> &lt;a href=&quot;#l507&quot; class=&quot;line&quot; id=&quot;l507&quot;&gt;    507&lt;/a&gt; 
<a href="#l527" class="line" id="l527">    527</a> &lt;a href=&quot;#l508&quot; class=&quot;line&quot; id=&quot;l508&quot;&gt;    508&lt;/a&gt; void totalLight(
<a href="#l528" class="line" id="l528">    528</a> &lt;a href=&quot;#l509&quot; class=&quot;line&quot; id=&quot;l509&quot;&gt;    509&lt;/a&gt;   vec3 modelPosition,
<a href="#l529" class="line" id="l529">    529</a> &lt;a href=&quot;#l510&quot; class=&quot;line&quot; id=&quot;l510&quot;&gt;    510&lt;/a&gt;   vec3 normal,
<a href="#l530" class="line" id="l530">    530</a> &lt;a href=&quot;#l511&quot; class=&quot;line&quot; id=&quot;l511&quot;&gt;    511&lt;/a&gt;   float shininess,
<a href="#l531" class="line" id="l531">    531</a> &lt;a href=&quot;#l512&quot; class=&quot;line&quot; id=&quot;l512&quot;&gt;    512&lt;/a&gt;   float metallic,
<a href="#l532" class="line" id="l532">    532</a> &lt;a href=&quot;#l513&quot; class=&quot;line&quot; id=&quot;l513&quot;&gt;    513&lt;/a&gt;   out vec3 totalDiffuse,
<a href="#l533" class="line" id="l533">    533</a> &lt;a href=&quot;#l514&quot; class=&quot;line&quot; id=&quot;l514&quot;&gt;    514&lt;/a&gt;   out vec3 totalSpecular
<a href="#l534" class="line" id="l534">    534</a> &lt;a href=&quot;#l515&quot; class=&quot;line&quot; id=&quot;l515&quot;&gt;    515&lt;/a&gt; ) {
<a href="#l535" class="line" id="l535">    535</a> &lt;a href=&quot;#l516&quot; class=&quot;line&quot; id=&quot;l516&quot;&gt;    516&lt;/a&gt; 
<a href="#l536" class="line" id="l536">    536</a> &lt;a href=&quot;#l517&quot; class=&quot;line&quot; id=&quot;l517&quot;&gt;    517&lt;/a&gt;   totalSpecular = vec3(0.0);
<a href="#l537" class="line" id="l537">    537</a> &lt;a href=&quot;#l518&quot; class=&quot;line&quot; id=&quot;l518&quot;&gt;    518&lt;/a&gt; 
<a href="#l538" class="line" id="l538">    538</a> &lt;a href=&quot;#l519&quot; class=&quot;line&quot; id=&quot;l519&quot;&gt;    519&lt;/a&gt;   if (!uUseLighting) {
<a href="#l539" class="line" id="l539">    539</a> &lt;a href=&quot;#l520&quot; class=&quot;line&quot; id=&quot;l520&quot;&gt;    520&lt;/a&gt;     totalDiffuse = vec3(1.0);
<a href="#l540" class="line" id="l540">    540</a> &lt;a href=&quot;#l521&quot; class=&quot;line&quot; id=&quot;l521&quot;&gt;    521&lt;/a&gt;     return;
<a href="#l541" class="line" id="l541">    541</a> &lt;a href=&quot;#l522&quot; class=&quot;line&quot; id=&quot;l522&quot;&gt;    522&lt;/a&gt;   }
<a href="#l542" class="line" id="l542">    542</a> &lt;a href=&quot;#l523&quot; class=&quot;line&quot; id=&quot;l523&quot;&gt;    523&lt;/a&gt; 
<a href="#l543" class="line" id="l543">    543</a> &lt;a href=&quot;#l524&quot; class=&quot;line&quot; id=&quot;l524&quot;&gt;    524&lt;/a&gt;   totalDiffuse = vec3(0.0);
<a href="#l544" class="line" id="l544">    544</a> &lt;a href=&quot;#l525&quot; class=&quot;line&quot; id=&quot;l525&quot;&gt;    525&lt;/a&gt; 
<a href="#l545" class="line" id="l545">    545</a> &lt;a href=&quot;#l526&quot; class=&quot;line&quot; id=&quot;l526&quot;&gt;    526&lt;/a&gt;   vec3 viewDirection = normalize(-modelPosition);
<a href="#l546" class="line" id="l546">    546</a> &lt;a href=&quot;#l527&quot; class=&quot;line&quot; id=&quot;l527&quot;&gt;    527&lt;/a&gt; 
<a href="#l547" class="line" id="l547">    547</a> &lt;a href=&quot;#l528&quot; class=&quot;line&quot; id=&quot;l528&quot;&gt;    528&lt;/a&gt;   for (int j = 0; j &amp;lt; 5; j++) {
<a href="#l548" class="line" id="l548">    548</a> &lt;a href=&quot;#l529&quot; class=&quot;line&quot; id=&quot;l529&quot;&gt;    529&lt;/a&gt;     if (j &amp;lt; uDirectionalLightCount) {
<a href="#l549" class="line" id="l549">    549</a> &lt;a href=&quot;#l530&quot; class=&quot;line&quot; id=&quot;l530&quot;&gt;    530&lt;/a&gt;       vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;
<a href="#l550" class="line" id="l550">    550</a> &lt;a href=&quot;#l531&quot; class=&quot;line&quot; id=&quot;l531&quot;&gt;    531&lt;/a&gt;       vec3 lightColor = uDirectionalDiffuseColors[j];
<a href="#l551" class="line" id="l551">    551</a> &lt;a href=&quot;#l532&quot; class=&quot;line&quot; id=&quot;l532&quot;&gt;    532&lt;/a&gt;       vec3 specularColor = uDirectionalSpecularColors[j];
<a href="#l552" class="line" id="l552">    552</a> &lt;a href=&quot;#l533&quot; class=&quot;line&quot; id=&quot;l533&quot;&gt;    533&lt;/a&gt;       LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
<a href="#l553" class="line" id="l553">    553</a> &lt;a href=&quot;#l534&quot; class=&quot;line&quot; id=&quot;l534&quot;&gt;    534&lt;/a&gt;       totalDiffuse += result.diffuse * lightColor;
<a href="#l554" class="line" id="l554">    554</a> &lt;a href=&quot;#l535&quot; class=&quot;line&quot; id=&quot;l535&quot;&gt;    535&lt;/a&gt;       totalSpecular += result.specular * lightColor * specularColor;
<a href="#l555" class="line" id="l555">    555</a> &lt;a href=&quot;#l536&quot; class=&quot;line&quot; id=&quot;l536&quot;&gt;    536&lt;/a&gt;     }
<a href="#l556" class="line" id="l556">    556</a> &lt;a href=&quot;#l537&quot; class=&quot;line&quot; id=&quot;l537&quot;&gt;    537&lt;/a&gt; 
<a href="#l557" class="line" id="l557">    557</a> &lt;a href=&quot;#l538&quot; class=&quot;line&quot; id=&quot;l538&quot;&gt;    538&lt;/a&gt;     if (j &amp;lt; uPointLightCount) {
<a href="#l558" class="line" id="l558">    558</a> &lt;a href=&quot;#l539&quot; class=&quot;line&quot; id=&quot;l539&quot;&gt;    539&lt;/a&gt;       vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;
<a href="#l559" class="line" id="l559">    559</a> &lt;a href=&quot;#l540&quot; class=&quot;line&quot; id=&quot;l540&quot;&gt;    540&lt;/a&gt;       vec3 lightVector = modelPosition - lightPosition;
<a href="#l560" class="line" id="l560">    560</a> &lt;a href=&quot;#l541&quot; class=&quot;line&quot; id=&quot;l541&quot;&gt;    541&lt;/a&gt;       //calculate attenuation
<a href="#l561" class="line" id="l561">    561</a> &lt;a href=&quot;#l542&quot; class=&quot;line&quot; id=&quot;l542&quot;&gt;    542&lt;/a&gt;       float lightDistance = length(lightVector);
<a href="#l562" class="line" id="l562">    562</a> &lt;a href=&quot;#l543&quot; class=&quot;line&quot; id=&quot;l543&quot;&gt;    543&lt;/a&gt;       float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);
<a href="#l563" class="line" id="l563">    563</a> &lt;a href=&quot;#l544&quot; class=&quot;line&quot; id=&quot;l544&quot;&gt;    544&lt;/a&gt;       vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];
<a href="#l564" class="line" id="l564">    564</a> &lt;a href=&quot;#l545&quot; class=&quot;line&quot; id=&quot;l545&quot;&gt;    545&lt;/a&gt;       vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];
<a href="#l565" class="line" id="l565">    565</a> &lt;a href=&quot;#l546&quot; class=&quot;line&quot; id=&quot;l546&quot;&gt;    546&lt;/a&gt; 
<a href="#l566" class="line" id="l566">    566</a> &lt;a href=&quot;#l547&quot; class=&quot;line&quot; id=&quot;l547&quot;&gt;    547&lt;/a&gt;       LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
<a href="#l567" class="line" id="l567">    567</a> &lt;a href=&quot;#l548&quot; class=&quot;line&quot; id=&quot;l548&quot;&gt;    548&lt;/a&gt;       totalDiffuse += result.diffuse * lightColor;
<a href="#l568" class="line" id="l568">    568</a> &lt;a href=&quot;#l549&quot; class=&quot;line&quot; id=&quot;l549&quot;&gt;    549&lt;/a&gt;       totalSpecular += result.specular * lightColor * specularColor;
<a href="#l569" class="line" id="l569">    569</a> &lt;a href=&quot;#l550&quot; class=&quot;line&quot; id=&quot;l550&quot;&gt;    550&lt;/a&gt;     }
<a href="#l570" class="line" id="l570">    570</a> &lt;a href=&quot;#l551&quot; class=&quot;line&quot; id=&quot;l551&quot;&gt;    551&lt;/a&gt; 
<a href="#l571" class="line" id="l571">    571</a> &lt;a href=&quot;#l552&quot; class=&quot;line&quot; id=&quot;l552&quot;&gt;    552&lt;/a&gt;     if(j &amp;lt; uSpotLightCount) {
<a href="#l572" class="line" id="l572">    572</a> &lt;a href=&quot;#l553&quot; class=&quot;line&quot; id=&quot;l553&quot;&gt;    553&lt;/a&gt;       vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;
<a href="#l573" class="line" id="l573">    573</a> &lt;a href=&quot;#l554&quot; class=&quot;line&quot; id=&quot;l554&quot;&gt;    554&lt;/a&gt;       vec3 lightVector = modelPosition - lightPosition;
<a href="#l574" class="line" id="l574">    574</a> &lt;a href=&quot;#l555&quot; class=&quot;line&quot; id=&quot;l555&quot;&gt;    555&lt;/a&gt;     
<a href="#l575" class="line" id="l575">    575</a> &lt;a href=&quot;#l556&quot; class=&quot;line&quot; id=&quot;l556&quot;&gt;    556&lt;/a&gt;       float lightDistance = length(lightVector);
<a href="#l576" class="line" id="l576">    576</a> &lt;a href=&quot;#l557&quot; class=&quot;line&quot; id=&quot;l557&quot;&gt;    557&lt;/a&gt;       float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);
<a href="#l577" class="line" id="l577">    577</a> &lt;a href=&quot;#l558&quot; class=&quot;line&quot; id=&quot;l558&quot;&gt;    558&lt;/a&gt; 
<a href="#l578" class="line" id="l578">    578</a> &lt;a href=&quot;#l559&quot; class=&quot;line&quot; id=&quot;l559&quot;&gt;    559&lt;/a&gt;       vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;
<a href="#l579" class="line" id="l579">    579</a> &lt;a href=&quot;#l560&quot; class=&quot;line&quot; id=&quot;l560&quot;&gt;    560&lt;/a&gt;       float spotDot = dot(normalize(lightVector), normalize(lightDirection));
<a href="#l580" class="line" id="l580">    580</a> &lt;a href=&quot;#l561&quot; class=&quot;line&quot; id=&quot;l561&quot;&gt;    561&lt;/a&gt;       float spotFalloff;
<a href="#l581" class="line" id="l581">    581</a> &lt;a href=&quot;#l562&quot; class=&quot;line&quot; id=&quot;l562&quot;&gt;    562&lt;/a&gt;       if(spotDot &amp;lt; uSpotLightAngle[j]) {
<a href="#l582" class="line" id="l582">    582</a> &lt;a href=&quot;#l563&quot; class=&quot;line&quot; id=&quot;l563&quot;&gt;    563&lt;/a&gt;         spotFalloff = 0.0;
<a href="#l583" class="line" id="l583">    583</a> &lt;a href=&quot;#l564&quot; class=&quot;line&quot; id=&quot;l564&quot;&gt;    564&lt;/a&gt;       }
<a href="#l584" class="line" id="l584">    584</a> &lt;a href=&quot;#l565&quot; class=&quot;line&quot; id=&quot;l565&quot;&gt;    565&lt;/a&gt;       else {
<a href="#l585" class="line" id="l585">    585</a> &lt;a href=&quot;#l566&quot; class=&quot;line&quot; id=&quot;l566&quot;&gt;    566&lt;/a&gt;         spotFalloff = pow(spotDot, uSpotLightConc[j]);
<a href="#l586" class="line" id="l586">    586</a> &lt;a href=&quot;#l567&quot; class=&quot;line&quot; id=&quot;l567&quot;&gt;    567&lt;/a&gt;       }
<a href="#l587" class="line" id="l587">    587</a> &lt;a href=&quot;#l568&quot; class=&quot;line&quot; id=&quot;l568&quot;&gt;    568&lt;/a&gt;       lightFalloff *= spotFalloff;
<a href="#l588" class="line" id="l588">    588</a> &lt;a href=&quot;#l569&quot; class=&quot;line&quot; id=&quot;l569&quot;&gt;    569&lt;/a&gt; 
<a href="#l589" class="line" id="l589">    589</a> &lt;a href=&quot;#l570&quot; class=&quot;line&quot; id=&quot;l570&quot;&gt;    570&lt;/a&gt;       vec3 lightColor = uSpotLightDiffuseColors[j];
<a href="#l590" class="line" id="l590">    590</a> &lt;a href=&quot;#l571&quot; class=&quot;line&quot; id=&quot;l571&quot;&gt;    571&lt;/a&gt;       vec3 specularColor = uSpotLightSpecularColors[j];
<a href="#l591" class="line" id="l591">    591</a> &lt;a href=&quot;#l572&quot; class=&quot;line&quot; id=&quot;l572&quot;&gt;    572&lt;/a&gt;      
<a href="#l592" class="line" id="l592">    592</a> &lt;a href=&quot;#l573&quot; class=&quot;line&quot; id=&quot;l573&quot;&gt;    573&lt;/a&gt;       LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
<a href="#l593" class="line" id="l593">    593</a> &lt;a href=&quot;#l574&quot; class=&quot;line&quot; id=&quot;l574&quot;&gt;    574&lt;/a&gt;       
<a href="#l594" class="line" id="l594">    594</a> &lt;a href=&quot;#l575&quot; class=&quot;line&quot; id=&quot;l575&quot;&gt;    575&lt;/a&gt;       totalDiffuse += result.diffuse * lightColor * lightFalloff;
<a href="#l595" class="line" id="l595">    595</a> &lt;a href=&quot;#l576&quot; class=&quot;line&quot; id=&quot;l576&quot;&gt;    576&lt;/a&gt;       totalSpecular += result.specular * lightColor * specularColor * lightFalloff;
<a href="#l596" class="line" id="l596">    596</a> &lt;a href=&quot;#l577&quot; class=&quot;line&quot; id=&quot;l577&quot;&gt;    577&lt;/a&gt;     }
<a href="#l597" class="line" id="l597">    597</a> &lt;a href=&quot;#l578&quot; class=&quot;line&quot; id=&quot;l578&quot;&gt;    578&lt;/a&gt;   }
<a href="#l598" class="line" id="l598">    598</a> &lt;a href=&quot;#l579&quot; class=&quot;line&quot; id=&quot;l579&quot;&gt;    579&lt;/a&gt; 
<a href="#l599" class="line" id="l599">    599</a> &lt;a href=&quot;#l580&quot; class=&quot;line&quot; id=&quot;l580&quot;&gt;    580&lt;/a&gt;   if( uUseImageLight ){
<a href="#l600" class="line" id="l600">    600</a> &lt;a href=&quot;#l581&quot; class=&quot;line&quot; id=&quot;l581&quot;&gt;    581&lt;/a&gt;     totalDiffuse += calculateImageDiffuse(normal, modelPosition, metallic);
<a href="#l601" class="line" id="l601">    601</a> &lt;a href=&quot;#l582&quot; class=&quot;line&quot; id=&quot;l582&quot;&gt;    582&lt;/a&gt;     totalSpecular += calculateImageSpecular(normal, modelPosition, shininess, metallic);
<a href="#l602" class="line" id="l602">    602</a> &lt;a href=&quot;#l583&quot; class=&quot;line&quot; id=&quot;l583&quot;&gt;    583&lt;/a&gt;   }
<a href="#l603" class="line" id="l603">    603</a> &lt;a href=&quot;#l584&quot; class=&quot;line&quot; id=&quot;l584&quot;&gt;    584&lt;/a&gt; 
<a href="#l604" class="line" id="l604">    604</a> &lt;a href=&quot;#l585&quot; class=&quot;line&quot; id=&quot;l585&quot;&gt;    585&lt;/a&gt;   totalDiffuse *= diffuseFactor;
<a href="#l605" class="line" id="l605">    605</a> &lt;a href=&quot;#l586&quot; class=&quot;line&quot; id=&quot;l586&quot;&gt;    586&lt;/a&gt;   totalSpecular *= specularFactor;
<a href="#l606" class="line" id="l606">    606</a> &lt;a href=&quot;#l587&quot; class=&quot;line&quot; id=&quot;l587&quot;&gt;    587&lt;/a&gt; }
<a href="#l607" class="line" id="l607">    607</a> &lt;a href=&quot;#l588&quot; class=&quot;line&quot; id=&quot;l588&quot;&gt;    588&lt;/a&gt; `,ol=`#ifdef WEBGL2
<a href="#l608" class="line" id="l608">    608</a> &lt;a href=&quot;#l589&quot; class=&quot;line&quot; id=&quot;l589&quot;&gt;    589&lt;/a&gt; 
<a href="#l609" class="line" id="l609">    609</a> &lt;a href=&quot;#l590&quot; class=&quot;line&quot; id=&quot;l590&quot;&gt;    590&lt;/a&gt; #define IN in
<a href="#l610" class="line" id="l610">    610</a> &lt;a href=&quot;#l591&quot; class=&quot;line&quot; id=&quot;l591&quot;&gt;    591&lt;/a&gt; #define OUT out
<a href="#l611" class="line" id="l611">    611</a> &lt;a href=&quot;#l592&quot; class=&quot;line&quot; id=&quot;l592&quot;&gt;    592&lt;/a&gt; 
<a href="#l612" class="line" id="l612">    612</a> &lt;a href=&quot;#l593&quot; class=&quot;line&quot; id=&quot;l593&quot;&gt;    593&lt;/a&gt; #ifdef FRAGMENT_SHADER
<a href="#l613" class="line" id="l613">    613</a> &lt;a href=&quot;#l594&quot; class=&quot;line&quot; id=&quot;l594&quot;&gt;    594&lt;/a&gt; out vec4 outColor;
<a href="#l614" class="line" id="l614">    614</a> &lt;a href=&quot;#l595&quot; class=&quot;line&quot; id=&quot;l595&quot;&gt;    595&lt;/a&gt; #define OUT_COLOR outColor
<a href="#l615" class="line" id="l615">    615</a> &lt;a href=&quot;#l596&quot; class=&quot;line&quot; id=&quot;l596&quot;&gt;    596&lt;/a&gt; #endif
<a href="#l616" class="line" id="l616">    616</a> &lt;a href=&quot;#l597&quot; class=&quot;line&quot; id=&quot;l597&quot;&gt;    597&lt;/a&gt; #define TEXTURE texture
<a href="#l617" class="line" id="l617">    617</a> &lt;a href=&quot;#l598&quot; class=&quot;line&quot; id=&quot;l598&quot;&gt;    598&lt;/a&gt; 
<a href="#l618" class="line" id="l618">    618</a> &lt;a href=&quot;#l599&quot; class=&quot;line&quot; id=&quot;l599&quot;&gt;    599&lt;/a&gt; #else
<a href="#l619" class="line" id="l619">    619</a> &lt;a href=&quot;#l600&quot; class=&quot;line&quot; id=&quot;l600&quot;&gt;    600&lt;/a&gt; 
<a href="#l620" class="line" id="l620">    620</a> &lt;a href=&quot;#l601&quot; class=&quot;line&quot; id=&quot;l601&quot;&gt;    601&lt;/a&gt; #ifdef FRAGMENT_SHADER
<a href="#l621" class="line" id="l621">    621</a> &lt;a href=&quot;#l602&quot; class=&quot;line&quot; id=&quot;l602&quot;&gt;    602&lt;/a&gt; #define IN varying
<a href="#l622" class="line" id="l622">    622</a> &lt;a href=&quot;#l603&quot; class=&quot;line&quot; id=&quot;l603&quot;&gt;    603&lt;/a&gt; #else
<a href="#l623" class="line" id="l623">    623</a> &lt;a href=&quot;#l604&quot; class=&quot;line&quot; id=&quot;l604&quot;&gt;    604&lt;/a&gt; #define IN attribute
<a href="#l624" class="line" id="l624">    624</a> &lt;a href=&quot;#l605&quot; class=&quot;line&quot; id=&quot;l605&quot;&gt;    605&lt;/a&gt; #endif
<a href="#l625" class="line" id="l625">    625</a> &lt;a href=&quot;#l606&quot; class=&quot;line&quot; id=&quot;l606&quot;&gt;    606&lt;/a&gt; #define OUT varying
<a href="#l626" class="line" id="l626">    626</a> &lt;a href=&quot;#l607&quot; class=&quot;line&quot; id=&quot;l607&quot;&gt;    607&lt;/a&gt; #define TEXTURE texture2D
<a href="#l627" class="line" id="l627">    627</a> &lt;a href=&quot;#l608&quot; class=&quot;line&quot; id=&quot;l608&quot;&gt;    608&lt;/a&gt; 
<a href="#l628" class="line" id="l628">    628</a> &lt;a href=&quot;#l609&quot; class=&quot;line&quot; id=&quot;l609&quot;&gt;    609&lt;/a&gt; #ifdef FRAGMENT_SHADER
<a href="#l629" class="line" id="l629">    629</a> &lt;a href=&quot;#l610&quot; class=&quot;line&quot; id=&quot;l610&quot;&gt;    610&lt;/a&gt; #define OUT_COLOR gl_FragColor
<a href="#l630" class="line" id="l630">    630</a> &lt;a href=&quot;#l611&quot; class=&quot;line&quot; id=&quot;l611&quot;&gt;    611&lt;/a&gt; #endif
<a href="#l631" class="line" id="l631">    631</a> &lt;a href=&quot;#l612&quot; class=&quot;line&quot; id=&quot;l612&quot;&gt;    612&lt;/a&gt; 
<a href="#l632" class="line" id="l632">    632</a> &lt;a href=&quot;#l613&quot; class=&quot;line&quot; id=&quot;l613&quot;&gt;    613&lt;/a&gt; #endif
<a href="#l633" class="line" id="l633">    633</a> &lt;a href=&quot;#l614&quot; class=&quot;line&quot; id=&quot;l614&quot;&gt;    614&lt;/a&gt; 
<a href="#l634" class="line" id="l634">    634</a> &lt;a href=&quot;#l615&quot; class=&quot;line&quot; id=&quot;l615&quot;&gt;    615&lt;/a&gt; #ifdef FRAGMENT_SHADER
<a href="#l635" class="line" id="l635">    635</a> &lt;a href=&quot;#l616&quot; class=&quot;line&quot; id=&quot;l616&quot;&gt;    616&lt;/a&gt; vec4 getTexture(in sampler2D content, vec2 coord) {
<a href="#l636" class="line" id="l636">    636</a> &lt;a href=&quot;#l617&quot; class=&quot;line&quot; id=&quot;l617&quot;&gt;    617&lt;/a&gt;   vec4 color = TEXTURE(content, coord);
<a href="#l637" class="line" id="l637">    637</a> &lt;a href=&quot;#l618&quot; class=&quot;line&quot; id=&quot;l618&quot;&gt;    618&lt;/a&gt;   color.rgb /= color.a;
<a href="#l638" class="line" id="l638">    638</a> &lt;a href=&quot;#l619&quot; class=&quot;line&quot; id=&quot;l619&quot;&gt;    619&lt;/a&gt;   return color;
<a href="#l639" class="line" id="l639">    639</a> &lt;a href=&quot;#l620&quot; class=&quot;line&quot; id=&quot;l620&quot;&gt;    620&lt;/a&gt; }
<a href="#l640" class="line" id="l640">    640</a> &lt;a href=&quot;#l621&quot; class=&quot;line&quot; id=&quot;l621&quot;&gt;    621&lt;/a&gt; #endif
<a href="#l641" class="line" id="l641">    641</a> &lt;a href=&quot;#l622&quot; class=&quot;line&quot; id=&quot;l622&quot;&gt;    622&lt;/a&gt; `,vb=`IN vec3 aPosition;
<a href="#l642" class="line" id="l642">    642</a> &lt;a href=&quot;#l623&quot; class=&quot;line&quot; id=&quot;l623&quot;&gt;    623&lt;/a&gt; IN vec3 aNormal;
<a href="#l643" class="line" id="l643">    643</a> &lt;a href=&quot;#l624&quot; class=&quot;line&quot; id=&quot;l624&quot;&gt;    624&lt;/a&gt; IN vec2 aTexCoord;
<a href="#l644" class="line" id="l644">    644</a> &lt;a href=&quot;#l625&quot; class=&quot;line&quot; id=&quot;l625&quot;&gt;    625&lt;/a&gt; IN vec4 aVertexColor;
<a href="#l645" class="line" id="l645">    645</a> &lt;a href=&quot;#l626&quot; class=&quot;line&quot; id=&quot;l626&quot;&gt;    626&lt;/a&gt; 
<a href="#l646" class="line" id="l646">    646</a> &lt;a href=&quot;#l627&quot; class=&quot;line&quot; id=&quot;l627&quot;&gt;    627&lt;/a&gt; #define HOOK_DEFINES
<a href="#l647" class="line" id="l647">    647</a> &lt;a href=&quot;#l628&quot; class=&quot;line&quot; id=&quot;l628&quot;&gt;    628&lt;/a&gt; 
<a href="#l648" class="line" id="l648">    648</a> &lt;a href=&quot;#l629&quot; class=&quot;line&quot; id=&quot;l629&quot;&gt;    629&lt;/a&gt; #ifdef AUGMENTED_HOOK_getWorldInputs
<a href="#l649" class="line" id="l649">    649</a> &lt;a href=&quot;#l630&quot; class=&quot;line&quot; id=&quot;l630&quot;&gt;    630&lt;/a&gt; uniform mat4 uModelMatrix;
<a href="#l650" class="line" id="l650">    650</a> &lt;a href=&quot;#l631&quot; class=&quot;line&quot; id=&quot;l631&quot;&gt;    631&lt;/a&gt; uniform mat4 uViewMatrix;
<a href="#l651" class="line" id="l651">    651</a> &lt;a href=&quot;#l632&quot; class=&quot;line&quot; id=&quot;l632&quot;&gt;    632&lt;/a&gt; uniform mat3 uModelNormalMatrix;
<a href="#l652" class="line" id="l652">    652</a> &lt;a href=&quot;#l633&quot; class=&quot;line&quot; id=&quot;l633&quot;&gt;    633&lt;/a&gt; uniform mat3 uCameraNormalMatrix;
<a href="#l653" class="line" id="l653">    653</a> &lt;a href=&quot;#l634&quot; class=&quot;line&quot; id=&quot;l634&quot;&gt;    634&lt;/a&gt; #else
<a href="#l654" class="line" id="l654">    654</a> &lt;a href=&quot;#l635&quot; class=&quot;line&quot; id=&quot;l635&quot;&gt;    635&lt;/a&gt; uniform mat4 uModelViewMatrix;
<a href="#l655" class="line" id="l655">    655</a> &lt;a href=&quot;#l636&quot; class=&quot;line&quot; id=&quot;l636&quot;&gt;    636&lt;/a&gt; uniform mat3 uNormalMatrix;
<a href="#l656" class="line" id="l656">    656</a> &lt;a href=&quot;#l637&quot; class=&quot;line&quot; id=&quot;l637&quot;&gt;    637&lt;/a&gt; #endif
<a href="#l657" class="line" id="l657">    657</a> &lt;a href=&quot;#l638&quot; class=&quot;line&quot; id=&quot;l638&quot;&gt;    638&lt;/a&gt; uniform mat4 uProjectionMatrix;
<a href="#l658" class="line" id="l658">    658</a> &lt;a href=&quot;#l639&quot; class=&quot;line&quot; id=&quot;l639&quot;&gt;    639&lt;/a&gt; 
<a href="#l659" class="line" id="l659">    659</a> &lt;a href=&quot;#l640&quot; class=&quot;line&quot; id=&quot;l640&quot;&gt;    640&lt;/a&gt; uniform vec4 uMaterialColor;
<a href="#l660" class="line" id="l660">    660</a> &lt;a href=&quot;#l641&quot; class=&quot;line&quot; id=&quot;l641&quot;&gt;    641&lt;/a&gt; uniform bool uUseVertexColor;
<a href="#l661" class="line" id="l661">    661</a> &lt;a href=&quot;#l642&quot; class=&quot;line&quot; id=&quot;l642&quot;&gt;    642&lt;/a&gt; 
<a href="#l662" class="line" id="l662">    662</a> &lt;a href=&quot;#l643&quot; class=&quot;line&quot; id=&quot;l643&quot;&gt;    643&lt;/a&gt; OUT vec3 vVertexNormal;
<a href="#l663" class="line" id="l663">    663</a> &lt;a href=&quot;#l644&quot; class=&quot;line&quot; id=&quot;l644&quot;&gt;    644&lt;/a&gt; OUT highp vec2 vVertTexCoord;
<a href="#l664" class="line" id="l664">    664</a> &lt;a href=&quot;#l645&quot; class=&quot;line&quot; id=&quot;l645&quot;&gt;    645&lt;/a&gt; OUT vec4 vColor;
<a href="#l665" class="line" id="l665">    665</a> &lt;a href=&quot;#l646&quot; class=&quot;line&quot; id=&quot;l646&quot;&gt;    646&lt;/a&gt; 
<a href="#l666" class="line" id="l666">    666</a> &lt;a href=&quot;#l647&quot; class=&quot;line&quot; id=&quot;l647&quot;&gt;    647&lt;/a&gt; struct Vertex {
<a href="#l667" class="line" id="l667">    667</a> &lt;a href=&quot;#l648&quot; class=&quot;line&quot; id=&quot;l648&quot;&gt;    648&lt;/a&gt;   vec3 position;
<a href="#l668" class="line" id="l668">    668</a> &lt;a href=&quot;#l649&quot; class=&quot;line&quot; id=&quot;l649&quot;&gt;    649&lt;/a&gt;   vec3 normal;
<a href="#l669" class="line" id="l669">    669</a> &lt;a href=&quot;#l650&quot; class=&quot;line&quot; id=&quot;l650&quot;&gt;    650&lt;/a&gt;   vec2 texCoord;
<a href="#l670" class="line" id="l670">    670</a> &lt;a href=&quot;#l651&quot; class=&quot;line&quot; id=&quot;l651&quot;&gt;    651&lt;/a&gt;   vec4 color;
<a href="#l671" class="line" id="l671">    671</a> &lt;a href=&quot;#l652&quot; class=&quot;line&quot; id=&quot;l652&quot;&gt;    652&lt;/a&gt; };
<a href="#l672" class="line" id="l672">    672</a> &lt;a href=&quot;#l653&quot; class=&quot;line&quot; id=&quot;l653&quot;&gt;    653&lt;/a&gt; 
<a href="#l673" class="line" id="l673">    673</a> &lt;a href=&quot;#l654&quot; class=&quot;line&quot; id=&quot;l654&quot;&gt;    654&lt;/a&gt; void main(void) {
<a href="#l674" class="line" id="l674">    674</a> &lt;a href=&quot;#l655&quot; class=&quot;line&quot; id=&quot;l655&quot;&gt;    655&lt;/a&gt;   HOOK_beforeVertex();
<a href="#l675" class="line" id="l675">    675</a> &lt;a href=&quot;#l656&quot; class=&quot;line&quot; id=&quot;l656&quot;&gt;    656&lt;/a&gt; 
<a href="#l676" class="line" id="l676">    676</a> &lt;a href=&quot;#l657&quot; class=&quot;line&quot; id=&quot;l657&quot;&gt;    657&lt;/a&gt;   Vertex inputs;
<a href="#l677" class="line" id="l677">    677</a> &lt;a href=&quot;#l658&quot; class=&quot;line&quot; id=&quot;l658&quot;&gt;    658&lt;/a&gt;   inputs.position = aPosition;
<a href="#l678" class="line" id="l678">    678</a> &lt;a href=&quot;#l659&quot; class=&quot;line&quot; id=&quot;l659&quot;&gt;    659&lt;/a&gt;   inputs.normal = aNormal;
<a href="#l679" class="line" id="l679">    679</a> &lt;a href=&quot;#l660&quot; class=&quot;line&quot; id=&quot;l660&quot;&gt;    660&lt;/a&gt;   inputs.texCoord = aTexCoord;
<a href="#l680" class="line" id="l680">    680</a> &lt;a href=&quot;#l661&quot; class=&quot;line&quot; id=&quot;l661&quot;&gt;    661&lt;/a&gt;   inputs.color = (uUseVertexColor &amp;amp;&amp;amp; aVertexColor.x &amp;gt;= 0.0) ? aVertexColor : uMaterialColor;
<a href="#l681" class="line" id="l681">    681</a> &lt;a href=&quot;#l662&quot; class=&quot;line&quot; id=&quot;l662&quot;&gt;    662&lt;/a&gt; #ifdef AUGMENTED_HOOK_getObjectInputs
<a href="#l682" class="line" id="l682">    682</a> &lt;a href=&quot;#l663&quot; class=&quot;line&quot; id=&quot;l663&quot;&gt;    663&lt;/a&gt;   inputs = HOOK_getObjectInputs(inputs);
<a href="#l683" class="line" id="l683">    683</a> &lt;a href=&quot;#l664&quot; class=&quot;line&quot; id=&quot;l664&quot;&gt;    664&lt;/a&gt; #endif
<a href="#l684" class="line" id="l684">    684</a> &lt;a href=&quot;#l665&quot; class=&quot;line&quot; id=&quot;l665&quot;&gt;    665&lt;/a&gt; 
<a href="#l685" class="line" id="l685">    685</a> &lt;a href=&quot;#l666&quot; class=&quot;line&quot; id=&quot;l666&quot;&gt;    666&lt;/a&gt; #ifdef AUGMENTED_HOOK_getWorldInputs
<a href="#l686" class="line" id="l686">    686</a> &lt;a href=&quot;#l667&quot; class=&quot;line&quot; id=&quot;l667&quot;&gt;    667&lt;/a&gt;   inputs.position = (uModelMatrix * vec4(inputs.position, 1.)).xyz;
<a href="#l687" class="line" id="l687">    687</a> &lt;a href=&quot;#l668&quot; class=&quot;line&quot; id=&quot;l668&quot;&gt;    668&lt;/a&gt;   inputs.normal = uModelNormalMatrix * inputs.normal;
<a href="#l688" class="line" id="l688">    688</a> &lt;a href=&quot;#l669&quot; class=&quot;line&quot; id=&quot;l669&quot;&gt;    669&lt;/a&gt;   inputs = HOOK_getWorldInputs(inputs);
<a href="#l689" class="line" id="l689">    689</a> &lt;a href=&quot;#l670&quot; class=&quot;line&quot; id=&quot;l670&quot;&gt;    670&lt;/a&gt; #endif
<a href="#l690" class="line" id="l690">    690</a> &lt;a href=&quot;#l671&quot; class=&quot;line&quot; id=&quot;l671&quot;&gt;    671&lt;/a&gt; 
<a href="#l691" class="line" id="l691">    691</a> &lt;a href=&quot;#l672&quot; class=&quot;line&quot; id=&quot;l672&quot;&gt;    672&lt;/a&gt; #ifdef AUGMENTED_HOOK_getWorldInputs
<a href="#l692" class="line" id="l692">    692</a> &lt;a href=&quot;#l673&quot; class=&quot;line&quot; id=&quot;l673&quot;&gt;    673&lt;/a&gt;   // Already multiplied by the model matrix, just apply view
<a href="#l693" class="line" id="l693">    693</a> &lt;a href=&quot;#l674&quot; class=&quot;line&quot; id=&quot;l674&quot;&gt;    674&lt;/a&gt;   inputs.position = (uViewMatrix * vec4(inputs.position, 1.)).xyz;
<a href="#l694" class="line" id="l694">    694</a> &lt;a href=&quot;#l675&quot; class=&quot;line&quot; id=&quot;l675&quot;&gt;    675&lt;/a&gt;   inputs.normal = uCameraNormalMatrix * inputs.normal;
<a href="#l695" class="line" id="l695">    695</a> &lt;a href=&quot;#l676&quot; class=&quot;line&quot; id=&quot;l676&quot;&gt;    676&lt;/a&gt; #else
<a href="#l696" class="line" id="l696">    696</a> &lt;a href=&quot;#l677&quot; class=&quot;line&quot; id=&quot;l677&quot;&gt;    677&lt;/a&gt;   // Apply both at once
<a href="#l697" class="line" id="l697">    697</a> &lt;a href=&quot;#l678&quot; class=&quot;line&quot; id=&quot;l678&quot;&gt;    678&lt;/a&gt;   inputs.position = (uModelViewMatrix * vec4(inputs.position, 1.)).xyz;
<a href="#l698" class="line" id="l698">    698</a> &lt;a href=&quot;#l679&quot; class=&quot;line&quot; id=&quot;l679&quot;&gt;    679&lt;/a&gt;   inputs.normal = uNormalMatrix * inputs.normal;
<a href="#l699" class="line" id="l699">    699</a> &lt;a href=&quot;#l680&quot; class=&quot;line&quot; id=&quot;l680&quot;&gt;    680&lt;/a&gt; #endif
<a href="#l700" class="line" id="l700">    700</a> &lt;a href=&quot;#l681&quot; class=&quot;line&quot; id=&quot;l681&quot;&gt;    681&lt;/a&gt; #ifdef AUGMENTED_HOOK_getCameraInputs
<a href="#l701" class="line" id="l701">    701</a> &lt;a href=&quot;#l682&quot; class=&quot;line&quot; id=&quot;l682&quot;&gt;    682&lt;/a&gt;   inputs = HOOK_getCameraInputs(inputs);
<a href="#l702" class="line" id="l702">    702</a> &lt;a href=&quot;#l683&quot; class=&quot;line&quot; id=&quot;l683&quot;&gt;    683&lt;/a&gt; #endif
<a href="#l703" class="line" id="l703">    703</a> &lt;a href=&quot;#l684&quot; class=&quot;line&quot; id=&quot;l684&quot;&gt;    684&lt;/a&gt; 
<a href="#l704" class="line" id="l704">    704</a> &lt;a href=&quot;#l685&quot; class=&quot;line&quot; id=&quot;l685&quot;&gt;    685&lt;/a&gt;   // Pass varyings to fragment shader
<a href="#l705" class="line" id="l705">    705</a> &lt;a href=&quot;#l686&quot; class=&quot;line&quot; id=&quot;l686&quot;&gt;    686&lt;/a&gt;   vVertTexCoord = inputs.texCoord;
<a href="#l706" class="line" id="l706">    706</a> &lt;a href=&quot;#l687&quot; class=&quot;line&quot; id=&quot;l687&quot;&gt;    687&lt;/a&gt;   vVertexNormal = normalize(inputs.normal);
<a href="#l707" class="line" id="l707">    707</a> &lt;a href=&quot;#l688&quot; class=&quot;line&quot; id=&quot;l688&quot;&gt;    688&lt;/a&gt;   vColor = inputs.color;
<a href="#l708" class="line" id="l708">    708</a> &lt;a href=&quot;#l689&quot; class=&quot;line&quot; id=&quot;l689&quot;&gt;    689&lt;/a&gt; 
<a href="#l709" class="line" id="l709">    709</a> &lt;a href=&quot;#l690&quot; class=&quot;line&quot; id=&quot;l690&quot;&gt;    690&lt;/a&gt;   gl_Position = uProjectionMatrix * vec4(inputs.position, 1.);
<a href="#l710" class="line" id="l710">    710</a> &lt;a href=&quot;#l691&quot; class=&quot;line&quot; id=&quot;l691&quot;&gt;    691&lt;/a&gt; 
<a href="#l711" class="line" id="l711">    711</a> &lt;a href=&quot;#l692&quot; class=&quot;line&quot; id=&quot;l692&quot;&gt;    692&lt;/a&gt;   HOOK_afterVertex();
<a href="#l712" class="line" id="l712">    712</a> &lt;a href=&quot;#l693&quot; class=&quot;line&quot; id=&quot;l693&quot;&gt;    693&lt;/a&gt; }
<a href="#l713" class="line" id="l713">    713</a> &lt;a href=&quot;#l694&quot; class=&quot;line&quot; id=&quot;l694&quot;&gt;    694&lt;/a&gt; `,xb=`IN vec3 vVertexNormal;
<a href="#l714" class="line" id="l714">    714</a> &lt;a href=&quot;#l695&quot; class=&quot;line&quot; id=&quot;l695&quot;&gt;    695&lt;/a&gt; void main(void) {
<a href="#l715" class="line" id="l715">    715</a> &lt;a href=&quot;#l696&quot; class=&quot;line&quot; id=&quot;l696&quot;&gt;    696&lt;/a&gt;   HOOK_beforeFragment();
<a href="#l716" class="line" id="l716">    716</a> &lt;a href=&quot;#l697&quot; class=&quot;line&quot; id=&quot;l697&quot;&gt;    697&lt;/a&gt;   OUT_COLOR = HOOK_getFinalColor(vec4(vVertexNormal, 1.0));
<a href="#l717" class="line" id="l717">    717</a> &lt;a href=&quot;#l698&quot; class=&quot;line&quot; id=&quot;l698&quot;&gt;    698&lt;/a&gt;   HOOK_afterFragment();
<a href="#l718" class="line" id="l718">    718</a> &lt;a href=&quot;#l699&quot; class=&quot;line&quot; id=&quot;l699&quot;&gt;    699&lt;/a&gt; }
<a href="#l719" class="line" id="l719">    719</a> &lt;a href=&quot;#l700&quot; class=&quot;line&quot; id=&quot;l700&quot;&gt;    700&lt;/a&gt; `,bb=`IN vec4 vColor;
<a href="#l720" class="line" id="l720">    720</a> &lt;a href=&quot;#l701&quot; class=&quot;line&quot; id=&quot;l701&quot;&gt;    701&lt;/a&gt; void main(void) {
<a href="#l721" class="line" id="l721">    721</a> &lt;a href=&quot;#l702&quot; class=&quot;line&quot; id=&quot;l702&quot;&gt;    702&lt;/a&gt;   HOOK_beforeFragment();
<a href="#l722" class="line" id="l722">    722</a> &lt;a href=&quot;#l703&quot; class=&quot;line&quot; id=&quot;l703&quot;&gt;    703&lt;/a&gt;   OUT_COLOR = HOOK_getFinalColor(vec4(vColor.rgb, 1.) * vColor.a);
<a href="#l723" class="line" id="l723">    723</a> &lt;a href=&quot;#l704&quot; class=&quot;line&quot; id=&quot;l704&quot;&gt;    704&lt;/a&gt;   HOOK_afterFragment();
<a href="#l724" class="line" id="l724">    724</a> &lt;a href=&quot;#l705&quot; class=&quot;line&quot; id=&quot;l705&quot;&gt;    705&lt;/a&gt; }
<a href="#l725" class="line" id="l725">    725</a> &lt;a href=&quot;#l706&quot; class=&quot;line&quot; id=&quot;l706&quot;&gt;    706&lt;/a&gt; `,_b=`#define PI 3.141592
<a href="#l726" class="line" id="l726">    726</a> &lt;a href=&quot;#l707&quot; class=&quot;line&quot; id=&quot;l707&quot;&gt;    707&lt;/a&gt; 
<a href="#l727" class="line" id="l727">    727</a> &lt;a href=&quot;#l708&quot; class=&quot;line&quot; id=&quot;l708&quot;&gt;    708&lt;/a&gt; precision highp float;
<a href="#l728" class="line" id="l728">    728</a> &lt;a href=&quot;#l709&quot; class=&quot;line&quot; id=&quot;l709&quot;&gt;    709&lt;/a&gt;   
<a href="#l729" class="line" id="l729">    729</a> &lt;a href=&quot;#l710&quot; class=&quot;line&quot; id=&quot;l710&quot;&gt;    710&lt;/a&gt; uniform sampler2D uEnvMap;
<a href="#l730" class="line" id="l730">    730</a> &lt;a href=&quot;#l711&quot; class=&quot;line&quot; id=&quot;l711&quot;&gt;    711&lt;/a&gt; uniform mat3 uNewNormalMatrix;
<a href="#l731" class="line" id="l731">    731</a> &lt;a href=&quot;#l712&quot; class=&quot;line&quot; id=&quot;l712&quot;&gt;    712&lt;/a&gt; uniform float uFovY;
<a href="#l732" class="line" id="l732">    732</a> &lt;a href=&quot;#l713&quot; class=&quot;line&quot; id=&quot;l713&quot;&gt;    713&lt;/a&gt; uniform float uAspect;
<a href="#l733" class="line" id="l733">    733</a> &lt;a href=&quot;#l714&quot; class=&quot;line&quot; id=&quot;l714&quot;&gt;    714&lt;/a&gt; 
<a href="#l734" class="line" id="l734">    734</a> &lt;a href=&quot;#l715&quot; class=&quot;line&quot; id=&quot;l715&quot;&gt;    715&lt;/a&gt; varying vec2 vTexCoord;
<a href="#l735" class="line" id="l735">    735</a> &lt;a href=&quot;#l716&quot; class=&quot;line&quot; id=&quot;l716&quot;&gt;    716&lt;/a&gt;   
<a href="#l736" class="line" id="l736">    736</a> &lt;a href=&quot;#l717&quot; class=&quot;line&quot; id=&quot;l717&quot;&gt;    717&lt;/a&gt; void main() {
<a href="#l737" class="line" id="l737">    737</a> &lt;a href=&quot;#l718&quot; class=&quot;line&quot; id=&quot;l718&quot;&gt;    718&lt;/a&gt;     float uFovX = uFovY * uAspect; 
<a href="#l738" class="line" id="l738">    738</a> &lt;a href=&quot;#l719&quot; class=&quot;line&quot; id=&quot;l719&quot;&gt;    719&lt;/a&gt;     float angleY = mix(uFovY/2.0,  -uFovY/2.0, vTexCoord.y);
<a href="#l739" class="line" id="l739">    739</a> &lt;a href=&quot;#l720&quot; class=&quot;line&quot; id=&quot;l720&quot;&gt;    720&lt;/a&gt;     float angleX = mix(uFovX/2.0, -uFovX/2.0, vTexCoord.x);
<a href="#l740" class="line" id="l740">    740</a> &lt;a href=&quot;#l721&quot; class=&quot;line&quot; id=&quot;l721&quot;&gt;    721&lt;/a&gt;     vec3 rotatedNormal = vec3( angleX, angleY, 1.0 );
<a href="#l741" class="line" id="l741">    741</a> &lt;a href=&quot;#l722&quot; class=&quot;line&quot; id=&quot;l722&quot;&gt;    722&lt;/a&gt;     rotatedNormal = uNewNormalMatrix * normalize(rotatedNormal);
<a href="#l742" class="line" id="l742">    742</a> &lt;a href=&quot;#l723&quot; class=&quot;line&quot; id=&quot;l723&quot;&gt;    723&lt;/a&gt;     float temp = rotatedNormal.z;
<a href="#l743" class="line" id="l743">    743</a> &lt;a href=&quot;#l724&quot; class=&quot;line&quot; id=&quot;l724&quot;&gt;    724&lt;/a&gt;     rotatedNormal.z = rotatedNormal.x;
<a href="#l744" class="line" id="l744">    744</a> &lt;a href=&quot;#l725&quot; class=&quot;line&quot; id=&quot;l725&quot;&gt;    725&lt;/a&gt;     rotatedNormal.x = -temp;
<a href="#l745" class="line" id="l745">    745</a> &lt;a href=&quot;#l726&quot; class=&quot;line&quot; id=&quot;l726&quot;&gt;    726&lt;/a&gt;     vec2 suv;
<a href="#l746" class="line" id="l746">    746</a> &lt;a href=&quot;#l727&quot; class=&quot;line&quot; id=&quot;l727&quot;&gt;    727&lt;/a&gt;     suv.y = 0.5 + 0.5 * (-rotatedNormal.y);
<a href="#l747" class="line" id="l747">    747</a> &lt;a href=&quot;#l728&quot; class=&quot;line&quot; id=&quot;l728&quot;&gt;    728&lt;/a&gt;     suv.x = atan(rotatedNormal.z, rotatedNormal.x) / (2.0 * PI) + 0.5;
<a href="#l748" class="line" id="l748">    748</a> &lt;a href=&quot;#l729&quot; class=&quot;line&quot; id=&quot;l729&quot;&gt;    729&lt;/a&gt;     vec4 newTexColor = texture2D(uEnvMap, suv.xy);
<a href="#l749" class="line" id="l749">    749</a> &lt;a href=&quot;#l730&quot; class=&quot;line&quot; id=&quot;l730&quot;&gt;    730&lt;/a&gt;     gl_FragColor = newTexColor;
<a href="#l750" class="line" id="l750">    750</a> &lt;a href=&quot;#l731&quot; class=&quot;line&quot; id=&quot;l731&quot;&gt;    731&lt;/a&gt; }
<a href="#l751" class="line" id="l751">    751</a> &lt;a href=&quot;#l732&quot; class=&quot;line&quot; id=&quot;l732&quot;&gt;    732&lt;/a&gt; `,wb=`// include lighting.glgl
<a href="#l752" class="line" id="l752">    752</a> &lt;a href=&quot;#l733&quot; class=&quot;line&quot; id=&quot;l733&quot;&gt;    733&lt;/a&gt; 
<a href="#l753" class="line" id="l753">    753</a> &lt;a href=&quot;#l734&quot; class=&quot;line&quot; id=&quot;l734&quot;&gt;    734&lt;/a&gt; IN vec3 aPosition;
<a href="#l754" class="line" id="l754">    754</a> &lt;a href=&quot;#l735&quot; class=&quot;line&quot; id=&quot;l735&quot;&gt;    735&lt;/a&gt; IN vec3 aNormal;
<a href="#l755" class="line" id="l755">    755</a> &lt;a href=&quot;#l736&quot; class=&quot;line&quot; id=&quot;l736&quot;&gt;    736&lt;/a&gt; IN vec2 aTexCoord;
<a href="#l756" class="line" id="l756">    756</a> &lt;a href=&quot;#l737&quot; class=&quot;line&quot; id=&quot;l737&quot;&gt;    737&lt;/a&gt; IN vec4 aVertexColor;
<a href="#l757" class="line" id="l757">    757</a> &lt;a href=&quot;#l738&quot; class=&quot;line&quot; id=&quot;l738&quot;&gt;    738&lt;/a&gt; 
<a href="#l758" class="line" id="l758">    758</a> &lt;a href=&quot;#l739&quot; class=&quot;line&quot; id=&quot;l739&quot;&gt;    739&lt;/a&gt; uniform mat4 uModelViewMatrix;
<a href="#l759" class="line" id="l759">    759</a> &lt;a href=&quot;#l740&quot; class=&quot;line&quot; id=&quot;l740&quot;&gt;    740&lt;/a&gt; uniform mat4 uProjectionMatrix;
<a href="#l760" class="line" id="l760">    760</a> &lt;a href=&quot;#l741&quot; class=&quot;line&quot; id=&quot;l741&quot;&gt;    741&lt;/a&gt; uniform mat3 uNormalMatrix;
<a href="#l761" class="line" id="l761">    761</a> &lt;a href=&quot;#l742&quot; class=&quot;line&quot; id=&quot;l742&quot;&gt;    742&lt;/a&gt; 
<a href="#l762" class="line" id="l762">    762</a> &lt;a href=&quot;#l743&quot; class=&quot;line&quot; id=&quot;l743&quot;&gt;    743&lt;/a&gt; uniform bool uUseVertexColor;
<a href="#l763" class="line" id="l763">    763</a> &lt;a href=&quot;#l744&quot; class=&quot;line&quot; id=&quot;l744&quot;&gt;    744&lt;/a&gt; uniform vec4 uMaterialColor;
<a href="#l764" class="line" id="l764">    764</a> &lt;a href=&quot;#l745&quot; class=&quot;line&quot; id=&quot;l745&quot;&gt;    745&lt;/a&gt; 
<a href="#l765" class="line" id="l765">    765</a> &lt;a href=&quot;#l746&quot; class=&quot;line&quot; id=&quot;l746&quot;&gt;    746&lt;/a&gt; OUT highp vec2 vVertTexCoord;
<a href="#l766" class="line" id="l766">    766</a> &lt;a href=&quot;#l747&quot; class=&quot;line&quot; id=&quot;l747&quot;&gt;    747&lt;/a&gt; OUT vec3 vDiffuseColor;
<a href="#l767" class="line" id="l767">    767</a> &lt;a href=&quot;#l748&quot; class=&quot;line&quot; id=&quot;l748&quot;&gt;    748&lt;/a&gt; OUT vec3 vSpecularColor;
<a href="#l768" class="line" id="l768">    768</a> &lt;a href=&quot;#l749&quot; class=&quot;line&quot; id=&quot;l749&quot;&gt;    749&lt;/a&gt; OUT vec4 vColor;
<a href="#l769" class="line" id="l769">    769</a> &lt;a href=&quot;#l750&quot; class=&quot;line&quot; id=&quot;l750&quot;&gt;    750&lt;/a&gt; 
<a href="#l770" class="line" id="l770">    770</a> &lt;a href=&quot;#l751&quot; class=&quot;line&quot; id=&quot;l751&quot;&gt;    751&lt;/a&gt; void main(void) {
<a href="#l771" class="line" id="l771">    771</a> &lt;a href=&quot;#l752&quot; class=&quot;line&quot; id=&quot;l752&quot;&gt;    752&lt;/a&gt; 
<a href="#l772" class="line" id="l772">    772</a> &lt;a href=&quot;#l753&quot; class=&quot;line&quot; id=&quot;l753&quot;&gt;    753&lt;/a&gt;   vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
<a href="#l773" class="line" id="l773">    773</a> &lt;a href=&quot;#l754&quot; class=&quot;line&quot; id=&quot;l754&quot;&gt;    754&lt;/a&gt;   gl_Position = uProjectionMatrix * viewModelPosition;
<a href="#l774" class="line" id="l774">    774</a> &lt;a href=&quot;#l755&quot; class=&quot;line&quot; id=&quot;l755&quot;&gt;    755&lt;/a&gt; 
<a href="#l775" class="line" id="l775">    775</a> &lt;a href=&quot;#l756&quot; class=&quot;line&quot; id=&quot;l756&quot;&gt;    756&lt;/a&gt;   vec3 vertexNormal = normalize(uNormalMatrix * aNormal);
<a href="#l776" class="line" id="l776">    776</a> &lt;a href=&quot;#l757&quot; class=&quot;line&quot; id=&quot;l757&quot;&gt;    757&lt;/a&gt;   vVertTexCoord = aTexCoord;
<a href="#l777" class="line" id="l777">    777</a> &lt;a href=&quot;#l758&quot; class=&quot;line&quot; id=&quot;l758&quot;&gt;    758&lt;/a&gt; 
<a href="#l778" class="line" id="l778">    778</a> &lt;a href=&quot;#l759&quot; class=&quot;line&quot; id=&quot;l759&quot;&gt;    759&lt;/a&gt;   totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);
<a href="#l779" class="line" id="l779">    779</a> &lt;a href=&quot;#l760&quot; class=&quot;line&quot; id=&quot;l760&quot;&gt;    760&lt;/a&gt; 
<a href="#l780" class="line" id="l780">    780</a> &lt;a href=&quot;#l761&quot; class=&quot;line&quot; id=&quot;l761&quot;&gt;    761&lt;/a&gt;   for (int i = 0; i &amp;lt; 8; i++) {
<a href="#l781" class="line" id="l781">    781</a> &lt;a href=&quot;#l762&quot; class=&quot;line&quot; id=&quot;l762&quot;&gt;    762&lt;/a&gt;     if (i &amp;lt; uAmbientLightCount) {
<a href="#l782" class="line" id="l782">    782</a> &lt;a href=&quot;#l763&quot; class=&quot;line&quot; id=&quot;l763&quot;&gt;    763&lt;/a&gt;       vDiffuseColor += uAmbientColor[i];
<a href="#l783" class="line" id="l783">    783</a> &lt;a href=&quot;#l764&quot; class=&quot;line&quot; id=&quot;l764&quot;&gt;    764&lt;/a&gt;     }
<a href="#l784" class="line" id="l784">    784</a> &lt;a href=&quot;#l765&quot; class=&quot;line&quot; id=&quot;l765&quot;&gt;    765&lt;/a&gt;   }
<a href="#l785" class="line" id="l785">    785</a> &lt;a href=&quot;#l766&quot; class=&quot;line&quot; id=&quot;l766&quot;&gt;    766&lt;/a&gt;   
<a href="#l786" class="line" id="l786">    786</a> &lt;a href=&quot;#l767&quot; class=&quot;line&quot; id=&quot;l767&quot;&gt;    767&lt;/a&gt;   vColor = ((uUseVertexColor &amp;amp;&amp;amp; aVertexColor.x &amp;gt;= 0.0) ? aVertexColor : uMaterialColor);
<a href="#l787" class="line" id="l787">    787</a> &lt;a href=&quot;#l768&quot; class=&quot;line&quot; id=&quot;l768&quot;&gt;    768&lt;/a&gt; }
<a href="#l788" class="line" id="l788">    788</a> &lt;a href=&quot;#l769&quot; class=&quot;line&quot; id=&quot;l769&quot;&gt;    769&lt;/a&gt; `,Cb=`uniform vec4 uTint;
<a href="#l789" class="line" id="l789">    789</a> &lt;a href=&quot;#l770&quot; class=&quot;line&quot; id=&quot;l770&quot;&gt;    770&lt;/a&gt; uniform sampler2D uSampler;
<a href="#l790" class="line" id="l790">    790</a> &lt;a href=&quot;#l771&quot; class=&quot;line&quot; id=&quot;l771&quot;&gt;    771&lt;/a&gt; uniform bool isTexture;
<a href="#l791" class="line" id="l791">    791</a> &lt;a href=&quot;#l772&quot; class=&quot;line&quot; id=&quot;l772&quot;&gt;    772&lt;/a&gt; uniform bool uEmissive;
<a href="#l792" class="line" id="l792">    792</a> &lt;a href=&quot;#l773&quot; class=&quot;line&quot; id=&quot;l773&quot;&gt;    773&lt;/a&gt; 
<a href="#l793" class="line" id="l793">    793</a> &lt;a href=&quot;#l774&quot; class=&quot;line&quot; id=&quot;l774&quot;&gt;    774&lt;/a&gt; IN highp vec2 vVertTexCoord;
<a href="#l794" class="line" id="l794">    794</a> &lt;a href=&quot;#l775&quot; class=&quot;line&quot; id=&quot;l775&quot;&gt;    775&lt;/a&gt; IN vec3 vDiffuseColor;
<a href="#l795" class="line" id="l795">    795</a> &lt;a href=&quot;#l776&quot; class=&quot;line&quot; id=&quot;l776&quot;&gt;    776&lt;/a&gt; IN vec3 vSpecularColor;
<a href="#l796" class="line" id="l796">    796</a> &lt;a href=&quot;#l777&quot; class=&quot;line&quot; id=&quot;l777&quot;&gt;    777&lt;/a&gt; IN vec4 vColor;
<a href="#l797" class="line" id="l797">    797</a> &lt;a href=&quot;#l778&quot; class=&quot;line&quot; id=&quot;l778&quot;&gt;    778&lt;/a&gt; 
<a href="#l798" class="line" id="l798">    798</a> &lt;a href=&quot;#l779&quot; class=&quot;line&quot; id=&quot;l779&quot;&gt;    779&lt;/a&gt; void main(void) {
<a href="#l799" class="line" id="l799">    799</a> &lt;a href=&quot;#l780&quot; class=&quot;line&quot; id=&quot;l780&quot;&gt;    780&lt;/a&gt;   if(uEmissive &amp;amp;&amp;amp; !isTexture) {
<a href="#l800" class="line" id="l800">    800</a> &lt;a href=&quot;#l781&quot; class=&quot;line&quot; id=&quot;l781&quot;&gt;    781&lt;/a&gt;     OUT_COLOR = vColor;
<a href="#l801" class="line" id="l801">    801</a> &lt;a href=&quot;#l782&quot; class=&quot;line&quot; id=&quot;l782&quot;&gt;    782&lt;/a&gt;   }
<a href="#l802" class="line" id="l802">    802</a> &lt;a href=&quot;#l783&quot; class=&quot;line&quot; id=&quot;l783&quot;&gt;    783&lt;/a&gt;   else {
<a href="#l803" class="line" id="l803">    803</a> &lt;a href=&quot;#l784&quot; class=&quot;line&quot; id=&quot;l784&quot;&gt;    784&lt;/a&gt;     vec4 baseColor = isTexture
<a href="#l804" class="line" id="l804">    804</a> &lt;a href=&quot;#l785&quot; class=&quot;line&quot; id=&quot;l785&quot;&gt;    785&lt;/a&gt;       // Textures come in with premultiplied alpha. To apply tint and still have
<a href="#l805" class="line" id="l805">    805</a> &lt;a href=&quot;#l786&quot; class=&quot;line&quot; id=&quot;l786&quot;&gt;    786&lt;/a&gt;       // premultiplied alpha output, we need to multiply the RGB channels by the
<a href="#l806" class="line" id="l806">    806</a> &lt;a href=&quot;#l787&quot; class=&quot;line&quot; id=&quot;l787&quot;&gt;    787&lt;/a&gt;       // tint RGB, and all channels by the tint alpha.
<a href="#l807" class="line" id="l807">    807</a> &lt;a href=&quot;#l788&quot; class=&quot;line&quot; id=&quot;l788&quot;&gt;    788&lt;/a&gt;       ? TEXTURE(uSampler, vVertTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
<a href="#l808" class="line" id="l808">    808</a> &lt;a href=&quot;#l789&quot; class=&quot;line&quot; id=&quot;l789&quot;&gt;    789&lt;/a&gt;       // Colors come in with unmultiplied alpha, so we need to multiply the RGB
<a href="#l809" class="line" id="l809">    809</a> &lt;a href=&quot;#l790&quot; class=&quot;line&quot; id=&quot;l790&quot;&gt;    790&lt;/a&gt;       // channels by alpha to convert it to premultiplied alpha.
<a href="#l810" class="line" id="l810">    810</a> &lt;a href=&quot;#l791&quot; class=&quot;line&quot; id=&quot;l791&quot;&gt;    791&lt;/a&gt;       : vec4(vColor.rgb * vColor.a, vColor.a);
<a href="#l811" class="line" id="l811">    811</a> &lt;a href=&quot;#l792&quot; class=&quot;line&quot; id=&quot;l792&quot;&gt;    792&lt;/a&gt;     OUT_COLOR = vec4(baseColor.rgb * vDiffuseColor + vSpecularColor, baseColor.a);
<a href="#l812" class="line" id="l812">    812</a> &lt;a href=&quot;#l793&quot; class=&quot;line&quot; id=&quot;l793&quot;&gt;    793&lt;/a&gt;   }
<a href="#l813" class="line" id="l813">    813</a> &lt;a href=&quot;#l794&quot; class=&quot;line&quot; id=&quot;l794&quot;&gt;    794&lt;/a&gt; }
<a href="#l814" class="line" id="l814">    814</a> &lt;a href=&quot;#l795&quot; class=&quot;line&quot; id=&quot;l795&quot;&gt;    795&lt;/a&gt; `,Eb=`precision highp int;
<a href="#l815" class="line" id="l815">    815</a> &lt;a href=&quot;#l796&quot; class=&quot;line&quot; id=&quot;l796&quot;&gt;    796&lt;/a&gt; 
<a href="#l816" class="line" id="l816">    816</a> &lt;a href=&quot;#l797&quot; class=&quot;line&quot; id=&quot;l797&quot;&gt;    797&lt;/a&gt; #define HOOK_DEFINES
<a href="#l817" class="line" id="l817">    817</a> &lt;a href=&quot;#l798&quot; class=&quot;line&quot; id=&quot;l798&quot;&gt;    798&lt;/a&gt; 
<a href="#l818" class="line" id="l818">    818</a> &lt;a href=&quot;#l799&quot; class=&quot;line&quot; id=&quot;l799&quot;&gt;    799&lt;/a&gt; IN vec3 aPosition;
<a href="#l819" class="line" id="l819">    819</a> &lt;a href=&quot;#l800&quot; class=&quot;line&quot; id=&quot;l800&quot;&gt;    800&lt;/a&gt; IN vec3 aNormal;
<a href="#l820" class="line" id="l820">    820</a> &lt;a href=&quot;#l801&quot; class=&quot;line&quot; id=&quot;l801&quot;&gt;    801&lt;/a&gt; IN vec2 aTexCoord;
<a href="#l821" class="line" id="l821">    821</a> &lt;a href=&quot;#l802&quot; class=&quot;line&quot; id=&quot;l802&quot;&gt;    802&lt;/a&gt; IN vec4 aVertexColor;
<a href="#l822" class="line" id="l822">    822</a> &lt;a href=&quot;#l803&quot; class=&quot;line&quot; id=&quot;l803&quot;&gt;    803&lt;/a&gt; 
<a href="#l823" class="line" id="l823">    823</a> &lt;a href=&quot;#l804&quot; class=&quot;line&quot; id=&quot;l804&quot;&gt;    804&lt;/a&gt; uniform vec3 uAmbientColor[5];
<a href="#l824" class="line" id="l824">    824</a> &lt;a href=&quot;#l805&quot; class=&quot;line&quot; id=&quot;l805&quot;&gt;    805&lt;/a&gt; 
<a href="#l825" class="line" id="l825">    825</a> &lt;a href=&quot;#l806&quot; class=&quot;line&quot; id=&quot;l806&quot;&gt;    806&lt;/a&gt; #ifdef AUGMENTED_HOOK_getWorldInputs
<a href="#l826" class="line" id="l826">    826</a> &lt;a href=&quot;#l807&quot; class=&quot;line&quot; id=&quot;l807&quot;&gt;    807&lt;/a&gt; uniform mat4 uModelMatrix;
<a href="#l827" class="line" id="l827">    827</a> &lt;a href=&quot;#l808&quot; class=&quot;line&quot; id=&quot;l808&quot;&gt;    808&lt;/a&gt; uniform mat4 uViewMatrix;
<a href="#l828" class="line" id="l828">    828</a> &lt;a href=&quot;#l809&quot; class=&quot;line&quot; id=&quot;l809&quot;&gt;    809&lt;/a&gt; uniform mat3 uModelNormalMatrix;
<a href="#l829" class="line" id="l829">    829</a> &lt;a href=&quot;#l810&quot; class=&quot;line&quot; id=&quot;l810&quot;&gt;    810&lt;/a&gt; uniform mat3 uCameraNormalMatrix;
<a href="#l830" class="line" id="l830">    830</a> &lt;a href=&quot;#l811&quot; class=&quot;line&quot; id=&quot;l811&quot;&gt;    811&lt;/a&gt; #else
<a href="#l831" class="line" id="l831">    831</a> &lt;a href=&quot;#l812&quot; class=&quot;line&quot; id=&quot;l812&quot;&gt;    812&lt;/a&gt; uniform mat4 uModelViewMatrix;
<a href="#l832" class="line" id="l832">    832</a> &lt;a href=&quot;#l813&quot; class=&quot;line&quot; id=&quot;l813&quot;&gt;    813&lt;/a&gt; uniform mat3 uNormalMatrix;
<a href="#l833" class="line" id="l833">    833</a> &lt;a href=&quot;#l814&quot; class=&quot;line&quot; id=&quot;l814&quot;&gt;    814&lt;/a&gt; #endif
<a href="#l834" class="line" id="l834">    834</a> &lt;a href=&quot;#l815&quot; class=&quot;line&quot; id=&quot;l815&quot;&gt;    815&lt;/a&gt; uniform mat4 uProjectionMatrix;
<a href="#l835" class="line" id="l835">    835</a> &lt;a href=&quot;#l816&quot; class=&quot;line&quot; id=&quot;l816&quot;&gt;    816&lt;/a&gt; uniform int uAmbientLightCount;
<a href="#l836" class="line" id="l836">    836</a> &lt;a href=&quot;#l817&quot; class=&quot;line&quot; id=&quot;l817&quot;&gt;    817&lt;/a&gt; 
<a href="#l837" class="line" id="l837">    837</a> &lt;a href=&quot;#l818&quot; class=&quot;line&quot; id=&quot;l818&quot;&gt;    818&lt;/a&gt; uniform bool uUseVertexColor;
<a href="#l838" class="line" id="l838">    838</a> &lt;a href=&quot;#l819&quot; class=&quot;line&quot; id=&quot;l819&quot;&gt;    819&lt;/a&gt; uniform vec4 uMaterialColor;
<a href="#l839" class="line" id="l839">    839</a> &lt;a href=&quot;#l820&quot; class=&quot;line&quot; id=&quot;l820&quot;&gt;    820&lt;/a&gt; 
<a href="#l840" class="line" id="l840">    840</a> &lt;a href=&quot;#l821&quot; class=&quot;line&quot; id=&quot;l821&quot;&gt;    821&lt;/a&gt; OUT vec3 vNormal;
<a href="#l841" class="line" id="l841">    841</a> &lt;a href=&quot;#l822&quot; class=&quot;line&quot; id=&quot;l822&quot;&gt;    822&lt;/a&gt; OUT vec2 vTexCoord;
<a href="#l842" class="line" id="l842">    842</a> &lt;a href=&quot;#l823&quot; class=&quot;line&quot; id=&quot;l823&quot;&gt;    823&lt;/a&gt; OUT vec3 vViewPosition;
<a href="#l843" class="line" id="l843">    843</a> &lt;a href=&quot;#l824&quot; class=&quot;line&quot; id=&quot;l824&quot;&gt;    824&lt;/a&gt; OUT vec3 vAmbientColor;
<a href="#l844" class="line" id="l844">    844</a> &lt;a href=&quot;#l825&quot; class=&quot;line&quot; id=&quot;l825&quot;&gt;    825&lt;/a&gt; OUT vec4 vColor;
<a href="#l845" class="line" id="l845">    845</a> &lt;a href=&quot;#l826&quot; class=&quot;line&quot; id=&quot;l826&quot;&gt;    826&lt;/a&gt; 
<a href="#l846" class="line" id="l846">    846</a> &lt;a href=&quot;#l827&quot; class=&quot;line&quot; id=&quot;l827&quot;&gt;    827&lt;/a&gt; struct Vertex {
<a href="#l847" class="line" id="l847">    847</a> &lt;a href=&quot;#l828&quot; class=&quot;line&quot; id=&quot;l828&quot;&gt;    828&lt;/a&gt;   vec3 position;
<a href="#l848" class="line" id="l848">    848</a> &lt;a href=&quot;#l829&quot; class=&quot;line&quot; id=&quot;l829&quot;&gt;    829&lt;/a&gt;   vec3 normal;
<a href="#l849" class="line" id="l849">    849</a> &lt;a href=&quot;#l830&quot; class=&quot;line&quot; id=&quot;l830&quot;&gt;    830&lt;/a&gt;   vec2 texCoord;
<a href="#l850" class="line" id="l850">    850</a> &lt;a href=&quot;#l831&quot; class=&quot;line&quot; id=&quot;l831&quot;&gt;    831&lt;/a&gt;   vec4 color;
<a href="#l851" class="line" id="l851">    851</a> &lt;a href=&quot;#l832&quot; class=&quot;line&quot; id=&quot;l832&quot;&gt;    832&lt;/a&gt; };
<a href="#l852" class="line" id="l852">    852</a> &lt;a href=&quot;#l833&quot; class=&quot;line&quot; id=&quot;l833&quot;&gt;    833&lt;/a&gt; 
<a href="#l853" class="line" id="l853">    853</a> &lt;a href=&quot;#l834&quot; class=&quot;line&quot; id=&quot;l834&quot;&gt;    834&lt;/a&gt; void main(void) {
<a href="#l854" class="line" id="l854">    854</a> &lt;a href=&quot;#l835&quot; class=&quot;line&quot; id=&quot;l835&quot;&gt;    835&lt;/a&gt;   HOOK_beforeVertex();
<a href="#l855" class="line" id="l855">    855</a> &lt;a href=&quot;#l836&quot; class=&quot;line&quot; id=&quot;l836&quot;&gt;    836&lt;/a&gt; 
<a href="#l856" class="line" id="l856">    856</a> &lt;a href=&quot;#l837&quot; class=&quot;line&quot; id=&quot;l837&quot;&gt;    837&lt;/a&gt;   Vertex inputs;
<a href="#l857" class="line" id="l857">    857</a> &lt;a href=&quot;#l838&quot; class=&quot;line&quot; id=&quot;l838&quot;&gt;    838&lt;/a&gt;   inputs.position = aPosition;
<a href="#l858" class="line" id="l858">    858</a> &lt;a href=&quot;#l839&quot; class=&quot;line&quot; id=&quot;l839&quot;&gt;    839&lt;/a&gt;   inputs.normal = aNormal;
<a href="#l859" class="line" id="l859">    859</a> &lt;a href=&quot;#l840&quot; class=&quot;line&quot; id=&quot;l840&quot;&gt;    840&lt;/a&gt;   inputs.texCoord = aTexCoord;
<a href="#l860" class="line" id="l860">    860</a> &lt;a href=&quot;#l841&quot; class=&quot;line&quot; id=&quot;l841&quot;&gt;    841&lt;/a&gt;   inputs.color = (uUseVertexColor &amp;amp;&amp;amp; aVertexColor.x &amp;gt;= 0.0) ? aVertexColor : uMaterialColor;
<a href="#l861" class="line" id="l861">    861</a> &lt;a href=&quot;#l842&quot; class=&quot;line&quot; id=&quot;l842&quot;&gt;    842&lt;/a&gt; #ifdef AUGMENTED_HOOK_getObjectInputs
<a href="#l862" class="line" id="l862">    862</a> &lt;a href=&quot;#l843&quot; class=&quot;line&quot; id=&quot;l843&quot;&gt;    843&lt;/a&gt;   inputs = HOOK_getObjectInputs(inputs);
<a href="#l863" class="line" id="l863">    863</a> &lt;a href=&quot;#l844&quot; class=&quot;line&quot; id=&quot;l844&quot;&gt;    844&lt;/a&gt; #endif
<a href="#l864" class="line" id="l864">    864</a> &lt;a href=&quot;#l845&quot; class=&quot;line&quot; id=&quot;l845&quot;&gt;    845&lt;/a&gt; 
<a href="#l865" class="line" id="l865">    865</a> &lt;a href=&quot;#l846&quot; class=&quot;line&quot; id=&quot;l846&quot;&gt;    846&lt;/a&gt; #ifdef AUGMENTED_HOOK_getWorldInputs
<a href="#l866" class="line" id="l866">    866</a> &lt;a href=&quot;#l847&quot; class=&quot;line&quot; id=&quot;l847&quot;&gt;    847&lt;/a&gt;   inputs.position = (uModelMatrix * vec4(inputs.position, 1.)).xyz;
<a href="#l867" class="line" id="l867">    867</a> &lt;a href=&quot;#l848&quot; class=&quot;line&quot; id=&quot;l848&quot;&gt;    848&lt;/a&gt;   inputs.normal = uModelNormalMatrix * inputs.normal;
<a href="#l868" class="line" id="l868">    868</a> &lt;a href=&quot;#l849&quot; class=&quot;line&quot; id=&quot;l849&quot;&gt;    849&lt;/a&gt;   inputs = HOOK_getWorldInputs(inputs);
<a href="#l869" class="line" id="l869">    869</a> &lt;a href=&quot;#l850&quot; class=&quot;line&quot; id=&quot;l850&quot;&gt;    850&lt;/a&gt; #endif
<a href="#l870" class="line" id="l870">    870</a> &lt;a href=&quot;#l851&quot; class=&quot;line&quot; id=&quot;l851&quot;&gt;    851&lt;/a&gt; 
<a href="#l871" class="line" id="l871">    871</a> &lt;a href=&quot;#l852&quot; class=&quot;line&quot; id=&quot;l852&quot;&gt;    852&lt;/a&gt; #ifdef AUGMENTED_HOOK_getWorldInputs
<a href="#l872" class="line" id="l872">    872</a> &lt;a href=&quot;#l853&quot; class=&quot;line&quot; id=&quot;l853&quot;&gt;    853&lt;/a&gt;   // Already multiplied by the model matrix, just apply view
<a href="#l873" class="line" id="l873">    873</a> &lt;a href=&quot;#l854&quot; class=&quot;line&quot; id=&quot;l854&quot;&gt;    854&lt;/a&gt;   inputs.position = (uViewMatrix * vec4(inputs.position, 1.)).xyz;
<a href="#l874" class="line" id="l874">    874</a> &lt;a href=&quot;#l855&quot; class=&quot;line&quot; id=&quot;l855&quot;&gt;    855&lt;/a&gt;   inputs.normal = uCameraNormalMatrix * inputs.normal;
<a href="#l875" class="line" id="l875">    875</a> &lt;a href=&quot;#l856&quot; class=&quot;line&quot; id=&quot;l856&quot;&gt;    856&lt;/a&gt; #else
<a href="#l876" class="line" id="l876">    876</a> &lt;a href=&quot;#l857&quot; class=&quot;line&quot; id=&quot;l857&quot;&gt;    857&lt;/a&gt;   // Apply both at once
<a href="#l877" class="line" id="l877">    877</a> &lt;a href=&quot;#l858&quot; class=&quot;line&quot; id=&quot;l858&quot;&gt;    858&lt;/a&gt;   inputs.position = (uModelViewMatrix * vec4(inputs.position, 1.)).xyz;
<a href="#l878" class="line" id="l878">    878</a> &lt;a href=&quot;#l859&quot; class=&quot;line&quot; id=&quot;l859&quot;&gt;    859&lt;/a&gt;   inputs.normal = uNormalMatrix * inputs.normal;
<a href="#l879" class="line" id="l879">    879</a> &lt;a href=&quot;#l860&quot; class=&quot;line&quot; id=&quot;l860&quot;&gt;    860&lt;/a&gt; #endif
<a href="#l880" class="line" id="l880">    880</a> &lt;a href=&quot;#l861&quot; class=&quot;line&quot; id=&quot;l861&quot;&gt;    861&lt;/a&gt; #ifdef AUGMENTED_HOOK_getCameraInputs
<a href="#l881" class="line" id="l881">    881</a> &lt;a href=&quot;#l862&quot; class=&quot;line&quot; id=&quot;l862&quot;&gt;    862&lt;/a&gt;   inputs = HOOK_getCameraInputs(inputs);
<a href="#l882" class="line" id="l882">    882</a> &lt;a href=&quot;#l863&quot; class=&quot;line&quot; id=&quot;l863&quot;&gt;    863&lt;/a&gt; #endif
<a href="#l883" class="line" id="l883">    883</a> &lt;a href=&quot;#l864&quot; class=&quot;line&quot; id=&quot;l864&quot;&gt;    864&lt;/a&gt; 
<a href="#l884" class="line" id="l884">    884</a> &lt;a href=&quot;#l865&quot; class=&quot;line&quot; id=&quot;l865&quot;&gt;    865&lt;/a&gt;   // Pass varyings to fragment shader
<a href="#l885" class="line" id="l885">    885</a> &lt;a href=&quot;#l866&quot; class=&quot;line&quot; id=&quot;l866&quot;&gt;    866&lt;/a&gt;   vViewPosition = inputs.position;
<a href="#l886" class="line" id="l886">    886</a> &lt;a href=&quot;#l867&quot; class=&quot;line&quot; id=&quot;l867&quot;&gt;    867&lt;/a&gt;   vTexCoord = inputs.texCoord;
<a href="#l887" class="line" id="l887">    887</a> &lt;a href=&quot;#l868&quot; class=&quot;line&quot; id=&quot;l868&quot;&gt;    868&lt;/a&gt;   vNormal = inputs.normal;
<a href="#l888" class="line" id="l888">    888</a> &lt;a href=&quot;#l869&quot; class=&quot;line&quot; id=&quot;l869&quot;&gt;    869&lt;/a&gt;   vColor = inputs.color;
<a href="#l889" class="line" id="l889">    889</a> &lt;a href=&quot;#l870&quot; class=&quot;line&quot; id=&quot;l870&quot;&gt;    870&lt;/a&gt; 
<a href="#l890" class="line" id="l890">    890</a> &lt;a href=&quot;#l871&quot; class=&quot;line&quot; id=&quot;l871&quot;&gt;    871&lt;/a&gt;   // TODO: this should be a uniform
<a href="#l891" class="line" id="l891">    891</a> &lt;a href=&quot;#l872&quot; class=&quot;line&quot; id=&quot;l872&quot;&gt;    872&lt;/a&gt;   vAmbientColor = vec3(0.0);
<a href="#l892" class="line" id="l892">    892</a> &lt;a href=&quot;#l873&quot; class=&quot;line&quot; id=&quot;l873&quot;&gt;    873&lt;/a&gt;   for (int i = 0; i &amp;lt; 5; i++) {
<a href="#l893" class="line" id="l893">    893</a> &lt;a href=&quot;#l874&quot; class=&quot;line&quot; id=&quot;l874&quot;&gt;    874&lt;/a&gt;     if (i &amp;lt; uAmbientLightCount) {
<a href="#l894" class="line" id="l894">    894</a> &lt;a href=&quot;#l875&quot; class=&quot;line&quot; id=&quot;l875&quot;&gt;    875&lt;/a&gt;       vAmbientColor += uAmbientColor[i];
<a href="#l895" class="line" id="l895">    895</a> &lt;a href=&quot;#l876&quot; class=&quot;line&quot; id=&quot;l876&quot;&gt;    876&lt;/a&gt;     }
<a href="#l896" class="line" id="l896">    896</a> &lt;a href=&quot;#l877&quot; class=&quot;line&quot; id=&quot;l877&quot;&gt;    877&lt;/a&gt;   }
<a href="#l897" class="line" id="l897">    897</a> &lt;a href=&quot;#l878&quot; class=&quot;line&quot; id=&quot;l878&quot;&gt;    878&lt;/a&gt; 
<a href="#l898" class="line" id="l898">    898</a> &lt;a href=&quot;#l879&quot; class=&quot;line&quot; id=&quot;l879&quot;&gt;    879&lt;/a&gt;   gl_Position = uProjectionMatrix * vec4(inputs.position, 1.);
<a href="#l899" class="line" id="l899">    899</a> &lt;a href=&quot;#l880&quot; class=&quot;line&quot; id=&quot;l880&quot;&gt;    880&lt;/a&gt;   HOOK_afterVertex();
<a href="#l900" class="line" id="l900">    900</a> &lt;a href=&quot;#l881&quot; class=&quot;line&quot; id=&quot;l881&quot;&gt;    881&lt;/a&gt; }
<a href="#l901" class="line" id="l901">    901</a> &lt;a href=&quot;#l882&quot; class=&quot;line&quot; id=&quot;l882&quot;&gt;    882&lt;/a&gt; `,Sb=`// include lighting.glsl
<a href="#l902" class="line" id="l902">    902</a> &lt;a href=&quot;#l883&quot; class=&quot;line&quot; id=&quot;l883&quot;&gt;    883&lt;/a&gt; precision highp int;
<a href="#l903" class="line" id="l903">    903</a> &lt;a href=&quot;#l884&quot; class=&quot;line&quot; id=&quot;l884&quot;&gt;    884&lt;/a&gt; 
<a href="#l904" class="line" id="l904">    904</a> &lt;a href=&quot;#l885&quot; class=&quot;line&quot; id=&quot;l885&quot;&gt;    885&lt;/a&gt; uniform bool uHasSetAmbient;
<a href="#l905" class="line" id="l905">    905</a> &lt;a href=&quot;#l886&quot; class=&quot;line&quot; id=&quot;l886&quot;&gt;    886&lt;/a&gt; uniform vec4 uSpecularMatColor;
<a href="#l906" class="line" id="l906">    906</a> &lt;a href=&quot;#l887&quot; class=&quot;line&quot; id=&quot;l887&quot;&gt;    887&lt;/a&gt; uniform vec4 uAmbientMatColor;
<a href="#l907" class="line" id="l907">    907</a> &lt;a href=&quot;#l888&quot; class=&quot;line&quot; id=&quot;l888&quot;&gt;    888&lt;/a&gt; uniform vec4 uEmissiveMatColor;
<a href="#l908" class="line" id="l908">    908</a> &lt;a href=&quot;#l889&quot; class=&quot;line&quot; id=&quot;l889&quot;&gt;    889&lt;/a&gt; 
<a href="#l909" class="line" id="l909">    909</a> &lt;a href=&quot;#l890&quot; class=&quot;line&quot; id=&quot;l890&quot;&gt;    890&lt;/a&gt; uniform vec4 uTint;
<a href="#l910" class="line" id="l910">    910</a> &lt;a href=&quot;#l891&quot; class=&quot;line&quot; id=&quot;l891&quot;&gt;    891&lt;/a&gt; uniform sampler2D uSampler;
<a href="#l911" class="line" id="l911">    911</a> &lt;a href=&quot;#l892&quot; class=&quot;line&quot; id=&quot;l892&quot;&gt;    892&lt;/a&gt; uniform bool isTexture;
<a href="#l912" class="line" id="l912">    912</a> &lt;a href=&quot;#l893&quot; class=&quot;line&quot; id=&quot;l893&quot;&gt;    893&lt;/a&gt; 
<a href="#l913" class="line" id="l913">    913</a> &lt;a href=&quot;#l894&quot; class=&quot;line&quot; id=&quot;l894&quot;&gt;    894&lt;/a&gt; IN vec3 vNormal;
<a href="#l914" class="line" id="l914">    914</a> &lt;a href=&quot;#l895&quot; class=&quot;line&quot; id=&quot;l895&quot;&gt;    895&lt;/a&gt; IN vec2 vTexCoord;
<a href="#l915" class="line" id="l915">    915</a> &lt;a href=&quot;#l896&quot; class=&quot;line&quot; id=&quot;l896&quot;&gt;    896&lt;/a&gt; IN vec3 vViewPosition;
<a href="#l916" class="line" id="l916">    916</a> &lt;a href=&quot;#l897&quot; class=&quot;line&quot; id=&quot;l897&quot;&gt;    897&lt;/a&gt; IN vec3 vAmbientColor;
<a href="#l917" class="line" id="l917">    917</a> &lt;a href=&quot;#l898&quot; class=&quot;line&quot; id=&quot;l898&quot;&gt;    898&lt;/a&gt; IN vec4 vColor;
<a href="#l918" class="line" id="l918">    918</a> &lt;a href=&quot;#l899&quot; class=&quot;line&quot; id=&quot;l899&quot;&gt;    899&lt;/a&gt; 
<a href="#l919" class="line" id="l919">    919</a> &lt;a href=&quot;#l900&quot; class=&quot;line&quot; id=&quot;l900&quot;&gt;    900&lt;/a&gt; struct ColorComponents {
<a href="#l920" class="line" id="l920">    920</a> &lt;a href=&quot;#l901&quot; class=&quot;line&quot; id=&quot;l901&quot;&gt;    901&lt;/a&gt;   vec3 baseColor;
<a href="#l921" class="line" id="l921">    921</a> &lt;a href=&quot;#l902&quot; class=&quot;line&quot; id=&quot;l902&quot;&gt;    902&lt;/a&gt;   float opacity;
<a href="#l922" class="line" id="l922">    922</a> &lt;a href=&quot;#l903&quot; class=&quot;line&quot; id=&quot;l903&quot;&gt;    903&lt;/a&gt;   vec3 ambientColor;
<a href="#l923" class="line" id="l923">    923</a> &lt;a href=&quot;#l904&quot; class=&quot;line&quot; id=&quot;l904&quot;&gt;    904&lt;/a&gt;   vec3 specularColor;
<a href="#l924" class="line" id="l924">    924</a> &lt;a href=&quot;#l905&quot; class=&quot;line&quot; id=&quot;l905&quot;&gt;    905&lt;/a&gt;   vec3 diffuse;
<a href="#l925" class="line" id="l925">    925</a> &lt;a href=&quot;#l906&quot; class=&quot;line&quot; id=&quot;l906&quot;&gt;    906&lt;/a&gt;   vec3 ambient;
<a href="#l926" class="line" id="l926">    926</a> &lt;a href=&quot;#l907&quot; class=&quot;line&quot; id=&quot;l907&quot;&gt;    907&lt;/a&gt;   vec3 specular;
<a href="#l927" class="line" id="l927">    927</a> &lt;a href=&quot;#l908&quot; class=&quot;line&quot; id=&quot;l908&quot;&gt;    908&lt;/a&gt;   vec3 emissive;
<a href="#l928" class="line" id="l928">    928</a> &lt;a href=&quot;#l909&quot; class=&quot;line&quot; id=&quot;l909&quot;&gt;    909&lt;/a&gt; };
<a href="#l929" class="line" id="l929">    929</a> &lt;a href=&quot;#l910&quot; class=&quot;line&quot; id=&quot;l910&quot;&gt;    910&lt;/a&gt; 
<a href="#l930" class="line" id="l930">    930</a> &lt;a href=&quot;#l911&quot; class=&quot;line&quot; id=&quot;l911&quot;&gt;    911&lt;/a&gt; struct Inputs {
<a href="#l931" class="line" id="l931">    931</a> &lt;a href=&quot;#l912&quot; class=&quot;line&quot; id=&quot;l912&quot;&gt;    912&lt;/a&gt;   vec3 normal;
<a href="#l932" class="line" id="l932">    932</a> &lt;a href=&quot;#l913&quot; class=&quot;line&quot; id=&quot;l913&quot;&gt;    913&lt;/a&gt;   vec2 texCoord;
<a href="#l933" class="line" id="l933">    933</a> &lt;a href=&quot;#l914&quot; class=&quot;line&quot; id=&quot;l914&quot;&gt;    914&lt;/a&gt;   vec3 ambientLight;
<a href="#l934" class="line" id="l934">    934</a> &lt;a href=&quot;#l915&quot; class=&quot;line&quot; id=&quot;l915&quot;&gt;    915&lt;/a&gt;   vec3 ambientMaterial;
<a href="#l935" class="line" id="l935">    935</a> &lt;a href=&quot;#l916&quot; class=&quot;line&quot; id=&quot;l916&quot;&gt;    916&lt;/a&gt;   vec3 specularMaterial;
<a href="#l936" class="line" id="l936">    936</a> &lt;a href=&quot;#l917&quot; class=&quot;line&quot; id=&quot;l917&quot;&gt;    917&lt;/a&gt;   vec3 emissiveMaterial;
<a href="#l937" class="line" id="l937">    937</a> &lt;a href=&quot;#l918&quot; class=&quot;line&quot; id=&quot;l918&quot;&gt;    918&lt;/a&gt;   vec4 color;
<a href="#l938" class="line" id="l938">    938</a> &lt;a href=&quot;#l919&quot; class=&quot;line&quot; id=&quot;l919&quot;&gt;    919&lt;/a&gt;   float shininess;
<a href="#l939" class="line" id="l939">    939</a> &lt;a href=&quot;#l920&quot; class=&quot;line&quot; id=&quot;l920&quot;&gt;    920&lt;/a&gt;   float metalness;
<a href="#l940" class="line" id="l940">    940</a> &lt;a href=&quot;#l921&quot; class=&quot;line&quot; id=&quot;l921&quot;&gt;    921&lt;/a&gt; };
<a href="#l941" class="line" id="l941">    941</a> &lt;a href=&quot;#l922&quot; class=&quot;line&quot; id=&quot;l922&quot;&gt;    922&lt;/a&gt; 
<a href="#l942" class="line" id="l942">    942</a> &lt;a href=&quot;#l923&quot; class=&quot;line&quot; id=&quot;l923&quot;&gt;    923&lt;/a&gt; void main(void) {
<a href="#l943" class="line" id="l943">    943</a> &lt;a href=&quot;#l924&quot; class=&quot;line&quot; id=&quot;l924&quot;&gt;    924&lt;/a&gt;   HOOK_beforeFragment();
<a href="#l944" class="line" id="l944">    944</a> &lt;a href=&quot;#l925&quot; class=&quot;line&quot; id=&quot;l925&quot;&gt;    925&lt;/a&gt; 
<a href="#l945" class="line" id="l945">    945</a> &lt;a href=&quot;#l926&quot; class=&quot;line&quot; id=&quot;l926&quot;&gt;    926&lt;/a&gt;   Inputs inputs;
<a href="#l946" class="line" id="l946">    946</a> &lt;a href=&quot;#l927&quot; class=&quot;line&quot; id=&quot;l927&quot;&gt;    927&lt;/a&gt;   inputs.normal = normalize(vNormal);
<a href="#l947" class="line" id="l947">    947</a> &lt;a href=&quot;#l928&quot; class=&quot;line&quot; id=&quot;l928&quot;&gt;    928&lt;/a&gt;   inputs.texCoord = vTexCoord;
<a href="#l948" class="line" id="l948">    948</a> &lt;a href=&quot;#l929&quot; class=&quot;line&quot; id=&quot;l929&quot;&gt;    929&lt;/a&gt;   inputs.ambientLight = vAmbientColor;
<a href="#l949" class="line" id="l949">    949</a> &lt;a href=&quot;#l930&quot; class=&quot;line&quot; id=&quot;l930&quot;&gt;    930&lt;/a&gt;   inputs.color = isTexture
<a href="#l950" class="line" id="l950">    950</a> &lt;a href=&quot;#l931&quot; class=&quot;line&quot; id=&quot;l931&quot;&gt;    931&lt;/a&gt;       ? TEXTURE(uSampler, vTexCoord) * (vec4(uTint.rgb/255., 1.) * uTint.a/255.)
<a href="#l951" class="line" id="l951">    951</a> &lt;a href=&quot;#l932&quot; class=&quot;line&quot; id=&quot;l932&quot;&gt;    932&lt;/a&gt;       : vColor;
<a href="#l952" class="line" id="l952">    952</a> &lt;a href=&quot;#l933&quot; class=&quot;line&quot; id=&quot;l933&quot;&gt;    933&lt;/a&gt;   if (isTexture &amp;amp;&amp;amp; inputs.color.a &amp;gt; 0.0) {
<a href="#l953" class="line" id="l953">    953</a> &lt;a href=&quot;#l934&quot; class=&quot;line&quot; id=&quot;l934&quot;&gt;    934&lt;/a&gt;     // Textures come in with premultiplied alpha. Temporarily unpremultiply it
<a href="#l954" class="line" id="l954">    954</a> &lt;a href=&quot;#l935&quot; class=&quot;line&quot; id=&quot;l935&quot;&gt;    935&lt;/a&gt;     // so hooks users don&amp;#39;t have to think about premultiplied alpha.
<a href="#l955" class="line" id="l955">    955</a> &lt;a href=&quot;#l936&quot; class=&quot;line&quot; id=&quot;l936&quot;&gt;    936&lt;/a&gt;     inputs.color.rgb /= inputs.color.a;
<a href="#l956" class="line" id="l956">    956</a> &lt;a href=&quot;#l937&quot; class=&quot;line&quot; id=&quot;l937&quot;&gt;    937&lt;/a&gt;   }
<a href="#l957" class="line" id="l957">    957</a> &lt;a href=&quot;#l938&quot; class=&quot;line&quot; id=&quot;l938&quot;&gt;    938&lt;/a&gt;   inputs.shininess = uShininess;
<a href="#l958" class="line" id="l958">    958</a> &lt;a href=&quot;#l939&quot; class=&quot;line&quot; id=&quot;l939&quot;&gt;    939&lt;/a&gt;   inputs.metalness = uMetallic;
<a href="#l959" class="line" id="l959">    959</a> &lt;a href=&quot;#l940&quot; class=&quot;line&quot; id=&quot;l940&quot;&gt;    940&lt;/a&gt;   inputs.ambientMaterial = uHasSetAmbient ? uAmbientMatColor.rgb : inputs.color.rgb;
<a href="#l960" class="line" id="l960">    960</a> &lt;a href=&quot;#l941&quot; class=&quot;line&quot; id=&quot;l941&quot;&gt;    941&lt;/a&gt;   inputs.specularMaterial = uSpecularMatColor.rgb;
<a href="#l961" class="line" id="l961">    961</a> &lt;a href=&quot;#l942&quot; class=&quot;line&quot; id=&quot;l942&quot;&gt;    942&lt;/a&gt;   inputs.emissiveMaterial = uEmissiveMatColor.rgb;
<a href="#l962" class="line" id="l962">    962</a> &lt;a href=&quot;#l943&quot; class=&quot;line&quot; id=&quot;l943&quot;&gt;    943&lt;/a&gt;   inputs = HOOK_getPixelInputs(inputs);
<a href="#l963" class="line" id="l963">    963</a> &lt;a href=&quot;#l944&quot; class=&quot;line&quot; id=&quot;l944&quot;&gt;    944&lt;/a&gt; 
<a href="#l964" class="line" id="l964">    964</a> &lt;a href=&quot;#l945&quot; class=&quot;line&quot; id=&quot;l945&quot;&gt;    945&lt;/a&gt;   vec3 diffuse;
<a href="#l965" class="line" id="l965">    965</a> &lt;a href=&quot;#l946&quot; class=&quot;line&quot; id=&quot;l946&quot;&gt;    946&lt;/a&gt;   vec3 specular;
<a href="#l966" class="line" id="l966">    966</a> &lt;a href=&quot;#l947&quot; class=&quot;line&quot; id=&quot;l947&quot;&gt;    947&lt;/a&gt;   totalLight(vViewPosition, inputs.normal, inputs.shininess, inputs.metalness, diffuse, specular);
<a href="#l967" class="line" id="l967">    967</a> &lt;a href=&quot;#l948&quot; class=&quot;line&quot; id=&quot;l948&quot;&gt;    948&lt;/a&gt; 
<a href="#l968" class="line" id="l968">    968</a> &lt;a href=&quot;#l949&quot; class=&quot;line&quot; id=&quot;l949&quot;&gt;    949&lt;/a&gt;   // Calculating final color as result of all lights (plus emissive term).
<a href="#l969" class="line" id="l969">    969</a> &lt;a href=&quot;#l950&quot; class=&quot;line&quot; id=&quot;l950&quot;&gt;    950&lt;/a&gt; 
<a href="#l970" class="line" id="l970">    970</a> &lt;a href=&quot;#l951&quot; class=&quot;line&quot; id=&quot;l951&quot;&gt;    951&lt;/a&gt;   vec2 texCoord = inputs.texCoord;
<a href="#l971" class="line" id="l971">    971</a> &lt;a href=&quot;#l952&quot; class=&quot;line&quot; id=&quot;l952&quot;&gt;    952&lt;/a&gt;   vec4 baseColor = inputs.color;
<a href="#l972" class="line" id="l972">    972</a> &lt;a href=&quot;#l953&quot; class=&quot;line&quot; id=&quot;l953&quot;&gt;    953&lt;/a&gt;   ColorComponents c;
<a href="#l973" class="line" id="l973">    973</a> &lt;a href=&quot;#l954&quot; class=&quot;line&quot; id=&quot;l954&quot;&gt;    954&lt;/a&gt;   c.opacity = baseColor.a;
<a href="#l974" class="line" id="l974">    974</a> &lt;a href=&quot;#l955&quot; class=&quot;line&quot; id=&quot;l955&quot;&gt;    955&lt;/a&gt;   c.baseColor = baseColor.rgb;
<a href="#l975" class="line" id="l975">    975</a> &lt;a href=&quot;#l956&quot; class=&quot;line&quot; id=&quot;l956&quot;&gt;    956&lt;/a&gt;   c.ambientColor = inputs.ambientMaterial;
<a href="#l976" class="line" id="l976">    976</a> &lt;a href=&quot;#l957&quot; class=&quot;line&quot; id=&quot;l957&quot;&gt;    957&lt;/a&gt;   c.specularColor = inputs.specularMaterial;
<a href="#l977" class="line" id="l977">    977</a> &lt;a href=&quot;#l958&quot; class=&quot;line&quot; id=&quot;l958&quot;&gt;    958&lt;/a&gt;   c.diffuse = diffuse;
<a href="#l978" class="line" id="l978">    978</a> &lt;a href=&quot;#l959&quot; class=&quot;line&quot; id=&quot;l959&quot;&gt;    959&lt;/a&gt;   c.ambient = inputs.ambientLight;
<a href="#l979" class="line" id="l979">    979</a> &lt;a href=&quot;#l960&quot; class=&quot;line&quot; id=&quot;l960&quot;&gt;    960&lt;/a&gt;   c.specular = specular;
<a href="#l980" class="line" id="l980">    980</a> &lt;a href=&quot;#l961&quot; class=&quot;line&quot; id=&quot;l961&quot;&gt;    961&lt;/a&gt;   c.emissive = inputs.emissiveMaterial;
<a href="#l981" class="line" id="l981">    981</a> &lt;a href=&quot;#l962&quot; class=&quot;line&quot; id=&quot;l962&quot;&gt;    962&lt;/a&gt;   OUT_COLOR = HOOK_getFinalColor(HOOK_combineColors(c));
<a href="#l982" class="line" id="l982">    982</a> &lt;a href=&quot;#l963&quot; class=&quot;line&quot; id=&quot;l963&quot;&gt;    963&lt;/a&gt;   OUT_COLOR.rgb *= OUT_COLOR.a; // Premultiply alpha before rendering
<a href="#l983" class="line" id="l983">    983</a> &lt;a href=&quot;#l964&quot; class=&quot;line&quot; id=&quot;l964&quot;&gt;    964&lt;/a&gt;   HOOK_afterFragment();
<a href="#l984" class="line" id="l984">    984</a> &lt;a href=&quot;#l965&quot; class=&quot;line&quot; id=&quot;l965&quot;&gt;    965&lt;/a&gt; }
<a href="#l985" class="line" id="l985">    985</a> &lt;a href=&quot;#l966&quot; class=&quot;line&quot; id=&quot;l966&quot;&gt;    966&lt;/a&gt; `,Ab=`IN vec3 aPosition;
<a href="#l986" class="line" id="l986">    986</a> &lt;a href=&quot;#l967&quot; class=&quot;line&quot; id=&quot;l967&quot;&gt;    967&lt;/a&gt; IN vec2 aTexCoord;
<a href="#l987" class="line" id="l987">    987</a> &lt;a href=&quot;#l968&quot; class=&quot;line&quot; id=&quot;l968&quot;&gt;    968&lt;/a&gt; uniform mat4 uModelViewMatrix;
<a href="#l988" class="line" id="l988">    988</a> &lt;a href=&quot;#l969&quot; class=&quot;line&quot; id=&quot;l969&quot;&gt;    969&lt;/a&gt; uniform mat4 uProjectionMatrix;
<a href="#l989" class="line" id="l989">    989</a> &lt;a href=&quot;#l970&quot; class=&quot;line&quot; id=&quot;l970&quot;&gt;    970&lt;/a&gt; 
<a href="#l990" class="line" id="l990">    990</a> &lt;a href=&quot;#l971&quot; class=&quot;line&quot; id=&quot;l971&quot;&gt;    971&lt;/a&gt; uniform vec4 uGlyphRect;
<a href="#l991" class="line" id="l991">    991</a> &lt;a href=&quot;#l972&quot; class=&quot;line&quot; id=&quot;l972&quot;&gt;    972&lt;/a&gt; uniform float uGlyphOffset;
<a href="#l992" class="line" id="l992">    992</a> &lt;a href=&quot;#l973&quot; class=&quot;line&quot; id=&quot;l973&quot;&gt;    973&lt;/a&gt; 
<a href="#l993" class="line" id="l993">    993</a> &lt;a href=&quot;#l974&quot; class=&quot;line&quot; id=&quot;l974&quot;&gt;    974&lt;/a&gt; OUT vec2 vTexCoord;
<a href="#l994" class="line" id="l994">    994</a> &lt;a href=&quot;#l975&quot; class=&quot;line&quot; id=&quot;l975&quot;&gt;    975&lt;/a&gt; OUT float w;
<a href="#l995" class="line" id="l995">    995</a> &lt;a href=&quot;#l976&quot; class=&quot;line&quot; id=&quot;l976&quot;&gt;    976&lt;/a&gt; 
<a href="#l996" class="line" id="l996">    996</a> &lt;a href=&quot;#l977&quot; class=&quot;line&quot; id=&quot;l977&quot;&gt;    977&lt;/a&gt; void main() {
<a href="#l997" class="line" id="l997">    997</a> &lt;a href=&quot;#l978&quot; class=&quot;line&quot; id=&quot;l978&quot;&gt;    978&lt;/a&gt;   vec4 positionVec4 = vec4(aPosition, 1.0);
<a href="#l998" class="line" id="l998">    998</a> &lt;a href=&quot;#l979&quot; class=&quot;line&quot; id=&quot;l979&quot;&gt;    979&lt;/a&gt; 
<a href="#l999" class="line" id="l999">    999</a> &lt;a href=&quot;#l980&quot; class=&quot;line&quot; id=&quot;l980&quot;&gt;    980&lt;/a&gt;   // scale by the size of the glyph&amp;#39;s rectangle
<a href="#l1000" class="line" id="l1000">   1000</a> &lt;a href=&quot;#l981&quot; class=&quot;line&quot; id=&quot;l981&quot;&gt;    981&lt;/a&gt;   positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;
<a href="#l1001" class="line" id="l1001">   1001</a> &lt;a href=&quot;#l982&quot; class=&quot;line&quot; id=&quot;l982&quot;&gt;    982&lt;/a&gt; 
<a href="#l1002" class="line" id="l1002">   1002</a> &lt;a href=&quot;#l983&quot; class=&quot;line&quot; id=&quot;l983&quot;&gt;    983&lt;/a&gt;   // Expand glyph bounding boxes by 1px on each side to give a bit of room
<a href="#l1003" class="line" id="l1003">   1003</a> &lt;a href=&quot;#l984&quot; class=&quot;line&quot; id=&quot;l984&quot;&gt;    984&lt;/a&gt;   // for antialiasing
<a href="#l1004" class="line" id="l1004">   1004</a> &lt;a href=&quot;#l985&quot; class=&quot;line&quot; id=&quot;l985&quot;&gt;    985&lt;/a&gt;   vec3 newOrigin = (uModelViewMatrix * vec4(0., 0., 0., 1.)).xyz;
<a href="#l1005" class="line" id="l1005">   1005</a> &lt;a href=&quot;#l986&quot; class=&quot;line&quot; id=&quot;l986&quot;&gt;    986&lt;/a&gt;   vec3 newDX = (uModelViewMatrix * vec4(1., 0., 0., 1.)).xyz;
<a href="#l1006" class="line" id="l1006">   1006</a> &lt;a href=&quot;#l987&quot; class=&quot;line&quot; id=&quot;l987&quot;&gt;    987&lt;/a&gt;   vec3 newDY = (uModelViewMatrix * vec4(0., 1., 0., 1.)).xyz;
<a href="#l1007" class="line" id="l1007">   1007</a> &lt;a href=&quot;#l988&quot; class=&quot;line&quot; id=&quot;l988&quot;&gt;    988&lt;/a&gt;   vec2 pixelScale = vec2(
<a href="#l1008" class="line" id="l1008">   1008</a> &lt;a href=&quot;#l989&quot; class=&quot;line&quot; id=&quot;l989&quot;&gt;    989&lt;/a&gt;     1. / length(newOrigin - newDX),
<a href="#l1009" class="line" id="l1009">   1009</a> &lt;a href=&quot;#l990&quot; class=&quot;line&quot; id=&quot;l990&quot;&gt;    990&lt;/a&gt;     1. / length(newOrigin - newDY)
<a href="#l1010" class="line" id="l1010">   1010</a> &lt;a href=&quot;#l991&quot; class=&quot;line&quot; id=&quot;l991&quot;&gt;    991&lt;/a&gt;   );
<a href="#l1011" class="line" id="l1011">   1011</a> &lt;a href=&quot;#l992&quot; class=&quot;line&quot; id=&quot;l992&quot;&gt;    992&lt;/a&gt;   vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5));
<a href="#l1012" class="line" id="l1012">   1012</a> &lt;a href=&quot;#l993&quot; class=&quot;line&quot; id=&quot;l993&quot;&gt;    993&lt;/a&gt;   vec2 textureOffset = offset * (1. / vec2(
<a href="#l1013" class="line" id="l1013">   1013</a> &lt;a href=&quot;#l994&quot; class=&quot;line&quot; id=&quot;l994&quot;&gt;    994&lt;/a&gt;     uGlyphRect.z - uGlyphRect.x,
<a href="#l1014" class="line" id="l1014">   1014</a> &lt;a href=&quot;#l995&quot; class=&quot;line&quot; id=&quot;l995&quot;&gt;    995&lt;/a&gt;     uGlyphRect.w - uGlyphRect.y
<a href="#l1015" class="line" id="l1015">   1015</a> &lt;a href=&quot;#l996&quot; class=&quot;line&quot; id=&quot;l996&quot;&gt;    996&lt;/a&gt;   ));
<a href="#l1016" class="line" id="l1016">   1016</a> &lt;a href=&quot;#l997&quot; class=&quot;line&quot; id=&quot;l997&quot;&gt;    997&lt;/a&gt; 
<a href="#l1017" class="line" id="l1017">   1017</a> &lt;a href=&quot;#l998&quot; class=&quot;line&quot; id=&quot;l998&quot;&gt;    998&lt;/a&gt;   // move to the corner of the glyph
<a href="#l1018" class="line" id="l1018">   1018</a> &lt;a href=&quot;#l999&quot; class=&quot;line&quot; id=&quot;l999&quot;&gt;    999&lt;/a&gt;   positionVec4.xy += uGlyphRect.xy;
<a href="#l1019" class="line" id="l1019">   1019</a> &lt;a href=&quot;#l1000&quot; class=&quot;line&quot; id=&quot;l1000&quot;&gt;   1000&lt;/a&gt; 
<a href="#l1020" class="line" id="l1020">   1020</a> &lt;a href=&quot;#l1001&quot; class=&quot;line&quot; id=&quot;l1001&quot;&gt;   1001&lt;/a&gt;   // move to the letter&amp;#39;s line offset
<a href="#l1021" class="line" id="l1021">   1021</a> &lt;a href=&quot;#l1002&quot; class=&quot;line&quot; id=&quot;l1002&quot;&gt;   1002&lt;/a&gt;   positionVec4.x += uGlyphOffset;
<a href="#l1022" class="line" id="l1022">   1022</a> &lt;a href=&quot;#l1003&quot; class=&quot;line&quot; id=&quot;l1003&quot;&gt;   1003&lt;/a&gt; 
<a href="#l1023" class="line" id="l1023">   1023</a> &lt;a href=&quot;#l1004&quot; class=&quot;line&quot; id=&quot;l1004&quot;&gt;   1004&lt;/a&gt;   positionVec4.xy += offset;
<a href="#l1024" class="line" id="l1024">   1024</a> &lt;a href=&quot;#l1005&quot; class=&quot;line&quot; id=&quot;l1005&quot;&gt;   1005&lt;/a&gt;   
<a href="#l1025" class="line" id="l1025">   1025</a> &lt;a href=&quot;#l1006&quot; class=&quot;line&quot; id=&quot;l1006&quot;&gt;   1006&lt;/a&gt;   gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
<a href="#l1026" class="line" id="l1026">   1026</a> &lt;a href=&quot;#l1007&quot; class=&quot;line&quot; id=&quot;l1007&quot;&gt;   1007&lt;/a&gt;   vTexCoord = aTexCoord + textureOffset;
<a href="#l1027" class="line" id="l1027">   1027</a> &lt;a href=&quot;#l1008&quot; class=&quot;line&quot; id=&quot;l1008&quot;&gt;   1008&lt;/a&gt;   w = gl_Position.w;
<a href="#l1028" class="line" id="l1028">   1028</a> &lt;a href=&quot;#l1009&quot; class=&quot;line&quot; id=&quot;l1009&quot;&gt;   1009&lt;/a&gt; }
<a href="#l1029" class="line" id="l1029">   1029</a> &lt;a href=&quot;#l1010&quot; class=&quot;line&quot; id=&quot;l1010&quot;&gt;   1010&lt;/a&gt; `,Db=`#ifndef WEBGL2
<a href="#l1030" class="line" id="l1030">   1030</a> &lt;a href=&quot;#l1011&quot; class=&quot;line&quot; id=&quot;l1011&quot;&gt;   1011&lt;/a&gt; #extension GL_OES_standard_derivatives : enable
<a href="#l1031" class="line" id="l1031">   1031</a> &lt;a href=&quot;#l1012&quot; class=&quot;line&quot; id=&quot;l1012&quot;&gt;   1012&lt;/a&gt; #endif
<a href="#l1032" class="line" id="l1032">   1032</a> &lt;a href=&quot;#l1013&quot; class=&quot;line&quot; id=&quot;l1013&quot;&gt;   1013&lt;/a&gt; 
<a href="#l1033" class="line" id="l1033">   1033</a> &lt;a href=&quot;#l1014&quot; class=&quot;line&quot; id=&quot;l1014&quot;&gt;   1014&lt;/a&gt; #if 0
<a href="#l1034" class="line" id="l1034">   1034</a> &lt;a href=&quot;#l1015&quot; class=&quot;line&quot; id=&quot;l1015&quot;&gt;   1015&lt;/a&gt;   // simulate integer math using floats
<a href="#l1035" class="line" id="l1035">   1035</a> &lt;a href=&quot;#l1016&quot; class=&quot;line&quot; id=&quot;l1016&quot;&gt;   1016&lt;/a&gt; 	#define int float
<a href="#l1036" class="line" id="l1036">   1036</a> &lt;a href=&quot;#l1017&quot; class=&quot;line&quot; id=&quot;l1017&quot;&gt;   1017&lt;/a&gt; 	#define ivec2 vec2
<a href="#l1037" class="line" id="l1037">   1037</a> &lt;a href=&quot;#l1018&quot; class=&quot;line&quot; id=&quot;l1018&quot;&gt;   1018&lt;/a&gt; 	#define INT(x) float(x)
<a href="#l1038" class="line" id="l1038">   1038</a> &lt;a href=&quot;#l1019&quot; class=&quot;line&quot; id=&quot;l1019&quot;&gt;   1019&lt;/a&gt; 
<a href="#l1039" class="line" id="l1039">   1039</a> &lt;a href=&quot;#l1020&quot; class=&quot;line&quot; id=&quot;l1020&quot;&gt;   1020&lt;/a&gt; 	int ifloor(float v) { return floor(v); }
<a href="#l1040" class="line" id="l1040">   1040</a> &lt;a href=&quot;#l1021&quot; class=&quot;line&quot; id=&quot;l1021&quot;&gt;   1021&lt;/a&gt; 	ivec2 ifloor(vec2 v) { return floor(v); }
<a href="#l1041" class="line" id="l1041">   1041</a> &lt;a href=&quot;#l1022&quot; class=&quot;line&quot; id=&quot;l1022&quot;&gt;   1022&lt;/a&gt; 
<a href="#l1042" class="line" id="l1042">   1042</a> &lt;a href=&quot;#l1023&quot; class=&quot;line&quot; id=&quot;l1023&quot;&gt;   1023&lt;/a&gt; #else
<a href="#l1043" class="line" id="l1043">   1043</a> &lt;a href=&quot;#l1024&quot; class=&quot;line&quot; id=&quot;l1024&quot;&gt;   1024&lt;/a&gt;   // use native integer math
<a href="#l1044" class="line" id="l1044">   1044</a> &lt;a href=&quot;#l1025&quot; class=&quot;line&quot; id=&quot;l1025&quot;&gt;   1025&lt;/a&gt; 	precision highp int;
<a href="#l1045" class="line" id="l1045">   1045</a> &lt;a href=&quot;#l1026&quot; class=&quot;line&quot; id=&quot;l1026&quot;&gt;   1026&lt;/a&gt; 	#define INT(x) x
<a href="#l1046" class="line" id="l1046">   1046</a> &lt;a href=&quot;#l1027&quot; class=&quot;line&quot; id=&quot;l1027&quot;&gt;   1027&lt;/a&gt; 
<a href="#l1047" class="line" id="l1047">   1047</a> &lt;a href=&quot;#l1028&quot; class=&quot;line&quot; id=&quot;l1028&quot;&gt;   1028&lt;/a&gt; 	int ifloor(float v) { return int(v); }
<a href="#l1048" class="line" id="l1048">   1048</a> &lt;a href=&quot;#l1029&quot; class=&quot;line&quot; id=&quot;l1029&quot;&gt;   1029&lt;/a&gt; 	int ifloor(int v) { return v; }
<a href="#l1049" class="line" id="l1049">   1049</a> &lt;a href=&quot;#l1030&quot; class=&quot;line&quot; id=&quot;l1030&quot;&gt;   1030&lt;/a&gt; 	ivec2 ifloor(vec2 v) { return ivec2(v); }
<a href="#l1050" class="line" id="l1050">   1050</a> &lt;a href=&quot;#l1031&quot; class=&quot;line&quot; id=&quot;l1031&quot;&gt;   1031&lt;/a&gt; 
<a href="#l1051" class="line" id="l1051">   1051</a> &lt;a href=&quot;#l1032&quot; class=&quot;line&quot; id=&quot;l1032&quot;&gt;   1032&lt;/a&gt; #endif
<a href="#l1052" class="line" id="l1052">   1052</a> &lt;a href=&quot;#l1033&quot; class=&quot;line&quot; id=&quot;l1033&quot;&gt;   1033&lt;/a&gt; 
<a href="#l1053" class="line" id="l1053">   1053</a> &lt;a href=&quot;#l1034&quot; class=&quot;line&quot; id=&quot;l1034&quot;&gt;   1034&lt;/a&gt; uniform sampler2D uSamplerStrokes;
<a href="#l1054" class="line" id="l1054">   1054</a> &lt;a href=&quot;#l1035&quot; class=&quot;line&quot; id=&quot;l1035&quot;&gt;   1035&lt;/a&gt; uniform sampler2D uSamplerRowStrokes;
<a href="#l1055" class="line" id="l1055">   1055</a> &lt;a href=&quot;#l1036&quot; class=&quot;line&quot; id=&quot;l1036&quot;&gt;   1036&lt;/a&gt; uniform sampler2D uSamplerRows;
<a href="#l1056" class="line" id="l1056">   1056</a> &lt;a href=&quot;#l1037&quot; class=&quot;line&quot; id=&quot;l1037&quot;&gt;   1037&lt;/a&gt; uniform sampler2D uSamplerColStrokes;
<a href="#l1057" class="line" id="l1057">   1057</a> &lt;a href=&quot;#l1038&quot; class=&quot;line&quot; id=&quot;l1038&quot;&gt;   1038&lt;/a&gt; uniform sampler2D uSamplerCols;
<a href="#l1058" class="line" id="l1058">   1058</a> &lt;a href=&quot;#l1039&quot; class=&quot;line&quot; id=&quot;l1039&quot;&gt;   1039&lt;/a&gt; 
<a href="#l1059" class="line" id="l1059">   1059</a> &lt;a href=&quot;#l1040&quot; class=&quot;line&quot; id=&quot;l1040&quot;&gt;   1040&lt;/a&gt; uniform ivec2 uStrokeImageSize;
<a href="#l1060" class="line" id="l1060">   1060</a> &lt;a href=&quot;#l1041&quot; class=&quot;line&quot; id=&quot;l1041&quot;&gt;   1041&lt;/a&gt; uniform ivec2 uCellsImageSize;
<a href="#l1061" class="line" id="l1061">   1061</a> &lt;a href=&quot;#l1042&quot; class=&quot;line&quot; id=&quot;l1042&quot;&gt;   1042&lt;/a&gt; uniform ivec2 uGridImageSize;
<a href="#l1062" class="line" id="l1062">   1062</a> &lt;a href=&quot;#l1043&quot; class=&quot;line&quot; id=&quot;l1043&quot;&gt;   1043&lt;/a&gt; 
<a href="#l1063" class="line" id="l1063">   1063</a> &lt;a href=&quot;#l1044&quot; class=&quot;line&quot; id=&quot;l1044&quot;&gt;   1044&lt;/a&gt; uniform ivec2 uGridOffset;
<a href="#l1064" class="line" id="l1064">   1064</a> &lt;a href=&quot;#l1045&quot; class=&quot;line&quot; id=&quot;l1045&quot;&gt;   1045&lt;/a&gt; uniform ivec2 uGridSize;
<a href="#l1065" class="line" id="l1065">   1065</a> &lt;a href=&quot;#l1046&quot; class=&quot;line&quot; id=&quot;l1046&quot;&gt;   1046&lt;/a&gt; uniform vec4 uMaterialColor;
<a href="#l1066" class="line" id="l1066">   1066</a> &lt;a href=&quot;#l1047&quot; class=&quot;line&quot; id=&quot;l1047&quot;&gt;   1047&lt;/a&gt; 
<a href="#l1067" class="line" id="l1067">   1067</a> &lt;a href=&quot;#l1048&quot; class=&quot;line&quot; id=&quot;l1048&quot;&gt;   1048&lt;/a&gt; IN vec2 vTexCoord;
<a href="#l1068" class="line" id="l1068">   1068</a> &lt;a href=&quot;#l1049&quot; class=&quot;line&quot; id=&quot;l1049&quot;&gt;   1049&lt;/a&gt; 
<a href="#l1069" class="line" id="l1069">   1069</a> &lt;a href=&quot;#l1050&quot; class=&quot;line&quot; id=&quot;l1050&quot;&gt;   1050&lt;/a&gt; // some helper functions
<a href="#l1070" class="line" id="l1070">   1070</a> &lt;a href=&quot;#l1051&quot; class=&quot;line&quot; id=&quot;l1051&quot;&gt;   1051&lt;/a&gt; int ROUND(float v) { return ifloor(v + 0.5); }
<a href="#l1071" class="line" id="l1071">   1071</a> &lt;a href=&quot;#l1052&quot; class=&quot;line&quot; id=&quot;l1052&quot;&gt;   1052&lt;/a&gt; ivec2 ROUND(vec2 v) { return ifloor(v + 0.5); }
<a href="#l1072" class="line" id="l1072">   1072</a> &lt;a href=&quot;#l1053&quot; class=&quot;line&quot; id=&quot;l1053&quot;&gt;   1053&lt;/a&gt; float saturate(float v) { return clamp(v, 0.0, 1.0); }
<a href="#l1073" class="line" id="l1073">   1073</a> &lt;a href=&quot;#l1054&quot; class=&quot;line&quot; id=&quot;l1054&quot;&gt;   1054&lt;/a&gt; vec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }
<a href="#l1074" class="line" id="l1074">   1074</a> &lt;a href=&quot;#l1055&quot; class=&quot;line&quot; id=&quot;l1055&quot;&gt;   1055&lt;/a&gt; 
<a href="#l1075" class="line" id="l1075">   1075</a> &lt;a href=&quot;#l1056&quot; class=&quot;line&quot; id=&quot;l1056&quot;&gt;   1056&lt;/a&gt; int mul(float v1, int v2) {
<a href="#l1076" class="line" id="l1076">   1076</a> &lt;a href=&quot;#l1057&quot; class=&quot;line&quot; id=&quot;l1057&quot;&gt;   1057&lt;/a&gt;   return ifloor(v1 * float(v2));
<a href="#l1077" class="line" id="l1077">   1077</a> &lt;a href=&quot;#l1058&quot; class=&quot;line&quot; id=&quot;l1058&quot;&gt;   1058&lt;/a&gt; }
<a href="#l1078" class="line" id="l1078">   1078</a> &lt;a href=&quot;#l1059&quot; class=&quot;line&quot; id=&quot;l1059&quot;&gt;   1059&lt;/a&gt; 
<a href="#l1079" class="line" id="l1079">   1079</a> &lt;a href=&quot;#l1060&quot; class=&quot;line&quot; id=&quot;l1060&quot;&gt;   1060&lt;/a&gt; ivec2 mul(vec2 v1, ivec2 v2) {
<a href="#l1080" class="line" id="l1080">   1080</a> &lt;a href=&quot;#l1061&quot; class=&quot;line&quot; id=&quot;l1061&quot;&gt;   1061&lt;/a&gt;   return ifloor(v1 * vec2(v2) + 0.5);
<a href="#l1081" class="line" id="l1081">   1081</a> &lt;a href=&quot;#l1062&quot; class=&quot;line&quot; id=&quot;l1062&quot;&gt;   1062&lt;/a&gt; }
<a href="#l1082" class="line" id="l1082">   1082</a> &lt;a href=&quot;#l1063&quot; class=&quot;line&quot; id=&quot;l1063&quot;&gt;   1063&lt;/a&gt; 
<a href="#l1083" class="line" id="l1083">   1083</a> &lt;a href=&quot;#l1064&quot; class=&quot;line&quot; id=&quot;l1064&quot;&gt;   1064&lt;/a&gt; // unpack a 16-bit integer from a float vec2
<a href="#l1084" class="line" id="l1084">   1084</a> &lt;a href=&quot;#l1065&quot; class=&quot;line&quot; id=&quot;l1065&quot;&gt;   1065&lt;/a&gt; int getInt16(vec2 v) {
<a href="#l1085" class="line" id="l1085">   1085</a> &lt;a href=&quot;#l1066&quot; class=&quot;line&quot; id=&quot;l1066&quot;&gt;   1066&lt;/a&gt;   ivec2 iv = ROUND(v * 255.0);
<a href="#l1086" class="line" id="l1086">   1086</a> &lt;a href=&quot;#l1067&quot; class=&quot;line&quot; id=&quot;l1067&quot;&gt;   1067&lt;/a&gt;   return iv.x * INT(128) + iv.y;
<a href="#l1087" class="line" id="l1087">   1087</a> &lt;a href=&quot;#l1068&quot; class=&quot;line&quot; id=&quot;l1068&quot;&gt;   1068&lt;/a&gt; }
<a href="#l1088" class="line" id="l1088">   1088</a> &lt;a href=&quot;#l1069&quot; class=&quot;line&quot; id=&quot;l1069&quot;&gt;   1069&lt;/a&gt; 
<a href="#l1089" class="line" id="l1089">   1089</a> &lt;a href=&quot;#l1070&quot; class=&quot;line&quot; id=&quot;l1070&quot;&gt;   1070&lt;/a&gt; vec2 pixelScale;
<a href="#l1090" class="line" id="l1090">   1090</a> &lt;a href=&quot;#l1071&quot; class=&quot;line&quot; id=&quot;l1071&quot;&gt;   1071&lt;/a&gt; vec2 coverage = vec2(0.0);
<a href="#l1091" class="line" id="l1091">   1091</a> &lt;a href=&quot;#l1072&quot; class=&quot;line&quot; id=&quot;l1072&quot;&gt;   1072&lt;/a&gt; vec2 weight = vec2(0.5);
<a href="#l1092" class="line" id="l1092">   1092</a> &lt;a href=&quot;#l1073&quot; class=&quot;line&quot; id=&quot;l1073&quot;&gt;   1073&lt;/a&gt; const float minDistance = 1.0/8192.0;
<a href="#l1093" class="line" id="l1093">   1093</a> &lt;a href=&quot;#l1074&quot; class=&quot;line&quot; id=&quot;l1074&quot;&gt;   1074&lt;/a&gt; const float hardness = 1.05; // amount of antialias
<a href="#l1094" class="line" id="l1094">   1094</a> &lt;a href=&quot;#l1075&quot; class=&quot;line&quot; id=&quot;l1075&quot;&gt;   1075&lt;/a&gt; 
<a href="#l1095" class="line" id="l1095">   1095</a> &lt;a href=&quot;#l1076&quot; class=&quot;line&quot; id=&quot;l1076&quot;&gt;   1076&lt;/a&gt; // the maximum number of curves in a glyph
<a href="#l1096" class="line" id="l1096">   1096</a> &lt;a href=&quot;#l1077&quot; class=&quot;line&quot; id=&quot;l1077&quot;&gt;   1077&lt;/a&gt; const int N = INT(250);
<a href="#l1097" class="line" id="l1097">   1097</a> &lt;a href=&quot;#l1078&quot; class=&quot;line&quot; id=&quot;l1078&quot;&gt;   1078&lt;/a&gt; 
<a href="#l1098" class="line" id="l1098">   1098</a> &lt;a href=&quot;#l1079&quot; class=&quot;line&quot; id=&quot;l1079&quot;&gt;   1079&lt;/a&gt; // retrieves an indexed pixel from a sampler
<a href="#l1099" class="line" id="l1099">   1099</a> &lt;a href=&quot;#l1080&quot; class=&quot;line&quot; id=&quot;l1080&quot;&gt;   1080&lt;/a&gt; vec4 getTexel(sampler2D sampler, int pos, ivec2 size) {
<a href="#l1100" class="line" id="l1100">   1100</a> &lt;a href=&quot;#l1081&quot; class=&quot;line&quot; id=&quot;l1081&quot;&gt;   1081&lt;/a&gt;   int width = size.x;
<a href="#l1101" class="line" id="l1101">   1101</a> &lt;a href=&quot;#l1082&quot; class=&quot;line&quot; id=&quot;l1082&quot;&gt;   1082&lt;/a&gt;   int y = ifloor(pos / width);
<a href="#l1102" class="line" id="l1102">   1102</a> &lt;a href=&quot;#l1083&quot; class=&quot;line&quot; id=&quot;l1083&quot;&gt;   1083&lt;/a&gt;   int x = pos - y * width;  // pos % width
<a href="#l1103" class="line" id="l1103">   1103</a> &lt;a href=&quot;#l1084&quot; class=&quot;line&quot; id=&quot;l1084&quot;&gt;   1084&lt;/a&gt; 
<a href="#l1104" class="line" id="l1104">   1104</a> &lt;a href=&quot;#l1085&quot; class=&quot;line&quot; id=&quot;l1085&quot;&gt;   1085&lt;/a&gt;   return TEXTURE(sampler, (vec2(x, y) + 0.5) / vec2(size));
<a href="#l1105" class="line" id="l1105">   1105</a> &lt;a href=&quot;#l1086&quot; class=&quot;line&quot; id=&quot;l1086&quot;&gt;   1086&lt;/a&gt; }
<a href="#l1106" class="line" id="l1106">   1106</a> &lt;a href=&quot;#l1087&quot; class=&quot;line&quot; id=&quot;l1087&quot;&gt;   1087&lt;/a&gt; 
<a href="#l1107" class="line" id="l1107">   1107</a> &lt;a href=&quot;#l1088&quot; class=&quot;line&quot; id=&quot;l1088&quot;&gt;   1088&lt;/a&gt; void calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {
<a href="#l1108" class="line" id="l1108">   1108</a> &lt;a href=&quot;#l1089&quot; class=&quot;line&quot; id=&quot;l1089&quot;&gt;   1089&lt;/a&gt; 
<a href="#l1109" class="line" id="l1109">   1109</a> &lt;a href=&quot;#l1090&quot; class=&quot;line&quot; id=&quot;l1090&quot;&gt;   1090&lt;/a&gt;   // get the coefficients of the quadratic in t
<a href="#l1110" class="line" id="l1110">   1110</a> &lt;a href=&quot;#l1091&quot; class=&quot;line&quot; id=&quot;l1091&quot;&gt;   1091&lt;/a&gt;   vec2 a = p0 - p1 * 2.0 + p2;
<a href="#l1111" class="line" id="l1111">   1111</a> &lt;a href=&quot;#l1092&quot; class=&quot;line&quot; id=&quot;l1092&quot;&gt;   1092&lt;/a&gt;   vec2 b = p0 - p1;
<a href="#l1112" class="line" id="l1112">   1112</a> &lt;a href=&quot;#l1093&quot; class=&quot;line&quot; id=&quot;l1093&quot;&gt;   1093&lt;/a&gt;   vec2 c = p0 - vTexCoord;
<a href="#l1113" class="line" id="l1113">   1113</a> &lt;a href=&quot;#l1094&quot; class=&quot;line&quot; id=&quot;l1094&quot;&gt;   1094&lt;/a&gt; 
<a href="#l1114" class="line" id="l1114">   1114</a> &lt;a href=&quot;#l1095&quot; class=&quot;line&quot; id=&quot;l1095&quot;&gt;   1095&lt;/a&gt;   // found out which values of &amp;#39;t&amp;#39; it crosses the axes
<a href="#l1115" class="line" id="l1115">   1115</a> &lt;a href=&quot;#l1096&quot; class=&quot;line&quot; id=&quot;l1096&quot;&gt;   1096&lt;/a&gt;   vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));
<a href="#l1116" class="line" id="l1116">   1116</a> &lt;a href=&quot;#l1097&quot; class=&quot;line&quot; id=&quot;l1097&quot;&gt;   1097&lt;/a&gt;   vec2 t1 = ((b - surd) / a).yx;
<a href="#l1117" class="line" id="l1117">   1117</a> &lt;a href=&quot;#l1098&quot; class=&quot;line&quot; id=&quot;l1098&quot;&gt;   1098&lt;/a&gt;   vec2 t2 = ((b + surd) / a).yx;
<a href="#l1118" class="line" id="l1118">   1118</a> &lt;a href=&quot;#l1099&quot; class=&quot;line&quot; id=&quot;l1099&quot;&gt;   1099&lt;/a&gt; 
<a href="#l1119" class="line" id="l1119">   1119</a> &lt;a href=&quot;#l1100&quot; class=&quot;line&quot; id=&quot;l1100&quot;&gt;   1100&lt;/a&gt;   // approximate straight lines to avoid rounding errors
<a href="#l1120" class="line" id="l1120">   1120</a> &lt;a href=&quot;#l1101&quot; class=&quot;line&quot; id=&quot;l1101&quot;&gt;   1101&lt;/a&gt;   if (abs(a.y) &amp;lt; 0.001)
<a href="#l1121" class="line" id="l1121">   1121</a> &lt;a href=&quot;#l1102&quot; class=&quot;line&quot; id=&quot;l1102&quot;&gt;   1102&lt;/a&gt;     t1.x = t2.x = c.y / (2.0 * b.y);
<a href="#l1122" class="line" id="l1122">   1122</a> &lt;a href=&quot;#l1103&quot; class=&quot;line&quot; id=&quot;l1103&quot;&gt;   1103&lt;/a&gt; 
<a href="#l1123" class="line" id="l1123">   1123</a> &lt;a href=&quot;#l1104&quot; class=&quot;line&quot; id=&quot;l1104&quot;&gt;   1104&lt;/a&gt;   if (abs(a.x) &amp;lt; 0.001)
<a href="#l1124" class="line" id="l1124">   1124</a> &lt;a href=&quot;#l1105&quot; class=&quot;line&quot; id=&quot;l1105&quot;&gt;   1105&lt;/a&gt;     t1.y = t2.y = c.x / (2.0 * b.x);
<a href="#l1125" class="line" id="l1125">   1125</a> &lt;a href=&quot;#l1106&quot; class=&quot;line&quot; id=&quot;l1106&quot;&gt;   1106&lt;/a&gt; 
<a href="#l1126" class="line" id="l1126">   1126</a> &lt;a href=&quot;#l1107&quot; class=&quot;line&quot; id=&quot;l1107&quot;&gt;   1107&lt;/a&gt;   // plug into quadratic formula to find the corrdinates of the crossings
<a href="#l1127" class="line" id="l1127">   1127</a> &lt;a href=&quot;#l1108&quot; class=&quot;line&quot; id=&quot;l1108&quot;&gt;   1108&lt;/a&gt;   C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;
<a href="#l1128" class="line" id="l1128">   1128</a> &lt;a href=&quot;#l1109&quot; class=&quot;line&quot; id=&quot;l1109&quot;&gt;   1109&lt;/a&gt;   C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;
<a href="#l1129" class="line" id="l1129">   1129</a> &lt;a href=&quot;#l1110&quot; class=&quot;line&quot; id=&quot;l1110&quot;&gt;   1110&lt;/a&gt; }
<a href="#l1130" class="line" id="l1130">   1130</a> &lt;a href=&quot;#l1111&quot; class=&quot;line&quot; id=&quot;l1111&quot;&gt;   1111&lt;/a&gt; 
<a href="#l1131" class="line" id="l1131">   1131</a> &lt;a href=&quot;#l1112&quot; class=&quot;line&quot; id=&quot;l1112&quot;&gt;   1112&lt;/a&gt; void coverageX(vec2 p0, vec2 p1, vec2 p2) {
<a href="#l1132" class="line" id="l1132">   1132</a> &lt;a href=&quot;#l1113&quot; class=&quot;line&quot; id=&quot;l1113&quot;&gt;   1113&lt;/a&gt; 
<a href="#l1133" class="line" id="l1133">   1133</a> &lt;a href=&quot;#l1114&quot; class=&quot;line&quot; id=&quot;l1114&quot;&gt;   1114&lt;/a&gt;   vec2 C1, C2;
<a href="#l1134" class="line" id="l1134">   1134</a> &lt;a href=&quot;#l1115&quot; class=&quot;line&quot; id=&quot;l1115&quot;&gt;   1115&lt;/a&gt;   calulateCrossings(p0, p1, p2, C1, C2);
<a href="#l1135" class="line" id="l1135">   1135</a> &lt;a href=&quot;#l1116&quot; class=&quot;line&quot; id=&quot;l1116&quot;&gt;   1116&lt;/a&gt; 
<a href="#l1136" class="line" id="l1136">   1136</a> &lt;a href=&quot;#l1117&quot; class=&quot;line&quot; id=&quot;l1117&quot;&gt;   1117&lt;/a&gt;   // determine on which side of the x-axis the points lie
<a href="#l1137" class="line" id="l1137">   1137</a> &lt;a href=&quot;#l1118&quot; class=&quot;line&quot; id=&quot;l1118&quot;&gt;   1118&lt;/a&gt;   bool y0 = p0.y &amp;gt; vTexCoord.y;
<a href="#l1138" class="line" id="l1138">   1138</a> &lt;a href=&quot;#l1119&quot; class=&quot;line&quot; id=&quot;l1119&quot;&gt;   1119&lt;/a&gt;   bool y1 = p1.y &amp;gt; vTexCoord.y;
<a href="#l1139" class="line" id="l1139">   1139</a> &lt;a href=&quot;#l1120&quot; class=&quot;line&quot; id=&quot;l1120&quot;&gt;   1120&lt;/a&gt;   bool y2 = p2.y &amp;gt; vTexCoord.y;
<a href="#l1140" class="line" id="l1140">   1140</a> &lt;a href=&quot;#l1121&quot; class=&quot;line&quot; id=&quot;l1121&quot;&gt;   1121&lt;/a&gt; 
<a href="#l1141" class="line" id="l1141">   1141</a> &lt;a href=&quot;#l1122&quot; class=&quot;line&quot; id=&quot;l1122&quot;&gt;   1122&lt;/a&gt;   // could web be under the curve (after t1)?
<a href="#l1142" class="line" id="l1142">   1142</a> &lt;a href=&quot;#l1123&quot; class=&quot;line&quot; id=&quot;l1123&quot;&gt;   1123&lt;/a&gt;   if (y1 ? !y2 : y0) {
<a href="#l1143" class="line" id="l1143">   1143</a> &lt;a href=&quot;#l1124&quot; class=&quot;line&quot; id=&quot;l1124&quot;&gt;   1124&lt;/a&gt;     // add the coverage for t1
<a href="#l1144" class="line" id="l1144">   1144</a> &lt;a href=&quot;#l1125&quot; class=&quot;line&quot; id=&quot;l1125&quot;&gt;   1125&lt;/a&gt;     coverage.x += saturate(C1.x + 0.5);
<a href="#l1145" class="line" id="l1145">   1145</a> &lt;a href=&quot;#l1126&quot; class=&quot;line&quot; id=&quot;l1126&quot;&gt;   1126&lt;/a&gt;     // calculate the anti-aliasing for t1
<a href="#l1146" class="line" id="l1146">   1146</a> &lt;a href=&quot;#l1127&quot; class=&quot;line&quot; id=&quot;l1127&quot;&gt;   1127&lt;/a&gt;     weight.x = min(weight.x, abs(C1.x));
<a href="#l1147" class="line" id="l1147">   1147</a> &lt;a href=&quot;#l1128&quot; class=&quot;line&quot; id=&quot;l1128&quot;&gt;   1128&lt;/a&gt;   }
<a href="#l1148" class="line" id="l1148">   1148</a> &lt;a href=&quot;#l1129&quot; class=&quot;line&quot; id=&quot;l1129&quot;&gt;   1129&lt;/a&gt; 
<a href="#l1149" class="line" id="l1149">   1149</a> &lt;a href=&quot;#l1130&quot; class=&quot;line&quot; id=&quot;l1130&quot;&gt;   1130&lt;/a&gt;   // are we outside the curve (after t2)?
<a href="#l1150" class="line" id="l1150">   1150</a> &lt;a href=&quot;#l1131&quot; class=&quot;line&quot; id=&quot;l1131&quot;&gt;   1131&lt;/a&gt;   if (y1 ? !y0 : y2) {
<a href="#l1151" class="line" id="l1151">   1151</a> &lt;a href=&quot;#l1132&quot; class=&quot;line&quot; id=&quot;l1132&quot;&gt;   1132&lt;/a&gt;     // subtract the coverage for t2
<a href="#l1152" class="line" id="l1152">   1152</a> &lt;a href=&quot;#l1133&quot; class=&quot;line&quot; id=&quot;l1133&quot;&gt;   1133&lt;/a&gt;     coverage.x -= saturate(C2.x + 0.5);
<a href="#l1153" class="line" id="l1153">   1153</a> &lt;a href=&quot;#l1134&quot; class=&quot;line&quot; id=&quot;l1134&quot;&gt;   1134&lt;/a&gt;     // calculate the anti-aliasing for t2
<a href="#l1154" class="line" id="l1154">   1154</a> &lt;a href=&quot;#l1135&quot; class=&quot;line&quot; id=&quot;l1135&quot;&gt;   1135&lt;/a&gt;     weight.x = min(weight.x, abs(C2.x));
<a href="#l1155" class="line" id="l1155">   1155</a> &lt;a href=&quot;#l1136&quot; class=&quot;line&quot; id=&quot;l1136&quot;&gt;   1136&lt;/a&gt;   }
<a href="#l1156" class="line" id="l1156">   1156</a> &lt;a href=&quot;#l1137&quot; class=&quot;line&quot; id=&quot;l1137&quot;&gt;   1137&lt;/a&gt; }
<a href="#l1157" class="line" id="l1157">   1157</a> &lt;a href=&quot;#l1138&quot; class=&quot;line&quot; id=&quot;l1138&quot;&gt;   1138&lt;/a&gt; 
<a href="#l1158" class="line" id="l1158">   1158</a> &lt;a href=&quot;#l1139&quot; class=&quot;line&quot; id=&quot;l1139&quot;&gt;   1139&lt;/a&gt; // this is essentially the same as coverageX, but with the axes swapped
<a href="#l1159" class="line" id="l1159">   1159</a> &lt;a href=&quot;#l1140&quot; class=&quot;line&quot; id=&quot;l1140&quot;&gt;   1140&lt;/a&gt; void coverageY(vec2 p0, vec2 p1, vec2 p2) {
<a href="#l1160" class="line" id="l1160">   1160</a> &lt;a href=&quot;#l1141&quot; class=&quot;line&quot; id=&quot;l1141&quot;&gt;   1141&lt;/a&gt; 
<a href="#l1161" class="line" id="l1161">   1161</a> &lt;a href=&quot;#l1142&quot; class=&quot;line&quot; id=&quot;l1142&quot;&gt;   1142&lt;/a&gt;   vec2 C1, C2;
<a href="#l1162" class="line" id="l1162">   1162</a> &lt;a href=&quot;#l1143&quot; class=&quot;line&quot; id=&quot;l1143&quot;&gt;   1143&lt;/a&gt;   calulateCrossings(p0, p1, p2, C1, C2);
<a href="#l1163" class="line" id="l1163">   1163</a> &lt;a href=&quot;#l1144&quot; class=&quot;line&quot; id=&quot;l1144&quot;&gt;   1144&lt;/a&gt; 
<a href="#l1164" class="line" id="l1164">   1164</a> &lt;a href=&quot;#l1145&quot; class=&quot;line&quot; id=&quot;l1145&quot;&gt;   1145&lt;/a&gt;   bool x0 = p0.x &amp;gt; vTexCoord.x;
<a href="#l1165" class="line" id="l1165">   1165</a> &lt;a href=&quot;#l1146&quot; class=&quot;line&quot; id=&quot;l1146&quot;&gt;   1146&lt;/a&gt;   bool x1 = p1.x &amp;gt; vTexCoord.x;
<a href="#l1166" class="line" id="l1166">   1166</a> &lt;a href=&quot;#l1147&quot; class=&quot;line&quot; id=&quot;l1147&quot;&gt;   1147&lt;/a&gt;   bool x2 = p2.x &amp;gt; vTexCoord.x;
<a href="#l1167" class="line" id="l1167">   1167</a> &lt;a href=&quot;#l1148&quot; class=&quot;line&quot; id=&quot;l1148&quot;&gt;   1148&lt;/a&gt; 
<a href="#l1168" class="line" id="l1168">   1168</a> &lt;a href=&quot;#l1149&quot; class=&quot;line&quot; id=&quot;l1149&quot;&gt;   1149&lt;/a&gt;   if (x1 ? !x2 : x0) {
<a href="#l1169" class="line" id="l1169">   1169</a> &lt;a href=&quot;#l1150&quot; class=&quot;line&quot; id=&quot;l1150&quot;&gt;   1150&lt;/a&gt;     coverage.y -= saturate(C1.y + 0.5);
<a href="#l1170" class="line" id="l1170">   1170</a> &lt;a href=&quot;#l1151&quot; class=&quot;line&quot; id=&quot;l1151&quot;&gt;   1151&lt;/a&gt;     weight.y = min(weight.y, abs(C1.y));
<a href="#l1171" class="line" id="l1171">   1171</a> &lt;a href=&quot;#l1152&quot; class=&quot;line&quot; id=&quot;l1152&quot;&gt;   1152&lt;/a&gt;   }
<a href="#l1172" class="line" id="l1172">   1172</a> &lt;a href=&quot;#l1153&quot; class=&quot;line&quot; id=&quot;l1153&quot;&gt;   1153&lt;/a&gt; 
<a href="#l1173" class="line" id="l1173">   1173</a> &lt;a href=&quot;#l1154&quot; class=&quot;line&quot; id=&quot;l1154&quot;&gt;   1154&lt;/a&gt;   if (x1 ? !x0 : x2) {
<a href="#l1174" class="line" id="l1174">   1174</a> &lt;a href=&quot;#l1155&quot; class=&quot;line&quot; id=&quot;l1155&quot;&gt;   1155&lt;/a&gt;     coverage.y += saturate(C2.y + 0.5);
<a href="#l1175" class="line" id="l1175">   1175</a> &lt;a href=&quot;#l1156&quot; class=&quot;line&quot; id=&quot;l1156&quot;&gt;   1156&lt;/a&gt;     weight.y = min(weight.y, abs(C2.y));
<a href="#l1176" class="line" id="l1176">   1176</a> &lt;a href=&quot;#l1157&quot; class=&quot;line&quot; id=&quot;l1157&quot;&gt;   1157&lt;/a&gt;   }
<a href="#l1177" class="line" id="l1177">   1177</a> &lt;a href=&quot;#l1158&quot; class=&quot;line&quot; id=&quot;l1158&quot;&gt;   1158&lt;/a&gt; }
<a href="#l1178" class="line" id="l1178">   1178</a> &lt;a href=&quot;#l1159&quot; class=&quot;line&quot; id=&quot;l1159&quot;&gt;   1159&lt;/a&gt; 
<a href="#l1179" class="line" id="l1179">   1179</a> &lt;a href=&quot;#l1160&quot; class=&quot;line&quot; id=&quot;l1160&quot;&gt;   1160&lt;/a&gt; void main() {
<a href="#l1180" class="line" id="l1180">   1180</a> &lt;a href=&quot;#l1161&quot; class=&quot;line&quot; id=&quot;l1161&quot;&gt;   1161&lt;/a&gt; 
<a href="#l1181" class="line" id="l1181">   1181</a> &lt;a href=&quot;#l1162&quot; class=&quot;line&quot; id=&quot;l1162&quot;&gt;   1162&lt;/a&gt;   // calculate the pixel scale based on screen-coordinates
<a href="#l1182" class="line" id="l1182">   1182</a> &lt;a href=&quot;#l1163&quot; class=&quot;line&quot; id=&quot;l1163&quot;&gt;   1163&lt;/a&gt;   pixelScale = hardness / fwidth(vTexCoord);
<a href="#l1183" class="line" id="l1183">   1183</a> &lt;a href=&quot;#l1164&quot; class=&quot;line&quot; id=&quot;l1164&quot;&gt;   1164&lt;/a&gt; 
<a href="#l1184" class="line" id="l1184">   1184</a> &lt;a href=&quot;#l1165&quot; class=&quot;line&quot; id=&quot;l1165&quot;&gt;   1165&lt;/a&gt;   // which grid cell is this pixel in?
<a href="#l1185" class="line" id="l1185">   1185</a> &lt;a href=&quot;#l1166&quot; class=&quot;line&quot; id=&quot;l1166&quot;&gt;   1166&lt;/a&gt;   ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));
<a href="#l1186" class="line" id="l1186">   1186</a> &lt;a href=&quot;#l1167&quot; class=&quot;line&quot; id=&quot;l1167&quot;&gt;   1167&lt;/a&gt; 
<a href="#l1187" class="line" id="l1187">   1187</a> &lt;a href=&quot;#l1168&quot; class=&quot;line&quot; id=&quot;l1168&quot;&gt;   1168&lt;/a&gt;   // intersect curves in this row
<a href="#l1188" class="line" id="l1188">   1188</a> &lt;a href=&quot;#l1169&quot; class=&quot;line&quot; id=&quot;l1169&quot;&gt;   1169&lt;/a&gt;   {
<a href="#l1189" class="line" id="l1189">   1189</a> &lt;a href=&quot;#l1170&quot; class=&quot;line&quot; id=&quot;l1170&quot;&gt;   1170&lt;/a&gt;     // the index into the row info bitmap
<a href="#l1190" class="line" id="l1190">   1190</a> &lt;a href=&quot;#l1171&quot; class=&quot;line&quot; id=&quot;l1171&quot;&gt;   1171&lt;/a&gt;     int rowIndex = gridCoord.y + uGridOffset.y;
<a href="#l1191" class="line" id="l1191">   1191</a> &lt;a href=&quot;#l1172&quot; class=&quot;line&quot; id=&quot;l1172&quot;&gt;   1172&lt;/a&gt;     // fetch the info texel
<a href="#l1192" class="line" id="l1192">   1192</a> &lt;a href=&quot;#l1173&quot; class=&quot;line&quot; id=&quot;l1173&quot;&gt;   1173&lt;/a&gt;     vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);
<a href="#l1193" class="line" id="l1193">   1193</a> &lt;a href=&quot;#l1174&quot; class=&quot;line&quot; id=&quot;l1174&quot;&gt;   1174&lt;/a&gt;     // unpack the rowInfo
<a href="#l1194" class="line" id="l1194">   1194</a> &lt;a href=&quot;#l1175&quot; class=&quot;line&quot; id=&quot;l1175&quot;&gt;   1175&lt;/a&gt;     int rowStrokeIndex = getInt16(rowInfo.xy);
<a href="#l1195" class="line" id="l1195">   1195</a> &lt;a href=&quot;#l1176&quot; class=&quot;line&quot; id=&quot;l1176&quot;&gt;   1176&lt;/a&gt;     int rowStrokeCount = getInt16(rowInfo.zw);
<a href="#l1196" class="line" id="l1196">   1196</a> &lt;a href=&quot;#l1177&quot; class=&quot;line&quot; id=&quot;l1177&quot;&gt;   1177&lt;/a&gt; 
<a href="#l1197" class="line" id="l1197">   1197</a> &lt;a href=&quot;#l1178&quot; class=&quot;line&quot; id=&quot;l1178&quot;&gt;   1178&lt;/a&gt;     for (int iRowStroke = INT(0); iRowStroke &amp;lt; N; iRowStroke++) {
<a href="#l1198" class="line" id="l1198">   1198</a> &lt;a href=&quot;#l1179&quot; class=&quot;line&quot; id=&quot;l1179&quot;&gt;   1179&lt;/a&gt;       if (iRowStroke &amp;gt;= rowStrokeCount)
<a href="#l1199" class="line" id="l1199">   1199</a> &lt;a href=&quot;#l1180&quot; class=&quot;line&quot; id=&quot;l1180&quot;&gt;   1180&lt;/a&gt;         break;
<a href="#l1200" class="line" id="l1200">   1200</a> &lt;a href=&quot;#l1181&quot; class=&quot;line&quot; id=&quot;l1181&quot;&gt;   1181&lt;/a&gt; 
<a href="#l1201" class="line" id="l1201">   1201</a> &lt;a href=&quot;#l1182&quot; class=&quot;line&quot; id=&quot;l1182&quot;&gt;   1182&lt;/a&gt;       // each stroke is made up of 3 points: the start and control point
<a href="#l1202" class="line" id="l1202">   1202</a> &lt;a href=&quot;#l1183&quot; class=&quot;line&quot; id=&quot;l1183&quot;&gt;   1183&lt;/a&gt;       // and the start of the next curve.
<a href="#l1203" class="line" id="l1203">   1203</a> &lt;a href=&quot;#l1184&quot; class=&quot;line&quot; id=&quot;l1184&quot;&gt;   1184&lt;/a&gt;       // fetch the indices of this pair of strokes:
<a href="#l1204" class="line" id="l1204">   1204</a> &lt;a href=&quot;#l1185&quot; class=&quot;line&quot; id=&quot;l1185&quot;&gt;   1185&lt;/a&gt;       vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);
<a href="#l1205" class="line" id="l1205">   1205</a> &lt;a href=&quot;#l1186&quot; class=&quot;line&quot; id=&quot;l1186&quot;&gt;   1186&lt;/a&gt; 
<a href="#l1206" class="line" id="l1206">   1206</a> &lt;a href=&quot;#l1187&quot; class=&quot;line&quot; id=&quot;l1187&quot;&gt;   1187&lt;/a&gt;       // unpack the stroke index
<a href="#l1207" class="line" id="l1207">   1207</a> &lt;a href=&quot;#l1188&quot; class=&quot;line&quot; id=&quot;l1188&quot;&gt;   1188&lt;/a&gt;       int strokePos = getInt16(strokeIndices.xy);
<a href="#l1208" class="line" id="l1208">   1208</a> &lt;a href=&quot;#l1189&quot; class=&quot;line&quot; id=&quot;l1189&quot;&gt;   1189&lt;/a&gt; 
<a href="#l1209" class="line" id="l1209">   1209</a> &lt;a href=&quot;#l1190&quot; class=&quot;line&quot; id=&quot;l1190&quot;&gt;   1190&lt;/a&gt;       // fetch the two strokes
<a href="#l1210" class="line" id="l1210">   1210</a> &lt;a href=&quot;#l1191&quot; class=&quot;line&quot; id=&quot;l1191&quot;&gt;   1191&lt;/a&gt;       vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
<a href="#l1211" class="line" id="l1211">   1211</a> &lt;a href=&quot;#l1192&quot; class=&quot;line&quot; id=&quot;l1192&quot;&gt;   1192&lt;/a&gt;       vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);
<a href="#l1212" class="line" id="l1212">   1212</a> &lt;a href=&quot;#l1193&quot; class=&quot;line&quot; id=&quot;l1193&quot;&gt;   1193&lt;/a&gt; 
<a href="#l1213" class="line" id="l1213">   1213</a> &lt;a href=&quot;#l1194&quot; class=&quot;line&quot; id=&quot;l1194&quot;&gt;   1194&lt;/a&gt;       // calculate the coverage
<a href="#l1214" class="line" id="l1214">   1214</a> &lt;a href=&quot;#l1195&quot; class=&quot;line&quot; id=&quot;l1195&quot;&gt;   1195&lt;/a&gt;       coverageX(stroke0.xy, stroke0.zw, stroke1.xy);
<a href="#l1215" class="line" id="l1215">   1215</a> &lt;a href=&quot;#l1196&quot; class=&quot;line&quot; id=&quot;l1196&quot;&gt;   1196&lt;/a&gt;     }
<a href="#l1216" class="line" id="l1216">   1216</a> &lt;a href=&quot;#l1197&quot; class=&quot;line&quot; id=&quot;l1197&quot;&gt;   1197&lt;/a&gt;   }
<a href="#l1217" class="line" id="l1217">   1217</a> &lt;a href=&quot;#l1198&quot; class=&quot;line&quot; id=&quot;l1198&quot;&gt;   1198&lt;/a&gt; 
<a href="#l1218" class="line" id="l1218">   1218</a> &lt;a href=&quot;#l1199&quot; class=&quot;line&quot; id=&quot;l1199&quot;&gt;   1199&lt;/a&gt;   // intersect curves in this column
<a href="#l1219" class="line" id="l1219">   1219</a> &lt;a href=&quot;#l1200&quot; class=&quot;line&quot; id=&quot;l1200&quot;&gt;   1200&lt;/a&gt;   {
<a href="#l1220" class="line" id="l1220">   1220</a> &lt;a href=&quot;#l1201&quot; class=&quot;line&quot; id=&quot;l1201&quot;&gt;   1201&lt;/a&gt;     int colIndex = gridCoord.x + uGridOffset.x;
<a href="#l1221" class="line" id="l1221">   1221</a> &lt;a href=&quot;#l1202&quot; class=&quot;line&quot; id=&quot;l1202&quot;&gt;   1202&lt;/a&gt;     vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);
<a href="#l1222" class="line" id="l1222">   1222</a> &lt;a href=&quot;#l1203&quot; class=&quot;line&quot; id=&quot;l1203&quot;&gt;   1203&lt;/a&gt;     int colStrokeIndex = getInt16(colInfo.xy);
<a href="#l1223" class="line" id="l1223">   1223</a> &lt;a href=&quot;#l1204&quot; class=&quot;line&quot; id=&quot;l1204&quot;&gt;   1204&lt;/a&gt;     int colStrokeCount = getInt16(colInfo.zw);
<a href="#l1224" class="line" id="l1224">   1224</a> &lt;a href=&quot;#l1205&quot; class=&quot;line&quot; id=&quot;l1205&quot;&gt;   1205&lt;/a&gt;     
<a href="#l1225" class="line" id="l1225">   1225</a> &lt;a href=&quot;#l1206&quot; class=&quot;line&quot; id=&quot;l1206&quot;&gt;   1206&lt;/a&gt;     for (int iColStroke = INT(0); iColStroke &amp;lt; N; iColStroke++) {
<a href="#l1226" class="line" id="l1226">   1226</a> &lt;a href=&quot;#l1207&quot; class=&quot;line&quot; id=&quot;l1207&quot;&gt;   1207&lt;/a&gt;       if (iColStroke &amp;gt;= colStrokeCount)
<a href="#l1227" class="line" id="l1227">   1227</a> &lt;a href=&quot;#l1208&quot; class=&quot;line&quot; id=&quot;l1208&quot;&gt;   1208&lt;/a&gt;         break;
<a href="#l1228" class="line" id="l1228">   1228</a> &lt;a href=&quot;#l1209&quot; class=&quot;line&quot; id=&quot;l1209&quot;&gt;   1209&lt;/a&gt; 
<a href="#l1229" class="line" id="l1229">   1229</a> &lt;a href=&quot;#l1210&quot; class=&quot;line&quot; id=&quot;l1210&quot;&gt;   1210&lt;/a&gt;       vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);
<a href="#l1230" class="line" id="l1230">   1230</a> &lt;a href=&quot;#l1211&quot; class=&quot;line&quot; id=&quot;l1211&quot;&gt;   1211&lt;/a&gt; 
<a href="#l1231" class="line" id="l1231">   1231</a> &lt;a href=&quot;#l1212&quot; class=&quot;line&quot; id=&quot;l1212&quot;&gt;   1212&lt;/a&gt;       int strokePos = getInt16(strokeIndices.xy);
<a href="#l1232" class="line" id="l1232">   1232</a> &lt;a href=&quot;#l1213&quot; class=&quot;line&quot; id=&quot;l1213&quot;&gt;   1213&lt;/a&gt;       vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
<a href="#l1233" class="line" id="l1233">   1233</a> &lt;a href=&quot;#l1214&quot; class=&quot;line&quot; id=&quot;l1214&quot;&gt;   1214&lt;/a&gt;       vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);
<a href="#l1234" class="line" id="l1234">   1234</a> &lt;a href=&quot;#l1215&quot; class=&quot;line&quot; id=&quot;l1215&quot;&gt;   1215&lt;/a&gt;       coverageY(stroke0.xy, stroke0.zw, stroke1.xy);
<a href="#l1235" class="line" id="l1235">   1235</a> &lt;a href=&quot;#l1216&quot; class=&quot;line&quot; id=&quot;l1216&quot;&gt;   1216&lt;/a&gt;     }
<a href="#l1236" class="line" id="l1236">   1236</a> &lt;a href=&quot;#l1217&quot; class=&quot;line&quot; id=&quot;l1217&quot;&gt;   1217&lt;/a&gt;   }
<a href="#l1237" class="line" id="l1237">   1237</a> &lt;a href=&quot;#l1218&quot; class=&quot;line&quot; id=&quot;l1218&quot;&gt;   1218&lt;/a&gt; 
<a href="#l1238" class="line" id="l1238">   1238</a> &lt;a href=&quot;#l1219&quot; class=&quot;line&quot; id=&quot;l1219&quot;&gt;   1219&lt;/a&gt;   weight = saturate(1.0 - weight * 2.0);
<a href="#l1239" class="line" id="l1239">   1239</a> &lt;a href=&quot;#l1220&quot; class=&quot;line&quot; id=&quot;l1220&quot;&gt;   1220&lt;/a&gt;   float distance = max(weight.x + weight.y, minDistance); // manhattan approx.
<a href="#l1240" class="line" id="l1240">   1240</a> &lt;a href=&quot;#l1221&quot; class=&quot;line&quot; id=&quot;l1221&quot;&gt;   1221&lt;/a&gt;   float antialias = abs(dot(coverage, weight) / distance);
<a href="#l1241" class="line" id="l1241">   1241</a> &lt;a href=&quot;#l1222&quot; class=&quot;line&quot; id=&quot;l1222&quot;&gt;   1222&lt;/a&gt;   float cover = min(abs(coverage.x), abs(coverage.y));
<a href="#l1242" class="line" id="l1242">   1242</a> &lt;a href=&quot;#l1223&quot; class=&quot;line&quot; id=&quot;l1223&quot;&gt;   1223&lt;/a&gt;   OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
<a href="#l1243" class="line" id="l1243">   1243</a> &lt;a href=&quot;#l1224&quot; class=&quot;line&quot; id=&quot;l1224&quot;&gt;   1224&lt;/a&gt;   OUT_COLOR *= saturate(max(antialias, cover));
<a href="#l1244" class="line" id="l1244">   1244</a> &lt;a href=&quot;#l1225&quot; class=&quot;line&quot; id=&quot;l1225&quot;&gt;   1225&lt;/a&gt; }
<a href="#l1245" class="line" id="l1245">   1245</a> &lt;a href=&quot;#l1226&quot; class=&quot;line&quot; id=&quot;l1226&quot;&gt;   1226&lt;/a&gt; `,Fb=`/*
<a href="#l1246" class="line" id="l1246">   1246</a> &lt;a href=&quot;#l1227&quot; class=&quot;line&quot; id=&quot;l1227&quot;&gt;   1227&lt;/a&gt;   Part of the Processing project - http://processing.org
<a href="#l1247" class="line" id="l1247">   1247</a> &lt;a href=&quot;#l1228&quot; class=&quot;line&quot; id=&quot;l1228&quot;&gt;   1228&lt;/a&gt;   Copyright (c) 2012-15 The Processing Foundation
<a href="#l1248" class="line" id="l1248">   1248</a> &lt;a href=&quot;#l1229&quot; class=&quot;line&quot; id=&quot;l1229&quot;&gt;   1229&lt;/a&gt;   Copyright (c) 2004-12 Ben Fry and Casey Reas
<a href="#l1249" class="line" id="l1249">   1249</a> &lt;a href=&quot;#l1230&quot; class=&quot;line&quot; id=&quot;l1230&quot;&gt;   1230&lt;/a&gt;   Copyright (c) 2001-04 Massachusetts Institute of Technology
<a href="#l1250" class="line" id="l1250">   1250</a> &lt;a href=&quot;#l1231&quot; class=&quot;line&quot; id=&quot;l1231&quot;&gt;   1231&lt;/a&gt;   This library is free software; you can redistribute it and/or
<a href="#l1251" class="line" id="l1251">   1251</a> &lt;a href=&quot;#l1232&quot; class=&quot;line&quot; id=&quot;l1232&quot;&gt;   1232&lt;/a&gt;   modify it under the terms of the GNU Lesser General Public
<a href="#l1252" class="line" id="l1252">   1252</a> &lt;a href=&quot;#l1233&quot; class=&quot;line&quot; id=&quot;l1233&quot;&gt;   1233&lt;/a&gt;   License as published by the Free Software Foundation, version 2.1.
<a href="#l1253" class="line" id="l1253">   1253</a> &lt;a href=&quot;#l1234&quot; class=&quot;line&quot; id=&quot;l1234&quot;&gt;   1234&lt;/a&gt;   This library is distributed in the hope that it will be useful,
<a href="#l1254" class="line" id="l1254">   1254</a> &lt;a href=&quot;#l1235&quot; class=&quot;line&quot; id=&quot;l1235&quot;&gt;   1235&lt;/a&gt;   but WITHOUT ANY WARRANTY; without even the implied warranty of
<a href="#l1255" class="line" id="l1255">   1255</a> &lt;a href=&quot;#l1236&quot; class=&quot;line&quot; id=&quot;l1236&quot;&gt;   1236&lt;/a&gt;   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
<a href="#l1256" class="line" id="l1256">   1256</a> &lt;a href=&quot;#l1237&quot; class=&quot;line&quot; id=&quot;l1237&quot;&gt;   1237&lt;/a&gt;   Lesser General Public License for more details.
<a href="#l1257" class="line" id="l1257">   1257</a> &lt;a href=&quot;#l1238&quot; class=&quot;line&quot; id=&quot;l1238&quot;&gt;   1238&lt;/a&gt;   You should have received a copy of the GNU Lesser General
<a href="#l1258" class="line" id="l1258">   1258</a> &lt;a href=&quot;#l1239&quot; class=&quot;line&quot; id=&quot;l1239&quot;&gt;   1239&lt;/a&gt;   Public License along with this library; if not, write to the
<a href="#l1259" class="line" id="l1259">   1259</a> &lt;a href=&quot;#l1240&quot; class=&quot;line&quot; id=&quot;l1240&quot;&gt;   1240&lt;/a&gt;   Free Software Foundation, Inc., 59 Temple Place, Suite 330,
<a href="#l1260" class="line" id="l1260">   1260</a> &lt;a href=&quot;#l1241&quot; class=&quot;line&quot; id=&quot;l1241&quot;&gt;   1241&lt;/a&gt;   Boston, MA  02111-1307  USA
<a href="#l1261" class="line" id="l1261">   1261</a> &lt;a href=&quot;#l1242&quot; class=&quot;line&quot; id=&quot;l1242&quot;&gt;   1242&lt;/a&gt; */
<a href="#l1262" class="line" id="l1262">   1262</a> &lt;a href=&quot;#l1243&quot; class=&quot;line&quot; id=&quot;l1243&quot;&gt;   1243&lt;/a&gt; 
<a href="#l1263" class="line" id="l1263">   1263</a> &lt;a href=&quot;#l1244&quot; class=&quot;line&quot; id=&quot;l1244&quot;&gt;   1244&lt;/a&gt; #define PROCESSING_LINE_SHADER
<a href="#l1264" class="line" id="l1264">   1264</a> &lt;a href=&quot;#l1245&quot; class=&quot;line&quot; id=&quot;l1245&quot;&gt;   1245&lt;/a&gt; 
<a href="#l1265" class="line" id="l1265">   1265</a> &lt;a href=&quot;#l1246&quot; class=&quot;line&quot; id=&quot;l1246&quot;&gt;   1246&lt;/a&gt; #define HOOK_DEFINES
<a href="#l1266" class="line" id="l1266">   1266</a> &lt;a href=&quot;#l1247&quot; class=&quot;line&quot; id=&quot;l1247&quot;&gt;   1247&lt;/a&gt; 
<a href="#l1267" class="line" id="l1267">   1267</a> &lt;a href=&quot;#l1248&quot; class=&quot;line&quot; id=&quot;l1248&quot;&gt;   1248&lt;/a&gt; precision highp int;
<a href="#l1268" class="line" id="l1268">   1268</a> &lt;a href=&quot;#l1249&quot; class=&quot;line&quot; id=&quot;l1249&quot;&gt;   1249&lt;/a&gt; precision highp float;
<a href="#l1269" class="line" id="l1269">   1269</a> &lt;a href=&quot;#l1250&quot; class=&quot;line&quot; id=&quot;l1250&quot;&gt;   1250&lt;/a&gt; 
<a href="#l1270" class="line" id="l1270">   1270</a> &lt;a href=&quot;#l1251&quot; class=&quot;line&quot; id=&quot;l1251&quot;&gt;   1251&lt;/a&gt; #ifdef AUGMENTED_HOOK_getWorldInputs
<a href="#l1271" class="line" id="l1271">   1271</a> &lt;a href=&quot;#l1252&quot; class=&quot;line&quot; id=&quot;l1252&quot;&gt;   1252&lt;/a&gt; uniform mat4 uModelMatrix;
<a href="#l1272" class="line" id="l1272">   1272</a> &lt;a href=&quot;#l1253&quot; class=&quot;line&quot; id=&quot;l1253&quot;&gt;   1253&lt;/a&gt; uniform mat4 uViewMatrix;
<a href="#l1273" class="line" id="l1273">   1273</a> &lt;a href=&quot;#l1254&quot; class=&quot;line&quot; id=&quot;l1254&quot;&gt;   1254&lt;/a&gt; #else
<a href="#l1274" class="line" id="l1274">   1274</a> &lt;a href=&quot;#l1255&quot; class=&quot;line&quot; id=&quot;l1255&quot;&gt;   1255&lt;/a&gt; uniform mat4 uModelViewMatrix;
<a href="#l1275" class="line" id="l1275">   1275</a> &lt;a href=&quot;#l1256&quot; class=&quot;line&quot; id=&quot;l1256&quot;&gt;   1256&lt;/a&gt; #endif
<a href="#l1276" class="line" id="l1276">   1276</a> &lt;a href=&quot;#l1257&quot; class=&quot;line&quot; id=&quot;l1257&quot;&gt;   1257&lt;/a&gt; 
<a href="#l1277" class="line" id="l1277">   1277</a> &lt;a href=&quot;#l1258&quot; class=&quot;line&quot; id=&quot;l1258&quot;&gt;   1258&lt;/a&gt; uniform mat4 uProjectionMatrix;
<a href="#l1278" class="line" id="l1278">   1278</a> &lt;a href=&quot;#l1259&quot; class=&quot;line&quot; id=&quot;l1259&quot;&gt;   1259&lt;/a&gt; uniform float uStrokeWeight;
<a href="#l1279" class="line" id="l1279">   1279</a> &lt;a href=&quot;#l1260&quot; class=&quot;line&quot; id=&quot;l1260&quot;&gt;   1260&lt;/a&gt; 
<a href="#l1280" class="line" id="l1280">   1280</a> &lt;a href=&quot;#l1261&quot; class=&quot;line&quot; id=&quot;l1261&quot;&gt;   1261&lt;/a&gt; uniform bool uUseLineColor;
<a href="#l1281" class="line" id="l1281">   1281</a> &lt;a href=&quot;#l1262&quot; class=&quot;line&quot; id=&quot;l1262&quot;&gt;   1262&lt;/a&gt; uniform bool uSimpleLines;
<a href="#l1282" class="line" id="l1282">   1282</a> &lt;a href=&quot;#l1263&quot; class=&quot;line&quot; id=&quot;l1263&quot;&gt;   1263&lt;/a&gt; uniform vec4 uMaterialColor;
<a href="#l1283" class="line" id="l1283">   1283</a> &lt;a href=&quot;#l1264&quot; class=&quot;line&quot; id=&quot;l1264&quot;&gt;   1264&lt;/a&gt; 
<a href="#l1284" class="line" id="l1284">   1284</a> &lt;a href=&quot;#l1265&quot; class=&quot;line&quot; id=&quot;l1265&quot;&gt;   1265&lt;/a&gt; uniform vec4 uViewport;
<a href="#l1285" class="line" id="l1285">   1285</a> &lt;a href=&quot;#l1266&quot; class=&quot;line&quot; id=&quot;l1266&quot;&gt;   1266&lt;/a&gt; uniform int uPerspective;
<a href="#l1286" class="line" id="l1286">   1286</a> &lt;a href=&quot;#l1267&quot; class=&quot;line&quot; id=&quot;l1267&quot;&gt;   1267&lt;/a&gt; uniform int uStrokeJoin;
<a href="#l1287" class="line" id="l1287">   1287</a> &lt;a href=&quot;#l1268&quot; class=&quot;line&quot; id=&quot;l1268&quot;&gt;   1268&lt;/a&gt; 
<a href="#l1288" class="line" id="l1288">   1288</a> &lt;a href=&quot;#l1269&quot; class=&quot;line&quot; id=&quot;l1269&quot;&gt;   1269&lt;/a&gt; IN vec3 aPosition;
<a href="#l1289" class="line" id="l1289">   1289</a> &lt;a href=&quot;#l1270&quot; class=&quot;line&quot; id=&quot;l1270&quot;&gt;   1270&lt;/a&gt; IN vec3 aTangentIn;
<a href="#l1290" class="line" id="l1290">   1290</a> &lt;a href=&quot;#l1271&quot; class=&quot;line&quot; id=&quot;l1271&quot;&gt;   1271&lt;/a&gt; IN vec3 aTangentOut;
<a href="#l1291" class="line" id="l1291">   1291</a> &lt;a href=&quot;#l1272&quot; class=&quot;line&quot; id=&quot;l1272&quot;&gt;   1272&lt;/a&gt; IN float aSide;
<a href="#l1292" class="line" id="l1292">   1292</a> &lt;a href=&quot;#l1273&quot; class=&quot;line&quot; id=&quot;l1273&quot;&gt;   1273&lt;/a&gt; IN vec4 aVertexColor;
<a href="#l1293" class="line" id="l1293">   1293</a> &lt;a href=&quot;#l1274&quot; class=&quot;line&quot; id=&quot;l1274&quot;&gt;   1274&lt;/a&gt; 
<a href="#l1294" class="line" id="l1294">   1294</a> &lt;a href=&quot;#l1275&quot; class=&quot;line&quot; id=&quot;l1275&quot;&gt;   1275&lt;/a&gt; OUT vec4 vColor;
<a href="#l1295" class="line" id="l1295">   1295</a> &lt;a href=&quot;#l1276&quot; class=&quot;line&quot; id=&quot;l1276&quot;&gt;   1276&lt;/a&gt; OUT vec2 vTangent;
<a href="#l1296" class="line" id="l1296">   1296</a> &lt;a href=&quot;#l1277&quot; class=&quot;line&quot; id=&quot;l1277&quot;&gt;   1277&lt;/a&gt; OUT vec2 vCenter;
<a href="#l1297" class="line" id="l1297">   1297</a> &lt;a href=&quot;#l1278&quot; class=&quot;line&quot; id=&quot;l1278&quot;&gt;   1278&lt;/a&gt; OUT vec2 vPosition;
<a href="#l1298" class="line" id="l1298">   1298</a> &lt;a href=&quot;#l1279&quot; class=&quot;line&quot; id=&quot;l1279&quot;&gt;   1279&lt;/a&gt; OUT float vMaxDist;
<a href="#l1299" class="line" id="l1299">   1299</a> &lt;a href=&quot;#l1280&quot; class=&quot;line&quot; id=&quot;l1280&quot;&gt;   1280&lt;/a&gt; OUT float vCap;
<a href="#l1300" class="line" id="l1300">   1300</a> &lt;a href=&quot;#l1281&quot; class=&quot;line&quot; id=&quot;l1281&quot;&gt;   1281&lt;/a&gt; OUT float vJoin;
<a href="#l1301" class="line" id="l1301">   1301</a> &lt;a href=&quot;#l1282&quot; class=&quot;line&quot; id=&quot;l1282&quot;&gt;   1282&lt;/a&gt; OUT float vStrokeWeight;
<a href="#l1302" class="line" id="l1302">   1302</a> &lt;a href=&quot;#l1283&quot; class=&quot;line&quot; id=&quot;l1283&quot;&gt;   1283&lt;/a&gt; 
<a href="#l1303" class="line" id="l1303">   1303</a> &lt;a href=&quot;#l1284&quot; class=&quot;line&quot; id=&quot;l1284&quot;&gt;   1284&lt;/a&gt; vec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {
<a href="#l1304" class="line" id="l1304">   1304</a> &lt;a href=&quot;#l1285&quot; class=&quot;line&quot; id=&quot;l1285&quot;&gt;   1285&lt;/a&gt;   // Rotate and translate so a starts at the origin and goes out to the right
<a href="#l1305" class="line" id="l1305">   1305</a> &lt;a href=&quot;#l1286&quot; class=&quot;line&quot; id=&quot;l1286&quot;&gt;   1286&lt;/a&gt;   bPoint -= aPoint;
<a href="#l1306" class="line" id="l1306">   1306</a> &lt;a href=&quot;#l1287&quot; class=&quot;line&quot; id=&quot;l1287&quot;&gt;   1287&lt;/a&gt;   vec2 rotatedBFrom = vec2(
<a href="#l1307" class="line" id="l1307">   1307</a> &lt;a href=&quot;#l1288&quot; class=&quot;line&quot; id=&quot;l1288&quot;&gt;   1288&lt;/a&gt;     bPoint.x*aDir.x + bPoint.y*aDir.y,
<a href="#l1308" class="line" id="l1308">   1308</a> &lt;a href=&quot;#l1289&quot; class=&quot;line&quot; id=&quot;l1289&quot;&gt;   1289&lt;/a&gt;     bPoint.y*aDir.x - bPoint.x*aDir.y
<a href="#l1309" class="line" id="l1309">   1309</a> &lt;a href=&quot;#l1290&quot; class=&quot;line&quot; id=&quot;l1290&quot;&gt;   1290&lt;/a&gt;   );
<a href="#l1310" class="line" id="l1310">   1310</a> &lt;a href=&quot;#l1291&quot; class=&quot;line&quot; id=&quot;l1291&quot;&gt;   1291&lt;/a&gt;   vec2 bTo = bPoint + bDir;
<a href="#l1311" class="line" id="l1311">   1311</a> &lt;a href=&quot;#l1292&quot; class=&quot;line&quot; id=&quot;l1292&quot;&gt;   1292&lt;/a&gt;   vec2 rotatedBTo = vec2(
<a href="#l1312" class="line" id="l1312">   1312</a> &lt;a href=&quot;#l1293&quot; class=&quot;line&quot; id=&quot;l1293&quot;&gt;   1293&lt;/a&gt;     bTo.x*aDir.x + bTo.y*aDir.y,
<a href="#l1313" class="line" id="l1313">   1313</a> &lt;a href=&quot;#l1294&quot; class=&quot;line&quot; id=&quot;l1294&quot;&gt;   1294&lt;/a&gt;     bTo.y*aDir.x - bTo.x*aDir.y
<a href="#l1314" class="line" id="l1314">   1314</a> &lt;a href=&quot;#l1295&quot; class=&quot;line&quot; id=&quot;l1295&quot;&gt;   1295&lt;/a&gt;   );
<a href="#l1315" class="line" id="l1315">   1315</a> &lt;a href=&quot;#l1296&quot; class=&quot;line&quot; id=&quot;l1296&quot;&gt;   1296&lt;/a&gt;   float intersectionDistance =
<a href="#l1316" class="line" id="l1316">   1316</a> &lt;a href=&quot;#l1297&quot; class=&quot;line&quot; id=&quot;l1297&quot;&gt;   1297&lt;/a&gt;     rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /
<a href="#l1317" class="line" id="l1317">   1317</a> &lt;a href=&quot;#l1298&quot; class=&quot;line&quot; id=&quot;l1298&quot;&gt;   1298&lt;/a&gt;     (rotatedBTo.y - rotatedBFrom.y);
<a href="#l1318" class="line" id="l1318">   1318</a> &lt;a href=&quot;#l1299&quot; class=&quot;line&quot; id=&quot;l1299&quot;&gt;   1299&lt;/a&gt;   return aPoint + aDir * intersectionDistance;
<a href="#l1319" class="line" id="l1319">   1319</a> &lt;a href=&quot;#l1300&quot; class=&quot;line&quot; id=&quot;l1300&quot;&gt;   1300&lt;/a&gt; }
<a href="#l1320" class="line" id="l1320">   1320</a> &lt;a href=&quot;#l1301&quot; class=&quot;line&quot; id=&quot;l1301&quot;&gt;   1301&lt;/a&gt; 
<a href="#l1321" class="line" id="l1321">   1321</a> &lt;a href=&quot;#l1302&quot; class=&quot;line&quot; id=&quot;l1302&quot;&gt;   1302&lt;/a&gt; struct StrokeVertex {
<a href="#l1322" class="line" id="l1322">   1322</a> &lt;a href=&quot;#l1303&quot; class=&quot;line&quot; id=&quot;l1303&quot;&gt;   1303&lt;/a&gt;   vec3 position;
<a href="#l1323" class="line" id="l1323">   1323</a> &lt;a href=&quot;#l1304&quot; class=&quot;line&quot; id=&quot;l1304&quot;&gt;   1304&lt;/a&gt;   vec3 tangentIn;
<a href="#l1324" class="line" id="l1324">   1324</a> &lt;a href=&quot;#l1305&quot; class=&quot;line&quot; id=&quot;l1305&quot;&gt;   1305&lt;/a&gt;   vec3 tangentOut;
<a href="#l1325" class="line" id="l1325">   1325</a> &lt;a href=&quot;#l1306&quot; class=&quot;line&quot; id=&quot;l1306&quot;&gt;   1306&lt;/a&gt;   vec4 color;
<a href="#l1326" class="line" id="l1326">   1326</a> &lt;a href=&quot;#l1307&quot; class=&quot;line&quot; id=&quot;l1307&quot;&gt;   1307&lt;/a&gt;   float weight;
<a href="#l1327" class="line" id="l1327">   1327</a> &lt;a href=&quot;#l1308&quot; class=&quot;line&quot; id=&quot;l1308&quot;&gt;   1308&lt;/a&gt; };
<a href="#l1328" class="line" id="l1328">   1328</a> &lt;a href=&quot;#l1309&quot; class=&quot;line&quot; id=&quot;l1309&quot;&gt;   1309&lt;/a&gt; 
<a href="#l1329" class="line" id="l1329">   1329</a> &lt;a href=&quot;#l1310&quot; class=&quot;line&quot; id=&quot;l1310&quot;&gt;   1310&lt;/a&gt; void main() {
<a href="#l1330" class="line" id="l1330">   1330</a> &lt;a href=&quot;#l1311&quot; class=&quot;line&quot; id=&quot;l1311&quot;&gt;   1311&lt;/a&gt;   HOOK_beforeVertex();
<a href="#l1331" class="line" id="l1331">   1331</a> &lt;a href=&quot;#l1312&quot; class=&quot;line&quot; id=&quot;l1312&quot;&gt;   1312&lt;/a&gt; 
<a href="#l1332" class="line" id="l1332">   1332</a> &lt;a href=&quot;#l1313&quot; class=&quot;line&quot; id=&quot;l1313&quot;&gt;   1313&lt;/a&gt;   if (!uSimpleLines) {
<a href="#l1333" class="line" id="l1333">   1333</a> &lt;a href=&quot;#l1314&quot; class=&quot;line&quot; id=&quot;l1314&quot;&gt;   1314&lt;/a&gt;       // Caps have one of either the in or out tangent set to 0
<a href="#l1334" class="line" id="l1334">   1334</a> &lt;a href=&quot;#l1315&quot; class=&quot;line&quot; id=&quot;l1315&quot;&gt;   1315&lt;/a&gt;       vCap = (aTangentIn == vec3(0.)) != (aTangentOut == vec3(0.)) ? 1. : 0.;
<a href="#l1335" class="line" id="l1335">   1335</a> &lt;a href=&quot;#l1316&quot; class=&quot;line&quot; id=&quot;l1316&quot;&gt;   1316&lt;/a&gt; 
<a href="#l1336" class="line" id="l1336">   1336</a> &lt;a href=&quot;#l1317&quot; class=&quot;line&quot; id=&quot;l1317&quot;&gt;   1317&lt;/a&gt;       // Joins have two unique, defined tangents
<a href="#l1337" class="line" id="l1337">   1337</a> &lt;a href=&quot;#l1318&quot; class=&quot;line&quot; id=&quot;l1318&quot;&gt;   1318&lt;/a&gt;       vJoin = (
<a href="#l1338" class="line" id="l1338">   1338</a> &lt;a href=&quot;#l1319&quot; class=&quot;line&quot; id=&quot;l1319&quot;&gt;   1319&lt;/a&gt;           aTangentIn != vec3(0.) &amp;amp;&amp;amp;
<a href="#l1339" class="line" id="l1339">   1339</a> &lt;a href=&quot;#l1320&quot; class=&quot;line&quot; id=&quot;l1320&quot;&gt;   1320&lt;/a&gt;           aTangentOut != vec3(0.) &amp;amp;&amp;amp;
<a href="#l1340" class="line" id="l1340">   1340</a> &lt;a href=&quot;#l1321&quot; class=&quot;line&quot; id=&quot;l1321&quot;&gt;   1321&lt;/a&gt;           aTangentIn != aTangentOut
<a href="#l1341" class="line" id="l1341">   1341</a> &lt;a href=&quot;#l1322&quot; class=&quot;line&quot; id=&quot;l1322&quot;&gt;   1322&lt;/a&gt;       ) ? 1. : 0.;
<a href="#l1342" class="line" id="l1342">   1342</a> &lt;a href=&quot;#l1323&quot; class=&quot;line&quot; id=&quot;l1323&quot;&gt;   1323&lt;/a&gt;   }
<a href="#l1343" class="line" id="l1343">   1343</a> &lt;a href=&quot;#l1324&quot; class=&quot;line&quot; id=&quot;l1324&quot;&gt;   1324&lt;/a&gt; 
<a href="#l1344" class="line" id="l1344">   1344</a> &lt;a href=&quot;#l1325&quot; class=&quot;line&quot; id=&quot;l1325&quot;&gt;   1325&lt;/a&gt;   StrokeVertex inputs;
<a href="#l1345" class="line" id="l1345">   1345</a> &lt;a href=&quot;#l1326&quot; class=&quot;line&quot; id=&quot;l1326&quot;&gt;   1326&lt;/a&gt;   inputs.position = aPosition.xyz;
<a href="#l1346" class="line" id="l1346">   1346</a> &lt;a href=&quot;#l1327&quot; class=&quot;line&quot; id=&quot;l1327&quot;&gt;   1327&lt;/a&gt;   inputs.color = uUseLineColor ? aVertexColor : uMaterialColor;
<a href="#l1347" class="line" id="l1347">   1347</a> &lt;a href=&quot;#l1328&quot; class=&quot;line&quot; id=&quot;l1328&quot;&gt;   1328&lt;/a&gt;   inputs.weight = uStrokeWeight;
<a href="#l1348" class="line" id="l1348">   1348</a> &lt;a href=&quot;#l1329&quot; class=&quot;line&quot; id=&quot;l1329&quot;&gt;   1329&lt;/a&gt;   inputs.tangentIn = aTangentIn;
<a href="#l1349" class="line" id="l1349">   1349</a> &lt;a href=&quot;#l1330&quot; class=&quot;line&quot; id=&quot;l1330&quot;&gt;   1330&lt;/a&gt;   inputs.tangentOut = aTangentOut;
<a href="#l1350" class="line" id="l1350">   1350</a> &lt;a href=&quot;#l1331&quot; class=&quot;line&quot; id=&quot;l1331&quot;&gt;   1331&lt;/a&gt; 
<a href="#l1351" class="line" id="l1351">   1351</a> &lt;a href=&quot;#l1332&quot; class=&quot;line&quot; id=&quot;l1332&quot;&gt;   1332&lt;/a&gt; #ifdef AUGMENTED_HOOK_getObjectInputs
<a href="#l1352" class="line" id="l1352">   1352</a> &lt;a href=&quot;#l1333&quot; class=&quot;line&quot; id=&quot;l1333&quot;&gt;   1333&lt;/a&gt;   inputs = HOOK_getObjectInputs(inputs);
<a href="#l1353" class="line" id="l1353">   1353</a> &lt;a href=&quot;#l1334&quot; class=&quot;line&quot; id=&quot;l1334&quot;&gt;   1334&lt;/a&gt; #endif
<a href="#l1354" class="line" id="l1354">   1354</a> &lt;a href=&quot;#l1335&quot; class=&quot;line&quot; id=&quot;l1335&quot;&gt;   1335&lt;/a&gt; 
<a href="#l1355" class="line" id="l1355">   1355</a> &lt;a href=&quot;#l1336&quot; class=&quot;line&quot; id=&quot;l1336&quot;&gt;   1336&lt;/a&gt; #ifdef AUGMENTED_HOOK_getWorldInputs
<a href="#l1356" class="line" id="l1356">   1356</a> &lt;a href=&quot;#l1337&quot; class=&quot;line&quot; id=&quot;l1337&quot;&gt;   1337&lt;/a&gt;   inputs.position = (uModelMatrix * vec4(inputs.position, 1.)).xyz;
<a href="#l1357" class="line" id="l1357">   1357</a> &lt;a href=&quot;#l1338&quot; class=&quot;line&quot; id=&quot;l1338&quot;&gt;   1338&lt;/a&gt;   inputs.tangentIn = (uModelMatrix * vec4(aTangentIn, 0.)).xyz;
<a href="#l1358" class="line" id="l1358">   1358</a> &lt;a href=&quot;#l1339&quot; class=&quot;line&quot; id=&quot;l1339&quot;&gt;   1339&lt;/a&gt;   inputs.tangentOut = (uModelMatrix * vec4(aTangentOut, 0.)).xyz;
<a href="#l1359" class="line" id="l1359">   1359</a> &lt;a href=&quot;#l1340&quot; class=&quot;line&quot; id=&quot;l1340&quot;&gt;   1340&lt;/a&gt;   inputs = HOOK_getWorldInputs(inputs);
<a href="#l1360" class="line" id="l1360">   1360</a> &lt;a href=&quot;#l1341&quot; class=&quot;line&quot; id=&quot;l1341&quot;&gt;   1341&lt;/a&gt; #endif
<a href="#l1361" class="line" id="l1361">   1361</a> &lt;a href=&quot;#l1342&quot; class=&quot;line&quot; id=&quot;l1342&quot;&gt;   1342&lt;/a&gt; 
<a href="#l1362" class="line" id="l1362">   1362</a> &lt;a href=&quot;#l1343&quot; class=&quot;line&quot; id=&quot;l1343&quot;&gt;   1343&lt;/a&gt; #ifdef AUGMENTED_HOOK_getWorldInputs
<a href="#l1363" class="line" id="l1363">   1363</a> &lt;a href=&quot;#l1344&quot; class=&quot;line&quot; id=&quot;l1344&quot;&gt;   1344&lt;/a&gt;   // Already multiplied by the model matrix, just apply view
<a href="#l1364" class="line" id="l1364">   1364</a> &lt;a href=&quot;#l1345&quot; class=&quot;line&quot; id=&quot;l1345&quot;&gt;   1345&lt;/a&gt;   inputs.position = (uViewMatrix * vec4(inputs.position, 1.)).xyz;
<a href="#l1365" class="line" id="l1365">   1365</a> &lt;a href=&quot;#l1346&quot; class=&quot;line&quot; id=&quot;l1346&quot;&gt;   1346&lt;/a&gt;   inputs.tangentIn = (uViewMatrix * vec4(aTangentIn, 0.)).xyz;
<a href="#l1366" class="line" id="l1366">   1366</a> &lt;a href=&quot;#l1347&quot; class=&quot;line&quot; id=&quot;l1347&quot;&gt;   1347&lt;/a&gt;   inputs.tangentOut = (uViewMatrix * vec4(aTangentOut, 0.)).xyz;
<a href="#l1367" class="line" id="l1367">   1367</a> &lt;a href=&quot;#l1348&quot; class=&quot;line&quot; id=&quot;l1348&quot;&gt;   1348&lt;/a&gt; #else
<a href="#l1368" class="line" id="l1368">   1368</a> &lt;a href=&quot;#l1349&quot; class=&quot;line&quot; id=&quot;l1349&quot;&gt;   1349&lt;/a&gt;   // Apply both at once
<a href="#l1369" class="line" id="l1369">   1369</a> &lt;a href=&quot;#l1350&quot; class=&quot;line&quot; id=&quot;l1350&quot;&gt;   1350&lt;/a&gt;   inputs.position = (uModelViewMatrix * vec4(inputs.position, 1.)).xyz;
<a href="#l1370" class="line" id="l1370">   1370</a> &lt;a href=&quot;#l1351&quot; class=&quot;line&quot; id=&quot;l1351&quot;&gt;   1351&lt;/a&gt;   inputs.tangentIn = (uModelViewMatrix * vec4(aTangentIn, 0.)).xyz;
<a href="#l1371" class="line" id="l1371">   1371</a> &lt;a href=&quot;#l1352&quot; class=&quot;line&quot; id=&quot;l1352&quot;&gt;   1352&lt;/a&gt;   inputs.tangentOut = (uModelViewMatrix * vec4(aTangentOut, 0.)).xyz;
<a href="#l1372" class="line" id="l1372">   1372</a> &lt;a href=&quot;#l1353&quot; class=&quot;line&quot; id=&quot;l1353&quot;&gt;   1353&lt;/a&gt; #endif
<a href="#l1373" class="line" id="l1373">   1373</a> &lt;a href=&quot;#l1354&quot; class=&quot;line&quot; id=&quot;l1354&quot;&gt;   1354&lt;/a&gt; #ifdef AUGMENTED_HOOK_getCameraInputs
<a href="#l1374" class="line" id="l1374">   1374</a> &lt;a href=&quot;#l1355&quot; class=&quot;line&quot; id=&quot;l1355&quot;&gt;   1355&lt;/a&gt;   inputs = hook_getCameraInputs(inputs);
<a href="#l1375" class="line" id="l1375">   1375</a> &lt;a href=&quot;#l1356&quot; class=&quot;line&quot; id=&quot;l1356&quot;&gt;   1356&lt;/a&gt; #endif
<a href="#l1376" class="line" id="l1376">   1376</a> &lt;a href=&quot;#l1357&quot; class=&quot;line&quot; id=&quot;l1357&quot;&gt;   1357&lt;/a&gt; 
<a href="#l1377" class="line" id="l1377">   1377</a> &lt;a href=&quot;#l1358&quot; class=&quot;line&quot; id=&quot;l1358&quot;&gt;   1358&lt;/a&gt;   vec4 posp = vec4(inputs.position, 1.);
<a href="#l1378" class="line" id="l1378">   1378</a> &lt;a href=&quot;#l1359&quot; class=&quot;line&quot; id=&quot;l1359&quot;&gt;   1359&lt;/a&gt;   vec4 posqIn = vec4(inputs.position + inputs.tangentIn, 1.);
<a href="#l1379" class="line" id="l1379">   1379</a> &lt;a href=&quot;#l1360&quot; class=&quot;line&quot; id=&quot;l1360&quot;&gt;   1360&lt;/a&gt;   vec4 posqOut = vec4(inputs.position + inputs.tangentOut, 1.);
<a href="#l1380" class="line" id="l1380">   1380</a> &lt;a href=&quot;#l1361&quot; class=&quot;line&quot; id=&quot;l1361&quot;&gt;   1361&lt;/a&gt;   vStrokeWeight = inputs.weight;
<a href="#l1381" class="line" id="l1381">   1381</a> &lt;a href=&quot;#l1362&quot; class=&quot;line&quot; id=&quot;l1362&quot;&gt;   1362&lt;/a&gt; 
<a href="#l1382" class="line" id="l1382">   1382</a> &lt;a href=&quot;#l1363&quot; class=&quot;line&quot; id=&quot;l1363&quot;&gt;   1363&lt;/a&gt;   float facingCamera = pow(
<a href="#l1383" class="line" id="l1383">   1383</a> &lt;a href=&quot;#l1364&quot; class=&quot;line&quot; id=&quot;l1364&quot;&gt;   1364&lt;/a&gt;     // The word space tangent&amp;#39;s z value is 0 if it&amp;#39;s facing the camera
<a href="#l1384" class="line" id="l1384">   1384</a> &lt;a href=&quot;#l1365&quot; class=&quot;line&quot; id=&quot;l1365&quot;&gt;   1365&lt;/a&gt;     abs(normalize(posqIn-posp).z),
<a href="#l1385" class="line" id="l1385">   1385</a> &lt;a href=&quot;#l1366&quot; class=&quot;line&quot; id=&quot;l1366&quot;&gt;   1366&lt;/a&gt; 
<a href="#l1386" class="line" id="l1386">   1386</a> &lt;a href=&quot;#l1367&quot; class=&quot;line&quot; id=&quot;l1367&quot;&gt;   1367&lt;/a&gt;     // Using pow() here to ramp \`facingCamera\` up from 0 to 1 really quickly
<a href="#l1387" class="line" id="l1387">   1387</a> &lt;a href=&quot;#l1368&quot; class=&quot;line&quot; id=&quot;l1368&quot;&gt;   1368&lt;/a&gt;     // so most lines get scaled and don&amp;#39;t get clipped
<a href="#l1388" class="line" id="l1388">   1388</a> &lt;a href=&quot;#l1369&quot; class=&quot;line&quot; id=&quot;l1369&quot;&gt;   1369&lt;/a&gt;     0.25
<a href="#l1389" class="line" id="l1389">   1389</a> &lt;a href=&quot;#l1370&quot; class=&quot;line&quot; id=&quot;l1370&quot;&gt;   1370&lt;/a&gt;   );
<a href="#l1390" class="line" id="l1390">   1390</a> &lt;a href=&quot;#l1371&quot; class=&quot;line&quot; id=&quot;l1371&quot;&gt;   1371&lt;/a&gt; 
<a href="#l1391" class="line" id="l1391">   1391</a> &lt;a href=&quot;#l1372&quot; class=&quot;line&quot; id=&quot;l1372&quot;&gt;   1372&lt;/a&gt;   // Moving vertices slightly toward the camera
<a href="#l1392" class="line" id="l1392">   1392</a> &lt;a href=&quot;#l1373&quot; class=&quot;line&quot; id=&quot;l1373&quot;&gt;   1373&lt;/a&gt;   // to avoid depth-fighting with the fill triangles.
<a href="#l1393" class="line" id="l1393">   1393</a> &lt;a href=&quot;#l1374&quot; class=&quot;line&quot; id=&quot;l1374&quot;&gt;   1374&lt;/a&gt;   // A mix of scaling and offsetting is used based on distance
<a href="#l1394" class="line" id="l1394">   1394</a> &lt;a href=&quot;#l1375&quot; class=&quot;line&quot; id=&quot;l1375&quot;&gt;   1375&lt;/a&gt;   // Discussion here:
<a href="#l1395" class="line" id="l1395">   1395</a> &lt;a href=&quot;#l1376&quot; class=&quot;line&quot; id=&quot;l1376&quot;&gt;   1376&lt;/a&gt;   // https://github.com/processing/p5.js/issues/7200 
<a href="#l1396" class="line" id="l1396">   1396</a> &lt;a href=&quot;#l1377&quot; class=&quot;line&quot; id=&quot;l1377&quot;&gt;   1377&lt;/a&gt; 
<a href="#l1397" class="line" id="l1397">   1397</a> &lt;a href=&quot;#l1378&quot; class=&quot;line&quot; id=&quot;l1378&quot;&gt;   1378&lt;/a&gt;   // using a scale &amp;lt;1 moves the lines towards nearby camera
<a href="#l1398" class="line" id="l1398">   1398</a> &lt;a href=&quot;#l1379&quot; class=&quot;line&quot; id=&quot;l1379&quot;&gt;   1379&lt;/a&gt;   // in order to prevent popping effects due to half of
<a href="#l1399" class="line" id="l1399">   1399</a> &lt;a href=&quot;#l1380&quot; class=&quot;line&quot; id=&quot;l1380&quot;&gt;   1380&lt;/a&gt;   // the line disappearing behind the geometry faces.
<a href="#l1400" class="line" id="l1400">   1400</a> &lt;a href=&quot;#l1381&quot; class=&quot;line&quot; id=&quot;l1381&quot;&gt;   1381&lt;/a&gt;   float zDistance = -posp.z; 
<a href="#l1401" class="line" id="l1401">   1401</a> &lt;a href=&quot;#l1382&quot; class=&quot;line&quot; id=&quot;l1382&quot;&gt;   1382&lt;/a&gt;   float distanceFactor = smoothstep(0.0, 800.0, zDistance); 
<a href="#l1402" class="line" id="l1402">   1402</a> &lt;a href=&quot;#l1383&quot; class=&quot;line&quot; id=&quot;l1383&quot;&gt;   1383&lt;/a&gt;   
<a href="#l1403" class="line" id="l1403">   1403</a> &lt;a href=&quot;#l1384&quot; class=&quot;line&quot; id=&quot;l1384&quot;&gt;   1384&lt;/a&gt;   // Discussed here:
<a href="#l1404" class="line" id="l1404">   1404</a> &lt;a href=&quot;#l1385&quot; class=&quot;line&quot; id=&quot;l1385&quot;&gt;   1385&lt;/a&gt;   // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&amp;amp;Number=252848  
<a href="#l1405" class="line" id="l1405">   1405</a> &lt;a href=&quot;#l1386&quot; class=&quot;line&quot; id=&quot;l1386&quot;&gt;   1386&lt;/a&gt;   float scale = mix(1., 0.995, facingCamera);
<a href="#l1406" class="line" id="l1406">   1406</a> &lt;a href=&quot;#l1387&quot; class=&quot;line&quot; id=&quot;l1387&quot;&gt;   1387&lt;/a&gt;   float dynamicScale = mix(scale, 1.0, distanceFactor); // Closer = more scale, farther = less
<a href="#l1407" class="line" id="l1407">   1407</a> &lt;a href=&quot;#l1388&quot; class=&quot;line&quot; id=&quot;l1388&quot;&gt;   1388&lt;/a&gt; 
<a href="#l1408" class="line" id="l1408">   1408</a> &lt;a href=&quot;#l1389&quot; class=&quot;line&quot; id=&quot;l1389&quot;&gt;   1389&lt;/a&gt;   posp.xyz = posp.xyz * dynamicScale;
<a href="#l1409" class="line" id="l1409">   1409</a> &lt;a href=&quot;#l1390&quot; class=&quot;line&quot; id=&quot;l1390&quot;&gt;   1390&lt;/a&gt;   posqIn.xyz = posqIn.xyz * dynamicScale;
<a href="#l1410" class="line" id="l1410">   1410</a> &lt;a href=&quot;#l1391&quot; class=&quot;line&quot; id=&quot;l1391&quot;&gt;   1391&lt;/a&gt;   posqOut.xyz = posqOut.xyz * dynamicScale;
<a href="#l1411" class="line" id="l1411">   1411</a> &lt;a href=&quot;#l1392&quot; class=&quot;line&quot; id=&quot;l1392&quot;&gt;   1392&lt;/a&gt; 
<a href="#l1412" class="line" id="l1412">   1412</a> &lt;a href=&quot;#l1393&quot; class=&quot;line&quot; id=&quot;l1393&quot;&gt;   1393&lt;/a&gt;   // Moving vertices slightly toward camera when far away 
<a href="#l1413" class="line" id="l1413">   1413</a> &lt;a href=&quot;#l1394&quot; class=&quot;line&quot; id=&quot;l1394&quot;&gt;   1394&lt;/a&gt;   // https://github.com/processing/p5.js/issues/6956 
<a href="#l1414" class="line" id="l1414">   1414</a> &lt;a href=&quot;#l1395&quot; class=&quot;line&quot; id=&quot;l1395&quot;&gt;   1395&lt;/a&gt;   float zOffset = mix(0., -1., facingCamera);
<a href="#l1415" class="line" id="l1415">   1415</a> &lt;a href=&quot;#l1396&quot; class=&quot;line&quot; id=&quot;l1396&quot;&gt;   1396&lt;/a&gt;   float dynamicZAdjustment = mix(0.0, zOffset, distanceFactor); // Closer = less zAdjustment, farther = more
<a href="#l1416" class="line" id="l1416">   1416</a> &lt;a href=&quot;#l1397&quot; class=&quot;line&quot; id=&quot;l1397&quot;&gt;   1397&lt;/a&gt; 
<a href="#l1417" class="line" id="l1417">   1417</a> &lt;a href=&quot;#l1398&quot; class=&quot;line&quot; id=&quot;l1398&quot;&gt;   1398&lt;/a&gt;   posp.z -= dynamicZAdjustment;
<a href="#l1418" class="line" id="l1418">   1418</a> &lt;a href=&quot;#l1399&quot; class=&quot;line&quot; id=&quot;l1399&quot;&gt;   1399&lt;/a&gt;   posqIn.z -= dynamicZAdjustment;
<a href="#l1419" class="line" id="l1419">   1419</a> &lt;a href=&quot;#l1400&quot; class=&quot;line&quot; id=&quot;l1400&quot;&gt;   1400&lt;/a&gt;   posqOut.z -= dynamicZAdjustment;
<a href="#l1420" class="line" id="l1420">   1420</a> &lt;a href=&quot;#l1401&quot; class=&quot;line&quot; id=&quot;l1401&quot;&gt;   1401&lt;/a&gt;   
<a href="#l1421" class="line" id="l1421">   1421</a> &lt;a href=&quot;#l1402&quot; class=&quot;line&quot; id=&quot;l1402&quot;&gt;   1402&lt;/a&gt;   vec4 p = uProjectionMatrix * posp;
<a href="#l1422" class="line" id="l1422">   1422</a> &lt;a href=&quot;#l1403&quot; class=&quot;line&quot; id=&quot;l1403&quot;&gt;   1403&lt;/a&gt;   vec4 qIn = uProjectionMatrix * posqIn;
<a href="#l1423" class="line" id="l1423">   1423</a> &lt;a href=&quot;#l1404&quot; class=&quot;line&quot; id=&quot;l1404&quot;&gt;   1404&lt;/a&gt;   vec4 qOut = uProjectionMatrix * posqOut;
<a href="#l1424" class="line" id="l1424">   1424</a> &lt;a href=&quot;#l1405&quot; class=&quot;line&quot; id=&quot;l1405&quot;&gt;   1405&lt;/a&gt; 
<a href="#l1425" class="line" id="l1425">   1425</a> &lt;a href=&quot;#l1406&quot; class=&quot;line&quot; id=&quot;l1406&quot;&gt;   1406&lt;/a&gt;   // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])
<a href="#l1426" class="line" id="l1426">   1426</a> &lt;a href=&quot;#l1407&quot; class=&quot;line&quot; id=&quot;l1407&quot;&gt;   1407&lt;/a&gt;   // screen_p = (p.xy/p.w + &amp;lt;1,1&amp;gt;) * 0.5 * uViewport.zw
<a href="#l1427" class="line" id="l1427">   1427</a> &lt;a href=&quot;#l1408&quot; class=&quot;line&quot; id=&quot;l1408&quot;&gt;   1408&lt;/a&gt; 
<a href="#l1428" class="line" id="l1428">   1428</a> &lt;a href=&quot;#l1409&quot; class=&quot;line&quot; id=&quot;l1409&quot;&gt;   1409&lt;/a&gt;   // prevent division by W by transforming the tangent formula (div by 0 causes
<a href="#l1429" class="line" id="l1429">   1429</a> &lt;a href=&quot;#l1410&quot; class=&quot;line&quot; id=&quot;l1410&quot;&gt;   1410&lt;/a&gt;   // the line to disappear, see https://github.com/processing/processing/issues/5183)
<a href="#l1430" class="line" id="l1430">   1430</a> &lt;a href=&quot;#l1411&quot; class=&quot;line&quot; id=&quot;l1411&quot;&gt;   1411&lt;/a&gt;   // t = screen_q - screen_p
<a href="#l1431" class="line" id="l1431">   1431</a> &lt;a href=&quot;#l1412&quot; class=&quot;line&quot; id=&quot;l1412&quot;&gt;   1412&lt;/a&gt;   //
<a href="#l1432" class="line" id="l1432">   1432</a> &lt;a href=&quot;#l1413&quot; class=&quot;line&quot; id=&quot;l1413&quot;&gt;   1413&lt;/a&gt;   // tangent is normalized and we don&amp;#39;t care which aDirection it points to (+-)
<a href="#l1433" class="line" id="l1433">   1433</a> &lt;a href=&quot;#l1414&quot; class=&quot;line&quot; id=&quot;l1414&quot;&gt;   1414&lt;/a&gt;   // t = +- normalize( screen_q - screen_p )
<a href="#l1434" class="line" id="l1434">   1434</a> &lt;a href=&quot;#l1415&quot; class=&quot;line&quot; id=&quot;l1415&quot;&gt;   1415&lt;/a&gt;   // t = +- normalize( (q.xy/q.w+&amp;lt;1,1&amp;gt;)*0.5*uViewport.zw - (p.xy/p.w+&amp;lt;1,1&amp;gt;)*0.5*uViewport.zw )
<a href="#l1435" class="line" id="l1435">   1435</a> &lt;a href=&quot;#l1416&quot; class=&quot;line&quot; id=&quot;l1416&quot;&gt;   1416&lt;/a&gt;   //
<a href="#l1436" class="line" id="l1436">   1436</a> &lt;a href=&quot;#l1417&quot; class=&quot;line&quot; id=&quot;l1417&quot;&gt;   1417&lt;/a&gt;   // extract common factor, &amp;lt;1,1&amp;gt; - &amp;lt;1,1&amp;gt; cancels out
<a href="#l1437" class="line" id="l1437">   1437</a> &lt;a href=&quot;#l1418&quot; class=&quot;line&quot; id=&quot;l1418&quot;&gt;   1418&lt;/a&gt;   // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )
<a href="#l1438" class="line" id="l1438">   1438</a> &lt;a href=&quot;#l1419&quot; class=&quot;line&quot; id=&quot;l1419&quot;&gt;   1419&lt;/a&gt;   //
<a href="#l1439" class="line" id="l1439">   1439</a> &lt;a href=&quot;#l1420&quot; class=&quot;line&quot; id=&quot;l1420&quot;&gt;   1420&lt;/a&gt;   // convert to common divisor
<a href="#l1440" class="line" id="l1440">   1440</a> &lt;a href=&quot;#l1421&quot; class=&quot;line&quot; id=&quot;l1421&quot;&gt;   1421&lt;/a&gt;   // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )
<a href="#l1441" class="line" id="l1441">   1441</a> &lt;a href=&quot;#l1422&quot; class=&quot;line&quot; id=&quot;l1422&quot;&gt;   1422&lt;/a&gt;   //
<a href="#l1442" class="line" id="l1442">   1442</a> &lt;a href=&quot;#l1423&quot; class=&quot;line&quot; id=&quot;l1423&quot;&gt;   1423&lt;/a&gt;   // remove the common scalar divisor/factor, not needed due to normalize and +-
<a href="#l1443" class="line" id="l1443">   1443</a> &lt;a href=&quot;#l1424&quot; class=&quot;line&quot; id=&quot;l1424&quot;&gt;   1424&lt;/a&gt;   // (keep uViewport - can&amp;#39;t remove because it has different components for x and y
<a href="#l1444" class="line" id="l1444">   1444</a> &lt;a href=&quot;#l1425&quot; class=&quot;line&quot; id=&quot;l1425&quot;&gt;   1425&lt;/a&gt;   //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)
<a href="#l1445" class="line" id="l1445">   1445</a> &lt;a href=&quot;#l1426&quot; class=&quot;line&quot; id=&quot;l1426&quot;&gt;   1426&lt;/a&gt;   // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )
<a href="#l1446" class="line" id="l1446">   1446</a> &lt;a href=&quot;#l1427&quot; class=&quot;line&quot; id=&quot;l1427&quot;&gt;   1427&lt;/a&gt; 
<a href="#l1447" class="line" id="l1447">   1447</a> &lt;a href=&quot;#l1428&quot; class=&quot;line&quot; id=&quot;l1428&quot;&gt;   1428&lt;/a&gt;   vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);
<a href="#l1448" class="line" id="l1448">   1448</a> &lt;a href=&quot;#l1429&quot; class=&quot;line&quot; id=&quot;l1429&quot;&gt;   1429&lt;/a&gt;   vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);
<a href="#l1449" class="line" id="l1449">   1449</a> &lt;a href=&quot;#l1430&quot; class=&quot;line&quot; id=&quot;l1430&quot;&gt;   1430&lt;/a&gt; 
<a href="#l1450" class="line" id="l1450">   1450</a> &lt;a href=&quot;#l1431&quot; class=&quot;line&quot; id=&quot;l1431&quot;&gt;   1431&lt;/a&gt;   vec2 curPerspScale;
<a href="#l1451" class="line" id="l1451">   1451</a> &lt;a href=&quot;#l1432&quot; class=&quot;line&quot; id=&quot;l1432&quot;&gt;   1432&lt;/a&gt;   if(uPerspective == 1) {
<a href="#l1452" class="line" id="l1452">   1452</a> &lt;a href=&quot;#l1433&quot; class=&quot;line&quot; id=&quot;l1433&quot;&gt;   1433&lt;/a&gt;     // Perspective ---
<a href="#l1453" class="line" id="l1453">   1453</a> &lt;a href=&quot;#l1434&quot; class=&quot;line&quot; id=&quot;l1434&quot;&gt;   1434&lt;/a&gt;     // convert from world to clip by multiplying with projection scaling factor
<a href="#l1454" class="line" id="l1454">   1454</a> &lt;a href=&quot;#l1435&quot; class=&quot;line&quot; id=&quot;l1435&quot;&gt;   1435&lt;/a&gt;     // to get the right thickness (see https://github.com/processing/processing/issues/5182)
<a href="#l1455" class="line" id="l1455">   1455</a> &lt;a href=&quot;#l1436&quot; class=&quot;line&quot; id=&quot;l1436&quot;&gt;   1436&lt;/a&gt; 
<a href="#l1456" class="line" id="l1456">   1456</a> &lt;a href=&quot;#l1437&quot; class=&quot;line&quot; id=&quot;l1437&quot;&gt;   1437&lt;/a&gt;     // The y value of the projection matrix may be flipped if rendering to a Framebuffer.
<a href="#l1457" class="line" id="l1457">   1457</a> &lt;a href=&quot;#l1438&quot; class=&quot;line&quot; id=&quot;l1438&quot;&gt;   1438&lt;/a&gt;     // Multiplying again by its sign here negates the flip to get just the scale.
<a href="#l1458" class="line" id="l1458">   1458</a> &lt;a href=&quot;#l1439&quot; class=&quot;line&quot; id=&quot;l1439&quot;&gt;   1439&lt;/a&gt;     curPerspScale = (uProjectionMatrix * vec4(1, sign(uProjectionMatrix[1][1]), 0, 0)).xy;
<a href="#l1459" class="line" id="l1459">   1459</a> &lt;a href=&quot;#l1440&quot; class=&quot;line&quot; id=&quot;l1440&quot;&gt;   1440&lt;/a&gt;   } else {
<a href="#l1460" class="line" id="l1460">   1460</a> &lt;a href=&quot;#l1441&quot; class=&quot;line&quot; id=&quot;l1441&quot;&gt;   1441&lt;/a&gt;     // No Perspective ---
<a href="#l1461" class="line" id="l1461">   1461</a> &lt;a href=&quot;#l1442&quot; class=&quot;line&quot; id=&quot;l1442&quot;&gt;   1442&lt;/a&gt;     // multiply by W (to cancel out division by W later in the pipeline) and
<a href="#l1462" class="line" id="l1462">   1462</a> &lt;a href=&quot;#l1443&quot; class=&quot;line&quot; id=&quot;l1443&quot;&gt;   1443&lt;/a&gt;     // convert from screen to clip (derived from clip to screen above)
<a href="#l1463" class="line" id="l1463">   1463</a> &lt;a href=&quot;#l1444&quot; class=&quot;line&quot; id=&quot;l1444&quot;&gt;   1444&lt;/a&gt;     curPerspScale = p.w / (0.5 * uViewport.zw);
<a href="#l1464" class="line" id="l1464">   1464</a> &lt;a href=&quot;#l1445&quot; class=&quot;line&quot; id=&quot;l1445&quot;&gt;   1445&lt;/a&gt;   }
<a href="#l1465" class="line" id="l1465">   1465</a> &lt;a href=&quot;#l1446&quot; class=&quot;line&quot; id=&quot;l1446&quot;&gt;   1446&lt;/a&gt; 
<a href="#l1466" class="line" id="l1466">   1466</a> &lt;a href=&quot;#l1447&quot; class=&quot;line&quot; id=&quot;l1447&quot;&gt;   1447&lt;/a&gt;   vec2 offset;
<a href="#l1467" class="line" id="l1467">   1467</a> &lt;a href=&quot;#l1448&quot; class=&quot;line&quot; id=&quot;l1448&quot;&gt;   1448&lt;/a&gt;   if (vJoin == 1. &amp;amp;&amp;amp; !uSimpleLines) {
<a href="#l1468" class="line" id="l1468">   1468</a> &lt;a href=&quot;#l1449&quot; class=&quot;line&quot; id=&quot;l1449&quot;&gt;   1449&lt;/a&gt;     vTangent = normalize(tangentIn + tangentOut);
<a href="#l1469" class="line" id="l1469">   1469</a> &lt;a href=&quot;#l1450&quot; class=&quot;line&quot; id=&quot;l1450&quot;&gt;   1450&lt;/a&gt;     vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);
<a href="#l1470" class="line" id="l1470">   1470</a> &lt;a href=&quot;#l1451&quot; class=&quot;line&quot; id=&quot;l1451&quot;&gt;   1451&lt;/a&gt;     vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);
<a href="#l1471" class="line" id="l1471">   1471</a> &lt;a href=&quot;#l1452&quot; class=&quot;line&quot; id=&quot;l1452&quot;&gt;   1452&lt;/a&gt;     float side = sign(aSide);
<a href="#l1472" class="line" id="l1472">   1472</a> &lt;a href=&quot;#l1453&quot; class=&quot;line&quot; id=&quot;l1453&quot;&gt;   1453&lt;/a&gt;     float sideEnum = abs(aSide);
<a href="#l1473" class="line" id="l1473">   1473</a> &lt;a href=&quot;#l1454&quot; class=&quot;line&quot; id=&quot;l1454&quot;&gt;   1454&lt;/a&gt; 
<a href="#l1474" class="line" id="l1474">   1474</a> &lt;a href=&quot;#l1455&quot; class=&quot;line&quot; id=&quot;l1455&quot;&gt;   1455&lt;/a&gt;     // We generate vertices for joins on either side of the centerline, but
<a href="#l1475" class="line" id="l1475">   1475</a> &lt;a href=&quot;#l1456&quot; class=&quot;line&quot; id=&quot;l1456&quot;&gt;   1456&lt;/a&gt;     // the &amp;quot;elbow&amp;quot; side is the only one needing a join. By not setting the
<a href="#l1476" class="line" id="l1476">   1476</a> &lt;a href=&quot;#l1457&quot; class=&quot;line&quot; id=&quot;l1457&quot;&gt;   1457&lt;/a&gt;     // offset for the other side, all its vertices will end up in the same
<a href="#l1477" class="line" id="l1477">   1477</a> &lt;a href=&quot;#l1458&quot; class=&quot;line&quot; id=&quot;l1458&quot;&gt;   1458&lt;/a&gt;     // spot and not render, effectively discarding it.
<a href="#l1478" class="line" id="l1478">   1478</a> &lt;a href=&quot;#l1459&quot; class=&quot;line&quot; id=&quot;l1459&quot;&gt;   1459&lt;/a&gt;     if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {
<a href="#l1479" class="line" id="l1479">   1479</a> &lt;a href=&quot;#l1460&quot; class=&quot;line&quot; id=&quot;l1460&quot;&gt;   1460&lt;/a&gt;       // Side enums:
<a href="#l1480" class="line" id="l1480">   1480</a> &lt;a href=&quot;#l1461&quot; class=&quot;line&quot; id=&quot;l1461&quot;&gt;   1461&lt;/a&gt;       //   1: the side going into the join
<a href="#l1481" class="line" id="l1481">   1481</a> &lt;a href=&quot;#l1462&quot; class=&quot;line&quot; id=&quot;l1462&quot;&gt;   1462&lt;/a&gt;       //   2: the middle of the join
<a href="#l1482" class="line" id="l1482">   1482</a> &lt;a href=&quot;#l1463&quot; class=&quot;line&quot; id=&quot;l1463&quot;&gt;   1463&lt;/a&gt;       //   3: the side going out of the join
<a href="#l1483" class="line" id="l1483">   1483</a> &lt;a href=&quot;#l1464&quot; class=&quot;line&quot; id=&quot;l1464&quot;&gt;   1464&lt;/a&gt;       if (sideEnum == 2.) {
<a href="#l1484" class="line" id="l1484">   1484</a> &lt;a href=&quot;#l1465&quot; class=&quot;line&quot; id=&quot;l1465&quot;&gt;   1465&lt;/a&gt;         // Calculate the position + tangent on either side of the join, and
<a href="#l1485" class="line" id="l1485">   1485</a> &lt;a href=&quot;#l1466&quot; class=&quot;line&quot; id=&quot;l1466&quot;&gt;   1466&lt;/a&gt;         // find where the lines intersect to find the elbow of the join
<a href="#l1486" class="line" id="l1486">   1486</a> &lt;a href=&quot;#l1467&quot; class=&quot;line&quot; id=&quot;l1467&quot;&gt;   1467&lt;/a&gt;         vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;
<a href="#l1487" class="line" id="l1487">   1487</a> &lt;a href=&quot;#l1468&quot; class=&quot;line&quot; id=&quot;l1468&quot;&gt;   1468&lt;/a&gt;         vec2 intersection = lineIntersection(
<a href="#l1488" class="line" id="l1488">   1488</a> &lt;a href=&quot;#l1469&quot; class=&quot;line&quot; id=&quot;l1469&quot;&gt;   1469&lt;/a&gt;           c + (side * normalIn * inputs.weight / 2.),
<a href="#l1489" class="line" id="l1489">   1489</a> &lt;a href=&quot;#l1470&quot; class=&quot;line&quot; id=&quot;l1470&quot;&gt;   1470&lt;/a&gt;           tangentIn,
<a href="#l1490" class="line" id="l1490">   1490</a> &lt;a href=&quot;#l1471&quot; class=&quot;line&quot; id=&quot;l1471&quot;&gt;   1471&lt;/a&gt;           c + (side * normalOut * inputs.weight / 2.),
<a href="#l1491" class="line" id="l1491">   1491</a> &lt;a href=&quot;#l1472&quot; class=&quot;line&quot; id=&quot;l1472&quot;&gt;   1472&lt;/a&gt;           tangentOut
<a href="#l1492" class="line" id="l1492">   1492</a> &lt;a href=&quot;#l1473&quot; class=&quot;line&quot; id=&quot;l1473&quot;&gt;   1473&lt;/a&gt;         );
<a href="#l1493" class="line" id="l1493">   1493</a> &lt;a href=&quot;#l1474&quot; class=&quot;line&quot; id=&quot;l1474&quot;&gt;   1474&lt;/a&gt;         offset = (intersection - c);
<a href="#l1494" class="line" id="l1494">   1494</a> &lt;a href=&quot;#l1475&quot; class=&quot;line&quot; id=&quot;l1475&quot;&gt;   1475&lt;/a&gt; 
<a href="#l1495" class="line" id="l1495">   1495</a> &lt;a href=&quot;#l1476&quot; class=&quot;line&quot; id=&quot;l1476&quot;&gt;   1476&lt;/a&gt;         // When lines are thick and the angle of the join approaches 180, the
<a href="#l1496" class="line" id="l1496">   1496</a> &lt;a href=&quot;#l1477&quot; class=&quot;line&quot; id=&quot;l1477&quot;&gt;   1477&lt;/a&gt;         // elbow might be really far from the center. We&amp;#39;ll apply a limit to
<a href="#l1497" class="line" id="l1497">   1497</a> &lt;a href=&quot;#l1478&quot; class=&quot;line&quot; id=&quot;l1478&quot;&gt;   1478&lt;/a&gt;         // the magnitude to avoid lines going across the whole screen when this
<a href="#l1498" class="line" id="l1498">   1498</a> &lt;a href=&quot;#l1479&quot; class=&quot;line&quot; id=&quot;l1479&quot;&gt;   1479&lt;/a&gt;         // happens.
<a href="#l1499" class="line" id="l1499">   1499</a> &lt;a href=&quot;#l1480&quot; class=&quot;line&quot; id=&quot;l1480&quot;&gt;   1480&lt;/a&gt;         float mag = length(offset);
<a href="#l1500" class="line" id="l1500">   1500</a> &lt;a href=&quot;#l1481&quot; class=&quot;line&quot; id=&quot;l1481&quot;&gt;   1481&lt;/a&gt;         float maxMag = 3. * inputs.weight;
<a href="#l1501" class="line" id="l1501">   1501</a> &lt;a href=&quot;#l1482&quot; class=&quot;line&quot; id=&quot;l1482&quot;&gt;   1482&lt;/a&gt;         if (mag &amp;gt; maxMag) {
<a href="#l1502" class="line" id="l1502">   1502</a> &lt;a href=&quot;#l1483&quot; class=&quot;line&quot; id=&quot;l1483&quot;&gt;   1483&lt;/a&gt;           offset *= maxMag / mag;
<a href="#l1503" class="line" id="l1503">   1503</a> &lt;a href=&quot;#l1484&quot; class=&quot;line&quot; id=&quot;l1484&quot;&gt;   1484&lt;/a&gt;         }
<a href="#l1504" class="line" id="l1504">   1504</a> &lt;a href=&quot;#l1485&quot; class=&quot;line&quot; id=&quot;l1485&quot;&gt;   1485&lt;/a&gt;       } else if (sideEnum == 1.) {
<a href="#l1505" class="line" id="l1505">   1505</a> &lt;a href=&quot;#l1486&quot; class=&quot;line&quot; id=&quot;l1486&quot;&gt;   1486&lt;/a&gt;         offset = side * normalIn * inputs.weight / 2.;
<a href="#l1506" class="line" id="l1506">   1506</a> &lt;a href=&quot;#l1487&quot; class=&quot;line&quot; id=&quot;l1487&quot;&gt;   1487&lt;/a&gt;       } else if (sideEnum == 3.) {
<a href="#l1507" class="line" id="l1507">   1507</a> &lt;a href=&quot;#l1488&quot; class=&quot;line&quot; id=&quot;l1488&quot;&gt;   1488&lt;/a&gt;         offset = side * normalOut * inputs.weight / 2.;
<a href="#l1508" class="line" id="l1508">   1508</a> &lt;a href=&quot;#l1489&quot; class=&quot;line&quot; id=&quot;l1489&quot;&gt;   1489&lt;/a&gt;       }
<a href="#l1509" class="line" id="l1509">   1509</a> &lt;a href=&quot;#l1490&quot; class=&quot;line&quot; id=&quot;l1490&quot;&gt;   1490&lt;/a&gt;     }
<a href="#l1510" class="line" id="l1510">   1510</a> &lt;a href=&quot;#l1491&quot; class=&quot;line&quot; id=&quot;l1491&quot;&gt;   1491&lt;/a&gt;     if (uStrokeJoin == STROKE_JOIN_BEVEL) {
<a href="#l1511" class="line" id="l1511">   1511</a> &lt;a href=&quot;#l1492&quot; class=&quot;line&quot; id=&quot;l1492&quot;&gt;   1492&lt;/a&gt;       vec2 avgNormal = vec2(-vTangent.y, vTangent.x);
<a href="#l1512" class="line" id="l1512">   1512</a> &lt;a href=&quot;#l1493&quot; class=&quot;line&quot; id=&quot;l1493&quot;&gt;   1493&lt;/a&gt;       vMaxDist = abs(dot(avgNormal, normalIn * inputs.weight / 2.));
<a href="#l1513" class="line" id="l1513">   1513</a> &lt;a href=&quot;#l1494&quot; class=&quot;line&quot; id=&quot;l1494&quot;&gt;   1494&lt;/a&gt;     } else {
<a href="#l1514" class="line" id="l1514">   1514</a> &lt;a href=&quot;#l1495&quot; class=&quot;line&quot; id=&quot;l1495&quot;&gt;   1495&lt;/a&gt;       vMaxDist = inputs.weight / 2.;
<a href="#l1515" class="line" id="l1515">   1515</a> &lt;a href=&quot;#l1496&quot; class=&quot;line&quot; id=&quot;l1496&quot;&gt;   1496&lt;/a&gt;     }
<a href="#l1516" class="line" id="l1516">   1516</a> &lt;a href=&quot;#l1497&quot; class=&quot;line&quot; id=&quot;l1497&quot;&gt;   1497&lt;/a&gt;   } else {
<a href="#l1517" class="line" id="l1517">   1517</a> &lt;a href=&quot;#l1498&quot; class=&quot;line&quot; id=&quot;l1498&quot;&gt;   1498&lt;/a&gt;     vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;
<a href="#l1518" class="line" id="l1518">   1518</a> &lt;a href=&quot;#l1499&quot; class=&quot;line&quot; id=&quot;l1499&quot;&gt;   1499&lt;/a&gt;     vTangent = tangent;
<a href="#l1519" class="line" id="l1519">   1519</a> &lt;a href=&quot;#l1500&quot; class=&quot;line&quot; id=&quot;l1500&quot;&gt;   1500&lt;/a&gt;     vec2 normal = vec2(-tangent.y, tangent.x);
<a href="#l1520" class="line" id="l1520">   1520</a> &lt;a href=&quot;#l1501&quot; class=&quot;line&quot; id=&quot;l1501&quot;&gt;   1501&lt;/a&gt; 
<a href="#l1521" class="line" id="l1521">   1521</a> &lt;a href=&quot;#l1502&quot; class=&quot;line&quot; id=&quot;l1502&quot;&gt;   1502&lt;/a&gt;     float normalOffset = sign(aSide);
<a href="#l1522" class="line" id="l1522">   1522</a> &lt;a href=&quot;#l1503&quot; class=&quot;line&quot; id=&quot;l1503&quot;&gt;   1503&lt;/a&gt;     // Caps will have side values of -2 or 2 on the edge of the cap that
<a href="#l1523" class="line" id="l1523">   1523</a> &lt;a href=&quot;#l1504&quot; class=&quot;line&quot; id=&quot;l1504&quot;&gt;   1504&lt;/a&gt;     // extends out from the line
<a href="#l1524" class="line" id="l1524">   1524</a> &lt;a href=&quot;#l1505&quot; class=&quot;line&quot; id=&quot;l1505&quot;&gt;   1505&lt;/a&gt;     float tangentOffset = abs(aSide) - 1.;
<a href="#l1525" class="line" id="l1525">   1525</a> &lt;a href=&quot;#l1506&quot; class=&quot;line&quot; id=&quot;l1506&quot;&gt;   1506&lt;/a&gt;     offset = (normal * normalOffset + tangent * tangentOffset) *
<a href="#l1526" class="line" id="l1526">   1526</a> &lt;a href=&quot;#l1507&quot; class=&quot;line&quot; id=&quot;l1507&quot;&gt;   1507&lt;/a&gt;       inputs.weight * 0.5;
<a href="#l1527" class="line" id="l1527">   1527</a> &lt;a href=&quot;#l1508&quot; class=&quot;line&quot; id=&quot;l1508&quot;&gt;   1508&lt;/a&gt;     vMaxDist = inputs.weight / 2.;
<a href="#l1528" class="line" id="l1528">   1528</a> &lt;a href=&quot;#l1509&quot; class=&quot;line&quot; id=&quot;l1509&quot;&gt;   1509&lt;/a&gt;   }
<a href="#l1529" class="line" id="l1529">   1529</a> &lt;a href=&quot;#l1510&quot; class=&quot;line&quot; id=&quot;l1510&quot;&gt;   1510&lt;/a&gt; 
<a href="#l1530" class="line" id="l1530">   1530</a> &lt;a href=&quot;#l1511&quot; class=&quot;line&quot; id=&quot;l1511&quot;&gt;   1511&lt;/a&gt;   vCenter = p.xy;
<a href="#l1531" class="line" id="l1531">   1531</a> &lt;a href=&quot;#l1512&quot; class=&quot;line&quot; id=&quot;l1512&quot;&gt;   1512&lt;/a&gt;   vPosition = vCenter + offset;
<a href="#l1532" class="line" id="l1532">   1532</a> &lt;a href=&quot;#l1513&quot; class=&quot;line&quot; id=&quot;l1513&quot;&gt;   1513&lt;/a&gt;   vColor = inputs.color;
<a href="#l1533" class="line" id="l1533">   1533</a> &lt;a href=&quot;#l1514&quot; class=&quot;line&quot; id=&quot;l1514&quot;&gt;   1514&lt;/a&gt; 
<a href="#l1534" class="line" id="l1534">   1534</a> &lt;a href=&quot;#l1515&quot; class=&quot;line&quot; id=&quot;l1515&quot;&gt;   1515&lt;/a&gt;   gl_Position.xy = p.xy + offset.xy * curPerspScale;
<a href="#l1535" class="line" id="l1535">   1535</a> &lt;a href=&quot;#l1516&quot; class=&quot;line&quot; id=&quot;l1516&quot;&gt;   1516&lt;/a&gt;   gl_Position.zw = p.zw;
<a href="#l1536" class="line" id="l1536">   1536</a> &lt;a href=&quot;#l1517&quot; class=&quot;line&quot; id=&quot;l1517&quot;&gt;   1517&lt;/a&gt;   
<a href="#l1537" class="line" id="l1537">   1537</a> &lt;a href=&quot;#l1518&quot; class=&quot;line&quot; id=&quot;l1518&quot;&gt;   1518&lt;/a&gt;   HOOK_afterVertex();
<a href="#l1538" class="line" id="l1538">   1538</a> &lt;a href=&quot;#l1519&quot; class=&quot;line&quot; id=&quot;l1519&quot;&gt;   1519&lt;/a&gt; }
<a href="#l1539" class="line" id="l1539">   1539</a> &lt;a href=&quot;#l1520&quot; class=&quot;line&quot; id=&quot;l1520&quot;&gt;   1520&lt;/a&gt; `,Tb=`precision highp int;
<a href="#l1540" class="line" id="l1540">   1540</a> &lt;a href=&quot;#l1521&quot; class=&quot;line&quot; id=&quot;l1521&quot;&gt;   1521&lt;/a&gt; precision highp float;
<a href="#l1541" class="line" id="l1541">   1541</a> &lt;a href=&quot;#l1522&quot; class=&quot;line&quot; id=&quot;l1522&quot;&gt;   1522&lt;/a&gt; 
<a href="#l1542" class="line" id="l1542">   1542</a> &lt;a href=&quot;#l1523&quot; class=&quot;line&quot; id=&quot;l1523&quot;&gt;   1523&lt;/a&gt; uniform vec4 uMaterialColor;
<a href="#l1543" class="line" id="l1543">   1543</a> &lt;a href=&quot;#l1524&quot; class=&quot;line&quot; id=&quot;l1524&quot;&gt;   1524&lt;/a&gt; uniform int uStrokeCap;
<a href="#l1544" class="line" id="l1544">   1544</a> &lt;a href=&quot;#l1525&quot; class=&quot;line&quot; id=&quot;l1525&quot;&gt;   1525&lt;/a&gt; uniform int uStrokeJoin;
<a href="#l1545" class="line" id="l1545">   1545</a> &lt;a href=&quot;#l1526&quot; class=&quot;line&quot; id=&quot;l1526&quot;&gt;   1526&lt;/a&gt; 
<a href="#l1546" class="line" id="l1546">   1546</a> &lt;a href=&quot;#l1527&quot; class=&quot;line&quot; id=&quot;l1527&quot;&gt;   1527&lt;/a&gt; IN vec4 vColor;
<a href="#l1547" class="line" id="l1547">   1547</a> &lt;a href=&quot;#l1528&quot; class=&quot;line&quot; id=&quot;l1528&quot;&gt;   1528&lt;/a&gt; IN vec2 vTangent;
<a href="#l1548" class="line" id="l1548">   1548</a> &lt;a href=&quot;#l1529&quot; class=&quot;line&quot; id=&quot;l1529&quot;&gt;   1529&lt;/a&gt; IN vec2 vCenter;
<a href="#l1549" class="line" id="l1549">   1549</a> &lt;a href=&quot;#l1530&quot; class=&quot;line&quot; id=&quot;l1530&quot;&gt;   1530&lt;/a&gt; IN vec2 vPosition;
<a href="#l1550" class="line" id="l1550">   1550</a> &lt;a href=&quot;#l1531&quot; class=&quot;line&quot; id=&quot;l1531&quot;&gt;   1531&lt;/a&gt; IN float vStrokeWeight;
<a href="#l1551" class="line" id="l1551">   1551</a> &lt;a href=&quot;#l1532&quot; class=&quot;line&quot; id=&quot;l1532&quot;&gt;   1532&lt;/a&gt; IN float vMaxDist;
<a href="#l1552" class="line" id="l1552">   1552</a> &lt;a href=&quot;#l1533&quot; class=&quot;line&quot; id=&quot;l1533&quot;&gt;   1533&lt;/a&gt; IN float vCap;
<a href="#l1553" class="line" id="l1553">   1553</a> &lt;a href=&quot;#l1534&quot; class=&quot;line&quot; id=&quot;l1534&quot;&gt;   1534&lt;/a&gt; IN float vJoin;
<a href="#l1554" class="line" id="l1554">   1554</a> &lt;a href=&quot;#l1535&quot; class=&quot;line&quot; id=&quot;l1535&quot;&gt;   1535&lt;/a&gt; 
<a href="#l1555" class="line" id="l1555">   1555</a> &lt;a href=&quot;#l1536&quot; class=&quot;line&quot; id=&quot;l1536&quot;&gt;   1536&lt;/a&gt; float distSquared(vec2 a, vec2 b) {
<a href="#l1556" class="line" id="l1556">   1556</a> &lt;a href=&quot;#l1537&quot; class=&quot;line&quot; id=&quot;l1537&quot;&gt;   1537&lt;/a&gt;   vec2 aToB = b - a;
<a href="#l1557" class="line" id="l1557">   1557</a> &lt;a href=&quot;#l1538&quot; class=&quot;line&quot; id=&quot;l1538&quot;&gt;   1538&lt;/a&gt;   return dot(aToB, aToB);
<a href="#l1558" class="line" id="l1558">   1558</a> &lt;a href=&quot;#l1539&quot; class=&quot;line&quot; id=&quot;l1539&quot;&gt;   1539&lt;/a&gt; }
<a href="#l1559" class="line" id="l1559">   1559</a> &lt;a href=&quot;#l1540&quot; class=&quot;line&quot; id=&quot;l1540&quot;&gt;   1540&lt;/a&gt; 
<a href="#l1560" class="line" id="l1560">   1560</a> &lt;a href=&quot;#l1541&quot; class=&quot;line&quot; id=&quot;l1541&quot;&gt;   1541&lt;/a&gt; struct Inputs {
<a href="#l1561" class="line" id="l1561">   1561</a> &lt;a href=&quot;#l1542&quot; class=&quot;line&quot; id=&quot;l1542&quot;&gt;   1542&lt;/a&gt;   vec4 color;
<a href="#l1562" class="line" id="l1562">   1562</a> &lt;a href=&quot;#l1543&quot; class=&quot;line&quot; id=&quot;l1543&quot;&gt;   1543&lt;/a&gt;   vec2 tangent;
<a href="#l1563" class="line" id="l1563">   1563</a> &lt;a href=&quot;#l1544&quot; class=&quot;line&quot; id=&quot;l1544&quot;&gt;   1544&lt;/a&gt;   vec2 center;
<a href="#l1564" class="line" id="l1564">   1564</a> &lt;a href=&quot;#l1545&quot; class=&quot;line&quot; id=&quot;l1545&quot;&gt;   1545&lt;/a&gt;   vec2 position;
<a href="#l1565" class="line" id="l1565">   1565</a> &lt;a href=&quot;#l1546&quot; class=&quot;line&quot; id=&quot;l1546&quot;&gt;   1546&lt;/a&gt;   float strokeWeight;
<a href="#l1566" class="line" id="l1566">   1566</a> &lt;a href=&quot;#l1547&quot; class=&quot;line&quot; id=&quot;l1547&quot;&gt;   1547&lt;/a&gt; };
<a href="#l1567" class="line" id="l1567">   1567</a> &lt;a href=&quot;#l1548&quot; class=&quot;line&quot; id=&quot;l1548&quot;&gt;   1548&lt;/a&gt; 
<a href="#l1568" class="line" id="l1568">   1568</a> &lt;a href=&quot;#l1549&quot; class=&quot;line&quot; id=&quot;l1549&quot;&gt;   1549&lt;/a&gt; void main() {
<a href="#l1569" class="line" id="l1569">   1569</a> &lt;a href=&quot;#l1550&quot; class=&quot;line&quot; id=&quot;l1550&quot;&gt;   1550&lt;/a&gt;   HOOK_beforeFragment();
<a href="#l1570" class="line" id="l1570">   1570</a> &lt;a href=&quot;#l1551&quot; class=&quot;line&quot; id=&quot;l1551&quot;&gt;   1551&lt;/a&gt; 
<a href="#l1571" class="line" id="l1571">   1571</a> &lt;a href=&quot;#l1552&quot; class=&quot;line&quot; id=&quot;l1552&quot;&gt;   1552&lt;/a&gt;   Inputs inputs;
<a href="#l1572" class="line" id="l1572">   1572</a> &lt;a href=&quot;#l1553&quot; class=&quot;line&quot; id=&quot;l1553&quot;&gt;   1553&lt;/a&gt;   inputs.color = vColor;
<a href="#l1573" class="line" id="l1573">   1573</a> &lt;a href=&quot;#l1554&quot; class=&quot;line&quot; id=&quot;l1554&quot;&gt;   1554&lt;/a&gt;   inputs.tangent = vTangent;
<a href="#l1574" class="line" id="l1574">   1574</a> &lt;a href=&quot;#l1555&quot; class=&quot;line&quot; id=&quot;l1555&quot;&gt;   1555&lt;/a&gt;   inputs.center = vCenter;
<a href="#l1575" class="line" id="l1575">   1575</a> &lt;a href=&quot;#l1556&quot; class=&quot;line&quot; id=&quot;l1556&quot;&gt;   1556&lt;/a&gt;   inputs.position = vPosition;
<a href="#l1576" class="line" id="l1576">   1576</a> &lt;a href=&quot;#l1557&quot; class=&quot;line&quot; id=&quot;l1557&quot;&gt;   1557&lt;/a&gt;   inputs.strokeWeight = vStrokeWeight;
<a href="#l1577" class="line" id="l1577">   1577</a> &lt;a href=&quot;#l1558&quot; class=&quot;line&quot; id=&quot;l1558&quot;&gt;   1558&lt;/a&gt;   inputs = HOOK_getPixelInputs(inputs);
<a href="#l1578" class="line" id="l1578">   1578</a> &lt;a href=&quot;#l1559&quot; class=&quot;line&quot; id=&quot;l1559&quot;&gt;   1559&lt;/a&gt; 
<a href="#l1579" class="line" id="l1579">   1579</a> &lt;a href=&quot;#l1560&quot; class=&quot;line&quot; id=&quot;l1560&quot;&gt;   1560&lt;/a&gt;   if (vCap &amp;gt; 0.) {
<a href="#l1580" class="line" id="l1580">   1580</a> &lt;a href=&quot;#l1561&quot; class=&quot;line&quot; id=&quot;l1561&quot;&gt;   1561&lt;/a&gt;     if (
<a href="#l1581" class="line" id="l1581">   1581</a> &lt;a href=&quot;#l1562&quot; class=&quot;line&quot; id=&quot;l1562&quot;&gt;   1562&lt;/a&gt;       uStrokeCap == STROKE_CAP_ROUND &amp;amp;&amp;amp;
<a href="#l1582" class="line" id="l1582">   1582</a> &lt;a href=&quot;#l1563&quot; class=&quot;line&quot; id=&quot;l1563&quot;&gt;   1563&lt;/a&gt;       HOOK_shouldDiscard(distSquared(inputs.position, inputs.center) &amp;gt; inputs.strokeWeight * inputs.strokeWeight * 0.25)
<a href="#l1583" class="line" id="l1583">   1583</a> &lt;a href=&quot;#l1564&quot; class=&quot;line&quot; id=&quot;l1564&quot;&gt;   1564&lt;/a&gt;     ) {
<a href="#l1584" class="line" id="l1584">   1584</a> &lt;a href=&quot;#l1565&quot; class=&quot;line&quot; id=&quot;l1565&quot;&gt;   1565&lt;/a&gt;       discard;
<a href="#l1585" class="line" id="l1585">   1585</a> &lt;a href=&quot;#l1566&quot; class=&quot;line&quot; id=&quot;l1566&quot;&gt;   1566&lt;/a&gt;     } else if (
<a href="#l1586" class="line" id="l1586">   1586</a> &lt;a href=&quot;#l1567&quot; class=&quot;line&quot; id=&quot;l1567&quot;&gt;   1567&lt;/a&gt;       uStrokeCap == STROKE_CAP_SQUARE &amp;amp;&amp;amp;
<a href="#l1587" class="line" id="l1587">   1587</a> &lt;a href=&quot;#l1568&quot; class=&quot;line&quot; id=&quot;l1568&quot;&gt;   1568&lt;/a&gt;       HOOK_shouldDiscard(dot(inputs.position - inputs.center, inputs.tangent) &amp;gt; 0.)
<a href="#l1588" class="line" id="l1588">   1588</a> &lt;a href=&quot;#l1569&quot; class=&quot;line&quot; id=&quot;l1569&quot;&gt;   1569&lt;/a&gt;     ) {
<a href="#l1589" class="line" id="l1589">   1589</a> &lt;a href=&quot;#l1570&quot; class=&quot;line&quot; id=&quot;l1570&quot;&gt;   1570&lt;/a&gt;       discard;
<a href="#l1590" class="line" id="l1590">   1590</a> &lt;a href=&quot;#l1571&quot; class=&quot;line&quot; id=&quot;l1571&quot;&gt;   1571&lt;/a&gt;     // Use full area for PROJECT
<a href="#l1591" class="line" id="l1591">   1591</a> &lt;a href=&quot;#l1572&quot; class=&quot;line&quot; id=&quot;l1572&quot;&gt;   1572&lt;/a&gt;     } else if (HOOK_shouldDiscard(false)) {
<a href="#l1592" class="line" id="l1592">   1592</a> &lt;a href=&quot;#l1573&quot; class=&quot;line&quot; id=&quot;l1573&quot;&gt;   1573&lt;/a&gt;       discard;
<a href="#l1593" class="line" id="l1593">   1593</a> &lt;a href=&quot;#l1574&quot; class=&quot;line&quot; id=&quot;l1574&quot;&gt;   1574&lt;/a&gt;     }
<a href="#l1594" class="line" id="l1594">   1594</a> &lt;a href=&quot;#l1575&quot; class=&quot;line&quot; id=&quot;l1575&quot;&gt;   1575&lt;/a&gt;   } else if (vJoin &amp;gt; 0.) {
<a href="#l1595" class="line" id="l1595">   1595</a> &lt;a href=&quot;#l1576&quot; class=&quot;line&quot; id=&quot;l1576&quot;&gt;   1576&lt;/a&gt;     if (
<a href="#l1596" class="line" id="l1596">   1596</a> &lt;a href=&quot;#l1577&quot; class=&quot;line&quot; id=&quot;l1577&quot;&gt;   1577&lt;/a&gt;       uStrokeJoin == STROKE_JOIN_ROUND &amp;amp;&amp;amp;
<a href="#l1597" class="line" id="l1597">   1597</a> &lt;a href=&quot;#l1578&quot; class=&quot;line&quot; id=&quot;l1578&quot;&gt;   1578&lt;/a&gt;       HOOK_shouldDiscard(distSquared(inputs.position, inputs.center) &amp;gt; inputs.strokeWeight * inputs.strokeWeight * 0.25)
<a href="#l1598" class="line" id="l1598">   1598</a> &lt;a href=&quot;#l1579&quot; class=&quot;line&quot; id=&quot;l1579&quot;&gt;   1579&lt;/a&gt;     ) {
<a href="#l1599" class="line" id="l1599">   1599</a> &lt;a href=&quot;#l1580&quot; class=&quot;line&quot; id=&quot;l1580&quot;&gt;   1580&lt;/a&gt;       discard;
<a href="#l1600" class="line" id="l1600">   1600</a> &lt;a href=&quot;#l1581&quot; class=&quot;line&quot; id=&quot;l1581&quot;&gt;   1581&lt;/a&gt;     } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {
<a href="#l1601" class="line" id="l1601">   1601</a> &lt;a href=&quot;#l1582&quot; class=&quot;line&quot; id=&quot;l1582&quot;&gt;   1582&lt;/a&gt;       vec2 normal = vec2(-inputs.tangent.y, inputs.tangent.x);
<a href="#l1602" class="line" id="l1602">   1602</a> &lt;a href=&quot;#l1583&quot; class=&quot;line&quot; id=&quot;l1583&quot;&gt;   1583&lt;/a&gt;       if (HOOK_shouldDiscard(abs(dot(inputs.position - inputs.center, normal)) &amp;gt; vMaxDist)) {
<a href="#l1603" class="line" id="l1603">   1603</a> &lt;a href=&quot;#l1584&quot; class=&quot;line&quot; id=&quot;l1584&quot;&gt;   1584&lt;/a&gt;         discard;
<a href="#l1604" class="line" id="l1604">   1604</a> &lt;a href=&quot;#l1585&quot; class=&quot;line&quot; id=&quot;l1585&quot;&gt;   1585&lt;/a&gt;       }
<a href="#l1605" class="line" id="l1605">   1605</a> &lt;a href=&quot;#l1586&quot; class=&quot;line&quot; id=&quot;l1586&quot;&gt;   1586&lt;/a&gt;     // Use full area for MITER
<a href="#l1606" class="line" id="l1606">   1606</a> &lt;a href=&quot;#l1587&quot; class=&quot;line&quot; id=&quot;l1587&quot;&gt;   1587&lt;/a&gt;     } else if (HOOK_shouldDiscard(false)) {
<a href="#l1607" class="line" id="l1607">   1607</a> &lt;a href=&quot;#l1588&quot; class=&quot;line&quot; id=&quot;l1588&quot;&gt;   1588&lt;/a&gt;       discard;
<a href="#l1608" class="line" id="l1608">   1608</a> &lt;a href=&quot;#l1589&quot; class=&quot;line&quot; id=&quot;l1589&quot;&gt;   1589&lt;/a&gt;     }
<a href="#l1609" class="line" id="l1609">   1609</a> &lt;a href=&quot;#l1590&quot; class=&quot;line&quot; id=&quot;l1590&quot;&gt;   1590&lt;/a&gt;   }
<a href="#l1610" class="line" id="l1610">   1610</a> &lt;a href=&quot;#l1591&quot; class=&quot;line&quot; id=&quot;l1591&quot;&gt;   1591&lt;/a&gt;   OUT_COLOR = HOOK_getFinalColor(vec4(inputs.color.rgb, 1.) * inputs.color.a);
<a href="#l1611" class="line" id="l1611">   1611</a> &lt;a href=&quot;#l1592&quot; class=&quot;line&quot; id=&quot;l1592&quot;&gt;   1592&lt;/a&gt;   HOOK_afterFragment();
<a href="#l1612" class="line" id="l1612">   1612</a> &lt;a href=&quot;#l1593&quot; class=&quot;line&quot; id=&quot;l1593&quot;&gt;   1593&lt;/a&gt; }
<a href="#l1613" class="line" id="l1613">   1613</a> &lt;a href=&quot;#l1594&quot; class=&quot;line&quot; id=&quot;l1594&quot;&gt;   1594&lt;/a&gt; `,Nb=`IN vec3 aPosition;
<a href="#l1614" class="line" id="l1614">   1614</a> &lt;a href=&quot;#l1595&quot; class=&quot;line&quot; id=&quot;l1595&quot;&gt;   1595&lt;/a&gt; uniform float uPointSize;
<a href="#l1615" class="line" id="l1615">   1615</a> &lt;a href=&quot;#l1596&quot; class=&quot;line&quot; id=&quot;l1596&quot;&gt;   1596&lt;/a&gt; OUT float vStrokeWeight;
<a href="#l1616" class="line" id="l1616">   1616</a> &lt;a href=&quot;#l1597&quot; class=&quot;line&quot; id=&quot;l1597&quot;&gt;   1597&lt;/a&gt; uniform mat4 uModelViewMatrix;
<a href="#l1617" class="line" id="l1617">   1617</a> &lt;a href=&quot;#l1598&quot; class=&quot;line&quot; id=&quot;l1598&quot;&gt;   1598&lt;/a&gt; uniform mat4 uProjectionMatrix;
<a href="#l1618" class="line" id="l1618">   1618</a> &lt;a href=&quot;#l1599&quot; class=&quot;line&quot; id=&quot;l1599&quot;&gt;   1599&lt;/a&gt; 
<a href="#l1619" class="line" id="l1619">   1619</a> &lt;a href=&quot;#l1600&quot; class=&quot;line&quot; id=&quot;l1600&quot;&gt;   1600&lt;/a&gt; void main() {
<a href="#l1620" class="line" id="l1620">   1620</a> &lt;a href=&quot;#l1601&quot; class=&quot;line&quot; id=&quot;l1601&quot;&gt;   1601&lt;/a&gt;   HOOK_beforeVertex();
<a href="#l1621" class="line" id="l1621">   1621</a> &lt;a href=&quot;#l1602&quot; class=&quot;line&quot; id=&quot;l1602&quot;&gt;   1602&lt;/a&gt;   vec4 viewModelPosition = vec4(HOOK_getWorldPosition(
<a href="#l1622" class="line" id="l1622">   1622</a> &lt;a href=&quot;#l1603&quot; class=&quot;line&quot; id=&quot;l1603&quot;&gt;   1603&lt;/a&gt;     (uModelViewMatrix * vec4(HOOK_getLocalPosition(aPosition), 1.0)).xyz
<a href="#l1623" class="line" id="l1623">   1623</a> &lt;a href=&quot;#l1604&quot; class=&quot;line&quot; id=&quot;l1604&quot;&gt;   1604&lt;/a&gt;   ), 1.);
<a href="#l1624" class="line" id="l1624">   1624</a> &lt;a href=&quot;#l1605&quot; class=&quot;line&quot; id=&quot;l1605&quot;&gt;   1605&lt;/a&gt;   gl_Position = uProjectionMatrix * viewModelPosition;  
<a href="#l1625" class="line" id="l1625">   1625</a> &lt;a href=&quot;#l1606&quot; class=&quot;line&quot; id=&quot;l1606&quot;&gt;   1606&lt;/a&gt; 
<a href="#l1626" class="line" id="l1626">   1626</a> &lt;a href=&quot;#l1607&quot; class=&quot;line&quot; id=&quot;l1607&quot;&gt;   1607&lt;/a&gt;   float pointSize = HOOK_getPointSize(uPointSize);
<a href="#l1627" class="line" id="l1627">   1627</a> &lt;a href=&quot;#l1608&quot; class=&quot;line&quot; id=&quot;l1608&quot;&gt;   1608&lt;/a&gt; 
<a href="#l1628" class="line" id="l1628">   1628</a> &lt;a href=&quot;#l1609&quot; class=&quot;line&quot; id=&quot;l1609&quot;&gt;   1609&lt;/a&gt; 	gl_PointSize = pointSize;
<a href="#l1629" class="line" id="l1629">   1629</a> &lt;a href=&quot;#l1610&quot; class=&quot;line&quot; id=&quot;l1610&quot;&gt;   1610&lt;/a&gt; 	vStrokeWeight = pointSize;
<a href="#l1630" class="line" id="l1630">   1630</a> &lt;a href=&quot;#l1611&quot; class=&quot;line&quot; id=&quot;l1611&quot;&gt;   1611&lt;/a&gt;   HOOK_afterVertex();
<a href="#l1631" class="line" id="l1631">   1631</a> &lt;a href=&quot;#l1612&quot; class=&quot;line&quot; id=&quot;l1612&quot;&gt;   1612&lt;/a&gt; }
<a href="#l1632" class="line" id="l1632">   1632</a> &lt;a href=&quot;#l1613&quot; class=&quot;line&quot; id=&quot;l1613&quot;&gt;   1613&lt;/a&gt; `,Ib=`precision mediump int;
<a href="#l1633" class="line" id="l1633">   1633</a> &lt;a href=&quot;#l1614&quot; class=&quot;line&quot; id=&quot;l1614&quot;&gt;   1614&lt;/a&gt; uniform vec4 uMaterialColor;
<a href="#l1634" class="line" id="l1634">   1634</a> &lt;a href=&quot;#l1615&quot; class=&quot;line&quot; id=&quot;l1615&quot;&gt;   1615&lt;/a&gt; IN float vStrokeWeight;
<a href="#l1635" class="line" id="l1635">   1635</a> &lt;a href=&quot;#l1616&quot; class=&quot;line&quot; id=&quot;l1616&quot;&gt;   1616&lt;/a&gt; 
<a href="#l1636" class="line" id="l1636">   1636</a> &lt;a href=&quot;#l1617&quot; class=&quot;line&quot; id=&quot;l1617&quot;&gt;   1617&lt;/a&gt; void main(){
<a href="#l1637" class="line" id="l1637">   1637</a> &lt;a href=&quot;#l1618&quot; class=&quot;line&quot; id=&quot;l1618&quot;&gt;   1618&lt;/a&gt;   HOOK_beforeFragment();
<a href="#l1638" class="line" id="l1638">   1638</a> &lt;a href=&quot;#l1619&quot; class=&quot;line&quot; id=&quot;l1619&quot;&gt;   1619&lt;/a&gt;   float mask = 0.0;
<a href="#l1639" class="line" id="l1639">   1639</a> &lt;a href=&quot;#l1620&quot; class=&quot;line&quot; id=&quot;l1620&quot;&gt;   1620&lt;/a&gt; 
<a href="#l1640" class="line" id="l1640">   1640</a> &lt;a href=&quot;#l1621&quot; class=&quot;line&quot; id=&quot;l1621&quot;&gt;   1621&lt;/a&gt;   // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)
<a href="#l1641" class="line" id="l1641">   1641</a> &lt;a href=&quot;#l1622&quot; class=&quot;line&quot; id=&quot;l1622&quot;&gt;   1622&lt;/a&gt;   // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant
<a href="#l1642" class="line" id="l1642">   1642</a> &lt;a href=&quot;#l1623&quot; class=&quot;line&quot; id=&quot;l1623&quot;&gt;   1623&lt;/a&gt; 
<a href="#l1643" class="line" id="l1643">   1643</a> &lt;a href=&quot;#l1624&quot; class=&quot;line&quot; id=&quot;l1624&quot;&gt;   1624&lt;/a&gt;   mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));
<a href="#l1644" class="line" id="l1644">   1644</a> &lt;a href=&quot;#l1625&quot; class=&quot;line&quot; id=&quot;l1625&quot;&gt;   1625&lt;/a&gt; 
<a href="#l1645" class="line" id="l1645">   1645</a> &lt;a href=&quot;#l1626&quot; class=&quot;line&quot; id=&quot;l1626&quot;&gt;   1626&lt;/a&gt;   // if strokeWeight is 1 or less lets just draw a square
<a href="#l1646" class="line" id="l1646">   1646</a> &lt;a href=&quot;#l1627&quot; class=&quot;line&quot; id=&quot;l1627&quot;&gt;   1627&lt;/a&gt;   // this prevents weird artifacting from carving circles when our points are really small
<a href="#l1647" class="line" id="l1647">   1647</a> &lt;a href=&quot;#l1628&quot; class=&quot;line&quot; id=&quot;l1628&quot;&gt;   1628&lt;/a&gt;   // if strokeWeight is larger than 1, we just use it as is
<a href="#l1648" class="line" id="l1648">   1648</a> &lt;a href=&quot;#l1629&quot; class=&quot;line&quot; id=&quot;l1629&quot;&gt;   1629&lt;/a&gt; 
<a href="#l1649" class="line" id="l1649">   1649</a> &lt;a href=&quot;#l1630&quot; class=&quot;line&quot; id=&quot;l1630&quot;&gt;   1630&lt;/a&gt;   mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));
<a href="#l1650" class="line" id="l1650">   1650</a> &lt;a href=&quot;#l1631&quot; class=&quot;line&quot; id=&quot;l1631&quot;&gt;   1631&lt;/a&gt; 
<a href="#l1651" class="line" id="l1651">   1651</a> &lt;a href=&quot;#l1632&quot; class=&quot;line&quot; id=&quot;l1632&quot;&gt;   1632&lt;/a&gt;   // throw away the borders of the mask
<a href="#l1652" class="line" id="l1652">   1652</a> &lt;a href=&quot;#l1633&quot; class=&quot;line&quot; id=&quot;l1633&quot;&gt;   1633&lt;/a&gt;   // otherwise we get weird alpha blending issues
<a href="#l1653" class="line" id="l1653">   1653</a> &lt;a href=&quot;#l1634&quot; class=&quot;line&quot; id=&quot;l1634&quot;&gt;   1634&lt;/a&gt; 
<a href="#l1654" class="line" id="l1654">   1654</a> &lt;a href=&quot;#l1635&quot; class=&quot;line&quot; id=&quot;l1635&quot;&gt;   1635&lt;/a&gt;   if(HOOK_shouldDiscard(mask &amp;gt; 0.98)){
<a href="#l1655" class="line" id="l1655">   1655</a> &lt;a href=&quot;#l1636&quot; class=&quot;line&quot; id=&quot;l1636&quot;&gt;   1636&lt;/a&gt;     discard;
<a href="#l1656" class="line" id="l1656">   1656</a> &lt;a href=&quot;#l1637&quot; class=&quot;line&quot; id=&quot;l1637&quot;&gt;   1637&lt;/a&gt;   }
<a href="#l1657" class="line" id="l1657">   1657</a> &lt;a href=&quot;#l1638&quot; class=&quot;line&quot; id=&quot;l1638&quot;&gt;   1638&lt;/a&gt; 
<a href="#l1658" class="line" id="l1658">   1658</a> &lt;a href=&quot;#l1639&quot; class=&quot;line&quot; id=&quot;l1639&quot;&gt;   1639&lt;/a&gt;   OUT_COLOR = HOOK_getFinalColor(vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a);
<a href="#l1659" class="line" id="l1659">   1659</a> &lt;a href=&quot;#l1640&quot; class=&quot;line&quot; id=&quot;l1640&quot;&gt;   1640&lt;/a&gt;   HOOK_afterFragment();
<a href="#l1660" class="line" id="l1660">   1660</a> &lt;a href=&quot;#l1641&quot; class=&quot;line&quot; id=&quot;l1641&quot;&gt;   1641&lt;/a&gt; }
<a href="#l1661" class="line" id="l1661">   1661</a> &lt;a href=&quot;#l1642&quot; class=&quot;line&quot; id=&quot;l1642&quot;&gt;   1642&lt;/a&gt; `,kb=`precision highp float;
<a href="#l1662" class="line" id="l1662">   1662</a> &lt;a href=&quot;#l1643&quot; class=&quot;line&quot; id=&quot;l1643&quot;&gt;   1643&lt;/a&gt; attribute vec3 aPosition;
<a href="#l1663" class="line" id="l1663">   1663</a> &lt;a href=&quot;#l1644&quot; class=&quot;line&quot; id=&quot;l1644&quot;&gt;   1644&lt;/a&gt; attribute vec3 aNormal;
<a href="#l1664" class="line" id="l1664">   1664</a> &lt;a href=&quot;#l1645&quot; class=&quot;line&quot; id=&quot;l1645&quot;&gt;   1645&lt;/a&gt; attribute vec2 aTexCoord;
<a href="#l1665" class="line" id="l1665">   1665</a> &lt;a href=&quot;#l1646&quot; class=&quot;line&quot; id=&quot;l1646&quot;&gt;   1646&lt;/a&gt; 
<a href="#l1666" class="line" id="l1666">   1666</a> &lt;a href=&quot;#l1647&quot; class=&quot;line&quot; id=&quot;l1647&quot;&gt;   1647&lt;/a&gt; varying vec3 localPos;
<a href="#l1667" class="line" id="l1667">   1667</a> &lt;a href=&quot;#l1648&quot; class=&quot;line&quot; id=&quot;l1648&quot;&gt;   1648&lt;/a&gt; varying vec3 vWorldNormal;
<a href="#l1668" class="line" id="l1668">   1668</a> &lt;a href=&quot;#l1649&quot; class=&quot;line&quot; id=&quot;l1649&quot;&gt;   1649&lt;/a&gt; varying vec3 vWorldPosition;
<a href="#l1669" class="line" id="l1669">   1669</a> &lt;a href=&quot;#l1650&quot; class=&quot;line&quot; id=&quot;l1650&quot;&gt;   1650&lt;/a&gt; varying vec2 vTexCoord;
<a href="#l1670" class="line" id="l1670">   1670</a> &lt;a href=&quot;#l1651&quot; class=&quot;line&quot; id=&quot;l1651&quot;&gt;   1651&lt;/a&gt; 
<a href="#l1671" class="line" id="l1671">   1671</a> &lt;a href=&quot;#l1652&quot; class=&quot;line&quot; id=&quot;l1652&quot;&gt;   1652&lt;/a&gt; uniform mat4 uModelViewMatrix;
<a href="#l1672" class="line" id="l1672">   1672</a> &lt;a href=&quot;#l1653&quot; class=&quot;line&quot; id=&quot;l1653&quot;&gt;   1653&lt;/a&gt; uniform mat4 uProjectionMatrix;
<a href="#l1673" class="line" id="l1673">   1673</a> &lt;a href=&quot;#l1654&quot; class=&quot;line&quot; id=&quot;l1654&quot;&gt;   1654&lt;/a&gt; uniform mat3 uNormalMatrix;
<a href="#l1674" class="line" id="l1674">   1674</a> &lt;a href=&quot;#l1655&quot; class=&quot;line&quot; id=&quot;l1655&quot;&gt;   1655&lt;/a&gt; 
<a href="#l1675" class="line" id="l1675">   1675</a> &lt;a href=&quot;#l1656&quot; class=&quot;line&quot; id=&quot;l1656&quot;&gt;   1656&lt;/a&gt; void main() {
<a href="#l1676" class="line" id="l1676">   1676</a> &lt;a href=&quot;#l1657&quot; class=&quot;line&quot; id=&quot;l1657&quot;&gt;   1657&lt;/a&gt;   // Multiply the position by the matrix.
<a href="#l1677" class="line" id="l1677">   1677</a> &lt;a href=&quot;#l1658&quot; class=&quot;line&quot; id=&quot;l1658&quot;&gt;   1658&lt;/a&gt;   vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
<a href="#l1678" class="line" id="l1678">   1678</a> &lt;a href=&quot;#l1659&quot; class=&quot;line&quot; id=&quot;l1659&quot;&gt;   1659&lt;/a&gt;   gl_Position = uProjectionMatrix * viewModelPosition;  
<a href="#l1679" class="line" id="l1679">   1679</a> &lt;a href=&quot;#l1660&quot; class=&quot;line&quot; id=&quot;l1660&quot;&gt;   1660&lt;/a&gt;   
<a href="#l1680" class="line" id="l1680">   1680</a> &lt;a href=&quot;#l1661&quot; class=&quot;line&quot; id=&quot;l1661&quot;&gt;   1661&lt;/a&gt;   // orient the normals and pass to the fragment shader
<a href="#l1681" class="line" id="l1681">   1681</a> &lt;a href=&quot;#l1662&quot; class=&quot;line&quot; id=&quot;l1662&quot;&gt;   1662&lt;/a&gt;   vWorldNormal = uNormalMatrix * aNormal;
<a href="#l1682" class="line" id="l1682">   1682</a> &lt;a href=&quot;#l1663&quot; class=&quot;line&quot; id=&quot;l1663&quot;&gt;   1663&lt;/a&gt;   
<a href="#l1683" class="line" id="l1683">   1683</a> &lt;a href=&quot;#l1664&quot; class=&quot;line&quot; id=&quot;l1664&quot;&gt;   1664&lt;/a&gt;   // send the view position to the fragment shader
<a href="#l1684" class="line" id="l1684">   1684</a> &lt;a href=&quot;#l1665&quot; class=&quot;line&quot; id=&quot;l1665&quot;&gt;   1665&lt;/a&gt;   vWorldPosition = (uModelViewMatrix * vec4(aPosition, 1.0)).xyz;
<a href="#l1685" class="line" id="l1685">   1685</a> &lt;a href=&quot;#l1666&quot; class=&quot;line&quot; id=&quot;l1666&quot;&gt;   1666&lt;/a&gt;   
<a href="#l1686" class="line" id="l1686">   1686</a> &lt;a href=&quot;#l1667&quot; class=&quot;line&quot; id=&quot;l1667&quot;&gt;   1667&lt;/a&gt;   localPos = vWorldPosition;
<a href="#l1687" class="line" id="l1687">   1687</a> &lt;a href=&quot;#l1668&quot; class=&quot;line&quot; id=&quot;l1668&quot;&gt;   1668&lt;/a&gt;   vTexCoord = aTexCoord;
<a href="#l1688" class="line" id="l1688">   1688</a> &lt;a href=&quot;#l1669&quot; class=&quot;line&quot; id=&quot;l1669&quot;&gt;   1669&lt;/a&gt; }
<a href="#l1689" class="line" id="l1689">   1689</a> &lt;a href=&quot;#l1670&quot; class=&quot;line&quot; id=&quot;l1670&quot;&gt;   1670&lt;/a&gt; 
<a href="#l1690" class="line" id="l1690">   1690</a> &lt;a href=&quot;#l1671&quot; class=&quot;line&quot; id=&quot;l1671&quot;&gt;   1671&lt;/a&gt; 
<a href="#l1691" class="line" id="l1691">   1691</a> &lt;a href=&quot;#l1672&quot; class=&quot;line&quot; id=&quot;l1672&quot;&gt;   1672&lt;/a&gt; /*
<a href="#l1692" class="line" id="l1692">   1692</a> &lt;a href=&quot;#l1673&quot; class=&quot;line&quot; id=&quot;l1673&quot;&gt;   1673&lt;/a&gt; in the vertex shader we&amp;#39;ll compute the world position and world oriented normal of the vertices and pass those to the fragment shader as varyings.
<a href="#l1693" class="line" id="l1693">   1693</a> &lt;a href=&quot;#l1674&quot; class=&quot;line&quot; id=&quot;l1674&quot;&gt;   1674&lt;/a&gt; */
<a href="#l1694" class="line" id="l1694">   1694</a> &lt;a href=&quot;#l1675&quot; class=&quot;line&quot; id=&quot;l1675&quot;&gt;   1675&lt;/a&gt; `,Mb=`precision highp float;
<a href="#l1695" class="line" id="l1695">   1695</a> &lt;a href=&quot;#l1676&quot; class=&quot;line&quot; id=&quot;l1676&quot;&gt;   1676&lt;/a&gt; varying vec3 localPos;
<a href="#l1696" class="line" id="l1696">   1696</a> &lt;a href=&quot;#l1677&quot; class=&quot;line&quot; id=&quot;l1677&quot;&gt;   1677&lt;/a&gt; 
<a href="#l1697" class="line" id="l1697">   1697</a> &lt;a href=&quot;#l1678&quot; class=&quot;line&quot; id=&quot;l1678&quot;&gt;   1678&lt;/a&gt; // the HDR cubemap converted (can be from an equirectangular environment map.)
<a href="#l1698" class="line" id="l1698">   1698</a> &lt;a href=&quot;#l1679&quot; class=&quot;line&quot; id=&quot;l1679&quot;&gt;   1679&lt;/a&gt; uniform sampler2D environmentMap;
<a href="#l1699" class="line" id="l1699">   1699</a> &lt;a href=&quot;#l1680&quot; class=&quot;line&quot; id=&quot;l1680&quot;&gt;   1680&lt;/a&gt; varying vec2 vTexCoord;
<a href="#l1700" class="line" id="l1700">   1700</a> &lt;a href=&quot;#l1681&quot; class=&quot;line&quot; id=&quot;l1681&quot;&gt;   1681&lt;/a&gt; 
<a href="#l1701" class="line" id="l1701">   1701</a> &lt;a href=&quot;#l1682&quot; class=&quot;line&quot; id=&quot;l1682&quot;&gt;   1682&lt;/a&gt; const float PI = 3.14159265359;
<a href="#l1702" class="line" id="l1702">   1702</a> &lt;a href=&quot;#l1683&quot; class=&quot;line&quot; id=&quot;l1683&quot;&gt;   1683&lt;/a&gt; 
<a href="#l1703" class="line" id="l1703">   1703</a> &lt;a href=&quot;#l1684&quot; class=&quot;line&quot; id=&quot;l1684&quot;&gt;   1684&lt;/a&gt; vec2 nTOE( vec3 v ){
<a href="#l1704" class="line" id="l1704">   1704</a> &lt;a href=&quot;#l1685&quot; class=&quot;line&quot; id=&quot;l1685&quot;&gt;   1685&lt;/a&gt;   // x = r sin(phi) cos(theta)   
<a href="#l1705" class="line" id="l1705">   1705</a> &lt;a href=&quot;#l1686&quot; class=&quot;line&quot; id=&quot;l1686&quot;&gt;   1686&lt;/a&gt;   // y = r cos(phi)  
<a href="#l1706" class="line" id="l1706">   1706</a> &lt;a href=&quot;#l1687&quot; class=&quot;line&quot; id=&quot;l1687&quot;&gt;   1687&lt;/a&gt;   // z = r sin(phi) sin(theta)
<a href="#l1707" class="line" id="l1707">   1707</a> &lt;a href=&quot;#l1688&quot; class=&quot;line&quot; id=&quot;l1688&quot;&gt;   1688&lt;/a&gt;   float phi = acos( v.y );
<a href="#l1708" class="line" id="l1708">   1708</a> &lt;a href=&quot;#l1689&quot; class=&quot;line&quot; id=&quot;l1689&quot;&gt;   1689&lt;/a&gt;   // if phi is 0, then there are no x, z components
<a href="#l1709" class="line" id="l1709">   1709</a> &lt;a href=&quot;#l1690&quot; class=&quot;line&quot; id=&quot;l1690&quot;&gt;   1690&lt;/a&gt;   float theta = 0.0;
<a href="#l1710" class="line" id="l1710">   1710</a> &lt;a href=&quot;#l1691&quot; class=&quot;line&quot; id=&quot;l1691&quot;&gt;   1691&lt;/a&gt;   // else 
<a href="#l1711" class="line" id="l1711">   1711</a> &lt;a href=&quot;#l1692&quot; class=&quot;line&quot; id=&quot;l1692&quot;&gt;   1692&lt;/a&gt;   theta = acos(v.x / sin(phi));
<a href="#l1712" class="line" id="l1712">   1712</a> &lt;a href=&quot;#l1693&quot; class=&quot;line&quot; id=&quot;l1693&quot;&gt;   1693&lt;/a&gt;   float sinTheta = v.z / sin(phi);
<a href="#l1713" class="line" id="l1713">   1713</a> &lt;a href=&quot;#l1694&quot; class=&quot;line&quot; id=&quot;l1694&quot;&gt;   1694&lt;/a&gt;   if (sinTheta &amp;lt; 0.0) {
<a href="#l1714" class="line" id="l1714">   1714</a> &lt;a href=&quot;#l1695&quot; class=&quot;line&quot; id=&quot;l1695&quot;&gt;   1695&lt;/a&gt;     // Turn it into -theta, but in the 0-2PI range
<a href="#l1715" class="line" id="l1715">   1715</a> &lt;a href=&quot;#l1696&quot; class=&quot;line&quot; id=&quot;l1696&quot;&gt;   1696&lt;/a&gt;     theta = 2.0 * PI - theta;
<a href="#l1716" class="line" id="l1716">   1716</a> &lt;a href=&quot;#l1697&quot; class=&quot;line&quot; id=&quot;l1697&quot;&gt;   1697&lt;/a&gt;   }
<a href="#l1717" class="line" id="l1717">   1717</a> &lt;a href=&quot;#l1698&quot; class=&quot;line&quot; id=&quot;l1698&quot;&gt;   1698&lt;/a&gt;   theta = theta / (2.0 * 3.14159);
<a href="#l1718" class="line" id="l1718">   1718</a> &lt;a href=&quot;#l1699&quot; class=&quot;line&quot; id=&quot;l1699&quot;&gt;   1699&lt;/a&gt;   phi = phi / 3.14159 ;
<a href="#l1719" class="line" id="l1719">   1719</a> &lt;a href=&quot;#l1700&quot; class=&quot;line&quot; id=&quot;l1700&quot;&gt;   1700&lt;/a&gt;   
<a href="#l1720" class="line" id="l1720">   1720</a> &lt;a href=&quot;#l1701&quot; class=&quot;line&quot; id=&quot;l1701&quot;&gt;   1701&lt;/a&gt;   vec2 angles = vec2( phi, theta );
<a href="#l1721" class="line" id="l1721">   1721</a> &lt;a href=&quot;#l1702&quot; class=&quot;line&quot; id=&quot;l1702&quot;&gt;   1702&lt;/a&gt;   return angles;
<a href="#l1722" class="line" id="l1722">   1722</a> &lt;a href=&quot;#l1703&quot; class=&quot;line&quot; id=&quot;l1703&quot;&gt;   1703&lt;/a&gt; }
<a href="#l1723" class="line" id="l1723">   1723</a> &lt;a href=&quot;#l1704&quot; class=&quot;line&quot; id=&quot;l1704&quot;&gt;   1704&lt;/a&gt; 
<a href="#l1724" class="line" id="l1724">   1724</a> &lt;a href=&quot;#l1705&quot; class=&quot;line&quot; id=&quot;l1705&quot;&gt;   1705&lt;/a&gt; float random(vec2 p) {
<a href="#l1725" class="line" id="l1725">   1725</a> &lt;a href=&quot;#l1706&quot; class=&quot;line&quot; id=&quot;l1706&quot;&gt;   1706&lt;/a&gt;   vec3 p3  = fract(vec3(p.xyx) * .1031);
<a href="#l1726" class="line" id="l1726">   1726</a> &lt;a href=&quot;#l1707&quot; class=&quot;line&quot; id=&quot;l1707&quot;&gt;   1707&lt;/a&gt;   p3 += dot(p3, p3.yzx + 33.33);
<a href="#l1727" class="line" id="l1727">   1727</a> &lt;a href=&quot;#l1708&quot; class=&quot;line&quot; id=&quot;l1708&quot;&gt;   1708&lt;/a&gt;   return fract((p3.x + p3.y) * p3.z);
<a href="#l1728" class="line" id="l1728">   1728</a> &lt;a href=&quot;#l1709&quot; class=&quot;line&quot; id=&quot;l1709&quot;&gt;   1709&lt;/a&gt; }
<a href="#l1729" class="line" id="l1729">   1729</a> &lt;a href=&quot;#l1710&quot; class=&quot;line&quot; id=&quot;l1710&quot;&gt;   1710&lt;/a&gt; 
<a href="#l1730" class="line" id="l1730">   1730</a> &lt;a href=&quot;#l1711&quot; class=&quot;line&quot; id=&quot;l1711&quot;&gt;   1711&lt;/a&gt; void main()
<a href="#l1731" class="line" id="l1731">   1731</a> &lt;a href=&quot;#l1712&quot; class=&quot;line&quot; id=&quot;l1712&quot;&gt;   1712&lt;/a&gt; {   	 
<a href="#l1732" class="line" id="l1732">   1732</a> &lt;a href=&quot;#l1713&quot; class=&quot;line&quot; id=&quot;l1713&quot;&gt;   1713&lt;/a&gt; 	// the sample direction equals the hemisphere&amp;#39;s orientation
<a href="#l1733" class="line" id="l1733">   1733</a> &lt;a href=&quot;#l1714&quot; class=&quot;line&quot; id=&quot;l1714&quot;&gt;   1714&lt;/a&gt;   float phi = vTexCoord.x * 2.0 * PI;
<a href="#l1734" class="line" id="l1734">   1734</a> &lt;a href=&quot;#l1715&quot; class=&quot;line&quot; id=&quot;l1715&quot;&gt;   1715&lt;/a&gt;   float theta = vTexCoord.y * PI;
<a href="#l1735" class="line" id="l1735">   1735</a> &lt;a href=&quot;#l1716&quot; class=&quot;line&quot; id=&quot;l1716&quot;&gt;   1716&lt;/a&gt;   float x = sin(theta) * cos(phi);
<a href="#l1736" class="line" id="l1736">   1736</a> &lt;a href=&quot;#l1717&quot; class=&quot;line&quot; id=&quot;l1717&quot;&gt;   1717&lt;/a&gt;   float y = sin(theta) * sin(phi);
<a href="#l1737" class="line" id="l1737">   1737</a> &lt;a href=&quot;#l1718&quot; class=&quot;line&quot; id=&quot;l1718&quot;&gt;   1718&lt;/a&gt;   float z = cos(theta);
<a href="#l1738" class="line" id="l1738">   1738</a> &lt;a href=&quot;#l1719&quot; class=&quot;line&quot; id=&quot;l1719&quot;&gt;   1719&lt;/a&gt;   vec3 normal = vec3( x, y, z);
<a href="#l1739" class="line" id="l1739">   1739</a> &lt;a href=&quot;#l1720&quot; class=&quot;line&quot; id=&quot;l1720&quot;&gt;   1720&lt;/a&gt; 
<a href="#l1740" class="line" id="l1740">   1740</a> &lt;a href=&quot;#l1721&quot; class=&quot;line&quot; id=&quot;l1721&quot;&gt;   1721&lt;/a&gt; 	// Discretely sampling the hemisphere given the integral&amp;#39;s
<a href="#l1741" class="line" id="l1741">   1741</a> &lt;a href=&quot;#l1722&quot; class=&quot;line&quot; id=&quot;l1722&quot;&gt;   1722&lt;/a&gt;   // spherical coordinates translates to the following fragment code:
<a href="#l1742" class="line" id="l1742">   1742</a> &lt;a href=&quot;#l1723&quot; class=&quot;line&quot; id=&quot;l1723&quot;&gt;   1723&lt;/a&gt; 	vec3 irradiance = vec3(0.0);  
<a href="#l1743" class="line" id="l1743">   1743</a> &lt;a href=&quot;#l1724&quot; class=&quot;line&quot; id=&quot;l1724&quot;&gt;   1724&lt;/a&gt; 	vec3 up	= vec3(0.0, 1.0, 0.0);
<a href="#l1744" class="line" id="l1744">   1744</a> &lt;a href=&quot;#l1725&quot; class=&quot;line&quot; id=&quot;l1725&quot;&gt;   1725&lt;/a&gt; 	vec3 right = normalize(cross(up, normal));
<a href="#l1745" class="line" id="l1745">   1745</a> &lt;a href=&quot;#l1726&quot; class=&quot;line&quot; id=&quot;l1726&quot;&gt;   1726&lt;/a&gt; 	up = normalize(cross(normal, right));
<a href="#l1746" class="line" id="l1746">   1746</a> &lt;a href=&quot;#l1727&quot; class=&quot;line&quot; id=&quot;l1727&quot;&gt;   1727&lt;/a&gt; 
<a href="#l1747" class="line" id="l1747">   1747</a> &lt;a href=&quot;#l1728&quot; class=&quot;line&quot; id=&quot;l1728&quot;&gt;   1728&lt;/a&gt; 	//  We specify a fixed sampleDelta delta value to traverse
<a href="#l1748" class="line" id="l1748">   1748</a> &lt;a href=&quot;#l1729&quot; class=&quot;line&quot; id=&quot;l1729&quot;&gt;   1729&lt;/a&gt;   // the hemisphere; decreasing or increasing the sample delta
<a href="#l1749" class="line" id="l1749">   1749</a> &lt;a href=&quot;#l1730&quot; class=&quot;line&quot; id=&quot;l1730&quot;&gt;   1730&lt;/a&gt;   // will increase or decrease the accuracy respectively.
<a href="#l1750" class="line" id="l1750">   1750</a> &lt;a href=&quot;#l1731&quot; class=&quot;line&quot; id=&quot;l1731&quot;&gt;   1731&lt;/a&gt; 	const float sampleDelta = 0.100;
<a href="#l1751" class="line" id="l1751">   1751</a> &lt;a href=&quot;#l1732&quot; class=&quot;line&quot; id=&quot;l1732&quot;&gt;   1732&lt;/a&gt; 	float nrSamples = 0.0;
<a href="#l1752" class="line" id="l1752">   1752</a> &lt;a href=&quot;#l1733&quot; class=&quot;line&quot; id=&quot;l1733&quot;&gt;   1733&lt;/a&gt;   float randomOffset = random(gl_FragCoord.xy) * sampleDelta;
<a href="#l1753" class="line" id="l1753">   1753</a> &lt;a href=&quot;#l1734&quot; class=&quot;line&quot; id=&quot;l1734&quot;&gt;   1734&lt;/a&gt; 	for(float rawPhi = 0.0; rawPhi &amp;lt; 2.0 * PI; rawPhi += sampleDelta)
<a href="#l1754" class="line" id="l1754">   1754</a> &lt;a href=&quot;#l1735&quot; class=&quot;line&quot; id=&quot;l1735&quot;&gt;   1735&lt;/a&gt; 	{
<a href="#l1755" class="line" id="l1755">   1755</a> &lt;a href=&quot;#l1736&quot; class=&quot;line&quot; id=&quot;l1736&quot;&gt;   1736&lt;/a&gt;     float phi = rawPhi + randomOffset;
<a href="#l1756" class="line" id="l1756">   1756</a> &lt;a href=&quot;#l1737&quot; class=&quot;line&quot; id=&quot;l1737&quot;&gt;   1737&lt;/a&gt;     for(float rawTheta = 0.0; rawTheta &amp;lt; ( 0.5 ) * PI; rawTheta += sampleDelta)
<a href="#l1757" class="line" id="l1757">   1757</a> &lt;a href=&quot;#l1738&quot; class=&quot;line&quot; id=&quot;l1738&quot;&gt;   1738&lt;/a&gt;     {
<a href="#l1758" class="line" id="l1758">   1758</a> &lt;a href=&quot;#l1739&quot; class=&quot;line&quot; id=&quot;l1739&quot;&gt;   1739&lt;/a&gt;       float theta = rawTheta + randomOffset;
<a href="#l1759" class="line" id="l1759">   1759</a> &lt;a href=&quot;#l1740&quot; class=&quot;line&quot; id=&quot;l1740&quot;&gt;   1740&lt;/a&gt;       // spherical to cartesian (in tangent space) // tangent space to world // add each sample result to irradiance
<a href="#l1760" class="line" id="l1760">   1760</a> &lt;a href=&quot;#l1741&quot; class=&quot;line&quot; id=&quot;l1741&quot;&gt;   1741&lt;/a&gt;       float x = sin(theta) * cos(phi);
<a href="#l1761" class="line" id="l1761">   1761</a> &lt;a href=&quot;#l1742&quot; class=&quot;line&quot; id=&quot;l1742&quot;&gt;   1742&lt;/a&gt;       float y = sin(theta) * sin(phi);
<a href="#l1762" class="line" id="l1762">   1762</a> &lt;a href=&quot;#l1743&quot; class=&quot;line&quot; id=&quot;l1743&quot;&gt;   1743&lt;/a&gt;       float z = cos(theta);
<a href="#l1763" class="line" id="l1763">   1763</a> &lt;a href=&quot;#l1744&quot; class=&quot;line&quot; id=&quot;l1744&quot;&gt;   1744&lt;/a&gt;       vec3 tangentSample = vec3( x, y, z);
<a href="#l1764" class="line" id="l1764">   1764</a> &lt;a href=&quot;#l1745&quot; class=&quot;line&quot; id=&quot;l1745&quot;&gt;   1745&lt;/a&gt;       
<a href="#l1765" class="line" id="l1765">   1765</a> &lt;a href=&quot;#l1746&quot; class=&quot;line&quot; id=&quot;l1746&quot;&gt;   1746&lt;/a&gt;       vec3 sampleVec = tangentSample.x * right + tangentSample.y * up + tangentSample.z * normal;
<a href="#l1766" class="line" id="l1766">   1766</a> &lt;a href=&quot;#l1747&quot; class=&quot;line&quot; id=&quot;l1747&quot;&gt;   1747&lt;/a&gt;         irradiance += (texture2D(environmentMap, nTOE(sampleVec)).xyz) * cos(theta) * sin(theta);
<a href="#l1767" class="line" id="l1767">   1767</a> &lt;a href=&quot;#l1748&quot; class=&quot;line&quot; id=&quot;l1748&quot;&gt;   1748&lt;/a&gt;       nrSamples++;
<a href="#l1768" class="line" id="l1768">   1768</a> &lt;a href=&quot;#l1749&quot; class=&quot;line&quot; id=&quot;l1749&quot;&gt;   1749&lt;/a&gt;     }
<a href="#l1769" class="line" id="l1769">   1769</a> &lt;a href=&quot;#l1750&quot; class=&quot;line&quot; id=&quot;l1750&quot;&gt;   1750&lt;/a&gt; 	}
<a href="#l1770" class="line" id="l1770">   1770</a> &lt;a href=&quot;#l1751&quot; class=&quot;line&quot; id=&quot;l1751&quot;&gt;   1751&lt;/a&gt; 	// divide by the total number of samples taken, giving us the average sampled irradiance.
<a href="#l1771" class="line" id="l1771">   1771</a> &lt;a href=&quot;#l1752&quot; class=&quot;line&quot; id=&quot;l1752&quot;&gt;   1752&lt;/a&gt; 	irradiance = PI * irradiance * (1.0 / float(nrSamples )) ;
<a href="#l1772" class="line" id="l1772">   1772</a> &lt;a href=&quot;#l1753&quot; class=&quot;line&quot; id=&quot;l1753&quot;&gt;   1753&lt;/a&gt;   
<a href="#l1773" class="line" id="l1773">   1773</a> &lt;a href=&quot;#l1754&quot; class=&quot;line&quot; id=&quot;l1754&quot;&gt;   1754&lt;/a&gt;  
<a href="#l1774" class="line" id="l1774">   1774</a> &lt;a href=&quot;#l1755&quot; class=&quot;line&quot; id=&quot;l1755&quot;&gt;   1755&lt;/a&gt; 	gl_FragColor = vec4(irradiance, 1.0);
<a href="#l1775" class="line" id="l1775">   1775</a> &lt;a href=&quot;#l1756&quot; class=&quot;line&quot; id=&quot;l1756&quot;&gt;   1756&lt;/a&gt; }`,Lb=`precision highp float;\r
<a href="#l1776" class="line" id="l1776">   1776</a> &lt;a href=&quot;#l1757&quot; class=&quot;line&quot; id=&quot;l1757&quot;&gt;   1757&lt;/a&gt; varying vec3 localPos;\r
<a href="#l1777" class="line" id="l1777">   1777</a> &lt;a href=&quot;#l1758&quot; class=&quot;line&quot; id=&quot;l1758&quot;&gt;   1758&lt;/a&gt; varying vec2 vTexCoord;\r
<a href="#l1778" class="line" id="l1778">   1778</a> &lt;a href=&quot;#l1759&quot; class=&quot;line&quot; id=&quot;l1759&quot;&gt;   1759&lt;/a&gt; \r
<a href="#l1779" class="line" id="l1779">   1779</a> &lt;a href=&quot;#l1760&quot; class=&quot;line&quot; id=&quot;l1760&quot;&gt;   1760&lt;/a&gt; // our texture\r
<a href="#l1780" class="line" id="l1780">   1780</a> &lt;a href=&quot;#l1761&quot; class=&quot;line&quot; id=&quot;l1761&quot;&gt;   1761&lt;/a&gt; uniform sampler2D environmentMap;\r
<a href="#l1781" class="line" id="l1781">   1781</a> &lt;a href=&quot;#l1762&quot; class=&quot;line&quot; id=&quot;l1762&quot;&gt;   1762&lt;/a&gt; uniform float roughness;\r
<a href="#l1782" class="line" id="l1782">   1782</a> &lt;a href=&quot;#l1763&quot; class=&quot;line&quot; id=&quot;l1763&quot;&gt;   1763&lt;/a&gt; \r
<a href="#l1783" class="line" id="l1783">   1783</a> &lt;a href=&quot;#l1764&quot; class=&quot;line&quot; id=&quot;l1764&quot;&gt;   1764&lt;/a&gt; const float PI = 3.14159265359;\r
<a href="#l1784" class="line" id="l1784">   1784</a> &lt;a href=&quot;#l1765&quot; class=&quot;line&quot; id=&quot;l1765&quot;&gt;   1765&lt;/a&gt; \r
<a href="#l1785" class="line" id="l1785">   1785</a> &lt;a href=&quot;#l1766&quot; class=&quot;line&quot; id=&quot;l1766&quot;&gt;   1766&lt;/a&gt; float VanDerCorput(int bits);\r
<a href="#l1786" class="line" id="l1786">   1786</a> &lt;a href=&quot;#l1767&quot; class=&quot;line&quot; id=&quot;l1767&quot;&gt;   1767&lt;/a&gt; vec2 HammersleyNoBitOps(int i, int N);\r
<a href="#l1787" class="line" id="l1787">   1787</a> &lt;a href=&quot;#l1768&quot; class=&quot;line&quot; id=&quot;l1768&quot;&gt;   1768&lt;/a&gt; vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness);\r
<a href="#l1788" class="line" id="l1788">   1788</a> &lt;a href=&quot;#l1769&quot; class=&quot;line&quot; id=&quot;l1769&quot;&gt;   1769&lt;/a&gt; \r
<a href="#l1789" class="line" id="l1789">   1789</a> &lt;a href=&quot;#l1770&quot; class=&quot;line&quot; id=&quot;l1770&quot;&gt;   1770&lt;/a&gt; \r
<a href="#l1790" class="line" id="l1790">   1790</a> &lt;a href=&quot;#l1771&quot; class=&quot;line&quot; id=&quot;l1771&quot;&gt;   1771&lt;/a&gt; vec2 nTOE( vec3 v ){\r
<a href="#l1791" class="line" id="l1791">   1791</a> &lt;a href=&quot;#l1772&quot; class=&quot;line&quot; id=&quot;l1772&quot;&gt;   1772&lt;/a&gt;   // x = r sin(phi) cos(theta)   \r
<a href="#l1792" class="line" id="l1792">   1792</a> &lt;a href=&quot;#l1773&quot; class=&quot;line&quot; id=&quot;l1773&quot;&gt;   1773&lt;/a&gt;   // y = r cos(phi)  \r
<a href="#l1793" class="line" id="l1793">   1793</a> &lt;a href=&quot;#l1774&quot; class=&quot;line&quot; id=&quot;l1774&quot;&gt;   1774&lt;/a&gt;   // z = r sin(phi) sin(theta)\r
<a href="#l1794" class="line" id="l1794">   1794</a> &lt;a href=&quot;#l1775&quot; class=&quot;line&quot; id=&quot;l1775&quot;&gt;   1775&lt;/a&gt;   float phi = acos( v.y );\r
<a href="#l1795" class="line" id="l1795">   1795</a> &lt;a href=&quot;#l1776&quot; class=&quot;line&quot; id=&quot;l1776&quot;&gt;   1776&lt;/a&gt;   // if phi is 0, then there are no x, z components\r
<a href="#l1796" class="line" id="l1796">   1796</a> &lt;a href=&quot;#l1777&quot; class=&quot;line&quot; id=&quot;l1777&quot;&gt;   1777&lt;/a&gt;   float theta = 0.0;\r
<a href="#l1797" class="line" id="l1797">   1797</a> &lt;a href=&quot;#l1778&quot; class=&quot;line&quot; id=&quot;l1778&quot;&gt;   1778&lt;/a&gt;   // else \r
<a href="#l1798" class="line" id="l1798">   1798</a> &lt;a href=&quot;#l1779&quot; class=&quot;line&quot; id=&quot;l1779&quot;&gt;   1779&lt;/a&gt;   theta = acos(v.x / sin(phi));\r
<a href="#l1799" class="line" id="l1799">   1799</a> &lt;a href=&quot;#l1780&quot; class=&quot;line&quot; id=&quot;l1780&quot;&gt;   1780&lt;/a&gt;   float sinTheta = v.z / sin(phi);\r
<a href="#l1800" class="line" id="l1800">   1800</a> &lt;a href=&quot;#l1781&quot; class=&quot;line&quot; id=&quot;l1781&quot;&gt;   1781&lt;/a&gt;   if (sinTheta &amp;lt; 0.0) {\r
<a href="#l1801" class="line" id="l1801">   1801</a> &lt;a href=&quot;#l1782&quot; class=&quot;line&quot; id=&quot;l1782&quot;&gt;   1782&lt;/a&gt;     // Turn it into -theta, but in the 0-2PI range\r
<a href="#l1802" class="line" id="l1802">   1802</a> &lt;a href=&quot;#l1783&quot; class=&quot;line&quot; id=&quot;l1783&quot;&gt;   1783&lt;/a&gt;     theta = 2.0 * PI - theta;\r
<a href="#l1803" class="line" id="l1803">   1803</a> &lt;a href=&quot;#l1784&quot; class=&quot;line&quot; id=&quot;l1784&quot;&gt;   1784&lt;/a&gt;   }\r
<a href="#l1804" class="line" id="l1804">   1804</a> &lt;a href=&quot;#l1785&quot; class=&quot;line&quot; id=&quot;l1785&quot;&gt;   1785&lt;/a&gt;   theta = theta / (2.0 * 3.14159);\r
<a href="#l1805" class="line" id="l1805">   1805</a> &lt;a href=&quot;#l1786&quot; class=&quot;line&quot; id=&quot;l1786&quot;&gt;   1786&lt;/a&gt;   phi = phi / 3.14159 ;\r
<a href="#l1806" class="line" id="l1806">   1806</a> &lt;a href=&quot;#l1787&quot; class=&quot;line&quot; id=&quot;l1787&quot;&gt;   1787&lt;/a&gt;   \r
<a href="#l1807" class="line" id="l1807">   1807</a> &lt;a href=&quot;#l1788&quot; class=&quot;line&quot; id=&quot;l1788&quot;&gt;   1788&lt;/a&gt;   vec2 angles = vec2( phi, theta );\r
<a href="#l1808" class="line" id="l1808">   1808</a> &lt;a href=&quot;#l1789&quot; class=&quot;line&quot; id=&quot;l1789&quot;&gt;   1789&lt;/a&gt;   return angles;\r
<a href="#l1809" class="line" id="l1809">   1809</a> &lt;a href=&quot;#l1790&quot; class=&quot;line&quot; id=&quot;l1790&quot;&gt;   1790&lt;/a&gt; }\r
<a href="#l1810" class="line" id="l1810">   1810</a> &lt;a href=&quot;#l1791&quot; class=&quot;line&quot; id=&quot;l1791&quot;&gt;   1791&lt;/a&gt; \r
<a href="#l1811" class="line" id="l1811">   1811</a> &lt;a href=&quot;#l1792&quot; class=&quot;line&quot; id=&quot;l1792&quot;&gt;   1792&lt;/a&gt; \r
<a href="#l1812" class="line" id="l1812">   1812</a> &lt;a href=&quot;#l1793&quot; class=&quot;line&quot; id=&quot;l1793&quot;&gt;   1793&lt;/a&gt; void main(){\r
<a href="#l1813" class="line" id="l1813">   1813</a> &lt;a href=&quot;#l1794&quot; class=&quot;line&quot; id=&quot;l1794&quot;&gt;   1794&lt;/a&gt;   const int SAMPLE_COUNT = 400; // 4096\r
<a href="#l1814" class="line" id="l1814">   1814</a> &lt;a href=&quot;#l1795&quot; class=&quot;line&quot; id=&quot;l1795&quot;&gt;   1795&lt;/a&gt;   int lowRoughnessLimit = int(pow(2.0,(roughness+0.1)*20.0));\r
<a href="#l1815" class="line" id="l1815">   1815</a> &lt;a href=&quot;#l1796&quot; class=&quot;line&quot; id=&quot;l1796&quot;&gt;   1796&lt;/a&gt;   float totalWeight = 0.0;\r
<a href="#l1816" class="line" id="l1816">   1816</a> &lt;a href=&quot;#l1797&quot; class=&quot;line&quot; id=&quot;l1797&quot;&gt;   1797&lt;/a&gt;   vec3 prefilteredColor = vec3(0.0);\r
<a href="#l1817" class="line" id="l1817">   1817</a> &lt;a href=&quot;#l1798&quot; class=&quot;line&quot; id=&quot;l1798&quot;&gt;   1798&lt;/a&gt;   float phi = vTexCoord.x * 2.0 * PI;\r
<a href="#l1818" class="line" id="l1818">   1818</a> &lt;a href=&quot;#l1799&quot; class=&quot;line&quot; id=&quot;l1799&quot;&gt;   1799&lt;/a&gt;   float theta = vTexCoord.y * PI;\r
<a href="#l1819" class="line" id="l1819">   1819</a> &lt;a href=&quot;#l1800&quot; class=&quot;line&quot; id=&quot;l1800&quot;&gt;   1800&lt;/a&gt;   float x = sin(theta) * cos(phi);\r
<a href="#l1820" class="line" id="l1820">   1820</a> &lt;a href=&quot;#l1801&quot; class=&quot;line&quot; id=&quot;l1801&quot;&gt;   1801&lt;/a&gt;   float y = sin(theta) * sin(phi);\r
<a href="#l1821" class="line" id="l1821">   1821</a> &lt;a href=&quot;#l1802&quot; class=&quot;line&quot; id=&quot;l1802&quot;&gt;   1802&lt;/a&gt;   float z = cos(theta);\r
<a href="#l1822" class="line" id="l1822">   1822</a> &lt;a href=&quot;#l1803&quot; class=&quot;line&quot; id=&quot;l1803&quot;&gt;   1803&lt;/a&gt;   vec3 N = vec3(x,y,z);\r
<a href="#l1823" class="line" id="l1823">   1823</a> &lt;a href=&quot;#l1804&quot; class=&quot;line&quot; id=&quot;l1804&quot;&gt;   1804&lt;/a&gt;   vec3 V = N;\r
<a href="#l1824" class="line" id="l1824">   1824</a> &lt;a href=&quot;#l1805&quot; class=&quot;line&quot; id=&quot;l1805&quot;&gt;   1805&lt;/a&gt;   for (int i = 0; i &amp;lt; SAMPLE_COUNT; ++i)\r
<a href="#l1825" class="line" id="l1825">   1825</a> &lt;a href=&quot;#l1806&quot; class=&quot;line&quot; id=&quot;l1806&quot;&gt;   1806&lt;/a&gt;   {\r
<a href="#l1826" class="line" id="l1826">   1826</a> &lt;a href=&quot;#l1807&quot; class=&quot;line&quot; id=&quot;l1807&quot;&gt;   1807&lt;/a&gt;     // break at smaller sample numbers for low roughness levels\r
<a href="#l1827" class="line" id="l1827">   1827</a> &lt;a href=&quot;#l1808&quot; class=&quot;line&quot; id=&quot;l1808&quot;&gt;   1808&lt;/a&gt;     if(i == lowRoughnessLimit)\r
<a href="#l1828" class="line" id="l1828">   1828</a> &lt;a href=&quot;#l1809&quot; class=&quot;line&quot; id=&quot;l1809&quot;&gt;   1809&lt;/a&gt;     {\r
<a href="#l1829" class="line" id="l1829">   1829</a> &lt;a href=&quot;#l1810&quot; class=&quot;line&quot; id=&quot;l1810&quot;&gt;   1810&lt;/a&gt;       break;\r
<a href="#l1830" class="line" id="l1830">   1830</a> &lt;a href=&quot;#l1811&quot; class=&quot;line&quot; id=&quot;l1811&quot;&gt;   1811&lt;/a&gt;     }\r
<a href="#l1831" class="line" id="l1831">   1831</a> &lt;a href=&quot;#l1812&quot; class=&quot;line&quot; id=&quot;l1812&quot;&gt;   1812&lt;/a&gt;     vec2 Xi = HammersleyNoBitOps(i, SAMPLE_COUNT);\r
<a href="#l1832" class="line" id="l1832">   1832</a> &lt;a href=&quot;#l1813&quot; class=&quot;line&quot; id=&quot;l1813&quot;&gt;   1813&lt;/a&gt;     vec3 H = ImportanceSampleGGX(Xi, N, roughness);\r
<a href="#l1833" class="line" id="l1833">   1833</a> &lt;a href=&quot;#l1814&quot; class=&quot;line&quot; id=&quot;l1814&quot;&gt;   1814&lt;/a&gt;     vec3 L = normalize(2.0 * dot(V, H) * H - V);\r
<a href="#l1834" class="line" id="l1834">   1834</a> &lt;a href=&quot;#l1815&quot; class=&quot;line&quot; id=&quot;l1815&quot;&gt;   1815&lt;/a&gt; \r
<a href="#l1835" class="line" id="l1835">   1835</a> &lt;a href=&quot;#l1816&quot; class=&quot;line&quot; id=&quot;l1816&quot;&gt;   1816&lt;/a&gt;     float NdotL = max(dot(N, L), 0.0);\r
<a href="#l1836" class="line" id="l1836">   1836</a> &lt;a href=&quot;#l1817&quot; class=&quot;line&quot; id=&quot;l1817&quot;&gt;   1817&lt;/a&gt;     if (NdotL &amp;gt; 0.0)\r
<a href="#l1837" class="line" id="l1837">   1837</a> &lt;a href=&quot;#l1818&quot; class=&quot;line&quot; id=&quot;l1818&quot;&gt;   1818&lt;/a&gt;     {\r
<a href="#l1838" class="line" id="l1838">   1838</a> &lt;a href=&quot;#l1819&quot; class=&quot;line&quot; id=&quot;l1819&quot;&gt;   1819&lt;/a&gt;       prefilteredColor += texture2D(environmentMap, nTOE(L)).xyz * NdotL;\r
<a href="#l1839" class="line" id="l1839">   1839</a> &lt;a href=&quot;#l1820&quot; class=&quot;line&quot; id=&quot;l1820&quot;&gt;   1820&lt;/a&gt;       totalWeight += NdotL;\r
<a href="#l1840" class="line" id="l1840">   1840</a> &lt;a href=&quot;#l1821&quot; class=&quot;line&quot; id=&quot;l1821&quot;&gt;   1821&lt;/a&gt;     }\r
<a href="#l1841" class="line" id="l1841">   1841</a> &lt;a href=&quot;#l1822&quot; class=&quot;line&quot; id=&quot;l1822&quot;&gt;   1822&lt;/a&gt;   }\r
<a href="#l1842" class="line" id="l1842">   1842</a> &lt;a href=&quot;#l1823&quot; class=&quot;line&quot; id=&quot;l1823&quot;&gt;   1823&lt;/a&gt;   prefilteredColor = prefilteredColor / totalWeight;\r
<a href="#l1843" class="line" id="l1843">   1843</a> &lt;a href=&quot;#l1824&quot; class=&quot;line&quot; id=&quot;l1824&quot;&gt;   1824&lt;/a&gt; \r
<a href="#l1844" class="line" id="l1844">   1844</a> &lt;a href=&quot;#l1825&quot; class=&quot;line&quot; id=&quot;l1825&quot;&gt;   1825&lt;/a&gt;   gl_FragColor = vec4(prefilteredColor, 1.0);\r
<a href="#l1845" class="line" id="l1845">   1845</a> &lt;a href=&quot;#l1826&quot; class=&quot;line&quot; id=&quot;l1826&quot;&gt;   1826&lt;/a&gt; }\r
<a href="#l1846" class="line" id="l1846">   1846</a> &lt;a href=&quot;#l1827&quot; class=&quot;line&quot; id=&quot;l1827&quot;&gt;   1827&lt;/a&gt; \r
<a href="#l1847" class="line" id="l1847">   1847</a> &lt;a href=&quot;#l1828&quot; class=&quot;line&quot; id=&quot;l1828&quot;&gt;   1828&lt;/a&gt; vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness){\r
<a href="#l1848" class="line" id="l1848">   1848</a> &lt;a href=&quot;#l1829&quot; class=&quot;line&quot; id=&quot;l1829&quot;&gt;   1829&lt;/a&gt;   float a = roughness * roughness;\r
<a href="#l1849" class="line" id="l1849">   1849</a> &lt;a href=&quot;#l1830&quot; class=&quot;line&quot; id=&quot;l1830&quot;&gt;   1830&lt;/a&gt; \r
<a href="#l1850" class="line" id="l1850">   1850</a> &lt;a href=&quot;#l1831&quot; class=&quot;line&quot; id=&quot;l1831&quot;&gt;   1831&lt;/a&gt;   float phi = 2.0 * PI * Xi.x;\r
<a href="#l1851" class="line" id="l1851">   1851</a> &lt;a href=&quot;#l1832&quot; class=&quot;line&quot; id=&quot;l1832&quot;&gt;   1832&lt;/a&gt;   float cosTheta = sqrt((1.0 - Xi.y) / (1.0 + (a * a - 1.0) * Xi.y));\r
<a href="#l1852" class="line" id="l1852">   1852</a> &lt;a href=&quot;#l1833&quot; class=&quot;line&quot; id=&quot;l1833&quot;&gt;   1833&lt;/a&gt;   float sinTheta = sqrt(1.0 - cosTheta * cosTheta);\r
<a href="#l1853" class="line" id="l1853">   1853</a> &lt;a href=&quot;#l1834&quot; class=&quot;line&quot; id=&quot;l1834&quot;&gt;   1834&lt;/a&gt;   // from spherical coordinates to cartesian coordinates\r
<a href="#l1854" class="line" id="l1854">   1854</a> &lt;a href=&quot;#l1835&quot; class=&quot;line&quot; id=&quot;l1835&quot;&gt;   1835&lt;/a&gt;   vec3 H;\r
<a href="#l1855" class="line" id="l1855">   1855</a> &lt;a href=&quot;#l1836&quot; class=&quot;line&quot; id=&quot;l1836&quot;&gt;   1836&lt;/a&gt;   H.x = cos(phi) * sinTheta;\r
<a href="#l1856" class="line" id="l1856">   1856</a> &lt;a href=&quot;#l1837&quot; class=&quot;line&quot; id=&quot;l1837&quot;&gt;   1837&lt;/a&gt;   H.y = sin(phi) * sinTheta;\r
<a href="#l1857" class="line" id="l1857">   1857</a> &lt;a href=&quot;#l1838&quot; class=&quot;line&quot; id=&quot;l1838&quot;&gt;   1838&lt;/a&gt;   H.z = cosTheta;\r
<a href="#l1858" class="line" id="l1858">   1858</a> &lt;a href=&quot;#l1839&quot; class=&quot;line&quot; id=&quot;l1839&quot;&gt;   1839&lt;/a&gt; \r
<a href="#l1859" class="line" id="l1859">   1859</a> &lt;a href=&quot;#l1840&quot; class=&quot;line&quot; id=&quot;l1840&quot;&gt;   1840&lt;/a&gt;   // from tangent-space vector to world-space sample vector\r
<a href="#l1860" class="line" id="l1860">   1860</a> &lt;a href=&quot;#l1841&quot; class=&quot;line&quot; id=&quot;l1841&quot;&gt;   1841&lt;/a&gt;   vec3 up = abs(N.z) &amp;lt; 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);\r
<a href="#l1861" class="line" id="l1861">   1861</a> &lt;a href=&quot;#l1842&quot; class=&quot;line&quot; id=&quot;l1842&quot;&gt;   1842&lt;/a&gt;   vec3 tangent = normalize(cross(up, N));\r
<a href="#l1862" class="line" id="l1862">   1862</a> &lt;a href=&quot;#l1843&quot; class=&quot;line&quot; id=&quot;l1843&quot;&gt;   1843&lt;/a&gt;   vec3 bitangent = cross(N, tangent);\r
<a href="#l1863" class="line" id="l1863">   1863</a> &lt;a href=&quot;#l1844&quot; class=&quot;line&quot; id=&quot;l1844&quot;&gt;   1844&lt;/a&gt; \r
<a href="#l1864" class="line" id="l1864">   1864</a> &lt;a href=&quot;#l1845&quot; class=&quot;line&quot; id=&quot;l1845&quot;&gt;   1845&lt;/a&gt;   vec3 sampleVec = tangent * H.x + bitangent * H.y + N * H.z;\r
<a href="#l1865" class="line" id="l1865">   1865</a> &lt;a href=&quot;#l1846&quot; class=&quot;line&quot; id=&quot;l1846&quot;&gt;   1846&lt;/a&gt;   return normalize(sampleVec);\r
<a href="#l1866" class="line" id="l1866">   1866</a> &lt;a href=&quot;#l1847&quot; class=&quot;line&quot; id=&quot;l1847&quot;&gt;   1847&lt;/a&gt; }\r
<a href="#l1867" class="line" id="l1867">   1867</a> &lt;a href=&quot;#l1848&quot; class=&quot;line&quot; id=&quot;l1848&quot;&gt;   1848&lt;/a&gt; \r
<a href="#l1868" class="line" id="l1868">   1868</a> &lt;a href=&quot;#l1849&quot; class=&quot;line&quot; id=&quot;l1849&quot;&gt;   1849&lt;/a&gt; \r
<a href="#l1869" class="line" id="l1869">   1869</a> &lt;a href=&quot;#l1850&quot; class=&quot;line&quot; id=&quot;l1850&quot;&gt;   1850&lt;/a&gt; float VanDerCorput(int n, int base)\r
<a href="#l1870" class="line" id="l1870">   1870</a> &lt;a href=&quot;#l1851&quot; class=&quot;line&quot; id=&quot;l1851&quot;&gt;   1851&lt;/a&gt; {\r
<a href="#l1871" class="line" id="l1871">   1871</a> &lt;a href=&quot;#l1852&quot; class=&quot;line&quot; id=&quot;l1852&quot;&gt;   1852&lt;/a&gt; #ifdef WEBGL2\r
<a href="#l1872" class="line" id="l1872">   1872</a> &lt;a href=&quot;#l1853&quot; class=&quot;line&quot; id=&quot;l1853&quot;&gt;   1853&lt;/a&gt; \r
<a href="#l1873" class="line" id="l1873">   1873</a> &lt;a href=&quot;#l1854&quot; class=&quot;line&quot; id=&quot;l1854&quot;&gt;   1854&lt;/a&gt;     uint bits = uint(n);\r
<a href="#l1874" class="line" id="l1874">   1874</a> &lt;a href=&quot;#l1855&quot; class=&quot;line&quot; id=&quot;l1855&quot;&gt;   1855&lt;/a&gt;     bits = (bits &amp;lt;&amp;lt; 16u) | (bits &amp;gt;&amp;gt; 16u);\r
<a href="#l1875" class="line" id="l1875">   1875</a> &lt;a href=&quot;#l1856&quot; class=&quot;line&quot; id=&quot;l1856&quot;&gt;   1856&lt;/a&gt;     bits = ((bits &amp;amp; 0x55555555u) &amp;lt;&amp;lt; 1u) | ((bits &amp;amp; 0xAAAAAAAAu) &amp;gt;&amp;gt; 1u);\r
<a href="#l1876" class="line" id="l1876">   1876</a> &lt;a href=&quot;#l1857&quot; class=&quot;line&quot; id=&quot;l1857&quot;&gt;   1857&lt;/a&gt;     bits = ((bits &amp;amp; 0x33333333u) &amp;lt;&amp;lt; 2u) | ((bits &amp;amp; 0xCCCCCCCCu) &amp;gt;&amp;gt; 2u);\r
<a href="#l1877" class="line" id="l1877">   1877</a> &lt;a href=&quot;#l1858&quot; class=&quot;line&quot; id=&quot;l1858&quot;&gt;   1858&lt;/a&gt;     bits = ((bits &amp;amp; 0x0F0F0F0Fu) &amp;lt;&amp;lt; 4u) | ((bits &amp;amp; 0xF0F0F0F0u) &amp;gt;&amp;gt; 4u);\r
<a href="#l1878" class="line" id="l1878">   1878</a> &lt;a href=&quot;#l1859&quot; class=&quot;line&quot; id=&quot;l1859&quot;&gt;   1859&lt;/a&gt;     bits = ((bits &amp;amp; 0x00FF00FFu) &amp;lt;&amp;lt; 8u) | ((bits &amp;amp; 0xFF00FF00u) &amp;gt;&amp;gt; 8u);\r
<a href="#l1879" class="line" id="l1879">   1879</a> &lt;a href=&quot;#l1860&quot; class=&quot;line&quot; id=&quot;l1860&quot;&gt;   1860&lt;/a&gt;     return float(bits) * 2.3283064365386963e-10; // / 0x100000000\r
<a href="#l1880" class="line" id="l1880">   1880</a> &lt;a href=&quot;#l1861&quot; class=&quot;line&quot; id=&quot;l1861&quot;&gt;   1861&lt;/a&gt; \r
<a href="#l1881" class="line" id="l1881">   1881</a> &lt;a href=&quot;#l1862&quot; class=&quot;line&quot; id=&quot;l1862&quot;&gt;   1862&lt;/a&gt; #else\r
<a href="#l1882" class="line" id="l1882">   1882</a> &lt;a href=&quot;#l1863&quot; class=&quot;line&quot; id=&quot;l1863&quot;&gt;   1863&lt;/a&gt; \r
<a href="#l1883" class="line" id="l1883">   1883</a> &lt;a href=&quot;#l1864&quot; class=&quot;line&quot; id=&quot;l1864&quot;&gt;   1864&lt;/a&gt;   float invBase = 1.0 / float(base);\r
<a href="#l1884" class="line" id="l1884">   1884</a> &lt;a href=&quot;#l1865&quot; class=&quot;line&quot; id=&quot;l1865&quot;&gt;   1865&lt;/a&gt;   float denom = 1.0;\r
<a href="#l1885" class="line" id="l1885">   1885</a> &lt;a href=&quot;#l1866&quot; class=&quot;line&quot; id=&quot;l1866&quot;&gt;   1866&lt;/a&gt;   float result = 0.0;\r
<a href="#l1886" class="line" id="l1886">   1886</a> &lt;a href=&quot;#l1867&quot; class=&quot;line&quot; id=&quot;l1867&quot;&gt;   1867&lt;/a&gt; \r
<a href="#l1887" class="line" id="l1887">   1887</a> &lt;a href=&quot;#l1868&quot; class=&quot;line&quot; id=&quot;l1868&quot;&gt;   1868&lt;/a&gt; \r
<a href="#l1888" class="line" id="l1888">   1888</a> &lt;a href=&quot;#l1869&quot; class=&quot;line&quot; id=&quot;l1869&quot;&gt;   1869&lt;/a&gt;   for (int i = 0; i &amp;lt; 32; ++i)\r
<a href="#l1889" class="line" id="l1889">   1889</a> &lt;a href=&quot;#l1870&quot; class=&quot;line&quot; id=&quot;l1870&quot;&gt;   1870&lt;/a&gt;   {\r
<a href="#l1890" class="line" id="l1890">   1890</a> &lt;a href=&quot;#l1871&quot; class=&quot;line&quot; id=&quot;l1871&quot;&gt;   1871&lt;/a&gt;         if (n &amp;gt; 0)\r
<a href="#l1891" class="line" id="l1891">   1891</a> &lt;a href=&quot;#l1872&quot; class=&quot;line&quot; id=&quot;l1872&quot;&gt;   1872&lt;/a&gt;         {\r
<a href="#l1892" class="line" id="l1892">   1892</a> &lt;a href=&quot;#l1873&quot; class=&quot;line&quot; id=&quot;l1873&quot;&gt;   1873&lt;/a&gt;         denom = mod(float(n), 2.0);\r
<a href="#l1893" class="line" id="l1893">   1893</a> &lt;a href=&quot;#l1874&quot; class=&quot;line&quot; id=&quot;l1874&quot;&gt;   1874&lt;/a&gt;         result += denom * invBase;\r
<a href="#l1894" class="line" id="l1894">   1894</a> &lt;a href=&quot;#l1875&quot; class=&quot;line&quot; id=&quot;l1875&quot;&gt;   1875&lt;/a&gt;         invBase = invBase / 2.0;\r
<a href="#l1895" class="line" id="l1895">   1895</a> &lt;a href=&quot;#l1876&quot; class=&quot;line&quot; id=&quot;l1876&quot;&gt;   1876&lt;/a&gt;         n = int(float(n) / 2.0);\r
<a href="#l1896" class="line" id="l1896">   1896</a> &lt;a href=&quot;#l1877&quot; class=&quot;line&quot; id=&quot;l1877&quot;&gt;   1877&lt;/a&gt;         }\r
<a href="#l1897" class="line" id="l1897">   1897</a> &lt;a href=&quot;#l1878&quot; class=&quot;line&quot; id=&quot;l1878&quot;&gt;   1878&lt;/a&gt;   }\r
<a href="#l1898" class="line" id="l1898">   1898</a> &lt;a href=&quot;#l1879&quot; class=&quot;line&quot; id=&quot;l1879&quot;&gt;   1879&lt;/a&gt; \r
<a href="#l1899" class="line" id="l1899">   1899</a> &lt;a href=&quot;#l1880&quot; class=&quot;line&quot; id=&quot;l1880&quot;&gt;   1880&lt;/a&gt; \r
<a href="#l1900" class="line" id="l1900">   1900</a> &lt;a href=&quot;#l1881&quot; class=&quot;line&quot; id=&quot;l1881&quot;&gt;   1881&lt;/a&gt;   return result;\r
<a href="#l1901" class="line" id="l1901">   1901</a> &lt;a href=&quot;#l1882&quot; class=&quot;line&quot; id=&quot;l1882&quot;&gt;   1882&lt;/a&gt; \r
<a href="#l1902" class="line" id="l1902">   1902</a> &lt;a href=&quot;#l1883&quot; class=&quot;line&quot; id=&quot;l1883&quot;&gt;   1883&lt;/a&gt; #endif\r
<a href="#l1903" class="line" id="l1903">   1903</a> &lt;a href=&quot;#l1884&quot; class=&quot;line&quot; id=&quot;l1884&quot;&gt;   1884&lt;/a&gt; }\r
<a href="#l1904" class="line" id="l1904">   1904</a> &lt;a href=&quot;#l1885&quot; class=&quot;line&quot; id=&quot;l1885&quot;&gt;   1885&lt;/a&gt; \r
<a href="#l1905" class="line" id="l1905">   1905</a> &lt;a href=&quot;#l1886&quot; class=&quot;line&quot; id=&quot;l1886&quot;&gt;   1886&lt;/a&gt; vec2 HammersleyNoBitOps(int i, int N)\r
<a href="#l1906" class="line" id="l1906">   1906</a> &lt;a href=&quot;#l1887&quot; class=&quot;line&quot; id=&quot;l1887&quot;&gt;   1887&lt;/a&gt; {\r
<a href="#l1907" class="line" id="l1907">   1907</a> &lt;a href=&quot;#l1888&quot; class=&quot;line&quot; id=&quot;l1888&quot;&gt;   1888&lt;/a&gt;   return vec2(float(i) / float(N), VanDerCorput(i, 2));\r
<a href="#l1908" class="line" id="l1908">   1908</a> &lt;a href=&quot;#l1889&quot; class=&quot;line&quot; id=&quot;l1889&quot;&gt;   1889&lt;/a&gt; }\r
<a href="#l1909" class="line" id="l1909">   1909</a> &lt;a href=&quot;#l1890&quot; class=&quot;line&quot; id=&quot;l1890&quot;&gt;   1890&lt;/a&gt; `,Dc=`precision highp float;
<a href="#l1910" class="line" id="l1910">   1910</a> &lt;a href=&quot;#l1891&quot; class=&quot;line&quot; id=&quot;l1891&quot;&gt;   1891&lt;/a&gt; 
<a href="#l1911" class="line" id="l1911">   1911</a> &lt;a href=&quot;#l1892&quot; class=&quot;line&quot; id=&quot;l1892&quot;&gt;   1892&lt;/a&gt; uniform sampler2D tex0;
<a href="#l1912" class="line" id="l1912">   1912</a> &lt;a href=&quot;#l1893&quot; class=&quot;line&quot; id=&quot;l1893&quot;&gt;   1893&lt;/a&gt; uniform vec2 canvasSize;
<a href="#l1913" class="line" id="l1913">   1913</a> &lt;a href=&quot;#l1894&quot; class=&quot;line&quot; id=&quot;l1894&quot;&gt;   1894&lt;/a&gt; uniform vec2 texelSize;
<a href="#l1914" class="line" id="l1914">   1914</a> &lt;a href=&quot;#l1895&quot; class=&quot;line&quot; id=&quot;l1895&quot;&gt;   1895&lt;/a&gt; 
<a href="#l1915" class="line" id="l1915">   1915</a> &lt;a href=&quot;#l1896&quot; class=&quot;line&quot; id=&quot;l1896&quot;&gt;   1896&lt;/a&gt; IN vec2 vTexCoord;
<a href="#l1916" class="line" id="l1916">   1916</a> &lt;a href=&quot;#l1897&quot; class=&quot;line&quot; id=&quot;l1897&quot;&gt;   1897&lt;/a&gt; 
<a href="#l1917" class="line" id="l1917">   1917</a> &lt;a href=&quot;#l1898&quot; class=&quot;line&quot; id=&quot;l1898&quot;&gt;   1898&lt;/a&gt; struct FilterInputs {
<a href="#l1918" class="line" id="l1918">   1918</a> &lt;a href=&quot;#l1899&quot; class=&quot;line&quot; id=&quot;l1899&quot;&gt;   1899&lt;/a&gt;   vec2 texCoord;
<a href="#l1919" class="line" id="l1919">   1919</a> &lt;a href=&quot;#l1900&quot; class=&quot;line&quot; id=&quot;l1900&quot;&gt;   1900&lt;/a&gt;   vec2 canvasSize;
<a href="#l1920" class="line" id="l1920">   1920</a> &lt;a href=&quot;#l1901&quot; class=&quot;line&quot; id=&quot;l1901&quot;&gt;   1901&lt;/a&gt;   vec2 texelSize;
<a href="#l1921" class="line" id="l1921">   1921</a> &lt;a href=&quot;#l1902&quot; class=&quot;line&quot; id=&quot;l1902&quot;&gt;   1902&lt;/a&gt; };
<a href="#l1922" class="line" id="l1922">   1922</a> &lt;a href=&quot;#l1903&quot; class=&quot;line&quot; id=&quot;l1903&quot;&gt;   1903&lt;/a&gt; 
<a href="#l1923" class="line" id="l1923">   1923</a> &lt;a href=&quot;#l1904&quot; class=&quot;line&quot; id=&quot;l1904&quot;&gt;   1904&lt;/a&gt; void main(void) {
<a href="#l1924" class="line" id="l1924">   1924</a> &lt;a href=&quot;#l1905&quot; class=&quot;line&quot; id=&quot;l1905&quot;&gt;   1905&lt;/a&gt;   FilterInputs inputs;
<a href="#l1925" class="line" id="l1925">   1925</a> &lt;a href=&quot;#l1906&quot; class=&quot;line&quot; id=&quot;l1906&quot;&gt;   1906&lt;/a&gt;   inputs.texCoord = vTexCoord;
<a href="#l1926" class="line" id="l1926">   1926</a> &lt;a href=&quot;#l1907&quot; class=&quot;line&quot; id=&quot;l1907&quot;&gt;   1907&lt;/a&gt;   inputs.canvasSize = canvasSize;
<a href="#l1927" class="line" id="l1927">   1927</a> &lt;a href=&quot;#l1908&quot; class=&quot;line&quot; id=&quot;l1908&quot;&gt;   1908&lt;/a&gt;   inputs.texelSize = texelSize;
<a href="#l1928" class="line" id="l1928">   1928</a> &lt;a href=&quot;#l1909&quot; class=&quot;line&quot; id=&quot;l1909&quot;&gt;   1909&lt;/a&gt;   OUT_COLOR = HOOK_getColor(inputs, tex0);
<a href="#l1929" class="line" id="l1929">   1929</a> &lt;a href=&quot;#l1910&quot; class=&quot;line&quot; id=&quot;l1910&quot;&gt;   1910&lt;/a&gt;   OUT_COLOR.rgb *= outColor.a;
<a href="#l1930" class="line" id="l1930">   1930</a> &lt;a href=&quot;#l1911&quot; class=&quot;line&quot; id=&quot;l1911&quot;&gt;   1911&lt;/a&gt; }
<a href="#l1931" class="line" id="l1931">   1931</a> &lt;a href=&quot;#l1912&quot; class=&quot;line&quot; id=&quot;l1912&quot;&gt;   1912&lt;/a&gt; `,Fc=`precision highp float;
<a href="#l1932" class="line" id="l1932">   1932</a> &lt;a href=&quot;#l1913&quot; class=&quot;line&quot; id=&quot;l1913&quot;&gt;   1913&lt;/a&gt; 
<a href="#l1933" class="line" id="l1933">   1933</a> &lt;a href=&quot;#l1914&quot; class=&quot;line&quot; id=&quot;l1914&quot;&gt;   1914&lt;/a&gt; varying vec2 vTexCoord;
<a href="#l1934" class="line" id="l1934">   1934</a> &lt;a href=&quot;#l1915&quot; class=&quot;line&quot; id=&quot;l1915&quot;&gt;   1915&lt;/a&gt; 
<a href="#l1935" class="line" id="l1935">   1935</a> &lt;a href=&quot;#l1916&quot; class=&quot;line&quot; id=&quot;l1916&quot;&gt;   1916&lt;/a&gt; uniform sampler2D tex0;
<a href="#l1936" class="line" id="l1936">   1936</a> &lt;a href=&quot;#l1917&quot; class=&quot;line&quot; id=&quot;l1917&quot;&gt;   1917&lt;/a&gt; 
<a href="#l1937" class="line" id="l1937">   1937</a> &lt;a href=&quot;#l1918&quot; class=&quot;line&quot; id=&quot;l1918&quot;&gt;   1918&lt;/a&gt; float luma(vec3 color) {
<a href="#l1938" class="line" id="l1938">   1938</a> &lt;a href=&quot;#l1919&quot; class=&quot;line&quot; id=&quot;l1919&quot;&gt;   1919&lt;/a&gt;   // weighted grayscale with luminance values
<a href="#l1939" class="line" id="l1939">   1939</a> &lt;a href=&quot;#l1920&quot; class=&quot;line&quot; id=&quot;l1920&quot;&gt;   1920&lt;/a&gt;   return dot(color, vec3(0.2126, 0.7152, 0.0722));
<a href="#l1940" class="line" id="l1940">   1940</a> &lt;a href=&quot;#l1921&quot; class=&quot;line&quot; id=&quot;l1921&quot;&gt;   1921&lt;/a&gt; }
<a href="#l1941" class="line" id="l1941">   1941</a> &lt;a href=&quot;#l1922&quot; class=&quot;line&quot; id=&quot;l1922&quot;&gt;   1922&lt;/a&gt; 
<a href="#l1942" class="line" id="l1942">   1942</a> &lt;a href=&quot;#l1923&quot; class=&quot;line&quot; id=&quot;l1923&quot;&gt;   1923&lt;/a&gt; void main() {
<a href="#l1943" class="line" id="l1943">   1943</a> &lt;a href=&quot;#l1924&quot; class=&quot;line&quot; id=&quot;l1924&quot;&gt;   1924&lt;/a&gt;   vec4 tex = texture2D(tex0, vTexCoord);
<a href="#l1944" class="line" id="l1944">   1944</a> &lt;a href=&quot;#l1925&quot; class=&quot;line&quot; id=&quot;l1925&quot;&gt;   1925&lt;/a&gt;   float gray = luma(tex.rgb);
<a href="#l1945" class="line" id="l1945">   1945</a> &lt;a href=&quot;#l1926&quot; class=&quot;line&quot; id=&quot;l1926&quot;&gt;   1926&lt;/a&gt;   gl_FragColor = vec4(gray, gray, gray, tex.a);
<a href="#l1946" class="line" id="l1946">   1946</a> &lt;a href=&quot;#l1927&quot; class=&quot;line&quot; id=&quot;l1927&quot;&gt;   1927&lt;/a&gt; }
<a href="#l1947" class="line" id="l1947">   1947</a> &lt;a href=&quot;#l1928&quot; class=&quot;line&quot; id=&quot;l1928&quot;&gt;   1928&lt;/a&gt; `,Tc=`// Reduces the bright areas in an image
<a href="#l1948" class="line" id="l1948">   1948</a> &lt;a href=&quot;#l1929&quot; class=&quot;line&quot; id=&quot;l1929&quot;&gt;   1929&lt;/a&gt; 
<a href="#l1949" class="line" id="l1949">   1949</a> &lt;a href=&quot;#l1930&quot; class=&quot;line&quot; id=&quot;l1930&quot;&gt;   1930&lt;/a&gt; precision highp float;
<a href="#l1950" class="line" id="l1950">   1950</a> &lt;a href=&quot;#l1931&quot; class=&quot;line&quot; id=&quot;l1931&quot;&gt;   1931&lt;/a&gt; 
<a href="#l1951" class="line" id="l1951">   1951</a> &lt;a href=&quot;#l1932&quot; class=&quot;line&quot; id=&quot;l1932&quot;&gt;   1932&lt;/a&gt; varying vec2 vTexCoord;
<a href="#l1952" class="line" id="l1952">   1952</a> &lt;a href=&quot;#l1933&quot; class=&quot;line&quot; id=&quot;l1933&quot;&gt;   1933&lt;/a&gt; 
<a href="#l1953" class="line" id="l1953">   1953</a> &lt;a href=&quot;#l1934&quot; class=&quot;line&quot; id=&quot;l1934&quot;&gt;   1934&lt;/a&gt; uniform sampler2D tex0;
<a href="#l1954" class="line" id="l1954">   1954</a> &lt;a href=&quot;#l1935&quot; class=&quot;line&quot; id=&quot;l1935&quot;&gt;   1935&lt;/a&gt; uniform vec2 texelSize;
<a href="#l1955" class="line" id="l1955">   1955</a> &lt;a href=&quot;#l1936&quot; class=&quot;line&quot; id=&quot;l1936&quot;&gt;   1936&lt;/a&gt; 
<a href="#l1956" class="line" id="l1956">   1956</a> &lt;a href=&quot;#l1937&quot; class=&quot;line&quot; id=&quot;l1937&quot;&gt;   1937&lt;/a&gt; float luma(vec3 color) {
<a href="#l1957" class="line" id="l1957">   1957</a> &lt;a href=&quot;#l1938&quot; class=&quot;line&quot; id=&quot;l1938&quot;&gt;   1938&lt;/a&gt;   // weighted grayscale with luminance values
<a href="#l1958" class="line" id="l1958">   1958</a> &lt;a href=&quot;#l1939&quot; class=&quot;line&quot; id=&quot;l1939&quot;&gt;   1939&lt;/a&gt;   // weights 77, 151, 28 taken from src/image/filters.js
<a href="#l1959" class="line" id="l1959">   1959</a> &lt;a href=&quot;#l1940&quot; class=&quot;line&quot; id=&quot;l1940&quot;&gt;   1940&lt;/a&gt;   return dot(color, vec3(0.300781, 0.589844, 0.109375));
<a href="#l1960" class="line" id="l1960">   1960</a> &lt;a href=&quot;#l1941&quot; class=&quot;line&quot; id=&quot;l1941&quot;&gt;   1941&lt;/a&gt; }
<a href="#l1961" class="line" id="l1961">   1961</a> &lt;a href=&quot;#l1942&quot; class=&quot;line&quot; id=&quot;l1942&quot;&gt;   1942&lt;/a&gt; 
<a href="#l1962" class="line" id="l1962">   1962</a> &lt;a href=&quot;#l1943&quot; class=&quot;line&quot; id=&quot;l1943&quot;&gt;   1943&lt;/a&gt; void main() {
<a href="#l1963" class="line" id="l1963">   1963</a> &lt;a href=&quot;#l1944&quot; class=&quot;line&quot; id=&quot;l1944&quot;&gt;   1944&lt;/a&gt;   vec4 color = texture2D(tex0, vTexCoord);
<a href="#l1964" class="line" id="l1964">   1964</a> &lt;a href=&quot;#l1945&quot; class=&quot;line&quot; id=&quot;l1945&quot;&gt;   1945&lt;/a&gt;   float lum = luma(color.rgb);
<a href="#l1965" class="line" id="l1965">   1965</a> &lt;a href=&quot;#l1946&quot; class=&quot;line&quot; id=&quot;l1946&quot;&gt;   1946&lt;/a&gt; 
<a href="#l1966" class="line" id="l1966">   1966</a> &lt;a href=&quot;#l1947&quot; class=&quot;line&quot; id=&quot;l1947&quot;&gt;   1947&lt;/a&gt;   // set current color as the darkest neighbor color
<a href="#l1967" class="line" id="l1967">   1967</a> &lt;a href=&quot;#l1948&quot; class=&quot;line&quot; id=&quot;l1948&quot;&gt;   1948&lt;/a&gt; 
<a href="#l1968" class="line" id="l1968">   1968</a> &lt;a href=&quot;#l1949&quot; class=&quot;line&quot; id=&quot;l1949&quot;&gt;   1949&lt;/a&gt;   vec4 neighbors[4];
<a href="#l1969" class="line" id="l1969">   1969</a> &lt;a href=&quot;#l1950&quot; class=&quot;line&quot; id=&quot;l1950&quot;&gt;   1950&lt;/a&gt;   neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
<a href="#l1970" class="line" id="l1970">   1970</a> &lt;a href=&quot;#l1951&quot; class=&quot;line&quot; id=&quot;l1951&quot;&gt;   1951&lt;/a&gt;   neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
<a href="#l1971" class="line" id="l1971">   1971</a> &lt;a href=&quot;#l1952&quot; class=&quot;line&quot; id=&quot;l1952&quot;&gt;   1952&lt;/a&gt;   neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
<a href="#l1972" class="line" id="l1972">   1972</a> &lt;a href=&quot;#l1953&quot; class=&quot;line&quot; id=&quot;l1953&quot;&gt;   1953&lt;/a&gt;   neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));
<a href="#l1973" class="line" id="l1973">   1973</a> &lt;a href=&quot;#l1954&quot; class=&quot;line&quot; id=&quot;l1954&quot;&gt;   1954&lt;/a&gt; 
<a href="#l1974" class="line" id="l1974">   1974</a> &lt;a href=&quot;#l1955&quot; class=&quot;line&quot; id=&quot;l1955&quot;&gt;   1955&lt;/a&gt;   for (int i = 0; i &amp;lt; 4; i++) {
<a href="#l1975" class="line" id="l1975">   1975</a> &lt;a href=&quot;#l1956&quot; class=&quot;line&quot; id=&quot;l1956&quot;&gt;   1956&lt;/a&gt;     vec4 neighborColor = neighbors[i];
<a href="#l1976" class="line" id="l1976">   1976</a> &lt;a href=&quot;#l1957&quot; class=&quot;line&quot; id=&quot;l1957&quot;&gt;   1957&lt;/a&gt;     float neighborLum = luma(neighborColor.rgb);
<a href="#l1977" class="line" id="l1977">   1977</a> &lt;a href=&quot;#l1958&quot; class=&quot;line&quot; id=&quot;l1958&quot;&gt;   1958&lt;/a&gt; 
<a href="#l1978" class="line" id="l1978">   1978</a> &lt;a href=&quot;#l1959&quot; class=&quot;line&quot; id=&quot;l1959&quot;&gt;   1959&lt;/a&gt;     if (neighborLum &amp;lt; lum) {
<a href="#l1979" class="line" id="l1979">   1979</a> &lt;a href=&quot;#l1960&quot; class=&quot;line&quot; id=&quot;l1960&quot;&gt;   1960&lt;/a&gt;       color = neighborColor;
<a href="#l1980" class="line" id="l1980">   1980</a> &lt;a href=&quot;#l1961&quot; class=&quot;line&quot; id=&quot;l1961&quot;&gt;   1961&lt;/a&gt;       lum = neighborLum;
<a href="#l1981" class="line" id="l1981">   1981</a> &lt;a href=&quot;#l1962&quot; class=&quot;line&quot; id=&quot;l1962&quot;&gt;   1962&lt;/a&gt;     }
<a href="#l1982" class="line" id="l1982">   1982</a> &lt;a href=&quot;#l1963&quot; class=&quot;line&quot; id=&quot;l1963&quot;&gt;   1963&lt;/a&gt;   }
<a href="#l1983" class="line" id="l1983">   1983</a> &lt;a href=&quot;#l1964&quot; class=&quot;line&quot; id=&quot;l1964&quot;&gt;   1964&lt;/a&gt; 
<a href="#l1984" class="line" id="l1984">   1984</a> &lt;a href=&quot;#l1965&quot; class=&quot;line&quot; id=&quot;l1965&quot;&gt;   1965&lt;/a&gt;   gl_FragColor = color;
<a href="#l1985" class="line" id="l1985">   1985</a> &lt;a href=&quot;#l1966&quot; class=&quot;line&quot; id=&quot;l1966&quot;&gt;   1966&lt;/a&gt; }
<a href="#l1986" class="line" id="l1986">   1986</a> &lt;a href=&quot;#l1967&quot; class=&quot;line&quot; id=&quot;l1967&quot;&gt;   1967&lt;/a&gt; `,Nc=`// Increase the bright areas in an image
<a href="#l1987" class="line" id="l1987">   1987</a> &lt;a href=&quot;#l1968&quot; class=&quot;line&quot; id=&quot;l1968&quot;&gt;   1968&lt;/a&gt; 
<a href="#l1988" class="line" id="l1988">   1988</a> &lt;a href=&quot;#l1969&quot; class=&quot;line&quot; id=&quot;l1969&quot;&gt;   1969&lt;/a&gt; precision highp float;
<a href="#l1989" class="line" id="l1989">   1989</a> &lt;a href=&quot;#l1970&quot; class=&quot;line&quot; id=&quot;l1970&quot;&gt;   1970&lt;/a&gt; 
<a href="#l1990" class="line" id="l1990">   1990</a> &lt;a href=&quot;#l1971&quot; class=&quot;line&quot; id=&quot;l1971&quot;&gt;   1971&lt;/a&gt; varying vec2 vTexCoord;
<a href="#l1991" class="line" id="l1991">   1991</a> &lt;a href=&quot;#l1972&quot; class=&quot;line&quot; id=&quot;l1972&quot;&gt;   1972&lt;/a&gt; 
<a href="#l1992" class="line" id="l1992">   1992</a> &lt;a href=&quot;#l1973&quot; class=&quot;line&quot; id=&quot;l1973&quot;&gt;   1973&lt;/a&gt; uniform sampler2D tex0;
<a href="#l1993" class="line" id="l1993">   1993</a> &lt;a href=&quot;#l1974&quot; class=&quot;line&quot; id=&quot;l1974&quot;&gt;   1974&lt;/a&gt; uniform vec2 texelSize;
<a href="#l1994" class="line" id="l1994">   1994</a> &lt;a href=&quot;#l1975&quot; class=&quot;line&quot; id=&quot;l1975&quot;&gt;   1975&lt;/a&gt; 
<a href="#l1995" class="line" id="l1995">   1995</a> &lt;a href=&quot;#l1976&quot; class=&quot;line&quot; id=&quot;l1976&quot;&gt;   1976&lt;/a&gt; float luma(vec3 color) {
<a href="#l1996" class="line" id="l1996">   1996</a> &lt;a href=&quot;#l1977&quot; class=&quot;line&quot; id=&quot;l1977&quot;&gt;   1977&lt;/a&gt;   // weighted grayscale with luminance values
<a href="#l1997" class="line" id="l1997">   1997</a> &lt;a href=&quot;#l1978&quot; class=&quot;line&quot; id=&quot;l1978&quot;&gt;   1978&lt;/a&gt;   // weights 77, 151, 28 taken from src/image/filters.js
<a href="#l1998" class="line" id="l1998">   1998</a> &lt;a href=&quot;#l1979&quot; class=&quot;line&quot; id=&quot;l1979&quot;&gt;   1979&lt;/a&gt;   return dot(color, vec3(0.300781, 0.589844, 0.109375));
<a href="#l1999" class="line" id="l1999">   1999</a> &lt;a href=&quot;#l1980&quot; class=&quot;line&quot; id=&quot;l1980&quot;&gt;   1980&lt;/a&gt; }
<a href="#l2000" class="line" id="l2000">   2000</a> &lt;a href=&quot;#l1981&quot; class=&quot;line&quot; id=&quot;l1981&quot;&gt;   1981&lt;/a&gt; 
<a href="#l2001" class="line" id="l2001">   2001</a> &lt;a href=&quot;#l1982&quot; class=&quot;line&quot; id=&quot;l1982&quot;&gt;   1982&lt;/a&gt; void main() {
<a href="#l2002" class="line" id="l2002">   2002</a> &lt;a href=&quot;#l1983&quot; class=&quot;line&quot; id=&quot;l1983&quot;&gt;   1983&lt;/a&gt;   vec4 color = texture2D(tex0, vTexCoord);
<a href="#l2003" class="line" id="l2003">   2003</a> &lt;a href=&quot;#l1984&quot; class=&quot;line&quot; id=&quot;l1984&quot;&gt;   1984&lt;/a&gt;   float lum = luma(color.rgb);
<a href="#l2004" class="line" id="l2004">   2004</a> &lt;a href=&quot;#l1985&quot; class=&quot;line&quot; id=&quot;l1985&quot;&gt;   1985&lt;/a&gt; 
<a href="#l2005" class="line" id="l2005">   2005</a> &lt;a href=&quot;#l1986&quot; class=&quot;line&quot; id=&quot;l1986&quot;&gt;   1986&lt;/a&gt;   // set current color as the brightest neighbor color
<a href="#l2006" class="line" id="l2006">   2006</a> &lt;a href=&quot;#l1987&quot; class=&quot;line&quot; id=&quot;l1987&quot;&gt;   1987&lt;/a&gt; 
<a href="#l2007" class="line" id="l2007">   2007</a> &lt;a href=&quot;#l1988&quot; class=&quot;line&quot; id=&quot;l1988&quot;&gt;   1988&lt;/a&gt;   vec4 neighbors[4];
<a href="#l2008" class="line" id="l2008">   2008</a> &lt;a href=&quot;#l1989&quot; class=&quot;line&quot; id=&quot;l1989&quot;&gt;   1989&lt;/a&gt;   neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
<a href="#l2009" class="line" id="l2009">   2009</a> &lt;a href=&quot;#l1990&quot; class=&quot;line&quot; id=&quot;l1990&quot;&gt;   1990&lt;/a&gt;   neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
<a href="#l2010" class="line" id="l2010">   2010</a> &lt;a href=&quot;#l1991&quot; class=&quot;line&quot; id=&quot;l1991&quot;&gt;   1991&lt;/a&gt;   neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
<a href="#l2011" class="line" id="l2011">   2011</a> &lt;a href=&quot;#l1992&quot; class=&quot;line&quot; id=&quot;l1992&quot;&gt;   1992&lt;/a&gt;   neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));
<a href="#l2012" class="line" id="l2012">   2012</a> &lt;a href=&quot;#l1993&quot; class=&quot;line&quot; id=&quot;l1993&quot;&gt;   1993&lt;/a&gt; 
<a href="#l2013" class="line" id="l2013">   2013</a> &lt;a href=&quot;#l1994&quot; class=&quot;line&quot; id=&quot;l1994&quot;&gt;   1994&lt;/a&gt;   for (int i = 0; i &amp;lt; 4; i++) {
<a href="#l2014" class="line" id="l2014">   2014</a> &lt;a href=&quot;#l1995&quot; class=&quot;line&quot; id=&quot;l1995&quot;&gt;   1995&lt;/a&gt;     vec4 neighborColor = neighbors[i];
<a href="#l2015" class="line" id="l2015">   2015</a> &lt;a href=&quot;#l1996&quot; class=&quot;line&quot; id=&quot;l1996&quot;&gt;   1996&lt;/a&gt;     float neighborLum = luma(neighborColor.rgb);
<a href="#l2016" class="line" id="l2016">   2016</a> &lt;a href=&quot;#l1997&quot; class=&quot;line&quot; id=&quot;l1997&quot;&gt;   1997&lt;/a&gt; 
<a href="#l2017" class="line" id="l2017">   2017</a> &lt;a href=&quot;#l1998&quot; class=&quot;line&quot; id=&quot;l1998&quot;&gt;   1998&lt;/a&gt;     if (neighborLum &amp;gt; lum) {
<a href="#l2018" class="line" id="l2018">   2018</a> &lt;a href=&quot;#l1999&quot; class=&quot;line&quot; id=&quot;l1999&quot;&gt;   1999&lt;/a&gt;       color = neighborColor;
<a href="#l2019" class="line" id="l2019">   2019</a> &lt;a href=&quot;#l2000&quot; class=&quot;line&quot; id=&quot;l2000&quot;&gt;   2000&lt;/a&gt;       lum = neighborLum;
<a href="#l2020" class="line" id="l2020">   2020</a> &lt;a href=&quot;#l2001&quot; class=&quot;line&quot; id=&quot;l2001&quot;&gt;   2001&lt;/a&gt;     }
<a href="#l2021" class="line" id="l2021">   2021</a> &lt;a href=&quot;#l2002&quot; class=&quot;line&quot; id=&quot;l2002&quot;&gt;   2002&lt;/a&gt;   }
<a href="#l2022" class="line" id="l2022">   2022</a> &lt;a href=&quot;#l2003&quot; class=&quot;line&quot; id=&quot;l2003&quot;&gt;   2003&lt;/a&gt; 
<a href="#l2023" class="line" id="l2023">   2023</a> &lt;a href=&quot;#l2004&quot; class=&quot;line&quot; id=&quot;l2004&quot;&gt;   2004&lt;/a&gt;   gl_FragColor = color;
<a href="#l2024" class="line" id="l2024">   2024</a> &lt;a href=&quot;#l2005&quot; class=&quot;line&quot; id=&quot;l2005&quot;&gt;   2005&lt;/a&gt; }
<a href="#l2025" class="line" id="l2025">   2025</a> &lt;a href=&quot;#l2006&quot; class=&quot;line&quot; id=&quot;l2006&quot;&gt;   2006&lt;/a&gt; `,Ic=`precision highp float;
<a href="#l2026" class="line" id="l2026">   2026</a> &lt;a href=&quot;#l2007&quot; class=&quot;line&quot; id=&quot;l2007&quot;&gt;   2007&lt;/a&gt; 
<a href="#l2027" class="line" id="l2027">   2027</a> &lt;a href=&quot;#l2008&quot; class=&quot;line&quot; id=&quot;l2008&quot;&gt;   2008&lt;/a&gt; // Two-pass blur filter, unweighted kernel.
<a href="#l2028" class="line" id="l2028">   2028</a> &lt;a href=&quot;#l2009&quot; class=&quot;line&quot; id=&quot;l2009&quot;&gt;   2009&lt;/a&gt; // See also a similar blur at Adam Ferriss&amp;#39; repo of shader examples:
<a href="#l2029" class="line" id="l2029">   2029</a> &lt;a href=&quot;#l2010&quot; class=&quot;line&quot; id=&quot;l2010&quot;&gt;   2010&lt;/a&gt; // https://github.com/aferriss/p5jsShaderExamples/blob/gh-pages/4_image-effects/4-9_single-pass-blur/effect.frag
<a href="#l2030" class="line" id="l2030">   2030</a> &lt;a href=&quot;#l2011&quot; class=&quot;line&quot; id=&quot;l2011&quot;&gt;   2011&lt;/a&gt; 
<a href="#l2031" class="line" id="l2031">   2031</a> &lt;a href=&quot;#l2012&quot; class=&quot;line&quot; id=&quot;l2012&quot;&gt;   2012&lt;/a&gt; 
<a href="#l2032" class="line" id="l2032">   2032</a> &lt;a href=&quot;#l2013&quot; class=&quot;line&quot; id=&quot;l2013&quot;&gt;   2013&lt;/a&gt; uniform sampler2D tex0;
<a href="#l2033" class="line" id="l2033">   2033</a> &lt;a href=&quot;#l2014&quot; class=&quot;line&quot; id=&quot;l2014&quot;&gt;   2014&lt;/a&gt; varying vec2 vTexCoord;
<a href="#l2034" class="line" id="l2034">   2034</a> &lt;a href=&quot;#l2015&quot; class=&quot;line&quot; id=&quot;l2015&quot;&gt;   2015&lt;/a&gt; uniform vec2 direction;
<a href="#l2035" class="line" id="l2035">   2035</a> &lt;a href=&quot;#l2016&quot; class=&quot;line&quot; id=&quot;l2016&quot;&gt;   2016&lt;/a&gt; uniform vec2 canvasSize;
<a href="#l2036" class="line" id="l2036">   2036</a> &lt;a href=&quot;#l2017&quot; class=&quot;line&quot; id=&quot;l2017&quot;&gt;   2017&lt;/a&gt; uniform float radius;
<a href="#l2037" class="line" id="l2037">   2037</a> &lt;a href=&quot;#l2018&quot; class=&quot;line&quot; id=&quot;l2018&quot;&gt;   2018&lt;/a&gt; 
<a href="#l2038" class="line" id="l2038">   2038</a> &lt;a href=&quot;#l2019&quot; class=&quot;line&quot; id=&quot;l2019&quot;&gt;   2019&lt;/a&gt; float random(vec2 p) {
<a href="#l2039" class="line" id="l2039">   2039</a> &lt;a href=&quot;#l2020&quot; class=&quot;line&quot; id=&quot;l2020&quot;&gt;   2020&lt;/a&gt;   vec3 p3  = fract(vec3(p.xyx) * .1031);
<a href="#l2040" class="line" id="l2040">   2040</a> &lt;a href=&quot;#l2021&quot; class=&quot;line&quot; id=&quot;l2021&quot;&gt;   2021&lt;/a&gt;   p3 += dot(p3, p3.yzx + 33.33);
<a href="#l2041" class="line" id="l2041">   2041</a> &lt;a href=&quot;#l2022&quot; class=&quot;line&quot; id=&quot;l2022&quot;&gt;   2022&lt;/a&gt;   return fract((p3.x + p3.y) * p3.z);
<a href="#l2042" class="line" id="l2042">   2042</a> &lt;a href=&quot;#l2023&quot; class=&quot;line&quot; id=&quot;l2023&quot;&gt;   2023&lt;/a&gt; }
<a href="#l2043" class="line" id="l2043">   2043</a> &lt;a href=&quot;#l2024&quot; class=&quot;line&quot; id=&quot;l2024&quot;&gt;   2024&lt;/a&gt; 
<a href="#l2044" class="line" id="l2044">   2044</a> &lt;a href=&quot;#l2025&quot; class=&quot;line&quot; id=&quot;l2025&quot;&gt;   2025&lt;/a&gt; // This isn&amp;#39;t a real Gaussian weight, it&amp;#39;s a quadratic weight. It&amp;#39;s what the
<a href="#l2045" class="line" id="l2045">   2045</a> &lt;a href=&quot;#l2026&quot; class=&quot;line&quot; id=&quot;l2026&quot;&gt;   2026&lt;/a&gt; // CPU mode&amp;#39;s blur uses though, so we also use it here to match.
<a href="#l2046" class="line" id="l2046">   2046</a> &lt;a href=&quot;#l2027&quot; class=&quot;line&quot; id=&quot;l2027&quot;&gt;   2027&lt;/a&gt; float quadWeight(float x, float e) {
<a href="#l2047" class="line" id="l2047">   2047</a> &lt;a href=&quot;#l2028&quot; class=&quot;line&quot; id=&quot;l2028&quot;&gt;   2028&lt;/a&gt;   return pow(e-abs(x), 2.);
<a href="#l2048" class="line" id="l2048">   2048</a> &lt;a href=&quot;#l2029&quot; class=&quot;line&quot; id=&quot;l2029&quot;&gt;   2029&lt;/a&gt; }
<a href="#l2049" class="line" id="l2049">   2049</a> &lt;a href=&quot;#l2030&quot; class=&quot;line&quot; id=&quot;l2030&quot;&gt;   2030&lt;/a&gt; 
<a href="#l2050" class="line" id="l2050">   2050</a> &lt;a href=&quot;#l2031&quot; class=&quot;line&quot; id=&quot;l2031&quot;&gt;   2031&lt;/a&gt; void main(){
<a href="#l2051" class="line" id="l2051">   2051</a> &lt;a href=&quot;#l2032&quot; class=&quot;line&quot; id=&quot;l2032&quot;&gt;   2032&lt;/a&gt;   vec2 uv = vTexCoord;
<a href="#l2052" class="line" id="l2052">   2052</a> &lt;a href=&quot;#l2033&quot; class=&quot;line&quot; id=&quot;l2033&quot;&gt;   2033&lt;/a&gt; 
<a href="#l2053" class="line" id="l2053">   2053</a> &lt;a href=&quot;#l2034&quot; class=&quot;line&quot; id=&quot;l2034&quot;&gt;   2034&lt;/a&gt;   // A reasonable maximum number of samples
<a href="#l2054" class="line" id="l2054">   2054</a> &lt;a href=&quot;#l2035&quot; class=&quot;line&quot; id=&quot;l2035&quot;&gt;   2035&lt;/a&gt;   const float maxSamples = 64.0;
<a href="#l2055" class="line" id="l2055">   2055</a> &lt;a href=&quot;#l2036&quot; class=&quot;line&quot; id=&quot;l2036&quot;&gt;   2036&lt;/a&gt; 
<a href="#l2056" class="line" id="l2056">   2056</a> &lt;a href=&quot;#l2037&quot; class=&quot;line&quot; id=&quot;l2037&quot;&gt;   2037&lt;/a&gt;   float numSamples = floor(7. * radius);
<a href="#l2057" class="line" id="l2057">   2057</a> &lt;a href=&quot;#l2038&quot; class=&quot;line&quot; id=&quot;l2038&quot;&gt;   2038&lt;/a&gt;   if (fract(numSamples / 2.) == 0.) {
<a href="#l2058" class="line" id="l2058">   2058</a> &lt;a href=&quot;#l2039&quot; class=&quot;line&quot; id=&quot;l2039&quot;&gt;   2039&lt;/a&gt;     numSamples++;
<a href="#l2059" class="line" id="l2059">   2059</a> &lt;a href=&quot;#l2040&quot; class=&quot;line&quot; id=&quot;l2040&quot;&gt;   2040&lt;/a&gt;   }
<a href="#l2060" class="line" id="l2060">   2060</a> &lt;a href=&quot;#l2041&quot; class=&quot;line&quot; id=&quot;l2041&quot;&gt;   2041&lt;/a&gt;   vec4 avg = vec4(0.0);
<a href="#l2061" class="line" id="l2061">   2061</a> &lt;a href=&quot;#l2042&quot; class=&quot;line&quot; id=&quot;l2042&quot;&gt;   2042&lt;/a&gt;   float total = 0.0;
<a href="#l2062" class="line" id="l2062">   2062</a> &lt;a href=&quot;#l2043&quot; class=&quot;line&quot; id=&quot;l2043&quot;&gt;   2043&lt;/a&gt; 
<a href="#l2063" class="line" id="l2063">   2063</a> &lt;a href=&quot;#l2044&quot; class=&quot;line&quot; id=&quot;l2044&quot;&gt;   2044&lt;/a&gt;   // Calculate the spacing to avoid skewing if numSamples &amp;gt; maxSamples
<a href="#l2064" class="line" id="l2064">   2064</a> &lt;a href=&quot;#l2045&quot; class=&quot;line&quot; id=&quot;l2045&quot;&gt;   2045&lt;/a&gt;   float spacing = 1.0;
<a href="#l2065" class="line" id="l2065">   2065</a> &lt;a href=&quot;#l2046&quot; class=&quot;line&quot; id=&quot;l2046&quot;&gt;   2046&lt;/a&gt;   if (numSamples &amp;gt; maxSamples) {
<a href="#l2066" class="line" id="l2066">   2066</a> &lt;a href=&quot;#l2047&quot; class=&quot;line&quot; id=&quot;l2047&quot;&gt;   2047&lt;/a&gt;     spacing = numSamples / maxSamples;
<a href="#l2067" class="line" id="l2067">   2067</a> &lt;a href=&quot;#l2048&quot; class=&quot;line&quot; id=&quot;l2048&quot;&gt;   2048&lt;/a&gt;     numSamples = maxSamples;
<a href="#l2068" class="line" id="l2068">   2068</a> &lt;a href=&quot;#l2049&quot; class=&quot;line&quot; id=&quot;l2049&quot;&gt;   2049&lt;/a&gt;   }
<a href="#l2069" class="line" id="l2069">   2069</a> &lt;a href=&quot;#l2050&quot; class=&quot;line&quot; id=&quot;l2050&quot;&gt;   2050&lt;/a&gt; 
<a href="#l2070" class="line" id="l2070">   2070</a> &lt;a href=&quot;#l2051&quot; class=&quot;line&quot; id=&quot;l2051&quot;&gt;   2051&lt;/a&gt;   float randomOffset = (spacing - 1.0) * mix(-0.5, 0.5, random(gl_FragCoord.xy));
<a href="#l2071" class="line" id="l2071">   2071</a> &lt;a href=&quot;#l2052&quot; class=&quot;line&quot; id=&quot;l2052&quot;&gt;   2052&lt;/a&gt;   for (float i = 0.0; i &amp;lt; maxSamples; i++) {
<a href="#l2072" class="line" id="l2072">   2072</a> &lt;a href=&quot;#l2053&quot; class=&quot;line&quot; id=&quot;l2053&quot;&gt;   2053&lt;/a&gt;     if (i &amp;gt;= numSamples) break;
<a href="#l2073" class="line" id="l2073">   2073</a> &lt;a href=&quot;#l2054&quot; class=&quot;line&quot; id=&quot;l2054&quot;&gt;   2054&lt;/a&gt; 
<a href="#l2074" class="line" id="l2074">   2074</a> &lt;a href=&quot;#l2055&quot; class=&quot;line&quot; id=&quot;l2055&quot;&gt;   2055&lt;/a&gt;     float sample = i * spacing - (numSamples - 1.0) * 0.5 * spacing + randomOffset;
<a href="#l2075" class="line" id="l2075">   2075</a> &lt;a href=&quot;#l2056&quot; class=&quot;line&quot; id=&quot;l2056&quot;&gt;   2056&lt;/a&gt;     vec2 sampleCoord = uv + vec2(sample, sample) / canvasSize * direction;
<a href="#l2076" class="line" id="l2076">   2076</a> &lt;a href=&quot;#l2057&quot; class=&quot;line&quot; id=&quot;l2057&quot;&gt;   2057&lt;/a&gt;     float weight = quadWeight(sample, (numSamples - 1.0) * 0.5 * spacing);
<a href="#l2077" class="line" id="l2077">   2077</a> &lt;a href=&quot;#l2058&quot; class=&quot;line&quot; id=&quot;l2058&quot;&gt;   2058&lt;/a&gt; 
<a href="#l2078" class="line" id="l2078">   2078</a> &lt;a href=&quot;#l2059&quot; class=&quot;line&quot; id=&quot;l2059&quot;&gt;   2059&lt;/a&gt;     avg += weight * texture2D(tex0, sampleCoord);
<a href="#l2079" class="line" id="l2079">   2079</a> &lt;a href=&quot;#l2060&quot; class=&quot;line&quot; id=&quot;l2060&quot;&gt;   2060&lt;/a&gt;     total += weight;
<a href="#l2080" class="line" id="l2080">   2080</a> &lt;a href=&quot;#l2061&quot; class=&quot;line&quot; id=&quot;l2061&quot;&gt;   2061&lt;/a&gt;   }
<a href="#l2081" class="line" id="l2081">   2081</a> &lt;a href=&quot;#l2062&quot; class=&quot;line&quot; id=&quot;l2062&quot;&gt;   2062&lt;/a&gt; 
<a href="#l2082" class="line" id="l2082">   2082</a> &lt;a href=&quot;#l2063&quot; class=&quot;line&quot; id=&quot;l2063&quot;&gt;   2063&lt;/a&gt;   avg /= total;
<a href="#l2083" class="line" id="l2083">   2083</a> &lt;a href=&quot;#l2064&quot; class=&quot;line&quot; id=&quot;l2064&quot;&gt;   2064&lt;/a&gt;   gl_FragColor = avg;
<a href="#l2084" class="line" id="l2084">   2084</a> &lt;a href=&quot;#l2065&quot; class=&quot;line&quot; id=&quot;l2065&quot;&gt;   2065&lt;/a&gt; }
<a href="#l2085" class="line" id="l2085">   2085</a> &lt;a href=&quot;#l2066&quot; class=&quot;line&quot; id=&quot;l2066&quot;&gt;   2066&lt;/a&gt; `,kc=`// Limit color space for a stylized cartoon / poster effect
<a href="#l2086" class="line" id="l2086">   2086</a> &lt;a href=&quot;#l2067&quot; class=&quot;line&quot; id=&quot;l2067&quot;&gt;   2067&lt;/a&gt; 
<a href="#l2087" class="line" id="l2087">   2087</a> &lt;a href=&quot;#l2068&quot; class=&quot;line&quot; id=&quot;l2068&quot;&gt;   2068&lt;/a&gt; precision highp float;
<a href="#l2088" class="line" id="l2088">   2088</a> &lt;a href=&quot;#l2069&quot; class=&quot;line&quot; id=&quot;l2069&quot;&gt;   2069&lt;/a&gt; 
<a href="#l2089" class="line" id="l2089">   2089</a> &lt;a href=&quot;#l2070&quot; class=&quot;line&quot; id=&quot;l2070&quot;&gt;   2070&lt;/a&gt; varying vec2 vTexCoord;
<a href="#l2090" class="line" id="l2090">   2090</a> &lt;a href=&quot;#l2071&quot; class=&quot;line&quot; id=&quot;l2071&quot;&gt;   2071&lt;/a&gt; 
<a href="#l2091" class="line" id="l2091">   2091</a> &lt;a href=&quot;#l2072&quot; class=&quot;line&quot; id=&quot;l2072&quot;&gt;   2072&lt;/a&gt; uniform sampler2D tex0;
<a href="#l2092" class="line" id="l2092">   2092</a> &lt;a href=&quot;#l2073&quot; class=&quot;line&quot; id=&quot;l2073&quot;&gt;   2073&lt;/a&gt; uniform float filterParameter;
<a href="#l2093" class="line" id="l2093">   2093</a> &lt;a href=&quot;#l2074&quot; class=&quot;line&quot; id=&quot;l2074&quot;&gt;   2074&lt;/a&gt; 
<a href="#l2094" class="line" id="l2094">   2094</a> &lt;a href=&quot;#l2075&quot; class=&quot;line&quot; id=&quot;l2075&quot;&gt;   2075&lt;/a&gt; vec3 quantize(vec3 color, float n) {
<a href="#l2095" class="line" id="l2095">   2095</a> &lt;a href=&quot;#l2076&quot; class=&quot;line&quot; id=&quot;l2076&quot;&gt;   2076&lt;/a&gt;   // restrict values to N options/bins
<a href="#l2096" class="line" id="l2096">   2096</a> &lt;a href=&quot;#l2077&quot; class=&quot;line&quot; id=&quot;l2077&quot;&gt;   2077&lt;/a&gt;   // and floor each channel to nearest value
<a href="#l2097" class="line" id="l2097">   2097</a> &lt;a href=&quot;#l2078&quot; class=&quot;line&quot; id=&quot;l2078&quot;&gt;   2078&lt;/a&gt;   //
<a href="#l2098" class="line" id="l2098">   2098</a> &lt;a href=&quot;#l2079&quot; class=&quot;line&quot; id=&quot;l2079&quot;&gt;   2079&lt;/a&gt;   // eg. when N = 5, values = 0.0, 0.25, 0.50, 0.75, 1.0
<a href="#l2099" class="line" id="l2099">   2099</a> &lt;a href=&quot;#l2080&quot; class=&quot;line&quot; id=&quot;l2080&quot;&gt;   2080&lt;/a&gt;   // then quantize (0.1, 0.7, 0.9) -&amp;gt; (0.0, 0.5, 1.0)
<a href="#l2100" class="line" id="l2100">   2100</a> &lt;a href=&quot;#l2081&quot; class=&quot;line&quot; id=&quot;l2081&quot;&gt;   2081&lt;/a&gt; 
<a href="#l2101" class="line" id="l2101">   2101</a> &lt;a href=&quot;#l2082&quot; class=&quot;line&quot; id=&quot;l2082&quot;&gt;   2082&lt;/a&gt;   color = color * n;
<a href="#l2102" class="line" id="l2102">   2102</a> &lt;a href=&quot;#l2083&quot; class=&quot;line&quot; id=&quot;l2083&quot;&gt;   2083&lt;/a&gt;   color = floor(color);
<a href="#l2103" class="line" id="l2103">   2103</a> &lt;a href=&quot;#l2084&quot; class=&quot;line&quot; id=&quot;l2084&quot;&gt;   2084&lt;/a&gt;   color = color / (n - 1.0);
<a href="#l2104" class="line" id="l2104">   2104</a> &lt;a href=&quot;#l2085&quot; class=&quot;line&quot; id=&quot;l2085&quot;&gt;   2085&lt;/a&gt;   return color;
<a href="#l2105" class="line" id="l2105">   2105</a> &lt;a href=&quot;#l2086&quot; class=&quot;line&quot; id=&quot;l2086&quot;&gt;   2086&lt;/a&gt; }
<a href="#l2106" class="line" id="l2106">   2106</a> &lt;a href=&quot;#l2087&quot; class=&quot;line&quot; id=&quot;l2087&quot;&gt;   2087&lt;/a&gt; 
<a href="#l2107" class="line" id="l2107">   2107</a> &lt;a href=&quot;#l2088&quot; class=&quot;line&quot; id=&quot;l2088&quot;&gt;   2088&lt;/a&gt; void main() {
<a href="#l2108" class="line" id="l2108">   2108</a> &lt;a href=&quot;#l2089&quot; class=&quot;line&quot; id=&quot;l2089&quot;&gt;   2089&lt;/a&gt;   vec4 color = texture2D(tex0, vTexCoord);
<a href="#l2109" class="line" id="l2109">   2109</a> &lt;a href=&quot;#l2090&quot; class=&quot;line&quot; id=&quot;l2090&quot;&gt;   2090&lt;/a&gt; 
<a href="#l2110" class="line" id="l2110">   2110</a> &lt;a href=&quot;#l2091&quot; class=&quot;line&quot; id=&quot;l2091&quot;&gt;   2091&lt;/a&gt;   vec3 restrictedColor = quantize(color.rgb / color.a, filterParameter);
<a href="#l2111" class="line" id="l2111">   2111</a> &lt;a href=&quot;#l2092&quot; class=&quot;line&quot; id=&quot;l2092&quot;&gt;   2092&lt;/a&gt; 
<a href="#l2112" class="line" id="l2112">   2112</a> &lt;a href=&quot;#l2093&quot; class=&quot;line&quot; id=&quot;l2093&quot;&gt;   2093&lt;/a&gt;   gl_FragColor = vec4(restrictedColor.rgb * color.a, color.a);
<a href="#l2113" class="line" id="l2113">   2113</a> &lt;a href=&quot;#l2094&quot; class=&quot;line&quot; id=&quot;l2094&quot;&gt;   2094&lt;/a&gt; }
<a href="#l2114" class="line" id="l2114">   2114</a> &lt;a href=&quot;#l2095&quot; class=&quot;line&quot; id=&quot;l2095&quot;&gt;   2095&lt;/a&gt; `,Mc=`// Set alpha channel to entirely opaque
<a href="#l2115" class="line" id="l2115">   2115</a> &lt;a href=&quot;#l2096&quot; class=&quot;line&quot; id=&quot;l2096&quot;&gt;   2096&lt;/a&gt; 
<a href="#l2116" class="line" id="l2116">   2116</a> &lt;a href=&quot;#l2097&quot; class=&quot;line&quot; id=&quot;l2097&quot;&gt;   2097&lt;/a&gt; precision highp float;
<a href="#l2117" class="line" id="l2117">   2117</a> &lt;a href=&quot;#l2098&quot; class=&quot;line&quot; id=&quot;l2098&quot;&gt;   2098&lt;/a&gt; 
<a href="#l2118" class="line" id="l2118">   2118</a> &lt;a href=&quot;#l2099&quot; class=&quot;line&quot; id=&quot;l2099&quot;&gt;   2099&lt;/a&gt; varying vec2 vTexCoord;
<a href="#l2119" class="line" id="l2119">   2119</a> &lt;a href=&quot;#l2100&quot; class=&quot;line&quot; id=&quot;l2100&quot;&gt;   2100&lt;/a&gt; 
<a href="#l2120" class="line" id="l2120">   2120</a> &lt;a href=&quot;#l2101&quot; class=&quot;line&quot; id=&quot;l2101&quot;&gt;   2101&lt;/a&gt; uniform sampler2D tex0;
<a href="#l2121" class="line" id="l2121">   2121</a> &lt;a href=&quot;#l2102&quot; class=&quot;line&quot; id=&quot;l2102&quot;&gt;   2102&lt;/a&gt; 
<a href="#l2122" class="line" id="l2122">   2122</a> &lt;a href=&quot;#l2103&quot; class=&quot;line&quot; id=&quot;l2103&quot;&gt;   2103&lt;/a&gt; void main() {
<a href="#l2123" class="line" id="l2123">   2123</a> &lt;a href=&quot;#l2104&quot; class=&quot;line&quot; id=&quot;l2104&quot;&gt;   2104&lt;/a&gt;   vec4 color = texture2D(tex0, vTexCoord);
<a href="#l2124" class="line" id="l2124">   2124</a> &lt;a href=&quot;#l2105&quot; class=&quot;line&quot; id=&quot;l2105&quot;&gt;   2105&lt;/a&gt;   gl_FragColor = vec4(color.rgb / color.a, 1.0);
<a href="#l2125" class="line" id="l2125">   2125</a> &lt;a href=&quot;#l2106&quot; class=&quot;line&quot; id=&quot;l2106&quot;&gt;   2106&lt;/a&gt; }
<a href="#l2126" class="line" id="l2126">   2126</a> &lt;a href=&quot;#l2107&quot; class=&quot;line&quot; id=&quot;l2107&quot;&gt;   2107&lt;/a&gt; `,Lc=`// Set each pixel to inverse value
<a href="#l2127" class="line" id="l2127">   2127</a> &lt;a href=&quot;#l2108&quot; class=&quot;line&quot; id=&quot;l2108&quot;&gt;   2108&lt;/a&gt; // Note that original INVERT does not change the opacity, so this follows suit
<a href="#l2128" class="line" id="l2128">   2128</a> &lt;a href=&quot;#l2109&quot; class=&quot;line&quot; id=&quot;l2109&quot;&gt;   2109&lt;/a&gt; 
<a href="#l2129" class="line" id="l2129">   2129</a> &lt;a href=&quot;#l2110&quot; class=&quot;line&quot; id=&quot;l2110&quot;&gt;   2110&lt;/a&gt; precision highp float;
<a href="#l2130" class="line" id="l2130">   2130</a> &lt;a href=&quot;#l2111&quot; class=&quot;line&quot; id=&quot;l2111&quot;&gt;   2111&lt;/a&gt; 
<a href="#l2131" class="line" id="l2131">   2131</a> &lt;a href=&quot;#l2112&quot; class=&quot;line&quot; id=&quot;l2112&quot;&gt;   2112&lt;/a&gt; varying vec2 vTexCoord;
<a href="#l2132" class="line" id="l2132">   2132</a> &lt;a href=&quot;#l2113&quot; class=&quot;line&quot; id=&quot;l2113&quot;&gt;   2113&lt;/a&gt; 
<a href="#l2133" class="line" id="l2133">   2133</a> &lt;a href=&quot;#l2114&quot; class=&quot;line&quot; id=&quot;l2114&quot;&gt;   2114&lt;/a&gt; uniform sampler2D tex0;
<a href="#l2134" class="line" id="l2134">   2134</a> &lt;a href=&quot;#l2115&quot; class=&quot;line&quot; id=&quot;l2115&quot;&gt;   2115&lt;/a&gt; 
<a href="#l2135" class="line" id="l2135">   2135</a> &lt;a href=&quot;#l2116&quot; class=&quot;line&quot; id=&quot;l2116&quot;&gt;   2116&lt;/a&gt; void main() {
<a href="#l2136" class="line" id="l2136">   2136</a> &lt;a href=&quot;#l2117&quot; class=&quot;line&quot; id=&quot;l2117&quot;&gt;   2117&lt;/a&gt; vec4 color = texture2D(tex0, vTexCoord);
<a href="#l2137" class="line" id="l2137">   2137</a> &lt;a href=&quot;#l2118&quot; class=&quot;line&quot; id=&quot;l2118&quot;&gt;   2118&lt;/a&gt; vec3 origColor = color.rgb / color.a;
<a href="#l2138" class="line" id="l2138">   2138</a> &lt;a href=&quot;#l2119&quot; class=&quot;line&quot; id=&quot;l2119&quot;&gt;   2119&lt;/a&gt; vec3 invertedColor = vec3(1.0) - origColor;
<a href="#l2139" class="line" id="l2139">   2139</a> &lt;a href=&quot;#l2120&quot; class=&quot;line&quot; id=&quot;l2120&quot;&gt;   2120&lt;/a&gt; gl_FragColor = vec4(invertedColor * color.a, color.a);
<a href="#l2140" class="line" id="l2140">   2140</a> &lt;a href=&quot;#l2121&quot; class=&quot;line&quot; id=&quot;l2121&quot;&gt;   2121&lt;/a&gt; }
<a href="#l2141" class="line" id="l2141">   2141</a> &lt;a href=&quot;#l2122&quot; class=&quot;line&quot; id=&quot;l2122&quot;&gt;   2122&lt;/a&gt; `,Rc=`// Convert pixels to either white or black, 
<a href="#l2142" class="line" id="l2142">   2142</a> &lt;a href=&quot;#l2123&quot; class=&quot;line&quot; id=&quot;l2123&quot;&gt;   2123&lt;/a&gt; // depending on if their luma is above or below filterParameter
<a href="#l2143" class="line" id="l2143">   2143</a> &lt;a href=&quot;#l2124&quot; class=&quot;line&quot; id=&quot;l2124&quot;&gt;   2124&lt;/a&gt; 
<a href="#l2144" class="line" id="l2144">   2144</a> &lt;a href=&quot;#l2125&quot; class=&quot;line&quot; id=&quot;l2125&quot;&gt;   2125&lt;/a&gt; precision highp float;
<a href="#l2145" class="line" id="l2145">   2145</a> &lt;a href=&quot;#l2126&quot; class=&quot;line&quot; id=&quot;l2126&quot;&gt;   2126&lt;/a&gt; 
<a href="#l2146" class="line" id="l2146">   2146</a> &lt;a href=&quot;#l2127&quot; class=&quot;line&quot; id=&quot;l2127&quot;&gt;   2127&lt;/a&gt; varying vec2 vTexCoord;
<a href="#l2147" class="line" id="l2147">   2147</a> &lt;a href=&quot;#l2128&quot; class=&quot;line&quot; id=&quot;l2128&quot;&gt;   2128&lt;/a&gt; 
<a href="#l2148" class="line" id="l2148">   2148</a> &lt;a href=&quot;#l2129&quot; class=&quot;line&quot; id=&quot;l2129&quot;&gt;   2129&lt;/a&gt; uniform sampler2D tex0;
<a href="#l2149" class="line" id="l2149">   2149</a> &lt;a href=&quot;#l2130&quot; class=&quot;line&quot; id=&quot;l2130&quot;&gt;   2130&lt;/a&gt; uniform float filterParameter;
<a href="#l2150" class="line" id="l2150">   2150</a> &lt;a href=&quot;#l2131&quot; class=&quot;line&quot; id=&quot;l2131&quot;&gt;   2131&lt;/a&gt; 
<a href="#l2151" class="line" id="l2151">   2151</a> &lt;a href=&quot;#l2132&quot; class=&quot;line&quot; id=&quot;l2132&quot;&gt;   2132&lt;/a&gt; float luma(vec3 color) {
<a href="#l2152" class="line" id="l2152">   2152</a> &lt;a href=&quot;#l2133&quot; class=&quot;line&quot; id=&quot;l2133&quot;&gt;   2133&lt;/a&gt;   // weighted grayscale with luminance values
<a href="#l2153" class="line" id="l2153">   2153</a> &lt;a href=&quot;#l2134&quot; class=&quot;line&quot; id=&quot;l2134&quot;&gt;   2134&lt;/a&gt;   return dot(color, vec3(0.2126, 0.7152, 0.0722));
<a href="#l2154" class="line" id="l2154">   2154</a> &lt;a href=&quot;#l2135&quot; class=&quot;line&quot; id=&quot;l2135&quot;&gt;   2135&lt;/a&gt; }
<a href="#l2155" class="line" id="l2155">   2155</a> &lt;a href=&quot;#l2136&quot; class=&quot;line&quot; id=&quot;l2136&quot;&gt;   2136&lt;/a&gt; 
<a href="#l2156" class="line" id="l2156">   2156</a> &lt;a href=&quot;#l2137&quot; class=&quot;line&quot; id=&quot;l2137&quot;&gt;   2137&lt;/a&gt; void main() {
<a href="#l2157" class="line" id="l2157">   2157</a> &lt;a href=&quot;#l2138&quot; class=&quot;line&quot; id=&quot;l2138&quot;&gt;   2138&lt;/a&gt;   vec4 color = texture2D(tex0, vTexCoord);
<a href="#l2158" class="line" id="l2158">   2158</a> &lt;a href=&quot;#l2139&quot; class=&quot;line&quot; id=&quot;l2139&quot;&gt;   2139&lt;/a&gt;   float gray = luma(color.rgb / color.a);
<a href="#l2159" class="line" id="l2159">   2159</a> &lt;a href=&quot;#l2140&quot; class=&quot;line&quot; id=&quot;l2140&quot;&gt;   2140&lt;/a&gt;   // floor() used to match src/image/filters.js
<a href="#l2160" class="line" id="l2160">   2160</a> &lt;a href=&quot;#l2141&quot; class=&quot;line&quot; id=&quot;l2141&quot;&gt;   2141&lt;/a&gt;   float threshold = floor(filterParameter * 255.0) / 255.0;
<a href="#l2161" class="line" id="l2161">   2161</a> &lt;a href=&quot;#l2142&quot; class=&quot;line&quot; id=&quot;l2142&quot;&gt;   2142&lt;/a&gt;   float blackOrWhite = step(threshold, gray);
<a href="#l2162" class="line" id="l2162">   2162</a> &lt;a href=&quot;#l2143&quot; class=&quot;line&quot; id=&quot;l2143&quot;&gt;   2143&lt;/a&gt;   gl_FragColor = vec4(vec3(blackOrWhite) * color.a, color.a);
<a href="#l2163" class="line" id="l2163">   2163</a> &lt;a href=&quot;#l2144&quot; class=&quot;line&quot; id=&quot;l2144&quot;&gt;   2144&lt;/a&gt; }
<a href="#l2164" class="line" id="l2164">   2164</a> &lt;a href=&quot;#l2145&quot; class=&quot;line&quot; id=&quot;l2145&quot;&gt;   2145&lt;/a&gt; `,Bc=`uniform mat4 uModelViewMatrix;
<a href="#l2165" class="line" id="l2165">   2165</a> &lt;a href=&quot;#l2146&quot; class=&quot;line&quot; id=&quot;l2146&quot;&gt;   2146&lt;/a&gt; uniform mat4 uProjectionMatrix;
<a href="#l2166" class="line" id="l2166">   2166</a> &lt;a href=&quot;#l2147&quot; class=&quot;line&quot; id=&quot;l2147&quot;&gt;   2147&lt;/a&gt; 
<a href="#l2167" class="line" id="l2167">   2167</a> &lt;a href=&quot;#l2148&quot; class=&quot;line&quot; id=&quot;l2148&quot;&gt;   2148&lt;/a&gt; attribute vec3 aPosition;
<a href="#l2168" class="line" id="l2168">   2168</a> &lt;a href=&quot;#l2149&quot; class=&quot;line&quot; id=&quot;l2149&quot;&gt;   2149&lt;/a&gt; // texcoords only come from p5 to vertex shader
<a href="#l2169" class="line" id="l2169">   2169</a> &lt;a href=&quot;#l2150&quot; class=&quot;line&quot; id=&quot;l2150&quot;&gt;   2150&lt;/a&gt; // so pass texcoords on to the fragment shader in a varying variable
<a href="#l2170" class="line" id="l2170">   2170</a> &lt;a href=&quot;#l2151&quot; class=&quot;line&quot; id=&quot;l2151&quot;&gt;   2151&lt;/a&gt; attribute vec2 aTexCoord;
<a href="#l2171" class="line" id="l2171">   2171</a> &lt;a href=&quot;#l2152&quot; class=&quot;line&quot; id=&quot;l2152&quot;&gt;   2152&lt;/a&gt; varying vec2 vTexCoord;
<a href="#l2172" class="line" id="l2172">   2172</a> &lt;a href=&quot;#l2153&quot; class=&quot;line&quot; id=&quot;l2153&quot;&gt;   2153&lt;/a&gt; 
<a href="#l2173" class="line" id="l2173">   2173</a> &lt;a href=&quot;#l2154&quot; class=&quot;line&quot; id=&quot;l2154&quot;&gt;   2154&lt;/a&gt; void main() {
<a href="#l2174" class="line" id="l2174">   2174</a> &lt;a href=&quot;#l2155&quot; class=&quot;line&quot; id=&quot;l2155&quot;&gt;   2155&lt;/a&gt;   // transferring texcoords for the frag shader
<a href="#l2175" class="line" id="l2175">   2175</a> &lt;a href=&quot;#l2156&quot; class=&quot;line&quot; id=&quot;l2156&quot;&gt;   2156&lt;/a&gt;   vTexCoord = aTexCoord;
<a href="#l2176" class="line" id="l2176">   2176</a> &lt;a href=&quot;#l2157&quot; class=&quot;line&quot; id=&quot;l2157&quot;&gt;   2157&lt;/a&gt; 
<a href="#l2177" class="line" id="l2177">   2177</a> &lt;a href=&quot;#l2158&quot; class=&quot;line&quot; id=&quot;l2158&quot;&gt;   2158&lt;/a&gt;   // copy position with a fourth coordinate for projection (1.0 is normal)
<a href="#l2178" class="line" id="l2178">   2178</a> &lt;a href=&quot;#l2159&quot; class=&quot;line&quot; id=&quot;l2159&quot;&gt;   2159&lt;/a&gt;   vec4 positionVec4 = vec4(aPosition, 1.0);
<a href="#l2179" class="line" id="l2179">   2179</a> &lt;a href=&quot;#l2160&quot; class=&quot;line&quot; id=&quot;l2160&quot;&gt;   2160&lt;/a&gt; 
<a href="#l2180" class="line" id="l2180">   2180</a> &lt;a href=&quot;#l2161&quot; class=&quot;line&quot; id=&quot;l2161&quot;&gt;   2161&lt;/a&gt;   gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
<a href="#l2181" class="line" id="l2181">   2181</a> &lt;a href=&quot;#l2162&quot; class=&quot;line&quot; id=&quot;l2162&quot;&gt;   2162&lt;/a&gt; }
<a href="#l2182" class="line" id="l2182">   2182</a> &lt;a href=&quot;#l2163&quot; class=&quot;line&quot; id=&quot;l2163&quot;&gt;   2163&lt;/a&gt; `,Gm={},zm={},tl=&amp;quot;&amp;quot;,Pc=function(i,t){tl+=`#define STROKE_CAP_${i} ${t}
<a href="#l2183" class="line" id="l2183">   2183</a> &lt;a href=&quot;#l2164&quot; class=&quot;line&quot; id=&quot;l2164&quot;&gt;   2164&lt;/a&gt; `,Gm[gr[i]]=t},Oc=function(i,t){tl+=`#define STROKE_JOIN_${i} ${t}
<a href="#l2184" class="line" id="l2184">   2184</a> &lt;a href=&quot;#l2165&quot; class=&quot;line&quot; id=&quot;l2165&quot;&gt;   2165&lt;/a&gt; `,zm[gr[i]]=t};Pc(&amp;quot;ROUND&amp;quot;,0);Pc(&amp;quot;PROJECT&amp;quot;,1);Pc(&amp;quot;SQUARE&amp;quot;,2);Oc(&amp;quot;ROUND&amp;quot;,0);Oc(&amp;quot;MITER&amp;quot;,1);Oc(&amp;quot;BEVEL&amp;quot;,2);var lt={normalVert:vb,normalFrag:xb,basicFrag:bb,sphereMappingFrag:_b,lightVert:Um+wb,lightTextureFrag:Cb,phongVert:Eb,phongFrag:Um+Sb,fontVert:Ab,fontFrag:Db,lineVert:tl+Fb,lineFrag:tl+Tb,pointVert:Nb,pointFrag:Ib,imageLightVert:kb,imageLightDiffusedFrag:Mb,imageLightSpecularFrag:Lb,filterBaseVert:Ac,filterBaseFrag:Dc},Rb=lt.sphereMappingFrag;for(let i in lt)lt[i]=ol+lt[i];var Bb={[Ca]:Fc,[Da]:Tc,[Aa]:Nc,[di]:Ic,[xn]:kc,[Ea]:Mc,[Sa]:Lc,[vn]:Rc},Le=class i extends ke{constructor(t,r,n,s,a,o){super(t,r,n,s),this.canvas=this.elt=a||document.createElement(&amp;quot;canvas&amp;quot;),this._setAttributeDefaults(t),this._initContext(),this.GL=this.drawingContext,this._isMainCanvas?(this._pInst._curElement=this,this._pInst.canvas=this.canvas):this.canvas.style.display=&amp;quot;none&amp;quot;,this.elt.id=&amp;quot;defaultCanvas0&amp;quot;,this.elt.classList.add(&amp;quot;p5Canvas&amp;quot;),this.wrappedElt=new st(this.elt,this._pInst);for(let h of Object.getOwnPropertyNames(st.prototype))h!==&amp;quot;constructor&amp;quot;&amp;amp;&amp;amp;h[0]!==&amp;quot;_&amp;quot;&amp;amp;&amp;amp;Object.defineProperty(this,h,{get(){return this.wrappedElt[h]}});let u=this._adjustDimensions(r,n);if(r=u.adjustedWidth,n=u.adjustedHeight,this.width=r,this.height=n,this.elt.width=r*this._pixelDensity,this.elt.height=n*this._pixelDensity,this.elt.style.width=`${r}px`,this.elt.style.height=`${n}px`,this._origViewport={width:this.GL.drawingBufferWidth,height:this.GL.drawingBufferHeight},this.viewport(this._origViewport.width,this._origViewport.height),this._pInst._userNode)this._pInst._userNode.appendChild(this.elt);else{if(document.getElementsByTagName(&amp;quot;main&amp;quot;).length===0){let h=document.createElement(&amp;quot;main&amp;quot;);document.body.appendChild(h)}document.getElementsByTagName(&amp;quot;main&amp;quot;)[0].appendChild(this.elt)}this.isP3D=!0,this.geometryBuilder=void 0,this.states.uModelMatrix=new at(4),this.states.uViewMatrix=new at(4),this.states.uPMatrix=new at(4),this.states.curCamera=new Ln(this),this.states.uPMatrix.set(this.states.curCamera.projMatrix),this.states.uViewMatrix.set(this.states.curCamera.cameraMatrix),this.states.enableLighting=!1,this.states.ambientLightColors=[],this.states.specularColors=[1,1,1],this.states.directionalLightDirections=[],this.states.directionalLightDiffuseColors=[],this.states.directionalLightSpecularColors=[],this.states.pointLightPositions=[],this.states.pointLightDiffuseColors=[],this.states.pointLightSpecularColors=[],this.states.spotLightPositions=[],this.states.spotLightDirections=[],this.states.spotLightDiffuseColors=[],this.states.spotLightSpecularColors=[],this.states.spotLightAngle=[],this.states.spotLightConc=[],this.states.activeImageLight=null,this.states.curFillColor=[1,1,1,1],this.states.curAmbientColor=[1,1,1,1],this.states.curSpecularColor=[0,0,0,0],this.states.curEmissiveColor=[0,0,0,0],this.states.curStrokeColor=[0,0,0,1],this.states.curBlendMode=St,this.states._hasSetAmbient=!1,this.states._useSpecularMaterial=!1,this.states._useEmissiveMaterial=!1,this.states._useNormalMaterial=!1,this.states._useShininess=1,this.states._useMetalness=0,this.states.tint=[255,255,255,255],this.states.constantAttenuation=1,this.states.linearAttenuation=0,this.states.quadraticAttenuation=0,this.states._currentNormal=new H(0,0,1),this.states.drawMode=Fa,this.states._tex=null,this.states.textureMode=us,this.states.textureWrapX=ru,this.states.textureWrapY=ru,this._isErasing=!1,this._simpleLines=!1,this._clipDepths=[],this._isClipApplied=!1,this._stencilTestOn=!1,this.mixedAmbientLight=[],this.mixedSpecularColor=[],this.diffusedTextures=new Map,this.specularTextures=new Map,this.preEraseBlend=void 0,this._cachedBlendMode=void 0,this._cachedFillStyle=[1,1,1,1],this._cachedStrokeStyle=[0,0,0,1],this.webglVersion===pt?this.blendExt=this.GL:this.blendExt=this.GL.getExtension(&amp;quot;EXT_blend_minmax&amp;quot;),this._isBlending=!1,this._useLineColor=!1,this._useVertexColor=!1,this.registerEnabled=new Set,this.states.curCamera._computeCameraDefaultSettings(),this.states.curCamera._setDefaultCamera(),this.filterCamera=new Ln(this),this.filterCamera._computeCameraDefaultSettings(),this.filterCamera._setDefaultCamera(),this.prevTouches=[],this.zoomVelocity=0,this.rotateVelocity=new H(0,0),this.moveVelocity=new H(0,0),this.executeZoom=!1,this.executeRotateAndMove=!1,this._drawingFilter=!1,this._drawingImage=!1,this.specularShader=void 0,this.sphereMapping=void 0,this.diffusedShader=void 0,this._baseFilterShader=void 0,this._defaultLightShader=void 0,this._defaultImmediateModeShader=void 0,this._defaultNormalShader=void 0,this._defaultColorShader=void 0,this._defaultPointShader=void 0,this.states.userFillShader=void 0,this.states.userStrokeShader=void 0,this.states.userPointShader=void 0,this.states.userImageShader=void 0,this.states.curveDetail=1/4,this.shapeBuilder=new Ku(this),this.buffers={fill:[new At(3,&amp;quot;vertices&amp;quot;,&amp;quot;vertexBuffer&amp;quot;,&amp;quot;aPosition&amp;quot;,this,this._vToNArray),new At(3,&amp;quot;vertexNormals&amp;quot;,&amp;quot;normalBuffer&amp;quot;,&amp;quot;aNormal&amp;quot;,this,this._vToNArray),new At(4,&amp;quot;vertexColors&amp;quot;,&amp;quot;colorBuffer&amp;quot;,&amp;quot;aVertexColor&amp;quot;,this),new At(3,&amp;quot;vertexAmbients&amp;quot;,&amp;quot;ambientBuffer&amp;quot;,&amp;quot;aAmbientColor&amp;quot;,this),new At(2,&amp;quot;uvs&amp;quot;,&amp;quot;uvBuffer&amp;quot;,&amp;quot;aTexCoord&amp;quot;,this,h=&amp;gt;h.flat())],stroke:[new At(4,&amp;quot;lineVertexColors&amp;quot;,&amp;quot;lineColorBuffer&amp;quot;,&amp;quot;aVertexColor&amp;quot;,this),new At(3,&amp;quot;lineVertices&amp;quot;,&amp;quot;lineVerticesBuffer&amp;quot;,&amp;quot;aPosition&amp;quot;,this),new At(3,&amp;quot;lineTangentsIn&amp;quot;,&amp;quot;lineTangentsInBuffer&amp;quot;,&amp;quot;aTangentIn&amp;quot;,this),new At(3,&amp;quot;lineTangentsOut&amp;quot;,&amp;quot;lineTangentsOutBuffer&amp;quot;,&amp;quot;aTangentOut&amp;quot;,this),new At(1,&amp;quot;lineSides&amp;quot;,&amp;quot;lineSidesBuffer&amp;quot;,&amp;quot;aSide&amp;quot;,this)],text:[new At(3,&amp;quot;vertices&amp;quot;,&amp;quot;vertexBuffer&amp;quot;,&amp;quot;aPosition&amp;quot;,this,this._vToNArray),new At(2,&amp;quot;uvs&amp;quot;,&amp;quot;uvBuffer&amp;quot;,&amp;quot;aTexCoord&amp;quot;,this,h=&amp;gt;h.flat())],point:this.GL.createBuffer(),user:[]},this.geometryBufferCache=new Ju(this),this.curStrokeCap=Mr,this.curStrokeJoin=Mr,this.textures=new Map,this.framebuffers=new Set,this.activeFramebuffers=[],this.states.filterShader=void 0,this.filterLayer=void 0,this.filterLayerTemp=void 0,this.defaultFilterShaders={},this.fontInfos={},this._curShader=void 0,this.drawShapeCount=1,this.scratchMat3=new at(3),this._userEnabledStencil=!1,this._internalEnable=this.drawingContext.enable,this._internalDisable=this.drawingContext.disable,this.drawingContext.enable=h=&amp;gt;(h===this.drawingContext.STENCIL_TEST&amp;amp;&amp;amp;(this._clipping||(this._userEnabledStencil=!0)),this._internalEnable.call(this.drawingContext,h)),this.drawingContext.disable=h=&amp;gt;(h===this.drawingContext.STENCIL_TEST&amp;amp;&amp;amp;(this._userEnabledStencil=!1),this._internalDisable.call(this.drawingContext,h))}remove(){this.wrappedElt.remove(),this.wrappedElt=null,this.canvas=null,this.elt=null}beginGeometry(){if(this.geometryBuilder)throw new Error(&amp;quot;It looks like `beginGeometry()` is being called while another p5.Geometry is already being build.&amp;quot;);this.geometryBuilder=new Xa(this),this.geometryBuilder.prevFillColor=this.states.fillColor,this.fill(new Qe([-1,-1,-1,-1]))}endGeometry(){if(!this.geometryBuilder)throw new Error(&amp;quot;Make sure you call beginGeometry() before endGeometry()!&amp;quot;);let t=this.geometryBuilder.finish();return this.fill(this.geometryBuilder.prevFillColor),this.geometryBuilder=void 0,t}buildGeometry(t){return this.beginGeometry(),t(),this.endGeometry()}beginShape(...t){super.beginShape(...t)}curveDetail(t){if(t===void 0)return this.states.curveDetail;this.states.setValue(&amp;quot;curveDetail&amp;quot;,t)}drawShape(t){let r=new Ua({curveDetail:this.states.curveDetail});t.accept(r),this.shapeBuilder.constructFromContours(t,r.contours),this.geometryBuilder?this.geometryBuilder.addImmediate(this.shapeBuilder.geometry,this.shapeBuilder.shapeMode):(this.states.fillColor||this.states.strokeColor)&amp;amp;&amp;amp;(this.shapeBuilder.shapeMode===Jn?this._drawPoints(this.shapeBuilder.geometry.vertices,this.buffers.point):this._drawGeometry(this.shapeBuilder.geometry,{mode:this.shapeBuilder.shapeMode,count:this.drawShapeCount})),this.drawShapeCount=1}endShape(t,r){this.drawShapeCount=r,super.endShape(t,r)}vertexProperty(...t){this.currentShape.vertexProperty(...t)}normal(t,r,n){t instanceof H?this.states.setValue(&amp;quot;_currentNormal&amp;quot;,t):this.states.setValue(&amp;quot;_currentNormal&amp;quot;,new H(t,r,n)),this.updateShapeVertexProperties()}model(t,r=1){t.vertices.length&amp;gt;0&amp;amp;&amp;amp;(this.geometryBuilder?this.geometryBuilder.addRetained(t):(this.geometryInHash(t.gid)||(t._edgesToVertices(),this._getOrMakeCachedBuffers(t)),this._drawGeometry(t,{count:r})))}_drawGeometry(t,{mode:r=fi,count:n=1}={}){for(let s in t.userVertexProperties){let a=t.userVertexProperties[s];this.buffers.user.push(new At(a.getDataSize(),a.getSrcName(),a.getDstName(),a.getName(),this))}this.states.fillColor&amp;amp;&amp;amp;t.vertices.length&amp;gt;=3&amp;amp;&amp;amp;![ci,Jn].includes(r)&amp;amp;&amp;amp;this._drawFills(t,{mode:r,count:n}),this.states.strokeColor&amp;amp;&amp;amp;t.lineVertices.length&amp;gt;=1&amp;amp;&amp;amp;this._drawStrokes(t,{count:n}),this.buffers.user=[]}_drawGeometryScaled(t,r,n,s){let a=this.states.uModelMatrix;this.states.setValue(&amp;quot;uModelMatrix&amp;quot;,this.states.uModelMatrix.clone());try{this.states.uModelMatrix.scale(r,n,s),this.geometryBuilder?this.geometryBuilder.addRetained(t):this._drawGeometry(t)}finally{this.states.setValue(&amp;quot;uModelMatrix&amp;quot;,a)}}_drawFills(t,{count:r,mode:n}={}){this._useVertexColor=t.vertexColors.length&amp;gt;0;let s=!this._drawingFilter&amp;amp;&amp;amp;this.states.userFillShader?this.states.userFillShader:this._getFillShader();s.bindShader(),this._setGlobalUniforms(s),this._setFillUniforms(s),s.bindTextures();for(let a of this.buffers.fill)a._prepareBuffer(t,s);this._prepareUserAttributes(t,s),s.disableRemainingAttributes(),this._applyColorBlend(this.states.curFillColor,t.hasFillTransparency()),this._drawBuffers(t,{mode:n,count:r}),s.unbindShader()}_drawStrokes(t,{count:r}={}){let n=this.GL;this._useLineColor=t.vertexStrokeColors.length&amp;gt;0;let s=this._getStrokeShader();s.bindShader(),this._setGlobalUniforms(s),this._setStrokeUniforms(s),s.bindTextures();for(let a of this.buffers.stroke)a._prepareBuffer(t,s);if(this._prepareUserAttributes(t,s),s.disableRemainingAttributes(),this._applyColorBlend(this.states.curStrokeColor,t.hasStrokeTransparency()),r===1)n.drawArrays(n.TRIANGLES,0,t.lineVertices.length/3);else try{n.drawArraysInstanced(n.TRIANGLES,0,t.lineVertices.length/3,r)}catch{console.log(&amp;quot;\u{1F338} p5.js says: Instancing is only supported in WebGL2 mode&amp;quot;)}s.unbindShader()}_drawPoints(t,r){let n=this.GL,s=this._getPointShader();s.bindShader(),this._setGlobalUniforms(s),this._setPointUniforms(s),s.bindTextures(),this._bindBuffer(r,n.ARRAY_BUFFER,this._vToNArray(t),Float32Array,n.STATIC_DRAW),s.enableAttrib(s.attributes.aPosition,3),this._applyColorBlend(this.states.curStrokeColor),n.drawArrays(n.Points,0,t.length),s.unbindShader()}_prepareUserAttributes(t,r){for(let n of this.buffers.user){if(!this._pInst.constructor.disableFriendleErrors){let s=t.userVertexProperties[n.attr];if(s){let a=s.getSrcArray().length/s.getDataSize();a&amp;gt;t.vertices.length?this._pInst.constructor._friendlyError(`One of the geometries has a custom vertex property &amp;#39;${s.getName()}&amp;#39; with more values than vertices. This is probably caused by directly using the Geometry.vertexProperty() method.`,&amp;quot;vertexProperty()&amp;quot;):a&amp;lt;t.vertices.length&amp;amp;&amp;amp;this._pInst.constructor._friendlyError(`One of the geometries has a custom vertex property &amp;#39;${s.getName()}&amp;#39; with fewer values than vertices. This is probably caused by directly using the Geometry.vertexProperty() method.`,&amp;quot;vertexProperty()&amp;quot;)}}n._prepareBuffer(t,r)}}_drawBuffers(t,{mode:r=this.GL.TRIANGLES,count:n}){let s=this.GL,a=this.geometryBufferCache.getCached(t);if(a)if(a.indexBuffer){if(this._bindBuffer(a.indexBuffer,s.ELEMENT_ARRAY_BUFFER),this._pInst.webglVersion!==pt&amp;amp;&amp;amp;a.indexBufferType===s.UNSIGNED_INT&amp;amp;&amp;amp;!s.getExtension(&amp;quot;OES_element_index_uint&amp;quot;))throw new Error(&amp;quot;Unable to render a 3d model with &amp;gt; 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.&amp;quot;);if(n===1)s.drawElements(s.TRIANGLES,t.faces.length*3,a.indexBufferType,0);else try{s.drawElementsInstanced(s.TRIANGLES,t.faces.length*3,a.indexBufferType,0,n)}catch{console.log(&amp;quot;\u{1F338} p5.js says: Instancing is only supported in WebGL2 mode&amp;quot;)}}else if(n===1)s.drawArrays(r,0,t.vertices.length);else try{s.drawArraysInstanced(r,0,t.vertices.length,n)}catch{console.log(&amp;quot;\u{1F338} p5.js says: Instancing is only supported in WebGL2 mode&amp;quot;)}}_getOrMakeCachedBuffers(t){return this.geometryBufferCache.ensureCached(t)}_setAttributeDefaults(t){let n={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes(&amp;quot;safari&amp;quot;),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0,version:2};t._glAttributes===null?t._glAttributes=n:t._glAttributes=Object.assign(n,t._glAttributes)}_initContext(){if(this._pInst._glAttributes?.version!==1&amp;amp;&amp;amp;(this.drawingContext=this.canvas.getContext(&amp;quot;webgl2&amp;quot;,this._pInst._glAttributes)),this.webglVersion=this.drawingContext?pt:kr,this._pInst.webglVersion=this.webglVersion,this.drawingContext||(this.drawingContext=this.canvas.getContext(&amp;quot;webgl&amp;quot;,this._pInst._glAttributes)||this.canvas.getContext(&amp;quot;experimental-webgl&amp;quot;,this._pInst._glAttributes)),this.drawingContext===null)throw new Error(&amp;quot;Error creating webgl context&amp;quot;);{let t=this.drawingContext;t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),t.viewport(0,0,t.drawingBufferWidth,t.drawingBufferHeight),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}}_getMaxTextureSize(){let t=this.drawingContext;return t.getParameter(t.MAX_TEXTURE_SIZE)}_adjustDimensions(t,r){this._maxTextureSize||(this._maxTextureSize=this._getMaxTextureSize());let n=this._maxTextureSize,s=Math.floor(n/this._pixelDensity),a=Math.min(t,s),o=Math.min(r,s);return(a!==t||o!==r)&amp;amp;&amp;amp;console.warn(`Warning: The requested width/height exceeds hardware limits. Adjusting dimensions to width: ${a}, height: ${o}.`),{adjustedWidth:a,adjustedHeight:o}}_resetContext(t,r){let n=this.width,s=this.height,a=this.canvas.id,o=this._pInst instanceof _i,u={position:this.canvas.style.position,top:this.canvas.style.top,left:this.canvas.style.left};if(o){let l=this._pInst;l.canvas.parentNode.removeChild(l.canvas),l.canvas=document.createElement(&amp;quot;canvas&amp;quot;),(l._pInst._userNode||document.body).appendChild(l.canvas),st.call(l,l.canvas,l._pInst),l.width=n,l.height=s}else{let l=this.canvas;l&amp;amp;&amp;amp;l.parentNode.removeChild(l),l=document.createElement(&amp;quot;canvas&amp;quot;),l.id=a,this._pInst._userNode?this._pInst._userNode.appendChild(l):document.body.appendChild(l),this._pInst.canvas=l,this.canvas=l,this.canvas.style.position=u.position,this.canvas.style.top=u.top,this.canvas.style.left=u.left}let h=new i(this._pInst,n,s,!o,this._pInst.canvas);this._pInst._renderer=h,h._applyDefaults(),typeof r==&amp;quot;function&amp;quot;&amp;amp;&amp;amp;setTimeout(()=&amp;gt;{r.apply(window._renderer,t)},0)}_update(){this.states.setValue(&amp;quot;uModelMatrix&amp;quot;,this.states.uModelMatrix.clone()),this.states.uModelMatrix.reset(),this.states.setValue(&amp;quot;uViewMatrix&amp;quot;,this.states.uViewMatrix.clone()),this.states.uViewMatrix.set(this.states.curCamera.cameraMatrix),this.states.setValue(&amp;quot;ambientLightColors&amp;quot;,[]),this.states.setValue(&amp;quot;specularColors&amp;quot;,[1,1,1]),this.states.setValue(&amp;quot;directionalLightDirections&amp;quot;,[]),this.states.setValue(&amp;quot;directionalLightDiffuseColors&amp;quot;,[]),this.states.setValue(&amp;quot;directionalLightSpecularColors&amp;quot;,[]),this.states.setValue(&amp;quot;pointLightPositions&amp;quot;,[]),this.states.setValue(&amp;quot;pointLightDiffuseColors&amp;quot;,[]),this.states.setValue(&amp;quot;pointLightSpecularColors&amp;quot;,[]),this.states.setValue(&amp;quot;spotLightPositions&amp;quot;,[]),this.states.setValue(&amp;quot;spotLightDirections&amp;quot;,[]),this.states.setValue(&amp;quot;spotLightDiffuseColors&amp;quot;,[]),this.states.setValue(&amp;quot;spotLightSpecularColors&amp;quot;,[]),this.states.setValue(&amp;quot;spotLightAngle&amp;quot;,[]),this.states.setValue(&amp;quot;spotLightConc&amp;quot;,[]),this.states.setValue(&amp;quot;enableLighting&amp;quot;,!1),this.states.setValue(&amp;quot;tint&amp;quot;,[255,255,255,255]),this.GL.clearStencil(0),this.GL.clear(this.GL.DEPTH_BUFFER_BIT|this.GL.STENCIL_BUFFER_BIT),this._userEnabledStencil||this._internalDisable.call(this.GL,this.GL.STENCIL_TEST)}background(...t){let r=this._pInst.color(...t);this.clear(...r._getRGBA())}get uModelMatrix(){return this.states.uModelMatrix}get uViewMatrix(){return this.states.uViewMatrix}get uPMatrix(){return this.states.uPMatrix}get uMVMatrix(){let t=this.uModelMatrix.copy();return t.mult(this.uViewMatrix),t}getWorldToScreenMatrix(){let t=this.states.uModelMatrix,r=this.states.uViewMatrix,n=this.states.uPMatrix,s=new at(4);return s.scale(this.width,this.height,1),s.translate([.5,.5,.5]),s.scale(.5,-.5,.5),t.copy().mult(r).mult(n).mult(s)}fill(...t){super.fill(...t);let r=this.states.fillColor;this.states.setValue(&amp;quot;curFillColor&amp;quot;,r._array),this.states.setValue(&amp;quot;drawMode&amp;quot;,Fa),this.states.setValue(&amp;quot;_useNormalMaterial&amp;quot;,!1),this.states.setValue(&amp;quot;_tex&amp;quot;,null)}stroke(...t){super.stroke(...t),this.states.setValue(&amp;quot;curStrokeColor&amp;quot;,this.states.strokeColor._array)}getCommonVertexProperties(){return{...super.getCommonVertexProperties(),stroke:this.states.strokeColor,fill:this.states.fillColor,normal:this.states._currentNormal}}getSupportedIndividualVertexProperties(){return{textureCoordinates:!0}}strokeCap(t){this.curStrokeCap=t}strokeJoin(t){this.curStrokeJoin=t}getFilterLayer(){return this.filterLayer||(this.filterLayer=new hr(this)),this.filterLayer}getFilterLayerTemp(){return this.filterLayerTemp||(this.filterLayerTemp=new hr(this)),this.filterLayerTemp}matchSize(t,r){(t.width!==r.width||t.height!==r.height)&amp;amp;&amp;amp;t.resize(r.width,r.height),t.pixelDensity()!==r.pixelDensity()&amp;amp;&amp;amp;t.pixelDensity(r.pixelDensity())}filter(...t){let r=this.getFilterLayer(),n,s;typeof t[0]==&amp;quot;string&amp;quot;?(s=t[0],n=s in Ds&amp;amp;&amp;amp;t[1]===void 0?Ds[s]:t[1],s in this.defaultFilterShaders||(this.defaultFilterShaders[s]=new Tt(r.renderer,Bc,Bb[s])),this.states.setValue(&amp;quot;filterShader&amp;quot;,this.defaultFilterShaders[s])):this.states.setValue(&amp;quot;filterShader&amp;quot;,t[0]);let a=this.activeFramebuffer()||this;this.matchSize(r,a),r.draw(()=&amp;gt;this.clear());let o=[1/(a.width*a.pixelDensity()),1/(a.height*a.pixelDensity())];if(s===di){let u=this.getFilterLayerTemp();this.matchSize(u,a),this.push(),this.states.setValue(&amp;quot;strokeColor&amp;quot;,null),this.blendMode(St),this.shader(this.states.filterShader),this.states.filterShader.setUniform(&amp;quot;texelSize&amp;quot;,o),this.states.filterShader.setUniform(&amp;quot;canvasSize&amp;quot;,[a.width,a.height]),this.states.filterShader.setUniform(&amp;quot;radius&amp;quot;,Math.max(1,n)),u.draw(()=&amp;gt;{this.states.filterShader.setUniform(&amp;quot;direction&amp;quot;,[1,0]),this.states.filterShader.setUniform(&amp;quot;tex0&amp;quot;,a),this.clear(),this.shader(this.states.filterShader),this.noLights(),this.plane(a.width,a.height)}),r.draw(()=&amp;gt;{this.states.filterShader.setUniform(&amp;quot;direction&amp;quot;,[0,1]),this.states.filterShader.setUniform(&amp;quot;tex0&amp;quot;,u),this.clear(),this.shader(this.states.filterShader),this.noLights(),this.plane(a.width,a.height)}),this.pop()}else r.draw(()=&amp;gt;{this.states.setValue(&amp;quot;strokeColor&amp;quot;,null),this.blendMode(St),this.shader(this.states.filterShader),this.states.filterShader.setUniform(&amp;quot;tex0&amp;quot;,a),this.states.filterShader.setUniform(&amp;quot;texelSize&amp;quot;,o),this.states.filterShader.setUniform(&amp;quot;canvasSize&amp;quot;,[a.width,a.height]),this.states.filterShader.setUniform(&amp;quot;filterParameter&amp;quot;,n),this.noLights(),this.plane(a.width,a.height)});this.push(),this.states.setValue(&amp;quot;strokeColor&amp;quot;,null),this.clear(),this.push(),this.states.setValue(&amp;quot;imageMode&amp;quot;,Ct),this.blendMode(St),a.filterCamera._resize(),this.setCamera(a.filterCamera),this.resetMatrix(),this._drawingFilter=!0,this.image(r,0,0,this.width,this.height,-a.width/2,-a.height/2,a.width,a.height),this._drawingFilter=!1,this.clearDepth(),this.pop(),this.pop()}pixelDensity(t){return t?this._pInst.pixelDensity(t):this._pInst.pixelDensity()}blendMode(t){t===es||t===ts||t===yn||t===St||t===rs||t===ss||t===is||t===as||t===ns||t===pi?this.states.setValue(&amp;quot;curBlendMode&amp;quot;,t):(t===wa||t===va||t===xa||t===ba||t===_a)&amp;amp;&amp;amp;console.warn(&amp;quot;BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.&amp;quot;)}erase(t,r){this._isErasing||(this.preEraseBlend=this.states.curBlendMode,this._isErasing=!0,this.blendMode(pi),this._cachedFillStyle=this.states.curFillColor.slice(),this.states.setValue(&amp;quot;curFillColor&amp;quot;,[1,1,1,t/255]),this._cachedStrokeStyle=this.states.curStrokeColor.slice(),this.states.setValue(&amp;quot;curStrokeColor&amp;quot;,[1,1,1,r/255]))}noErase(){this._isErasing&amp;amp;&amp;amp;(this.states.setValue(&amp;quot;curFillColor&amp;quot;,this._cachedFillStyle.slice()),this.states.setValue(&amp;quot;curStrokeColor&amp;quot;,this._cachedStrokeStyle.slice()),this.states.setValue(&amp;quot;curBlendMode&amp;quot;,this.preEraseBlend),this.blendMode(this.preEraseBlend),this._isErasing=!1,this._applyBlendMode())}drawTarget(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||this}beginClip(t={}){super.beginClip(t),this.drawTarget()._isClipApplied=!0;let r=this.GL;r.clearStencil(0),r.clear(r.STENCIL_BUFFER_BIT),this._internalEnable.call(r,r.STENCIL_TEST),this._stencilTestOn=!0,r.stencilFunc(r.ALWAYS,1,255),r.stencilOp(r.KEEP,r.KEEP,r.REPLACE),r.disable(r.DEPTH_TEST),this.push(),this.resetShader(),this.states.fillColor&amp;amp;&amp;amp;this.fill(0,0),this.states.strokeColor&amp;amp;&amp;amp;this.stroke(0,0)}endClip(){this.pop();let t=this.GL;t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.stencilFunc(this._clipInvert?t.EQUAL:t.NOTEQUAL,0,255),t.enable(t.DEPTH_TEST),this._clipDepths.push(this._pushPopDepth),super.endClip()}_clearClip(){this.GL.clearStencil(1),this.GL.clear(this.GL.STENCIL_BUFFER_BIT),this._clipDepths.length&amp;gt;0&amp;amp;&amp;amp;this._clipDepths.pop(),this.drawTarget()._isClipApplied=!1}_getPixel(t,r){let n=this.GL;return jm(n,null,t,r,n.RGBA,n.UNSIGNED_BYTE,this._pInst.height*this._pInst.pixelDensity())}loadPixels(){if(this._pInst._glAttributes.preserveDrawingBuffer!==!0){console.log(&amp;quot;loadPixels only works in WebGL when preserveDrawingBuffer is true.&amp;quot;);return}let t=this._pixelDensity,r=this.GL;this.pixels=Cc(this.pixels,r,null,0,0,this.width*t,this.height*t,r.RGBA,r.UNSIGNED_BYTE,this.height*t)}updatePixels(){let t=this._getTempFramebuffer();t.pixels=this.pixels,t.updatePixels(),this.push(),this.resetMatrix(),this.clear(),this.states.setValue(&amp;quot;imageMode&amp;quot;,Ct),this.image(t,0,0,t.width,t.height,-t.width/2,-t.height/2,t.width,t.height),this.pop(),this.GL.clearDepth(1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}_getTempFramebuffer(){return this._tempFramebuffer||(this._tempFramebuffer=new hr(this,{format:mi,useDepth:this._pInst._glAttributes.depth,depthFormat:ls,antialias:this._pInst._glAttributes.antialias})),this._tempFramebuffer}geometryInHash(t){return this.geometryBufferCache.isCached(t)}viewport(t,r){this._viewport=[0,0,t,r],this.GL.viewport(0,0,t,r)}resize(t,r){super.resize(t,r);let n={};for(let a in this.drawingContext){let o=this.drawingContext[a];typeof o!=&amp;quot;object&amp;quot;&amp;amp;&amp;amp;typeof o!=&amp;quot;function&amp;quot;&amp;amp;&amp;amp;(n[a]=o)}let s=this._adjustDimensions(t,r);t=s.adjustedWidth,r=s.adjustedHeight,this.width=t,this.height=r,this.canvas.width=t*this._pixelDensity,this.canvas.height=r*this._pixelDensity,this.canvas.style.width=`${t}px`,this.canvas.style.height=`${r}px`,this._origViewport={width:this.GL.drawingBufferWidth,height:this.GL.drawingBufferHeight},this.viewport(this._origViewport.width,this._origViewport.height),this.states.curCamera._resize(),typeof this.pixels&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;(this.pixels=new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4));for(let a of this.framebuffers)a._canvasSizeChanged();for(let a in n)try{this.drawingContext[a]=n[a]}catch{}}clear(...t){let r=t[0]||0,n=t[1]||0,s=t[2]||0,a=t[3]||0,o=this.activeFramebuffer();o&amp;amp;&amp;amp;o.format===mi&amp;amp;&amp;amp;!o.antialias&amp;amp;&amp;amp;a===0&amp;amp;&amp;amp;(a=1e-10),this.GL.clearColor(r*a,n*a,s*a,a),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)}clearDepth(t=1){this.GL.clearDepth(t),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}applyMatrix(t,r,n,s,a,o){this.states.setValue(&amp;quot;uModelMatrix&amp;quot;,this.states.uModelMatrix.clone()),arguments.length===16?at.prototype.apply.apply(this.states.uModelMatrix,arguments):this.states.uModelMatrix.apply([t,r,0,0,n,s,0,0,0,0,1,0,a,o,0,1])}translate(t,r,n){return t instanceof H&amp;amp;&amp;amp;(n=t.z,r=t.y,t=t.x),this.states.setValue(&amp;quot;uModelMatrix&amp;quot;,this.states.uModelMatrix.clone()),this.states.uModelMatrix.translate([t,r,n]),this}scale(t,r,n){return this.states.setValue(&amp;quot;uModelMatrix&amp;quot;,this.states.uModelMatrix.clone()),this.states.uModelMatrix.scale(t,r,n),this}rotate(t,r){return typeof r&amp;gt;&amp;quot;u&amp;quot;?this.rotateZ(t):(this.states.setValue(&amp;quot;uModelMatrix&amp;quot;,this.states.uModelMatrix.clone()),at.prototype.rotate4x4.apply(this.states.uModelMatrix,arguments),this)}rotateX(t){return this.rotate(t,1,0,0),this}rotateY(t){return this.rotate(t,0,1,0),this}rotateZ(t){return this.rotate(t,0,0,1),this}pop(...t){this._clipDepths.length&amp;gt;0&amp;amp;&amp;amp;this._pushPopDepth===this._clipDepths[this._clipDepths.length-1]&amp;amp;&amp;amp;(this._clearClip(),this._userEnabledStencil||this._internalDisable.call(this.GL,this.GL.STENCIL_TEST)),super.pop(...t),this._applyStencilTestIfClipping()}_applyStencilTestIfClipping(){let t=this.drawTarget();t._isClipApplied!==this._stencilTestOn&amp;amp;&amp;amp;(t._isClipApplied?(this._internalEnable.call(this.GL,this.GL.STENCIL_TEST),this._stencilTestOn=!0):(this._userEnabledStencil||this._internalDisable.call(this.GL,this.GL.STENCIL_TEST),this._stencilTestOn=!1))}resetMatrix(){return this.states.setValue(&amp;quot;uModelMatrix&amp;quot;,this.states.uModelMatrix.clone()),this.states.uModelMatrix.reset(),this.states.setValue(&amp;quot;uViewMatrix&amp;quot;,this.states.uViewMatrix.clone()),this.states.uViewMatrix.set(this.states.curCamera.cameraMatrix),this}_getStrokeShader(){let t=this.states.userStrokeShader;return t||this._getLineShader()}_getSphereMapping(t){return this.sphereMapping||(this.sphereMapping=this._pInst.createFilterShader(Rb)),this.scratchMat3.inverseTranspose4x4(this.states.uViewMatrix),this.scratchMat3.invert(this.scratchMat3),this.sphereMapping.setUniform(&amp;quot;uFovY&amp;quot;,this.states.curCamera.cameraFOV),this.sphereMapping.setUniform(&amp;quot;uAspect&amp;quot;,this.states.curCamera.aspectRatio),this.sphereMapping.setUniform(&amp;quot;uNewNormalMatrix&amp;quot;,this.scratchMat3.mat3),this.sphereMapping.setUniform(&amp;quot;uEnvMap&amp;quot;,t),this.sphereMapping}_getFillShader(){return this._drawingImage?this.states.userImageShader&amp;amp;&amp;amp;!this._drawingFilter?this.states.userImageShader:this._getLightShader():this.states.userFillShader?this.states.userFillShader:this.states._useNormalMaterial?this._getNormalShader():this.states.enableLighting||this.states._tex?this._getLightShader():this._getColorShader()}_getPointShader(){let t=this.states.userPointShader;return!t||!t.isPointShader()?this._getPointShader():t}baseMaterialShader(){if(!this._pInst._glAttributes.perPixelLighting)throw new Error(&amp;quot;The material shader does not support hooks without perPixelLighting. Try turning it back on.&amp;quot;);return this._getLightShader()}_getLightShader(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new Tt(this,this._webGL2CompatibilityPrefix(&amp;quot;vert&amp;quot;,&amp;quot;highp&amp;quot;)+lt.phongVert,this._webGL2CompatibilityPrefix(&amp;quot;frag&amp;quot;,&amp;quot;highp&amp;quot;)+lt.phongFrag,{vertex:{&amp;quot;void beforeVertex&amp;quot;:&amp;quot;() {}&amp;quot;,&amp;quot;Vertex getObjectInputs&amp;quot;:&amp;quot;(Vertex inputs) { return inputs; }&amp;quot;,&amp;quot;Vertex getWorldInputs&amp;quot;:&amp;quot;(Vertex inputs) { return inputs; }&amp;quot;,&amp;quot;Vertex getCameraInputs&amp;quot;:&amp;quot;(Vertex inputs) { return inputs; }&amp;quot;,&amp;quot;void afterVertex&amp;quot;:&amp;quot;() {}&amp;quot;},fragment:{&amp;quot;void beforeFragment&amp;quot;:&amp;quot;() {}&amp;quot;,&amp;quot;Inputs getPixelInputs&amp;quot;:&amp;quot;(Inputs inputs) { return inputs; }&amp;quot;,&amp;quot;vec4 combineColors&amp;quot;:`(ColorComponents components) {
<a href="#l2185" class="line" id="l2185">   2185</a> &lt;a href=&quot;#l2166&quot; class=&quot;line&quot; id=&quot;l2166&quot;&gt;   2166&lt;/a&gt;                 vec4 color = vec4(0.);
<a href="#l2186" class="line" id="l2186">   2186</a> &lt;a href=&quot;#l2167&quot; class=&quot;line&quot; id=&quot;l2167&quot;&gt;   2167&lt;/a&gt;                 color.rgb += components.diffuse * components.baseColor;
<a href="#l2187" class="line" id="l2187">   2187</a> &lt;a href=&quot;#l2168&quot; class=&quot;line&quot; id=&quot;l2168&quot;&gt;   2168&lt;/a&gt;                 color.rgb += components.ambient * components.ambientColor;
<a href="#l2188" class="line" id="l2188">   2188</a> &lt;a href=&quot;#l2169&quot; class=&quot;line&quot; id=&quot;l2169&quot;&gt;   2169&lt;/a&gt;                 color.rgb += components.specular * components.specularColor;
<a href="#l2189" class="line" id="l2189">   2189</a> &lt;a href=&quot;#l2170&quot; class=&quot;line&quot; id=&quot;l2170&quot;&gt;   2170&lt;/a&gt;                 color.rgb += components.emissive;
<a href="#l2190" class="line" id="l2190">   2190</a> &lt;a href=&quot;#l2171&quot; class=&quot;line&quot; id=&quot;l2171&quot;&gt;   2171&lt;/a&gt;                 color.a = components.opacity;
<a href="#l2191" class="line" id="l2191">   2191</a> &lt;a href=&quot;#l2172&quot; class=&quot;line&quot; id=&quot;l2172&quot;&gt;   2172&lt;/a&gt;                 return color;
<a href="#l2192" class="line" id="l2192">   2192</a> &lt;a href=&quot;#l2173&quot; class=&quot;line&quot; id=&quot;l2173&quot;&gt;   2173&lt;/a&gt;               }`,&amp;quot;vec4 getFinalColor&amp;quot;:&amp;quot;(vec4 color) { return color; }&amp;quot;,&amp;quot;void afterFragment&amp;quot;:&amp;quot;() {}&amp;quot;}}):this._defaultLightShader=new Tt(this,this._webGL2CompatibilityPrefix(&amp;quot;vert&amp;quot;,&amp;quot;highp&amp;quot;)+lt.lightVert,this._webGL2CompatibilityPrefix(&amp;quot;frag&amp;quot;,&amp;quot;highp&amp;quot;)+lt.lightTextureFrag)),this._defaultLightShader}baseNormalShader(){return this._getNormalShader()}_getNormalShader(){return this._defaultNormalShader||(this._defaultNormalShader=new Tt(this,this._webGL2CompatibilityPrefix(&amp;quot;vert&amp;quot;,&amp;quot;mediump&amp;quot;)+lt.normalVert,this._webGL2CompatibilityPrefix(&amp;quot;frag&amp;quot;,&amp;quot;mediump&amp;quot;)+lt.normalFrag,{vertex:{&amp;quot;void beforeVertex&amp;quot;:&amp;quot;() {}&amp;quot;,&amp;quot;Vertex getObjectInputs&amp;quot;:&amp;quot;(Vertex inputs) { return inputs; }&amp;quot;,&amp;quot;Vertex getWorldInputs&amp;quot;:&amp;quot;(Vertex inputs) { return inputs; }&amp;quot;,&amp;quot;Vertex getCameraInputs&amp;quot;:&amp;quot;(Vertex inputs) { return inputs; }&amp;quot;,&amp;quot;void afterVertex&amp;quot;:&amp;quot;() {}&amp;quot;},fragment:{&amp;quot;void beforeFragment&amp;quot;:&amp;quot;() {}&amp;quot;,&amp;quot;vec4 getFinalColor&amp;quot;:&amp;quot;(vec4 color) { return color; }&amp;quot;,&amp;quot;void afterFragment&amp;quot;:&amp;quot;() {}&amp;quot;}})),this._defaultNormalShader}baseColorShader(){return this._getColorShader()}_getColorShader(){return this._defaultColorShader||(this._defaultColorShader=new Tt(this,this._webGL2CompatibilityPrefix(&amp;quot;vert&amp;quot;,&amp;quot;mediump&amp;quot;)+lt.normalVert,this._webGL2CompatibilityPrefix(&amp;quot;frag&amp;quot;,&amp;quot;mediump&amp;quot;)+lt.basicFrag,{vertex:{&amp;quot;void beforeVertex&amp;quot;:&amp;quot;() {}&amp;quot;,&amp;quot;Vertex getObjectInputs&amp;quot;:&amp;quot;(Vertex inputs) { return inputs; }&amp;quot;,&amp;quot;Vertex getWorldInputs&amp;quot;:&amp;quot;(Vertex inputs) { return inputs; }&amp;quot;,&amp;quot;Vertex getCameraInputs&amp;quot;:&amp;quot;(Vertex inputs) { return inputs; }&amp;quot;,&amp;quot;void afterVertex&amp;quot;:&amp;quot;() {}&amp;quot;},fragment:{&amp;quot;void beforeFragment&amp;quot;:&amp;quot;() {}&amp;quot;,&amp;quot;vec4 getFinalColor&amp;quot;:&amp;quot;(vec4 color) { return color; }&amp;quot;,&amp;quot;void afterFragment&amp;quot;:&amp;quot;() {}&amp;quot;}})),this._defaultColorShader}pointShader(){return this._getPointShader()}_getPointShader(){return this._defaultPointShader||(this._defaultPointShader=new Tt(this,this._webGL2CompatibilityPrefix(&amp;quot;vert&amp;quot;,&amp;quot;mediump&amp;quot;)+lt.pointVert,this._webGL2CompatibilityPrefix(&amp;quot;frag&amp;quot;,&amp;quot;mediump&amp;quot;)+lt.pointFrag,{vertex:{&amp;quot;void beforeVertex&amp;quot;:&amp;quot;() {}&amp;quot;,&amp;quot;vec3 getLocalPosition&amp;quot;:&amp;quot;(vec3 position) { return position; }&amp;quot;,&amp;quot;vec3 getWorldPosition&amp;quot;:&amp;quot;(vec3 position) { return position; }&amp;quot;,&amp;quot;float getPointSize&amp;quot;:&amp;quot;(float size) { return size; }&amp;quot;,&amp;quot;void afterVertex&amp;quot;:&amp;quot;() {}&amp;quot;},fragment:{&amp;quot;void beforeFragment&amp;quot;:&amp;quot;() {}&amp;quot;,&amp;quot;vec4 getFinalColor&amp;quot;:&amp;quot;(vec4 color) { return color; }&amp;quot;,&amp;quot;bool shouldDiscard&amp;quot;:&amp;quot;(bool outside) { return outside; }&amp;quot;,&amp;quot;void afterFragment&amp;quot;:&amp;quot;() {}&amp;quot;}})),this._defaultPointShader}baseStrokeShader(){return this._getLineShader()}_getLineShader(){return this._defaultLineShader||(this._defaultLineShader=new Tt(this,this._webGL2CompatibilityPrefix(&amp;quot;vert&amp;quot;,&amp;quot;mediump&amp;quot;)+lt.lineVert,this._webGL2CompatibilityPrefix(&amp;quot;frag&amp;quot;,&amp;quot;mediump&amp;quot;)+lt.lineFrag,{vertex:{&amp;quot;void beforeVertex&amp;quot;:&amp;quot;() {}&amp;quot;,&amp;quot;StrokeVertex getObjectInputs&amp;quot;:&amp;quot;(StrokeVertex inputs) { return inputs; }&amp;quot;,&amp;quot;StrokeVertex getWorldInputs&amp;quot;:&amp;quot;(StrokeVertex inputs) { return inputs; }&amp;quot;,&amp;quot;StrokeVertex getCameraInputs&amp;quot;:&amp;quot;(StrokeVertex inputs) { return inputs; }&amp;quot;,&amp;quot;void afterVertex&amp;quot;:&amp;quot;() {}&amp;quot;},fragment:{&amp;quot;void beforeFragment&amp;quot;:&amp;quot;() {}&amp;quot;,&amp;quot;Inputs getPixelInputs&amp;quot;:&amp;quot;(Inputs inputs) { return inputs; }&amp;quot;,&amp;quot;vec4 getFinalColor&amp;quot;:&amp;quot;(vec4 color) { return color; }&amp;quot;,&amp;quot;bool shouldDiscard&amp;quot;:&amp;quot;(bool outside) { return outside; }&amp;quot;,&amp;quot;void afterFragment&amp;quot;:&amp;quot;() {}&amp;quot;}})),this._defaultLineShader}_getFontShader(){return this._defaultFontShader||(this.webglVersion===kr&amp;amp;&amp;amp;this.GL.getExtension(&amp;quot;OES_standard_derivatives&amp;quot;),this._defaultFontShader=new Tt(this,this._webGL2CompatibilityPrefix(&amp;quot;vert&amp;quot;,&amp;quot;highp&amp;quot;)+lt.fontVert,this._webGL2CompatibilityPrefix(&amp;quot;frag&amp;quot;,&amp;quot;highp&amp;quot;)+lt.fontFrag)),this._defaultFontShader}baseFilterShader(){return this._baseFilterShader||(this._baseFilterShader=new Tt(this,this._webGL2CompatibilityPrefix(&amp;quot;vert&amp;quot;,&amp;quot;highp&amp;quot;)+lt.filterBaseVert,this._webGL2CompatibilityPrefix(&amp;quot;frag&amp;quot;,&amp;quot;highp&amp;quot;)+lt.filterBaseFrag,{vertex:{},fragment:{&amp;quot;vec4 getColor&amp;quot;:`(FilterInputs inputs, in sampler2D canvasContent) {
<a href="#l2193" class="line" id="l2193">   2193</a> &lt;a href=&quot;#l2174&quot; class=&quot;line&quot; id=&quot;l2174&quot;&gt;   2174&lt;/a&gt;                 return getTexture(canvasContent, inputs.texCoord);
<a href="#l2194" class="line" id="l2194">   2194</a> &lt;a href=&quot;#l2175&quot; class=&quot;line&quot; id=&quot;l2175&quot;&gt;   2175&lt;/a&gt;               }`}})),this._baseFilterShader}_webGL2CompatibilityPrefix(t,r){let n=&amp;quot;&amp;quot;;return this.webglVersion===pt&amp;amp;&amp;amp;(n+=`#version 300 es
<a href="#l2195" class="line" id="l2195">   2195</a> &lt;a href=&quot;#l2176&quot; class=&quot;line&quot; id=&quot;l2176&quot;&gt;   2176&lt;/a&gt; #define WEBGL2
<a href="#l2196" class="line" id="l2196">   2196</a> &lt;a href=&quot;#l2177&quot; class=&quot;line&quot; id=&quot;l2177&quot;&gt;   2177&lt;/a&gt; `),t===&amp;quot;vert&amp;quot;?n+=`#define VERTEX_SHADER
<a href="#l2197" class="line" id="l2197">   2197</a> &lt;a href=&quot;#l2178&quot; class=&quot;line&quot; id=&quot;l2178&quot;&gt;   2178&lt;/a&gt; `:t===&amp;quot;frag&amp;quot;&amp;amp;&amp;amp;(n+=`#define FRAGMENT_SHADER
<a href="#l2198" class="line" id="l2198">   2198</a> &lt;a href=&quot;#l2179&quot; class=&quot;line&quot; id=&quot;l2179&quot;&gt;   2179&lt;/a&gt; `),r&amp;amp;&amp;amp;(n+=`precision ${r} float;
<a href="#l2199" class="line" id="l2199">   2199</a> &lt;a href=&quot;#l2180&quot; class=&quot;line&quot; id=&quot;l2180&quot;&gt;   2180&lt;/a&gt; `),n}_getEmptyTexture(){if(!this._emptyTexture){let t=new ar(1,1);t.set(0,0,255),this._emptyTexture=new _r(this,t)}return this._emptyTexture}getTexture(t){let r=t;r instanceof hr&amp;amp;&amp;amp;(r=r.color);let n=this.textures.get(r);if(n)return n;let s=new _r(this,r);return this.textures.set(r,s),s}getDiffusedTexture(t){if(this.diffusedTextures.get(t)!=null)return this.diffusedTextures.get(t);let r,n=200,s=n,a=Math.floor(n*(t.height/t.width));return r=new hr(this,{width:s,height:a,density:1}),this.diffusedShader||(this.diffusedShader=this._pInst.createShader(lt.imageLightVert,lt.imageLightDiffusedFrag)),r.draw(()=&amp;gt;{this.shader(this.diffusedShader),this.diffusedShader.setUniform(&amp;quot;environmentMap&amp;quot;,t),this.states.setValue(&amp;quot;strokeColor&amp;quot;,null),this.noLights(),this.plane(s,a)}),this.diffusedTextures.set(t,r),r}getSpecularTexture(t){if(this.specularTextures.get(t)!=null)return this.specularTextures.get(t);let r=512,n,s=[],a=new hr(this,{width:r,height:r,density:1}),o=Math.log(r)/Math.log(2);this.specularShader||(this.specularShader=this._pInst.createShader(lt.imageLightVert,lt.imageLightSpecularFrag));for(let u=r;u&amp;gt;=1;u/=2){a.resize(u,u);let l=1-Math.log(u)/Math.log(2)/o;a.draw(()=&amp;gt;{this.shader(this.specularShader),this.clear(),this.specularShader.setUniform(&amp;quot;environmentMap&amp;quot;,t),this.specularShader.setUniform(&amp;quot;roughness&amp;quot;,l),this.states.setValue(&amp;quot;strokeColor&amp;quot;,null),this.noLights(),this.plane(u,u)}),s.push(a.get().drawingContext.getImageData(0,0,u,u))}return a.remove(),n=new rl(this,s,{}),this.specularTextures.set(t,n),n}activeFramebuffer(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||null}createFramebuffer(t){return new hr(this,t)}_setGlobalUniforms(t){let r=this.states.uModelMatrix,n=this.states.uViewMatrix,s=this.states.uPMatrix,a=r.copy().mult(n);if(t.setUniform(&amp;quot;uPerspective&amp;quot;,this.states.curCamera.useLinePerspective?1:0),t.setUniform(&amp;quot;uViewMatrix&amp;quot;,n.mat4),t.setUniform(&amp;quot;uProjectionMatrix&amp;quot;,s.mat4),t.setUniform(&amp;quot;uModelMatrix&amp;quot;,r.mat4),t.setUniform(&amp;quot;uModelViewMatrix&amp;quot;,a.mat4),t.uniforms.uModelViewProjectionMatrix){let o=a.copy();o.mult(s),t.setUniform(&amp;quot;uModelViewProjectionMatrix&amp;quot;,o.mat4)}t.uniforms.uNormalMatrix&amp;amp;&amp;amp;(this.scratchMat3.inverseTranspose4x4(a),t.setUniform(&amp;quot;uNormalMatrix&amp;quot;,this.scratchMat3.mat3)),t.uniforms.uModelNormalMatrix&amp;amp;&amp;amp;(this.scratchMat3.inverseTranspose4x4(this.states.uModelMatrix),t.setUniform(&amp;quot;uModelNormalMatrix&amp;quot;,this.scratchMat3.mat3)),t.uniforms.uCameraNormalMatrix&amp;amp;&amp;amp;(this.scratchMat3.inverseTranspose4x4(this.states.uViewMatrix),t.setUniform(&amp;quot;uCameraNormalMatrix&amp;quot;,this.scratchMat3.mat3)),t.uniforms.uCameraRotation&amp;amp;&amp;amp;(this.scratchMat3.inverseTranspose4x4(this.states.uViewMatrix),t.setUniform(&amp;quot;uCameraRotation&amp;quot;,this.scratchMat3.mat3)),t.setUniform(&amp;quot;uViewport&amp;quot;,this._viewport)}_setStrokeUniforms(t){t.setUniform(&amp;quot;uSimpleLines&amp;quot;,this._simpleLines),t.setUniform(&amp;quot;uUseLineColor&amp;quot;,this._useLineColor),t.setUniform(&amp;quot;uMaterialColor&amp;quot;,this.states.curStrokeColor),t.setUniform(&amp;quot;uStrokeWeight&amp;quot;,this.states.strokeWeight),t.setUniform(&amp;quot;uStrokeCap&amp;quot;,Gm[this.curStrokeCap]),t.setUniform(&amp;quot;uStrokeJoin&amp;quot;,zm[this.curStrokeJoin])}_setFillUniforms(t){this.mixedSpecularColor=[...this.states.curSpecularColor];let r=this._getEmptyTexture();this.states._useMetalness&amp;gt;0&amp;amp;&amp;amp;(this.mixedSpecularColor=this.mixedSpecularColor.map((u,h)=&amp;gt;this.states.curFillColor[h]*this.states._useMetalness+u*(1-this.states._useMetalness))),t.setUniform(&amp;quot;uUseVertexColor&amp;quot;,this._useVertexColor),t.setUniform(&amp;quot;uMaterialColor&amp;quot;,this.states.curFillColor),t.setUniform(&amp;quot;isTexture&amp;quot;,!!this.states._tex),t.setUniform(&amp;quot;uSampler&amp;quot;,this.states._tex||r),t.setUniform(&amp;quot;uTint&amp;quot;,this.states.tint),t.setUniform(&amp;quot;uHasSetAmbient&amp;quot;,this.states._hasSetAmbient),t.setUniform(&amp;quot;uAmbientMatColor&amp;quot;,this.states.curAmbientColor),t.setUniform(&amp;quot;uSpecularMatColor&amp;quot;,this.mixedSpecularColor),t.setUniform(&amp;quot;uEmissiveMatColor&amp;quot;,this.states.curEmissiveColor),t.setUniform(&amp;quot;uSpecular&amp;quot;,this.states._useSpecularMaterial),t.setUniform(&amp;quot;uEmissive&amp;quot;,this.states._useEmissiveMaterial),t.setUniform(&amp;quot;uShininess&amp;quot;,this.states._useShininess),t.setUniform(&amp;quot;uMetallic&amp;quot;,this.states._useMetalness),this._setImageLightUniforms(t),t.setUniform(&amp;quot;uUseLighting&amp;quot;,this.states.enableLighting);let n=this.states.pointLightDiffuseColors.length/3;t.setUniform(&amp;quot;uPointLightCount&amp;quot;,n),t.setUniform(&amp;quot;uPointLightLocation&amp;quot;,this.states.pointLightPositions),t.setUniform(&amp;quot;uPointLightDiffuseColors&amp;quot;,this.states.pointLightDiffuseColors),t.setUniform(&amp;quot;uPointLightSpecularColors&amp;quot;,this.states.pointLightSpecularColors);let s=this.states.directionalLightDiffuseColors.length/3;t.setUniform(&amp;quot;uDirectionalLightCount&amp;quot;,s),t.setUniform(&amp;quot;uLightingDirection&amp;quot;,this.states.directionalLightDirections),t.setUniform(&amp;quot;uDirectionalDiffuseColors&amp;quot;,this.states.directionalLightDiffuseColors),t.setUniform(&amp;quot;uDirectionalSpecularColors&amp;quot;,this.states.directionalLightSpecularColors);let a=this.states.ambientLightColors.length/3;this.mixedAmbientLight=[...this.states.ambientLightColors],this.states._useMetalness&amp;gt;0&amp;amp;&amp;amp;(this.mixedAmbientLight=this.mixedAmbientLight.map(u=&amp;gt;{let h=u-this.states._useMetalness;return Math.max(0,h)})),t.setUniform(&amp;quot;uAmbientLightCount&amp;quot;,a),t.setUniform(&amp;quot;uAmbientColor&amp;quot;,this.mixedAmbientLight);let o=this.states.spotLightDiffuseColors.length/3;t.setUniform(&amp;quot;uSpotLightCount&amp;quot;,o),t.setUniform(&amp;quot;uSpotLightAngle&amp;quot;,this.states.spotLightAngle),t.setUniform(&amp;quot;uSpotLightConc&amp;quot;,this.states.spotLightConc),t.setUniform(&amp;quot;uSpotLightDiffuseColors&amp;quot;,this.states.spotLightDiffuseColors),t.setUniform(&amp;quot;uSpotLightSpecularColors&amp;quot;,this.states.spotLightSpecularColors),t.setUniform(&amp;quot;uSpotLightLocation&amp;quot;,this.states.spotLightPositions),t.setUniform(&amp;quot;uSpotLightDirection&amp;quot;,this.states.spotLightDirections),t.setUniform(&amp;quot;uConstantAttenuation&amp;quot;,this.states.constantAttenuation),t.setUniform(&amp;quot;uLinearAttenuation&amp;quot;,this.states.linearAttenuation),t.setUniform(&amp;quot;uQuadraticAttenuation&amp;quot;,this.states.quadraticAttenuation)}_setImageLightUniforms(t){if(t.setUniform(&amp;quot;uUseImageLight&amp;quot;,this.states.activeImageLight!=null),this.states.activeImageLight){let r=this.getDiffusedTexture(this.states.activeImageLight);t.setUniform(&amp;quot;environmentMapDiffused&amp;quot;,r);let n=this.getSpecularTexture(this.states.activeImageLight);t.setUniform(&amp;quot;environmentMapSpecular&amp;quot;,n)}}_setPointUniforms(t){t.setUniform(&amp;quot;uMaterialColor&amp;quot;,this.states.curStrokeColor),t.setUniform(&amp;quot;uPointSize&amp;quot;,this.states.strokeWeight*this._pixelDensity)}_bindBuffer(t,r,n,s,a){if(r||(r=this.GL.ARRAY_BUFFER),this.GL.bindBuffer(r,t),n!==void 0){let o=n;n instanceof Or?o=n.dataArray():o instanceof(s||Float32Array)||(o=new(s||Float32Array)(o)),this.GL.bufferData(r,o,a||this.GL.STATIC_DRAW)}}_arraysEqual(t,r){return t.length!==r.length?!1:t.every((s,a)=&amp;gt;s===r[a])}_isTypedArray(t){return[Float32Array,Float64Array,Int16Array,Uint16Array,Uint32Array].some(r=&amp;gt;t instanceof r)}_vToNArray(t){return t.flatMap(r=&amp;gt;[r.x,r.y,r.z])}};function Vc(i,t){i.RendererGL=Le,t.setAttributes=function(r,n){if(typeof this._glAttributes&amp;gt;&amp;quot;u&amp;quot;){console.log(&amp;quot;You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.&amp;quot;);return}let s=!0;if(typeof n&amp;lt;&amp;quot;u&amp;quot;?(this._glAttributes===null&amp;amp;&amp;amp;(this._glAttributes={}),this._glAttributes[r]!==n&amp;amp;&amp;amp;(this._glAttributes[r]=n,s=!1)):r instanceof Object&amp;amp;&amp;amp;this._glAttributes!==r&amp;amp;&amp;amp;(this._glAttributes=r,s=!1),!(!this._renderer.isP3D||s)){if(!this._setupDone&amp;amp;&amp;amp;this._renderer.geometryBufferCache.numCached()&amp;gt;0){i._friendlyError(&amp;quot;Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()&amp;quot;);return}this._renderer._resetContext(),this._renderer.states.curCamera&amp;amp;&amp;amp;(this._renderer.states.curCamera._renderer=this._renderer)}},t._assert3d=function(r){if(!this._renderer.isP3D)throw new Error(`${r}() is only supported in WEBGL mode. If you&amp;#39;d like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information.`)},i.renderers[kr]=i.RendererGL,i.renderers[pt]=i.RendererGL}function Cc(i,t,r,n,s,a,o,u,h,l){let c=t.getParameter(t.FRAMEBUFFER_BINDING);t.bindFramebuffer(t.FRAMEBUFFER,r);let p=u===t.RGBA?4:3,f=a*o*p,d=h===t.UNSIGNED_BYTE?Uint8Array:Float32Array;if((!(i instanceof d)||i.length!==f)&amp;amp;&amp;amp;(i=new d(f)),t.readPixels(n,l?l-s-o:s,a,o,u,h,i),t.bindFramebuffer(t.FRAMEBUFFER,c),l){let m=Math.floor(o/2),g=new d(a*p);for(let v=0;v&amp;lt;m;v++){let w=v*a*4,y=(o-v-1)*a*4;g.set(i.subarray(w,w+a*4)),i.copyWithin(w,y,y+a*4),i.set(g,y)}}return i}function jm(i,t,r,n,s,a,o){let u=i.getParameter(i.FRAMEBUFFER_BINDING);i.bindFramebuffer(i.FRAMEBUFFER,t);let h=s===i.RGBA?4:3,l=a===i.UNSIGNED_BYTE?Uint8Array:Float32Array,c=new l(h);return i.readPixels(r,o?o-n-1:n,1,1,s,a,c),i.bindFramebuffer(i.FRAMEBUFFER,u),Array.from(c)}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;Vc(p5,p5.prototype);function ul(i,t){t.strokeMode=function(n){if(n===void 0)return this._renderer._simpleLines?Xo:Ko;if(n===Xo)this._renderer._simpleLines=!0;else if(n===Ko)this._renderer._simpleLines=!1;else throw Error(&amp;quot;no such parameter&amp;quot;)},t.buildGeometry=function(n){return this._renderer.buildGeometry(n)},t.freeGeometry=function(n){this._renderer.geometryBufferCache.freeBuffers(n.gid)},t.plane=function(n=50,s=n,a=1,o=1){return this._assert3d(&amp;quot;plane&amp;quot;),this._renderer.plane(n,s,a,o),this},t.box=function(n,s,a,o,u){return this._assert3d(&amp;quot;box&amp;quot;),this._renderer.box(n,s,a,o,u),this},t.sphere=function(n=50,s=24,a=16){return this._assert3d(&amp;quot;sphere&amp;quot;),this._renderer.sphere(n,s,a),this},t.cylinder=function(n=50,s=n,a=24,o=1,u=!0,h=!0){return this._assert3d(&amp;quot;cylinder&amp;quot;),this._renderer.cylinder(n,s,a,o,u,h),this},t.cone=function(n=50,s=n,a=24,o=1,u=!0){return this._assert3d(&amp;quot;cone&amp;quot;),this._renderer.cone(n,s,a,o,u),this},t.ellipsoid=function(n=50,s=n,a=n,o=24,u=16){return this._assert3d(&amp;quot;ellipsoid&amp;quot;),this._renderer.ellipsoid(n,s,a,o,u),this},t.torus=function(n,s,a,o){return this._assert3d(&amp;quot;torus&amp;quot;),this._renderer.torus(n,s,a,o),this},Le.prototype.point=function(n,s,a=0){let o=[];return o.push(new H(n,s,a)),this._drawPoints(o,this.buffers.point),this},Le.prototype.triangle=function(n){let s=n[0],a=n[1],o=n[2],u=n[3],h=n[4],l=n[5],c=&amp;quot;tri&amp;quot;;if(!this.geometryInHash(c)){let f=function(){let m=[];m.push(new H(0,0,0)),m.push(new H(1,0,0)),m.push(new H(0,1,0)),this.edges=[[0,1],[1,2],[2,0]],this.vertices=m,this.faces=[[0,1,2]],this.uvs=[0,0,1,0,1,1]},d=new dt(1,1,f,this);d._edgesToVertices(),d.computeNormals(),d.gid=c,this.geometryBufferCache.ensureCached(d)}let p=this.states.uModelMatrix.copy();try{let f=Math.sign(s*u-o*a+o*l-h*u+h*a-s*l),d=new at([o-s,u-a,0,0,h-s,l-a,0,0,0,0,f,0,s,a,0,1]).mult(this.states.uModelMatrix);this.states.setValue(&amp;quot;uModelMatrix&amp;quot;,d),this._drawGeometry(this.geometryBufferCache.getGeometryByID(c))}finally{this.states.setValue(&amp;quot;uModelMatrix&amp;quot;,p)}return this},Le.prototype.ellipse=function(n){this.arc(n[0],n[1],n[2],n[3],0,wt,Xr,n[4])},Le.prototype.arc=function(...n){let s=n[0],a=n[1],o=n[2],u=n[3],h=n[4],l=n[5],c=n[6],p=n[7]||25,f,d;if(Math.abs(l-h)&amp;gt;=wt?(f=&amp;quot;ellipse&amp;quot;,d=`${f}|${p}|`):(f=&amp;quot;arc&amp;quot;,d=`${f}|${h}|${l}|${c}|${p}|`),!this.geometryInHash(d)){let g=function(){if(h.toFixed(10)!==l.toFixed(10)){(c===gn||typeof c&amp;gt;&amp;quot;u&amp;quot;)&amp;amp;&amp;amp;(this.vertices.push(new H(.5,.5,0)),this.uvs.push([.5,.5]));for(let w=0;w&amp;lt;=p;w++){let y=w/p,S=(l-h)*y+h,_=.5+Math.cos(S)/2,b=.5+Math.sin(S)/2;this.vertices.push(new H(_,b,0)),this.uvs.push([_,b]),w&amp;lt;p-1&amp;amp;&amp;amp;(this.faces.push([0,w+1,w+2]),this.edges.push([w+1,w+2]))}switch(c){case gn:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,1]),this.edges.push([this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,this.vertices.length-1]);break;case Qn:this.edges.push([0,1]),this.edges.push([0,this.vertices.length-1]);break;case Xr:this.edges.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([this.vertices.length-2,this.vertices.length-1])}}},v=new dt(p,1,g,this);v.computeNormals(),p&amp;lt;=50?v._edgesToVertices(v):this.states.strokeColor&amp;amp;&amp;amp;console.log(`Cannot apply a stroke to an ${f} with more than 50 detail`),v.gid=d,this.geometryBufferCache.ensureCached(v)}let m=this.states.uModelMatrix;this.states.setValue(&amp;quot;uModelMatrix&amp;quot;,this.states.uModelMatrix.clone());try{this.states.uModelMatrix.translate([s,a,0]),this.states.uModelMatrix.scale(o,u,1),this._drawGeometry(this.geometryBufferCache.getGeometryByID(d))}finally{this.states.setValue(&amp;quot;uModelMatrix&amp;quot;,m)}return this},Le.prototype.rect=function(n){let s=n[0],a=n[1],o=n[2],u=n[3];if(typeof n[4]&amp;gt;&amp;quot;u&amp;quot;){let h=this._pInst._glAttributes.perPixelLighting,l=n[4]||(h?1:24),c=n[5]||(h?1:16),p=`rect|${l}|${c}`;if(!this.geometryInHash(p)){let d=function(){for(let g=0;g&amp;lt;=this.detailY;g++){let v=g/this.detailY;for(let w=0;w&amp;lt;=this.detailX;w++){let y=w/this.detailX,S=new H(y,v,0);this.vertices.push(S),this.uvs.push(y,v)}}l&amp;gt;0&amp;amp;&amp;amp;c&amp;gt;0&amp;amp;&amp;amp;(this.edges=[[0,l],[l,(l+1)*(c+1)-1],[(l+1)*(c+1)-1,(l+1)*c],[(l+1)*c,0]])},m=new dt(l,c,d,this);m.computeFaces().computeNormals()._edgesToVertices(),m.gid=p,this.geometryBufferCache.ensureCached(m)}let f=this.states.uModelMatrix;this.states.setValue(&amp;quot;uModelMatrix&amp;quot;,this.states.uModelMatrix.copy());try{this.states.uModelMatrix.translate([s,a,0]),this.states.uModelMatrix.scale(o,u,1),this._drawGeometry(this.geometryBufferCache.getGeometryByID(p))}finally{this.states.setValue(&amp;quot;uModelMatrix&amp;quot;,f)}}else{let h=n[4],l=typeof n[5]&amp;gt;&amp;quot;u&amp;quot;?h:n[5],c=typeof n[6]&amp;gt;&amp;quot;u&amp;quot;?l:n[6],p=typeof n[7]&amp;gt;&amp;quot;u&amp;quot;?c:n[7],f=s,d=a,m=o,g=u;if(m+=f,g+=d,f&amp;gt;m){let A=f;f=m,m=A}if(d&amp;gt;g){let A=d;d=g,g=A}let v=Math.min((m-f)/2,(g-d)/2);h&amp;gt;v&amp;amp;&amp;amp;(h=v),l&amp;gt;v&amp;amp;&amp;amp;(l=v),c&amp;gt;v&amp;amp;&amp;amp;(c=v),p&amp;gt;v&amp;amp;&amp;amp;(p=v);let w=f,y=d,S=m,_=g,b=this.states.textureMode;this.states.setValue(&amp;quot;textureMode&amp;quot;,ir);let I=this.bezierOrder();this.bezierOrder(2),this.beginShape();let E=(A,C)=&amp;gt;[A,C,(A-w)/o,(C-y)/u];l!==0?(this.vertex(...E(S-l,y)),this.bezierVertex(...E(S,y)),this.bezierVertex(...E(S,y+l))):this.vertex(...E(S,y)),c!==0?(this.vertex(...E(S,_-c)),this.bezierVertex(...E(S,_)),this.bezierVertex(...E(S-c,_))):this.vertex(...E(S,_)),p!==0?(this.vertex(...E(w+p,_)),this.bezierVertex(...E(w,_)),this.bezierVertex(...E(w,_-p))):this.vertex(...E(w,_)),h!==0?(this.vertex(...E(w,y+h)),this.bezierVertex(...E(w,y)),this.bezierVertex(...E(w+h,y))):this.vertex(...E(w,y)),this.endShape(mn),this.states.setValue(&amp;quot;textureMode&amp;quot;,b),this.bezierOrder(I)}return this},Le.prototype.quad=function(n,s,a,o,u,h,l,c,p,f,d,m,g=2,v=2){let w=`quad|${n}|${s}|${a}|${o}|${u}|${h}|${l}|${c}|${p}|${f}|${d}|${m}|${g}|${v}`;if(!this.geometryInHash(w)){let y=new dt(g,v,function(){let _=1/(this.detailX-1),b=1/(this.detailY-1);for(let I=0;I&amp;lt;this.detailY;I++)for(let E=0;E&amp;lt;this.detailX;E++){let A=E*_,C=I*b,T=(1-C)*n+C*f,D=(1-C)*s+C*d,F=(1-C)*a+C*m,N=(1-C)*o+C*l,B=(1-C)*u+C*c,U=(1-C)*h+C*p,j=(1-A)*T+A*N,W=(1-A)*D+A*B,te=(1-A)*F+A*U;this.vertices.push(new H(j,W,te)),this.uvs.push([A,C])}},this);y.faces=[];for(let _=0;_&amp;lt;v-1;_++)for(let b=0;b&amp;lt;g-1;b++){let I=b+_*g,E=b+1+_*g,A=b+1+(_+1)*g,C=b+(_+1)*g;y.faces.push([I,E,A]),y.faces.push([I,A,C])}y.computeNormals(),y.edges.length=0;let S=[0,2,3,1];for(let _=0;_&amp;lt;S.length;_++){let b=S[_],I=S[(_+1)%S.length];y.edges.push([b,I])}y._edgesToVertices(),y.gid=w,this.geometryBufferCache.ensureCached(y)}return this._drawGeometry(this.geometryBufferCache.getGeometryByID(w)),this},Le.prototype.bezier=function(n,s,a,o,u,h,l,c,p,f,d,m){arguments.length===8&amp;amp;&amp;amp;(d=c,f=l,c=h,l=u,u=o,o=a,a=h=p=m=0),this.bezierOrder(),this.bezierOrder(3),this.beginShape(),this.vertex(n,s,a),this.bezierVertex(o,u,h),this.bezierVertex(l,c,p),this.bezierVertex(f,d,m),this.endShape()},Le.prototype.curve=function(n,s,a,o,u,h,l,c,p,f,d,m){arguments.length===8&amp;amp;&amp;amp;(f=l,d=c,l=u,c=o,o=a,u=o,a=h=p=m=0),this.beginShape(),this.splineVertex(n,s,a),this.splineVertex(o,u,h),this.splineVertex(l,c,p),this.splineVertex(f,d,m),this.endShape()},Le.prototype.line=function(...n){return n.length===6?(this.beginShape(ci),this.vertex(n[0],n[1],n[2]),this.vertex(n[3],n[4],n[5]),this.endShape()):n.length===4&amp;amp;&amp;amp;(this.beginShape(ci),this.vertex(n[0],n[1],0),this.vertex(n[2],n[3],0),this.endShape()),this},Le.prototype.image=function(n,s,a,o,u,h,l,c,p){this._isErasing&amp;amp;&amp;amp;this.blendMode(this._cachedBlendMode),this.push(),this.noLights(),this.states.setValue(&amp;quot;strokeColor&amp;quot;,null),this.texture(n),this.states.setValue(&amp;quot;textureMode&amp;quot;,ir);let f=0;s&amp;lt;=n.width&amp;amp;&amp;amp;(f=s/n.width);let d=1;s+o&amp;lt;=n.width&amp;amp;&amp;amp;(d=(s+o)/n.width);let m=0;a&amp;lt;=n.height&amp;amp;&amp;amp;(m=a/n.height);let g=1;a+u&amp;lt;=n.height&amp;amp;&amp;amp;(g=(a+u)/n.height),this._drawingImage=!0,this.beginShape(),this.vertex(h,l,0,f,m),this.vertex(h+c,l,0,d,m),this.vertex(h+c,l+p,0,d,g),this.vertex(h,l+p,0,f,g),this.endShape(mn),this._drawingImage=!1,this.pop(),this._isErasing&amp;amp;&amp;amp;this.blendMode(pi)};let r=function(n,s,a,o,u,h,l){n=n&amp;lt;=0?1:n,s=s&amp;lt;0?0:s,a=a&amp;lt;=0?n:a,o=o&amp;lt;3?3:o,u=u&amp;lt;1?1:u,h=h===void 0?!0:h,l=l===void 0?s!==0:l;let c=h?-2:0,p=u+(l?2:0),f=Math.atan2(n-s,a),d=Math.sin(f),m=Math.cos(f),g,v,w;for(g=c;g&amp;lt;=p;++g){let S=g/u,_=a*S,b;for(g&amp;lt;0?(_=0,S=0,b=n):g&amp;gt;u?(_=a,S=1,b=s):b=n+(s-n)*S,(g===-2||g===u+2)&amp;amp;&amp;amp;(b=0),_-=a/2,v=0;v&amp;lt;o;++v){let I=v/(o-1),E=2*Math.PI*I,A=Math.sin(E),C=Math.cos(E);this.vertices.push(new H(A*b,_,C*b));let T;g&amp;lt;0?T=new H(0,-1,0):g&amp;gt;u&amp;amp;&amp;amp;s?T=new H(0,1,0):T=new H(A*m,d,C*m),this.vertexNormals.push(T),this.uvs.push(I,S)}}let y=0;if(h){for(w=0;w&amp;lt;o;++w){let S=(w+1)%o;this.faces.push([y+w,y+o+S,y+o+w])}y+=o*2}for(g=0;g&amp;lt;u;++g){for(v=0;v&amp;lt;o;++v){let S=(v+1)%o;this.faces.push([y+v,y+S,y+o+S]),this.faces.push([y+v,y+o+S,y+o+v])}y+=o}if(l)for(y+=o,v=0;v&amp;lt;o;++v)this.faces.push([y+v,y+(v+1)%o,y+o])};Le.prototype.plane=function(n=50,s=n,a=1,o=1){let u=`plane|${a}|${o}`;if(!this.geometryInHash(u)){let h=function(){let c,p,f;for(let d=0;d&amp;lt;=this.detailY;d++){p=d/this.detailY;for(let m=0;m&amp;lt;=this.detailX;m++)c=m/this.detailX,f=new H(c-.5,p-.5,0),this.vertices.push(f),this.uvs.push(c,p)}},l=new dt(a,o,h,this);l.computeFaces().computeNormals(),a&amp;lt;=1&amp;amp;&amp;amp;o&amp;lt;=1?l._makeTriangleEdges()._edgesToVertices():this.states.strokeColor&amp;amp;&amp;amp;console.log(&amp;quot;Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY&amp;quot;),l.gid=u,this.geometryBufferCache.ensureCached(l)}this._drawGeometryScaled(this.geometryBufferCache.getGeometryByID(u),n,s,1)},Le.prototype.box=function(n=50,s=n,a=s,o,u){let h=this.attributes&amp;amp;&amp;amp;this.attributes.perPixelLighting;typeof o&amp;gt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;(o=h?1:4),typeof u&amp;gt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;(u=h?1:4);let l=`box|${o}|${u}`;if(!this.geometryInHash(l)){let c=function(){let f=[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]];this.edges=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]],f.forEach((d,m)=&amp;gt;{let g=m*4;for(let v=0;v&amp;lt;4;v++){let w=d[v],y=new H(((w&amp;amp;1)*2-1)/2,((w&amp;amp;2)-1)/2,((w&amp;amp;4)/2-1)/2);this.vertices.push(y),this.uvs.push(v&amp;amp;1,(v&amp;amp;2)/2)}this.faces.push([g,g+1,g+2]),this.faces.push([g+2,g+1,g+3])})},p=new dt(o,u,c,this);p.computeNormals(),o&amp;lt;=4&amp;amp;&amp;amp;u&amp;lt;=4?p._edgesToVertices():this.states.strokeColor&amp;amp;&amp;amp;console.log(&amp;quot;Cannot draw stroke on box objects with more than 4 detailX or 4 detailY&amp;quot;),p.gid=l,this.geometryBufferCache.ensureCached(p)}this._drawGeometryScaled(this.geometryBufferCache.getGeometryByID(l),n,s,a)},Le.prototype.sphere=function(n=50,s=24,a=16){this.ellipsoid(n,n,n,s,a)},Le.prototype.ellipsoid=function(n=50,s=n,a=n,o=24,u=16){let h=`ellipsoid|${o}|${u}`;if(!this.geometryInHash(h)){let l=function(){for(let p=0;p&amp;lt;=this.detailY;p++){let f=p/this.detailY,d=Math.PI*f-Math.PI/2,m=Math.cos(d),g=Math.sin(d);for(let v=0;v&amp;lt;=this.detailX;v++){let w=v/this.detailX,y=2*Math.PI*w,S=Math.cos(y),_=Math.sin(y),b=new i.Vector(m*_,g,m*S);this.vertices.push(b),this.vertexNormals.push(b),this.uvs.push(w,f)}}},c=new dt(o,u,l,this);c.computeFaces(),o&amp;lt;=24&amp;amp;&amp;amp;u&amp;lt;=24?c._makeTriangleEdges()._edgesToVertices():this.states.strokeColor&amp;amp;&amp;amp;console.log(&amp;quot;Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY&amp;quot;),c.gid=h,this.geometryBufferCache.ensureCached(c)}this._drawGeometryScaled(this.geometryBufferCache.getGeometryByID(h),n,s,a)},Le.prototype.cylinder=function(n=50,s=n,a=24,o=1,u=!0,h=!0){let l=`cylinder|${a}|${o}|${u}|${h}`;if(!this.geometryInHash(l)){let c=new i.Geometry(a,o,function(){r.call(this,1,1,1,a,o,u,h)},this);a&amp;lt;=24&amp;amp;&amp;amp;o&amp;lt;=16?c._makeTriangleEdges()._edgesToVertices():this.states.strokeColor&amp;amp;&amp;amp;console.log(&amp;quot;Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY&amp;quot;),c.gid=l,this.geometryBufferCache.ensureCached(c)}this._drawGeometryScaled(this.geometryBufferCache.getGeometryByID(l),n,s,n)},Le.prototype.cone=function(n=50,s=n,a=24,o=1,u=!0){let h=`cone|${a}|${o}|${u}`;if(!this.geometryInHash(h)){let l=new dt(a,o,function(){r.call(this,1,0,1,a,o,u,!1)},this);a&amp;lt;=24&amp;amp;&amp;amp;o&amp;lt;=16?l._makeTriangleEdges()._edgesToVertices():this.states.strokeColor&amp;amp;&amp;amp;console.log(&amp;quot;Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY&amp;quot;),l.gid=h,this.geometryBufferCache.ensureCached(l)}this._drawGeometryScaled(this.geometryBufferCache.getGeometryByID(h),n,s,n)},Le.prototype.torus=function(n=50,s=10,a=24,o=16){if(n===0||s===0)return;let u=(s/n).toPrecision(4),h=`torus|${u}|${a}|${o}`;if(!this.geometryInHash(h)){let l=function(){for(let p=0;p&amp;lt;=this.detailY;p++){let f=p/this.detailY,d=2*Math.PI*f,m=Math.cos(d),g=Math.sin(d),v=1+u*m;for(let w=0;w&amp;lt;=this.detailX;w++){let y=w/this.detailX,S=2*Math.PI*y,_=Math.cos(S),b=Math.sin(S),I=new H(v*_,v*b,u*g),E=new H(m*_,m*b,g);this.vertices.push(I),this.vertexNormals.push(E),this.uvs.push(y,f)}}},c=new dt(a,o,l,this);c.computeFaces(),a&amp;lt;=24&amp;amp;&amp;amp;o&amp;lt;=16?c._makeTriangleEdges()._edgesToVertices():this.states.strokeColor&amp;amp;&amp;amp;console.log(&amp;quot;Cannot draw strokes on torus object with more than 24 detailX or 16 detailY&amp;quot;),c.gid=h,this.geometryBufferCache.ensureCached(c)}this._drawGeometryScaled(this.geometryBufferCache.getGeometryByID(h),n,n,n)},t.curveDetail=function(n){if(!(this._renderer instanceof Le))throw new Error(&amp;quot;curveDetail() only works in WebGL mode. Did you mean to call createCanvas(width, height, WEBGL)?&amp;quot;);return this._renderer.curveDetail(n)}}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;ul(p5,p5.prototype);function ll(i,t){t.ambientLight=function(r,n,s,a){return this._assert3d(&amp;quot;ambientLight&amp;quot;),this._renderer.ambientLight(...arguments),this},t.specularColor=function(r,n,s){return this._assert3d(&amp;quot;specularColor&amp;quot;),this._renderer.specularColor(...arguments),this},t.directionalLight=function(r,n,s,a,o,u){return this._assert3d(&amp;quot;directionalLight&amp;quot;),this._renderer.directionalLight(...arguments),this},t.pointLight=function(r,n,s,a,o,u){return this._assert3d(&amp;quot;pointLight&amp;quot;),this._renderer.pointLight(...arguments),this},t.imageLight=function(r){this._renderer.imageLight(r)},t.panorama=function(r){this.filter(this._renderer._getSphereMapping(r))},t.lights=function(){return this._assert3d(&amp;quot;lights&amp;quot;),this._renderer.lights(),this},t.lightFalloff=function(r,n,s){return this._assert3d(&amp;quot;lightFalloff&amp;quot;),this._renderer.lightFalloff(r,n,s),this},t.spotLight=function(r,n,s,a,o,u,h,l,c,p,f){return this._assert3d(&amp;quot;spotLight&amp;quot;),this._renderer.spotLight(...arguments),this},t.noLights=function(...r){return this._assert3d(&amp;quot;noLights&amp;quot;),this._renderer.noLights(),this},Le.prototype.ambientLight=function(r,n,s,a){let o=this._pInst.color(...arguments);this.states.setValue(&amp;quot;ambientLightColors&amp;quot;,[...this.states.ambientLightColors]),this.states.ambientLightColors.push(o._array[0],o._array[1],o._array[2]),this.states.setValue(&amp;quot;enableLighting&amp;quot;,!0)},Le.prototype.specularColor=function(r,n,s){let a=this._pInst.color(...arguments);this.states.setValue(&amp;quot;specularColors&amp;quot;,[a._array[0],a._array[1],a._array[2]])},Le.prototype.directionalLight=function(r,n,s,a,o,u){let h;r instanceof Qe?h=r:h=this._pInst.color(r,n,s);let l,c,p,f=arguments[arguments.length-1];typeof f==&amp;quot;number&amp;quot;?(l=arguments[arguments.length-3],c=arguments[arguments.length-2],p=arguments[arguments.length-1]):(l=f.x,c=f.y,p=f.z);let d=Math.sqrt(l*l+c*c+p*p);this.states.setValue(&amp;quot;directionalLightDirections&amp;quot;,[...this.states.directionalLightDirections]),this.states.directionalLightDirections.push(l/d,c/d,p/d),this.states.setValue(&amp;quot;directionalLightDiffuseColors&amp;quot;,[...this.states.directionalLightDiffuseColors]),this.states.directionalLightDiffuseColors.push(h._array[0],h._array[1],h._array[2]),this.states.setValue(&amp;quot;directionalLightSpecularColors&amp;quot;,[...this.states.directionalLightSpecularColors]),Array.prototype.push.apply(this.states.directionalLightSpecularColors,this.states.specularColors),this.states.setValue(&amp;quot;enableLighting&amp;quot;,!0)},Le.prototype.pointLight=function(r,n,s,a,o,u){let h;r instanceof Qe?h=r:h=this._pInst.color(r,n,s);let l,c,p,f=arguments[arguments.length-1];typeof f==&amp;quot;number&amp;quot;?(l=arguments[arguments.length-3],c=arguments[arguments.length-2],p=arguments[arguments.length-1]):(l=f.x,c=f.y,p=f.z),this.states.setValue(&amp;quot;pointLightPositions&amp;quot;,[...this.states.pointLightPositions]),this.states.pointLightPositions.push(l,c,p),this.states.setValue(&amp;quot;pointLightDiffuseColors&amp;quot;,[...this.states.pointLightDiffuseColors]),this.states.pointLightDiffuseColors.push(h._array[0],h._array[1],h._array[2]),this.states.setValue(&amp;quot;pointLightSpecularColors&amp;quot;,[...this.states.pointLightSpecularColors]),Array.prototype.push.apply(this.states.pointLightSpecularColors,this.states.specularColors),this.states.setValue(&amp;quot;enableLighting&amp;quot;,!0)},Le.prototype.imageLight=function(r){this.states.setValue(&amp;quot;activeImageLight&amp;quot;,r),this.states.setValue(&amp;quot;enableLighting&amp;quot;,!0)},Le.prototype.lights=function(){let r=this._pInst.color(&amp;quot;rgb(128,128,128)&amp;quot;);this.ambientLight(r),this.directionalLight(r,0,0,-1)},Le.prototype.lightFalloff=function(r,n,s){r&amp;lt;0&amp;amp;&amp;amp;(r=0,console.warn(&amp;quot;Value of constant argument in lightFalloff() should be never be negative. Set to 0.&amp;quot;)),n&amp;lt;0&amp;amp;&amp;amp;(n=0,console.warn(&amp;quot;Value of linear argument in lightFalloff() should be never be negative. Set to 0.&amp;quot;)),s&amp;lt;0&amp;amp;&amp;amp;(s=0,console.warn(&amp;quot;Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.&amp;quot;)),r===0&amp;amp;&amp;amp;n===0&amp;amp;&amp;amp;s===0&amp;amp;&amp;amp;(r=1,console.warn(&amp;quot;Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.&amp;quot;)),this.states.setValue(&amp;quot;constantAttenuation&amp;quot;,r),this.states.setValue(&amp;quot;linearAttenuation&amp;quot;,n),this.states.setValue(&amp;quot;quadraticAttenuation&amp;quot;,s)},Le.prototype.spotLight=function(r,n,s,a,o,u,h,l,c,p,f){let d,m,g,v=arguments.length;switch(v){case 11:case 10:d=this._pInst.color(r,n,s),m=new H(a,o,u),g=new H(h,l,c);break;case 9:r instanceof Qe?(d=r,m=new H(n,s,a),g=new H(o,u,h),p=l,f=c):a instanceof H?(d=this._pInst.color(r,n,s),m=a,g=new H(o,u,h),p=l,f=c):h instanceof H?(d=this._pInst.color(r,n,s),m=new H(a,o,u),g=h,p=l,f=c):(d=this._pInst.color(r,n,s),m=new H(a,o,u),g=new H(h,l,c));break;case 8:r instanceof Qe?(d=r,m=new H(n,s,a),g=new H(o,u,h),p=l):a instanceof H?(d=this._pInst.color(r,n,s),m=a,g=new H(o,u,h),p=l):(d=this._pInst.color(r,n,s),m=new H(a,o,u),g=h,p=l);break;case 7:r instanceof Qe&amp;amp;&amp;amp;n instanceof H?(d=r,m=n,g=new H(s,a,o),p=u,f=h):r instanceof Qe&amp;amp;&amp;amp;o instanceof H?(d=r,m=new H(n,s,a),g=o,p=u,f=h):a instanceof H&amp;amp;&amp;amp;o instanceof H?(d=this._pInst.color(r,n,s),m=a,g=o,p=u,f=h):r instanceof Qe?(d=r,m=new H(n,s,a),g=new H(o,u,h)):a instanceof H?(d=this._pInst.color(r,n,s),m=a,g=new H(o,u,h)):(d=this._pInst.color(r,n,s),m=new H(a,o,u),g=h);break;case 6:a instanceof H&amp;amp;&amp;amp;o instanceof H?(d=this._pInst.color(r,n,s),m=a,g=o,p=u):r instanceof Qe&amp;amp;&amp;amp;o instanceof H?(d=r,m=new H(n,s,a),g=o,p=u):r instanceof Qe&amp;amp;&amp;amp;n instanceof H&amp;amp;&amp;amp;(d=r,m=n,g=new H(s,a,o),p=u);break;case 5:r instanceof Qe&amp;amp;&amp;amp;n instanceof H&amp;amp;&amp;amp;s instanceof H?(d=r,m=n,g=s,p=a,f=o):a instanceof H&amp;amp;&amp;amp;o instanceof H?(d=this._pInst.color(r,n,s),m=a,g=o):r instanceof Qe&amp;amp;&amp;amp;o instanceof H?(d=r,m=new H(n,s,a),g=o):r instanceof Qe&amp;amp;&amp;amp;n instanceof H&amp;amp;&amp;amp;(d=r,m=n,g=new H(s,a,o));break;case 4:d=r,m=n,g=s,p=a;break;case 3:d=r,m=n,g=s;break;default:console.warn(`Sorry, input for spotlight() is not in prescribed format. Too ${v&amp;lt;3?&amp;quot;few&amp;quot;:&amp;quot;many&amp;quot;} arguments were provided`);return}this.states.setValue(&amp;quot;spotLightDiffuseColors&amp;quot;,[d._array[0],d._array[1],d._array[2]]),this.states.setValue(&amp;quot;spotLightSpecularColors&amp;quot;,[...this.states.specularColors]),this.states.setValue(&amp;quot;spotLightPositions&amp;quot;,[m.x,m.y,m.z]),g.normalize(),this.states.setValue(&amp;quot;spotLightDirections&amp;quot;,[g.x,g.y,g.z]),p===void 0&amp;amp;&amp;amp;(p=Math.PI/3),f!==void 0&amp;amp;&amp;amp;f&amp;lt;1?(f=1,console.warn(&amp;quot;Value of concentration needs to be greater than 1. Setting it to 1&amp;quot;)):f===void 0&amp;amp;&amp;amp;(f=100),p=this._pInst._toRadians(p),this.states.setValue(&amp;quot;spotLightAngle&amp;quot;,[Math.cos(p)]),this.states.setValue(&amp;quot;spotLightConc&amp;quot;,[f]),this.states.setValue(&amp;quot;enableLighting&amp;quot;,!0)},Le.prototype.noLights=function(){this.states.setValue(&amp;quot;activeImageLight&amp;quot;,null),this.states.setValue(&amp;quot;enableLighting&amp;quot;,!1),this.states.setValue(&amp;quot;ambientLightColors&amp;quot;,[]),this.states.setValue(&amp;quot;specularColors&amp;quot;,[1,1,1]),this.states.setValue(&amp;quot;directionalLightDirections&amp;quot;,[]),this.states.setValue(&amp;quot;directionalLightDiffuseColors&amp;quot;,[]),this.states.setValue(&amp;quot;directionalLightSpecularColors&amp;quot;,[]),this.states.setValue(&amp;quot;pointLightPositions&amp;quot;,[]),this.states.setValue(&amp;quot;pointLightDiffuseColors&amp;quot;,[]),this.states.setValue(&amp;quot;pointLightSpecularColors&amp;quot;,[]),this.states.setValue(&amp;quot;spotLightPositions&amp;quot;,[]),this.states.setValue(&amp;quot;spotLightDirections&amp;quot;,[]),this.states.setValue(&amp;quot;spotLightDiffuseColors&amp;quot;,[]),this.states.setValue(&amp;quot;spotLightSpecularColors&amp;quot;,[]),this.states.setValue(&amp;quot;spotLightAngle&amp;quot;,[]),this.states.setValue(&amp;quot;spotLightConc&amp;quot;,[]),this.states.setValue(&amp;quot;constantAttenuation&amp;quot;,1),this.states.setValue(&amp;quot;linearAttenuation&amp;quot;,0),this.states.setValue(&amp;quot;quadraticAttenuation&amp;quot;,0),this.states.setValue(&amp;quot;_useShininess&amp;quot;,1),this.states.setValue(&amp;quot;_useMetalness&amp;quot;,0)}}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;ll(p5,p5.prototype);function Uc(i,t){t.loadShader=async function(r,n,s,a){let o=new Tt;try{return o._vertSrc=(await Kt(r,&amp;quot;text&amp;quot;)).data,o._fragSrc=(await Kt(n,&amp;quot;text&amp;quot;)).data,s?s(o):o}catch(u){if(a)return a(u);throw u}},t.createShader=function(r,n,s){return new Tt(this._renderer,r,n,s)},t.loadFilterShader=async function(r,n,s){try{let o=await(await this.loadStrings(r)).join(`
<a href="#l2200" class="line" id="l2200">   2200</a> &lt;a href=&quot;#l2181&quot; class=&quot;line&quot; id=&quot;l2181&quot;&gt;   2181&lt;/a&gt; `),u=this.createFilterShader(o,!0);return n&amp;amp;&amp;amp;n(u),u}catch(a){s?s(a):console.error(a)}},t.createFilterShader=function(r,n=!1){let o=r.includes(&amp;quot;#version 300 es&amp;quot;)?`#version 300 es
<a href="#l2201" class="line" id="l2201">   2201</a> &lt;a href=&quot;#l2182&quot; class=&quot;line&quot; id=&quot;l2182&quot;&gt;   2182&lt;/a&gt;       uniform mat4 uModelViewMatrix;
<a href="#l2202" class="line" id="l2202">   2202</a> &lt;a href=&quot;#l2183&quot; class=&quot;line&quot; id=&quot;l2183&quot;&gt;   2183&lt;/a&gt;       uniform mat4 uProjectionMatrix;
<a href="#l2203" class="line" id="l2203">   2203</a> &lt;a href=&quot;#l2184&quot; class=&quot;line&quot; id=&quot;l2184&quot;&gt;   2184&lt;/a&gt; 
<a href="#l2204" class="line" id="l2204">   2204</a> &lt;a href=&quot;#l2185&quot; class=&quot;line&quot; id=&quot;l2185&quot;&gt;   2185&lt;/a&gt;       in vec3 aPosition;
<a href="#l2205" class="line" id="l2205">   2205</a> &lt;a href=&quot;#l2186&quot; class=&quot;line&quot; id=&quot;l2186&quot;&gt;   2186&lt;/a&gt;       in vec2 aTexCoord;
<a href="#l2206" class="line" id="l2206">   2206</a> &lt;a href=&quot;#l2187&quot; class=&quot;line&quot; id=&quot;l2187&quot;&gt;   2187&lt;/a&gt;       out vec2 vTexCoord;
<a href="#l2207" class="line" id="l2207">   2207</a> &lt;a href=&quot;#l2188&quot; class=&quot;line&quot; id=&quot;l2188&quot;&gt;   2188&lt;/a&gt; 
<a href="#l2208" class="line" id="l2208">   2208</a> &lt;a href=&quot;#l2189&quot; class=&quot;line&quot; id=&quot;l2189&quot;&gt;   2189&lt;/a&gt;       void main() {
<a href="#l2209" class="line" id="l2209">   2209</a> &lt;a href=&quot;#l2190&quot; class=&quot;line&quot; id=&quot;l2190&quot;&gt;   2190&lt;/a&gt;         // transferring texcoords for the frag shader
<a href="#l2210" class="line" id="l2210">   2210</a> &lt;a href=&quot;#l2191&quot; class=&quot;line&quot; id=&quot;l2191&quot;&gt;   2191&lt;/a&gt;         vTexCoord = aTexCoord;
<a href="#l2211" class="line" id="l2211">   2211</a> &lt;a href=&quot;#l2192&quot; class=&quot;line&quot; id=&quot;l2192&quot;&gt;   2192&lt;/a&gt; 
<a href="#l2212" class="line" id="l2212">   2212</a> &lt;a href=&quot;#l2193&quot; class=&quot;line&quot; id=&quot;l2193&quot;&gt;   2193&lt;/a&gt;         // copy position with a fourth coordinate for projection (1.0 is normal)
<a href="#l2213" class="line" id="l2213">   2213</a> &lt;a href=&quot;#l2194&quot; class=&quot;line&quot; id=&quot;l2194&quot;&gt;   2194&lt;/a&gt;         vec4 positionVec4 = vec4(aPosition, 1.0);
<a href="#l2214" class="line" id="l2214">   2214</a> &lt;a href=&quot;#l2195&quot; class=&quot;line&quot; id=&quot;l2195&quot;&gt;   2195&lt;/a&gt; 
<a href="#l2215" class="line" id="l2215">   2215</a> &lt;a href=&quot;#l2196&quot; class=&quot;line&quot; id=&quot;l2196&quot;&gt;   2196&lt;/a&gt;         // project to 3D space
<a href="#l2216" class="line" id="l2216">   2216</a> &lt;a href=&quot;#l2197&quot; class=&quot;line&quot; id=&quot;l2197&quot;&gt;   2197&lt;/a&gt;         gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
<a href="#l2217" class="line" id="l2217">   2217</a> &lt;a href=&quot;#l2198&quot; class=&quot;line&quot; id=&quot;l2198&quot;&gt;   2198&lt;/a&gt;       }
<a href="#l2218" class="line" id="l2218">   2218</a> &lt;a href=&quot;#l2199&quot; class=&quot;line&quot; id=&quot;l2199&quot;&gt;   2199&lt;/a&gt;     `:`
<a href="#l2219" class="line" id="l2219">   2219</a> &lt;a href=&quot;#l2200&quot; class=&quot;line&quot; id=&quot;l2200&quot;&gt;   2200&lt;/a&gt;       uniform mat4 uModelViewMatrix;
<a href="#l2220" class="line" id="l2220">   2220</a> &lt;a href=&quot;#l2201&quot; class=&quot;line&quot; id=&quot;l2201&quot;&gt;   2201&lt;/a&gt;       uniform mat4 uProjectionMatrix;
<a href="#l2221" class="line" id="l2221">   2221</a> &lt;a href=&quot;#l2202&quot; class=&quot;line&quot; id=&quot;l2202&quot;&gt;   2202&lt;/a&gt; 
<a href="#l2222" class="line" id="l2222">   2222</a> &lt;a href=&quot;#l2203&quot; class=&quot;line&quot; id=&quot;l2203&quot;&gt;   2203&lt;/a&gt;       attribute vec3 aPosition;
<a href="#l2223" class="line" id="l2223">   2223</a> &lt;a href=&quot;#l2204&quot; class=&quot;line&quot; id=&quot;l2204&quot;&gt;   2204&lt;/a&gt;       // texcoords only come from p5 to vertex shader
<a href="#l2224" class="line" id="l2224">   2224</a> &lt;a href=&quot;#l2205&quot; class=&quot;line&quot; id=&quot;l2205&quot;&gt;   2205&lt;/a&gt;       // so pass texcoords on to the fragment shader in a varying variable
<a href="#l2225" class="line" id="l2225">   2225</a> &lt;a href=&quot;#l2206&quot; class=&quot;line&quot; id=&quot;l2206&quot;&gt;   2206&lt;/a&gt;       attribute vec2 aTexCoord;
<a href="#l2226" class="line" id="l2226">   2226</a> &lt;a href=&quot;#l2207&quot; class=&quot;line&quot; id=&quot;l2207&quot;&gt;   2207&lt;/a&gt;       varying vec2 vTexCoord;
<a href="#l2227" class="line" id="l2227">   2227</a> &lt;a href=&quot;#l2208&quot; class=&quot;line&quot; id=&quot;l2208&quot;&gt;   2208&lt;/a&gt; 
<a href="#l2228" class="line" id="l2228">   2228</a> &lt;a href=&quot;#l2209&quot; class=&quot;line&quot; id=&quot;l2209&quot;&gt;   2209&lt;/a&gt;       void main() {
<a href="#l2229" class="line" id="l2229">   2229</a> &lt;a href=&quot;#l2210&quot; class=&quot;line&quot; id=&quot;l2210&quot;&gt;   2210&lt;/a&gt;         // transferring texcoords for the frag shader
<a href="#l2230" class="line" id="l2230">   2230</a> &lt;a href=&quot;#l2211&quot; class=&quot;line&quot; id=&quot;l2211&quot;&gt;   2211&lt;/a&gt;         vTexCoord = aTexCoord;
<a href="#l2231" class="line" id="l2231">   2231</a> &lt;a href=&quot;#l2212&quot; class=&quot;line&quot; id=&quot;l2212&quot;&gt;   2212&lt;/a&gt; 
<a href="#l2232" class="line" id="l2232">   2232</a> &lt;a href=&quot;#l2213&quot; class=&quot;line&quot; id=&quot;l2213&quot;&gt;   2213&lt;/a&gt;         // copy position with a fourth coordinate for projection (1.0 is normal)
<a href="#l2233" class="line" id="l2233">   2233</a> &lt;a href=&quot;#l2214&quot; class=&quot;line&quot; id=&quot;l2214&quot;&gt;   2214&lt;/a&gt;         vec4 positionVec4 = vec4(aPosition, 1.0);
<a href="#l2234" class="line" id="l2234">   2234</a> &lt;a href=&quot;#l2215&quot; class=&quot;line&quot; id=&quot;l2215&quot;&gt;   2215&lt;/a&gt; 
<a href="#l2235" class="line" id="l2235">   2235</a> &lt;a href=&quot;#l2216&quot; class=&quot;line&quot; id=&quot;l2216&quot;&gt;   2216&lt;/a&gt;         // project to 3D space
<a href="#l2236" class="line" id="l2236">   2236</a> &lt;a href=&quot;#l2217&quot; class=&quot;line&quot; id=&quot;l2217&quot;&gt;   2217&lt;/a&gt;         gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
<a href="#l2237" class="line" id="l2237">   2237</a> &lt;a href=&quot;#l2218&quot; class=&quot;line&quot; id=&quot;l2218&quot;&gt;   2218&lt;/a&gt;       }
<a href="#l2238" class="line" id="l2238">   2238</a> &lt;a href=&quot;#l2219&quot; class=&quot;line&quot; id=&quot;l2219&quot;&gt;   2219&lt;/a&gt;     `,u=new Tt(this._renderer,o,r);return n||(this._renderer.GL?u.ensureCompiledOnContext(this._renderer):u.ensureCompiledOnContext(this)),u},t.shader=function(r){return this._assert3d(&amp;quot;shader&amp;quot;),this._renderer.shader(r),this},t.strokeShader=function(r){return this._assert3d(&amp;quot;strokeShader&amp;quot;),this._renderer.strokeShader(r),this},t.imageShader=function(r){return this._assert3d(&amp;quot;imageShader&amp;quot;),this._renderer.imageShader(r),this},t.baseMaterialShader=function(){return this._assert3d(&amp;quot;baseMaterialShader&amp;quot;),this._renderer.baseMaterialShader()},t.baseFilterShader=function(){return(this._renderer.filterRenderer||this._renderer).baseFilterShader()},t.baseNormalShader=function(){return this._assert3d(&amp;quot;baseNormalShader&amp;quot;),this._renderer.baseNormalShader()},t.baseColorShader=function(){return this._assert3d(&amp;quot;baseColorShader&amp;quot;),this._renderer.baseColorShader()},t.baseStrokeShader=function(){return this._assert3d(&amp;quot;baseStrokeShader&amp;quot;),this._renderer.baseStrokeShader()},t.resetShader=function(){return this._renderer.resetShader(),this},t.texture=function(r){return this._assert3d(&amp;quot;texture&amp;quot;),r.gifProperties&amp;amp;&amp;amp;r._animateGif(this),this._renderer.texture(r),this},t.textureMode=function(r){r!==us&amp;amp;&amp;amp;r!==ir?console.warn(`You tried to set ${r} textureMode only supports IMAGE &amp;amp; NORMAL `):this._renderer.states.setValue(&amp;quot;textureMode&amp;quot;,r)},t.textureWrap=function(r,n=r){this._renderer.states.setValue(&amp;quot;textureWrapX&amp;quot;,r),this._renderer.states.setValue(&amp;quot;textureWrapY&amp;quot;,n);for(let s of this._renderer.textures.values())s.setWrapMode(r,n)},t.normalMaterial=function(...r){return this._assert3d(&amp;quot;normalMaterial&amp;quot;),this._renderer.normalMaterial(...r),this},t.ambientMaterial=function(r,n,s){this._assert3d(&amp;quot;ambientMaterial&amp;quot;);let a=t.color.apply(this,arguments);return this._renderer.states.setValue(&amp;quot;_hasSetAmbient&amp;quot;,!0),this._renderer.states.setValue(&amp;quot;curAmbientColor&amp;quot;,a._array),this._renderer.states.setValue(&amp;quot;_useNormalMaterial&amp;quot;,!1),this._renderer.states.setValue(&amp;quot;enableLighting&amp;quot;,!0),this._renderer.states.fillColor||this._renderer.states.setValue(&amp;quot;fillColor&amp;quot;,new Qe([1,1,1])),this},t.emissiveMaterial=function(r,n,s,a){this._assert3d(&amp;quot;emissiveMaterial&amp;quot;);let o=t.color.apply(this,arguments);return this._renderer.states.setValue(&amp;quot;curEmissiveColor&amp;quot;,o._array),this._renderer.states.setValue(&amp;quot;_useEmissiveMaterial&amp;quot;,!0),this._renderer.states.setValue(&amp;quot;_useNormalMaterial&amp;quot;,!1),this._renderer.states.setValue(&amp;quot;enableLighting&amp;quot;,!0),this},t.specularMaterial=function(r,n,s,a){this._assert3d(&amp;quot;specularMaterial&amp;quot;);let o=t.color.apply(this,arguments);return this._renderer.states.setValue(&amp;quot;curSpecularColor&amp;quot;,o._array),this._renderer.states.setValue(&amp;quot;_useSpecularMaterial&amp;quot;,!0),this._renderer.states.setValue(&amp;quot;_useNormalMaterial&amp;quot;,!1),this._renderer.states.setValue(&amp;quot;enableLighting&amp;quot;,!0),this},t.shininess=function(r){return this._assert3d(&amp;quot;shininess&amp;quot;),this._renderer.shininess(r),this},t.metalness=function(r){return this._assert3d(&amp;quot;metalness&amp;quot;),this._renderer.metalness(r),this},Le.prototype._applyColorBlend=function(r,n){let s=this.GL,a=this.states.drawMode===os,o=n||this.states.userFillShader||this.states.userStrokeShader||this.states.userPointShader||a||this.states.curBlendMode!==St||r[r.length-1]&amp;lt;1||this._isErasing;return o!==this._isBlending&amp;amp;&amp;amp;(o||this.states.curBlendMode!==St&amp;amp;&amp;amp;this.states.curBlendMode!==yn?s.enable(s.BLEND):s.disable(s.BLEND),s.depthMask(!0),this._isBlending=o),this._applyBlendMode(),r},Le.prototype._applyBlendMode=function(){if(this._cachedBlendMode===this.states.curBlendMode)return;let r=this.GL;switch(this.states.curBlendMode){case St:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ONE_MINUS_SRC_ALPHA);break;case yn:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ONE);break;case pi:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ZERO,r.ONE_MINUS_SRC_ALPHA);break;case ns:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.DST_COLOR,r.ONE_MINUS_SRC_ALPHA);break;case ss:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ONE_MINUS_SRC_COLOR);break;case is:r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD),r.blendFuncSeparate(r.ONE_MINUS_DST_COLOR,r.ONE_MINUS_SRC_COLOR,r.ONE,r.ONE);break;case as:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ZERO);break;case rs:r.blendEquationSeparate(r.FUNC_REVERSE_SUBTRACT,r.FUNC_ADD),r.blendFuncSeparate(r.ONE,r.ONE,r.ONE,r.ONE_MINUS_SRC_ALPHA);break;case es:this.blendExt?(r.blendEquationSeparate(this.blendExt.MIN||this.blendExt.MIN_EXT,r.FUNC_ADD),r.blendFuncSeparate(r.ONE,r.ONE,r.ONE,r.ONE)):console.warn(&amp;quot;blendMode(DARKEST) does not work in your browser in WEBGL mode.&amp;quot;);break;case ts:this.blendExt?(r.blendEquationSeparate(this.blendExt.MAX||this.blendExt.MAX_EXT,r.FUNC_ADD),r.blendFuncSeparate(r.ONE,r.ONE,r.ONE,r.ONE)):console.warn(&amp;quot;blendMode(LIGHTEST) does not work in your browser in WEBGL mode.&amp;quot;);break;default:console.error(&amp;quot;Oops! Somehow RendererGL set curBlendMode to an unsupported mode.&amp;quot;);break}this._cachedBlendMode=this.states.curBlendMode},Le.prototype.shader=function(r){this.states.setValue(&amp;quot;userFillShader&amp;quot;,r),this.states.setValue(&amp;quot;_useNormalMaterial&amp;quot;,!1),r.ensureCompiledOnContext(this),r.setDefaultUniforms()},Le.prototype.strokeShader=function(r){this.states.setValue(&amp;quot;userStrokeShader&amp;quot;,r),r.ensureCompiledOnContext(this),r.setDefaultUniforms()},Le.prototype.imageShader=function(r){this.states.setValue(&amp;quot;userImageShader&amp;quot;,r),r.ensureCompiledOnContext(this),r.setDefaultUniforms()},Le.prototype.resetShader=function(){this.states.setValue(&amp;quot;userFillShader&amp;quot;,null),this.states.setValue(&amp;quot;userStrokeShader&amp;quot;,null),this.states.setValue(&amp;quot;userImageShader&amp;quot;,null)},Le.prototype.texture=function(r){this.states.setValue(&amp;quot;drawMode&amp;quot;,os),this.states.setValue(&amp;quot;_useNormalMaterial&amp;quot;,!1),this.states.setValue(&amp;quot;_tex&amp;quot;,r),this.states.setValue(&amp;quot;fillColor&amp;quot;,new Qe([1,1,1]))},Le.prototype.normalMaterial=function(...r){this.states.setValue(&amp;quot;drawMode&amp;quot;,Fa),this.states.setValue(&amp;quot;_useSpecularMaterial&amp;quot;,!1),this.states.setValue(&amp;quot;_useEmissiveMaterial&amp;quot;,!1),this.states.setValue(&amp;quot;_useNormalMaterial&amp;quot;,!0),this.states.setValue(&amp;quot;curFillColor&amp;quot;,[1,1,1,1]),this.states.setValue(&amp;quot;fillColor&amp;quot;,new Qe([1,1,1])),this.states.setValue(&amp;quot;strokeColor&amp;quot;,null)},Le.prototype.shininess=function(r){r&amp;lt;1&amp;amp;&amp;amp;(r=1),this.states.setValue(&amp;quot;_useShininess&amp;quot;,r)},Le.prototype.metalness=function(r){let n=1-Math.exp(-r/100);this.states.setValue(&amp;quot;_useMetalness&amp;quot;,n)}}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;loading(p5,p5.prototype);var _i=class{constructor(t,r,n,s,a){let o=n||Yr;return this._pInst=s,this._renderer=new Qu[o](this._pInst,t,r,!1,a),this._initializeInstanceVariables(this),this._renderer._applyDefaults(),this}get deltaTime(){return this._pInst.deltaTime}get canvas(){return this._renderer?.canvas}get drawingContext(){return this._renderer.drawingContext}get width(){return this._renderer?.width}get height(){return this._renderer?.height}get pixels(){return this._renderer?.pixels}pixelDensity(t){let r;return typeof t==&amp;quot;number&amp;quot;?(t!==this._renderer._pixelDensity&amp;amp;&amp;amp;(this._renderer._pixelDensity=t),r=this,this.resizeCanvas(this.width,this.height,!0)):r=this._renderer._pixelDensity,r}resizeCanvas(t,r){this._renderer.resize(t,r)}reset(){this._renderer.resetMatrix(),this._renderer.isP3D&amp;amp;&amp;amp;this._renderer._update()}remove(){this._renderer.remove(),this._renderer=void 0}createFramebuffer(t){return new hr(this._renderer,t)}_assert3d(t){if(!this._renderer.isP3D)throw new Error(`${t}() is only supported in WEBGL mode. If you&amp;#39;d like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information.`)}_initializeInstanceVariables(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._downKeys={}}};function $m(i,t){i.Graphics=_i,ja(i,i.Graphics.prototype),$a(i,i.Graphics.prototype),Ha(i,i.Graphics.prototype),Wa(i,i.Graphics.prototype),Ga(i,i.Graphics.prototype),qa(i,i.Graphics.prototype),al(i,i.Graphics.prototype),sl(i,i.Graphics.prototype),Ya(i,i.Graphics.prototype),Ta(i,i.Graphics.prototype),ul(i,i.Graphics.prototype),ll(i,i.Graphics.prototype),Uc(i,i.Graphics.prototype),Ba(i,i.Graphics.prototype),ro(i,i.Graphics.prototype)}var _r=class{constructor(t,r,n){this._renderer=t;let s=this._renderer.GL;n=n||{},this.src=r,this.glTex=void 0,this.glTarget=s.TEXTURE_2D,this.glFormat=n.format||s.RGBA,this.mipmaps=!1,this.glMinFilter=n.minFilter||s.LINEAR,this.glMagFilter=n.magFilter||s.LINEAR,this.glWrapS=n.wrapS||s.CLAMP_TO_EDGE,this.glWrapT=n.wrapT||s.CLAMP_TO_EDGE,this.glDataType=n.dataType||s.UNSIGNED_BYTE;let a=Hm(t);this.glFormat===s.HALF_FLOAT&amp;amp;&amp;amp;!a.halfFloat&amp;amp;&amp;amp;(console.log(&amp;quot;This device does not support dataType HALF_FLOAT. Falling back to FLOAT.&amp;quot;),this.glDataType=s.FLOAT),this.glFormat===s.HALF_FLOAT&amp;amp;&amp;amp;(this.glMinFilter===s.LINEAR||this.glMagFilter===s.LINEAR)&amp;amp;&amp;amp;!a.halfFloatLinear&amp;amp;&amp;amp;(console.log(&amp;quot;This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST.&amp;quot;),this.glMinFilter===s.LINEAR&amp;amp;&amp;amp;(this.glMinFilter=s.NEAREST),this.glMagFilter===s.LINEAR&amp;amp;&amp;amp;(this.glMagFilter=s.NEAREST)),this.glFormat===s.FLOAT&amp;amp;&amp;amp;!a.float&amp;amp;&amp;amp;(console.log(&amp;quot;This device does not support dataType FLOAT. Falling back to UNSIGNED_BYTE.&amp;quot;),this.glDataType=s.UNSIGNED_BYTE),this.glFormat===s.FLOAT&amp;amp;&amp;amp;(this.glMinFilter===s.LINEAR||this.glMagFilter===s.LINEAR)&amp;amp;&amp;amp;!a.floatLinear&amp;amp;&amp;amp;(console.log(&amp;quot;This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST.&amp;quot;),this.glMinFilter===s.LINEAR&amp;amp;&amp;amp;(this.glMinFilter=s.NEAREST),this.glMagFilter===s.LINEAR&amp;amp;&amp;amp;(this.glMagFilter=s.NEAREST)),this.isSrcMediaElement=!1,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=typeof st&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;r instanceof st&amp;amp;&amp;amp;!(r instanceof _i)&amp;amp;&amp;amp;!(r instanceof ke),this.isSrcP5Image=r instanceof ar,this.isSrcP5Graphics=r instanceof _i,this.isSrcP5Renderer=r instanceof ke,this.isImageData=typeof ImageData&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;r instanceof ImageData,this.isFramebufferTexture=r instanceof Ts;let o=this._getTextureDataFromSource();return this.width=o.width,this.height=o.height,this.init(o),this}remove(){this.glTex&amp;amp;&amp;amp;(this._renderer.GL.deleteTexture(this.glTex),this.glTex=void 0)}_getTextureDataFromSource(){let t;return this.isFramebufferTexture?t=this.src.rawTexture():this.isSrcP5Image?t=this.src.canvas:this.isSrcMediaElement||this.isSrcHTMLElement?(this.src._ensureCanvas&amp;amp;&amp;amp;this.src._ensureCanvas(),t=this.src.elt):this.isSrcP5Graphics||this.isSrcP5Renderer?t=this.src.canvas:this.isImageData&amp;amp;&amp;amp;(t=this.src),t}init(t){let r=this._renderer.GL;if(this.isFramebufferTexture||(this.glTex=r.createTexture()),this.glWrapS=this._renderer.states.textureWrapX,this.glWrapT=this._renderer.states.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,this.glMagFilter),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,this.glMinFilter),!this.isFramebufferTexture)if(this.width===0||this.height===0||this.isSrcMediaElement&amp;amp;&amp;amp;!this.src.loadedmetadata){let n=new Uint8Array([1,1,1,1]);r.texImage2D(this.glTarget,0,r.RGBA,1,1,0,this.glFormat,this.glDataType,n)}else r.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,t)}update(){let t=this.src;if(t.width===0||t.height===0)return!1;if(this.isFramebufferTexture)return this.src.update(),!1;let r=this._getTextureDataFromSource(),n=!1,s=this._renderer.GL;return r.width!==this.width||r.height!==this.height?(n=!0,this.width=r.width||t.width,this.height=r.height||t.height,this.isSrcP5Image?t.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&amp;amp;&amp;amp;t.setModified&amp;amp;&amp;amp;t.setModified(!0)):this.isSrcP5Image?t.isModified()&amp;amp;&amp;amp;(n=!0,t.setModified(!1)):this.isSrcMediaElement?t.isModified()?(n=!0,t.setModified(!1)):t.loadedmetadata&amp;amp;&amp;amp;this._videoPrevUpdateTime!==t.time()&amp;amp;&amp;amp;(this._videoPrevUpdateTime=t.time(),n=!0):this.isImageData?t._dirty&amp;amp;&amp;amp;(t._dirty=!1,n=!0):n=!0,n&amp;amp;&amp;amp;(this.bindTexture(),s.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,r)),n}bindTexture(){return this._renderer.GL.bindTexture(this.glTarget,this.getTexture()),this}unbindTexture(){this._renderer.GL.bindTexture(this.glTarget,null)}getTexture(){return this.isFramebufferTexture?this.src.rawTexture():this.glTex}setInterpolation(t,r){let n=this._renderer.GL;this.glMinFilter=this.glFilter(t),this.glMagFilter=this.glFilter(r),this.bindTexture(),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,this.glMinFilter),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()}glFilter(t){let r=this._renderer.GL;return t===dh?r.NEAREST:r.LINEAR}setWrapMode(t,r){let n=this._renderer.GL,s=c=&amp;gt;(c&amp;amp;c-1)===0,a=this._getTextureDataFromSource(),o,u;a.naturalWidth&amp;amp;&amp;amp;a.naturalHeight?(o=a.naturalWidth,u=a.naturalHeight):(o=this.width,u=this.height);let h=s(o),l=s(u);t===tu?this._renderer.webglVersion===pt||h&amp;amp;&amp;amp;l?this.glWrapS=n.REPEAT:(console.warn(&amp;quot;You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead&amp;quot;),this.glWrapS=n.CLAMP_TO_EDGE):t===iu?this._renderer.webglVersion===pt||h&amp;amp;&amp;amp;l?this.glWrapS=n.MIRRORED_REPEAT:(console.warn(&amp;quot;You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead&amp;quot;),this.glWrapS=n.CLAMP_TO_EDGE):this.glWrapS=n.CLAMP_TO_EDGE,r===tu?this._renderer.webglVersion===pt||h&amp;amp;&amp;amp;l?this.glWrapT=n.REPEAT:(console.warn(&amp;quot;You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead&amp;quot;),this.glWrapT=n.CLAMP_TO_EDGE):r===iu?this._renderer.webglVersion===pt||h&amp;amp;&amp;amp;l?this.glWrapT=n.MIRRORED_REPEAT:(console.warn(&amp;quot;You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead&amp;quot;),this.glWrapT=n.CLAMP_TO_EDGE):this.glWrapT=n.CLAMP_TO_EDGE,this.bindTexture(),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,this.glWrapS),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()}},rl=class extends _r{constructor(t,r,n){super(t,r,n);let s=this._renderer.GL;this.glMinFilter===s.LINEAR&amp;amp;&amp;amp;(this.glMinFilter=s.LINEAR_MIPMAP_LINEAR)}glFilter(t){return this._renderer.GL.LINEAR_MIPMAP_LINEAR}_getTextureDataFromSource(){return this.src}init(t){let r=this._renderer.GL;this.glTex=r.createTexture(),this.bindTexture();for(let n=0;n&amp;lt;t.length;n++)r.texImage2D(this.glTarget,n,this.glFormat,this.glFormat,this.glDataType,t[n]);this.glMinFilter=r.LINEAR_MIPMAP_LINEAR,r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,this.glMagFilter),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,this.glMinFilter),this.unbindTexture()}update(){}};function no(i,t){i.Texture=_r,i.MipmapTexture=rl}function Hm({GL:i,webglVersion:t}){let r=i,n=t===pt?r.getExtension(&amp;quot;EXT_color_buffer_float&amp;quot;)&amp;amp;&amp;amp;r.getExtension(&amp;quot;EXT_float_blend&amp;quot;):r.getExtension(&amp;quot;OES_texture_float&amp;quot;),s=n&amp;amp;&amp;amp;r.getExtension(&amp;quot;OES_texture_float_linear&amp;quot;),a=t===pt?r.getExtension(&amp;quot;EXT_color_buffer_float&amp;quot;):r.getExtension(&amp;quot;OES_texture_half_float&amp;quot;),o=a&amp;amp;&amp;amp;r.getExtension(&amp;quot;OES_texture_half_float_linear&amp;quot;);return{float:n,floatLinear:s,halfFloat:a,halfFloatLinear:o}}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;no(p5,p5.prototype);var Fs=(i,t,r)=&amp;gt;Math.max(Math.min(i,r),t),il=class extends Ln{constructor(t){super(t.renderer),this.fbo=t,this.yScale=-1}_computeCameraDefaultSettings(){super._computeCameraDefaultSettings(),this.defaultAspectRatio=this.fbo.width/this.fbo.height,this.defaultCameraFOV=2*Math.atan(this.fbo.height/2/this.defaultEyeZ)}},Ts=class{constructor(t,r){this.framebuffer=t,this.property=r}get width(){return this.framebuffer.width*this.framebuffer.density}get height(){return this.framebuffer.height*this.framebuffer.density}update(){this.framebuffer._update(this.property)}rawTexture(){return this.framebuffer[this.property]}},hr=class{constructor(t,r={}){this.renderer=t,this.renderer.framebuffers.add(this),this._isClipApplied=!1,this.dirty={colorTexture:!1,depthTexture:!1},this.pixels=[],this.format=r.format||mi,this.channels=r.channels||(this.renderer._pInst._glAttributes.alpha?Ra:et),this.useDepth=r.depth===void 0?!0:r.depth,this.depthFormat=r.depthFormat||zt,this.textureFiltering=r.textureFiltering||eu,r.antialias===void 0?this.antialiasSamples=this.renderer._pInst._glAttributes.antialias?2:0:typeof r.antialias==&amp;quot;number&amp;quot;?this.antialiasSamples=r.antialias:this.antialiasSamples=r.antialias?2:0,this.antialias=this.antialiasSamples&amp;gt;0,this.antialias&amp;amp;&amp;amp;this.renderer.webglVersion!==pt&amp;amp;&amp;amp;(console.warn(&amp;quot;Antialiasing is unsupported in a WebGL 1 context&amp;quot;),this.antialias=!1),this.density=r.density||this.renderer._pixelDensity;let n=this.renderer.GL;if(this.gl=n,r.width&amp;amp;&amp;amp;r.height){let a=this.renderer._adjustDimensions(r.width,r.height);this.width=a.adjustedWidth,this.height=a.adjustedHeight,this._autoSized=!1}else r.width===void 0!=(r.height===void 0)&amp;amp;&amp;amp;console.warn(&amp;quot;Please supply both width and height for a framebuffer to give it a size. Only one was given, so the framebuffer will match the size of its canvas.&amp;quot;),this.width=this.renderer.width,this.height=this.renderer.height,this._autoSized=!0;if(this._checkIfFormatsAvailable(),r.stencil&amp;amp;&amp;amp;!this.useDepth&amp;amp;&amp;amp;console.warn(&amp;quot;A stencil buffer can only be used if also using depth. Since the framebuffer has no depth buffer, the stencil buffer will be ignored.&amp;quot;),this.useStencil=this.useDepth&amp;amp;&amp;amp;(r.stencil===void 0?!0:r.stencil),this.framebuffer=n.createFramebuffer(),!this.framebuffer)throw new Error(&amp;quot;Unable to create a framebuffer&amp;quot;);if(this.antialias&amp;amp;&amp;amp;(this.aaFramebuffer=n.createFramebuffer(),!this.aaFramebuffer))throw new Error(&amp;quot;Unable to create a framebuffer for antialiasing&amp;quot;);this._recreateTextures();let s=this.renderer.states.curCamera;this.defaultCamera=this.createCamera(),this.filterCamera=this.createCamera(),this.renderer.states.setValue(&amp;quot;curCamera&amp;quot;,s),this.draw(()=&amp;gt;this.renderer.clear())}resize(t,r){this._autoSized=!1;let n=this.renderer._adjustDimensions(t,r);t=n.adjustedWidth,r=n.adjustedHeight,this.width=t,this.height=r,this._handleResize()}pixelDensity(t){if(t)this._autoSized=!1,this.density=t,this._handleResize();else return this.density}autoSized(t){if(t===void 0)return this._autoSized;this._autoSized=t,this._handleResize()}_checkIfFormatsAvailable(){let t=this.gl;this.useDepth&amp;amp;&amp;amp;this.renderer.webglVersion===kr&amp;amp;&amp;amp;!t.getExtension(&amp;quot;WEBGL_depth_texture&amp;quot;)&amp;amp;&amp;amp;(console.warn(&amp;quot;Unable to create depth textures in this environment. Falling back to a framebuffer without depth.&amp;quot;),this.useDepth=!1),this.useDepth&amp;amp;&amp;amp;this.renderer.webglVersion===kr&amp;amp;&amp;amp;this.depthFormat===zt&amp;amp;&amp;amp;(console.warn(&amp;quot;FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT.&amp;quot;),this.depthFormat=ls),[mi,zt,bn].includes(this.format)||(console.warn(&amp;quot;Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE.&amp;quot;),this.format=mi),this.useDepth&amp;amp;&amp;amp;![ls,zt].includes(this.depthFormat)&amp;amp;&amp;amp;(console.warn(&amp;quot;Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT.&amp;quot;),this.depthFormat=zt);let r=Hm(this.renderer);!r.float&amp;amp;&amp;amp;this.format===zt&amp;amp;&amp;amp;(console.warn(&amp;quot;This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE.&amp;quot;),this.format=mi),this.useDepth&amp;amp;&amp;amp;!r.float&amp;amp;&amp;amp;this.depthFormat===zt&amp;amp;&amp;amp;(console.warn(&amp;quot;This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT.&amp;quot;),this.depthFormat=ls),!r.halfFloat&amp;amp;&amp;amp;this.format===bn&amp;amp;&amp;amp;(console.warn(&amp;quot;This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE.&amp;quot;),this.format=mi),this.channels===et&amp;amp;&amp;amp;[zt,bn].includes(this.format)&amp;amp;&amp;amp;(console.warn(&amp;quot;FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA.&amp;quot;),this.channels=Ra)}_recreateTextures(){let t=this.gl;this._updateSize();let r=t.getParameter(t.TEXTURE_BINDING_2D),n=t.getParameter(t.FRAMEBUFFER_BINDING),s=t.createTexture();if(!s)throw new Error(&amp;quot;Unable to create color texture&amp;quot;);t.bindTexture(t.TEXTURE_2D,s);let a=this._glColorFormat();if(t.texImage2D(t.TEXTURE_2D,0,a.internalFormat,this.width*this.density,this.height*this.density,0,a.format,a.type,null),this.colorTexture=s,t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,s,0),this.useDepth){let u=t.createTexture();if(!u)throw new Error(&amp;quot;Unable to create depth texture&amp;quot;);let h=this._glDepthFormat();t.bindTexture(t.TEXTURE_2D,u),t.texImage2D(t.TEXTURE_2D,0,h.internalFormat,this.width*this.density,this.height*this.density,0,h.format,h.type,null),t.framebufferTexture2D(t.FRAMEBUFFER,this.useStencil?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,t.TEXTURE_2D,u,0),this.depthTexture=u}if(this.antialias){if(this.colorRenderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.colorRenderbuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,t.getParameter(t.MAX_SAMPLES))),a.internalFormat,this.width*this.density,this.height*this.density),this.useDepth){let u=this._glDepthFormat();this.depthRenderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.depthRenderbuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,t.getParameter(t.MAX_SAMPLES))),u.internalFormat,this.width*this.density,this.height*this.density)}t.bindFramebuffer(t.FRAMEBUFFER,this.aaFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,this.colorRenderbuffer),this.useDepth&amp;amp;&amp;amp;t.framebufferRenderbuffer(t.FRAMEBUFFER,this.useStencil?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,t.RENDERBUFFER,this.depthRenderbuffer)}if(this.useDepth){this.depth=new Ts(this,&amp;quot;depthTexture&amp;quot;);let u=t.NEAREST;this.depthP5Texture=new _r(this.renderer,this.depth,{minFilter:u,magFilter:u}),this.renderer.textures.set(this.depth,this.depthP5Texture)}this.color=new Ts(this,&amp;quot;colorTexture&amp;quot;);let o=this.textureFiltering===eu?t.LINEAR:t.NEAREST;this.colorP5Texture=new _r(this.renderer,this.color,{minFilter:o,magFilter:o}),this.renderer.textures.set(this.color,this.colorP5Texture),t.bindTexture(t.TEXTURE_2D,r),t.bindFramebuffer(t.FRAMEBUFFER,n)}_glColorFormat(){let t,r,n,s=this.gl;return this.format===zt?t=s.FLOAT:this.format===bn?t=this.renderer.webglVersion===pt?s.HALF_FLOAT:s.getExtension(&amp;quot;OES_texture_half_float&amp;quot;).HALF_FLOAT_OES:t=s.UNSIGNED_BYTE,this.channels===Ra?r=s.RGBA:r=s.RGB,this.renderer.webglVersion===pt?n={[s.FLOAT]:{[s.RGBA]:s.RGBA32F},[s.HALF_FLOAT]:{[s.RGBA]:s.RGBA16F},[s.UNSIGNED_BYTE]:{[s.RGBA]:s.RGBA8,[s.RGB]:s.RGB8}}[t][r]:this.format===bn?n=s.RGBA:n=r,{internalFormat:n,format:r,type:t}}_glDepthFormat(){let t,r,n,s=this.gl;return this.useStencil?this.depthFormat===zt?t=s.FLOAT_32_UNSIGNED_INT_24_8_REV:this.renderer.webglVersion===pt?t=s.UNSIGNED_INT_24_8:t=s.getExtension(&amp;quot;WEBGL_depth_texture&amp;quot;).UNSIGNED_INT_24_8_WEBGL:this.depthFormat===zt?t=s.FLOAT:t=s.UNSIGNED_INT,this.useStencil?r=s.DEPTH_STENCIL:r=s.DEPTH_COMPONENT,this.useStencil?this.depthFormat===zt?n=s.DEPTH32F_STENCIL8:this.renderer.webglVersion===pt?n=s.DEPTH24_STENCIL8:n=s.DEPTH_STENCIL:this.renderer.webglVersion===pt?this.depthFormat===zt?n=s.DEPTH_COMPONENT32F:n=s.DEPTH_COMPONENT24:n=s.DEPTH_COMPONENT,{internalFormat:n,format:r,type:t}}_updateSize(){this._autoSized&amp;amp;&amp;amp;(this.width=this.renderer.width,this.height=this.renderer.height,this.density=this.renderer._pixelDensity)}_canvasSizeChanged(){this._autoSized&amp;amp;&amp;amp;this._handleResize()}_handleResize(){let t=this.color,r=this.depth,n=this.colorRenderbuffer,s=this.depthRenderbuffer;this._deleteTexture(t),r&amp;amp;&amp;amp;this._deleteTexture(r);let a=this.gl;n&amp;amp;&amp;amp;a.deleteRenderbuffer(n),s&amp;amp;&amp;amp;a.deleteRenderbuffer(s),this._recreateTextures(),this.defaultCamera._resize()}createCamera(){let t=new il(this);return t._computeCameraDefaultSettings(),t._setDefaultCamera(),t}_deleteTexture(t){this.gl.deleteTexture(t.rawTexture()),this.renderer.textures.delete(t)}remove(){let t=this.gl;this._deleteTexture(this.color),this.depth&amp;amp;&amp;amp;this._deleteTexture(this.depth),t.deleteFramebuffer(this.framebuffer),this.aaFramebuffer&amp;amp;&amp;amp;t.deleteFramebuffer(this.aaFramebuffer),this.depthRenderbuffer&amp;amp;&amp;amp;t.deleteRenderbuffer(this.depthRenderbuffer),this.colorRenderbuffer&amp;amp;&amp;amp;t.deleteRenderbuffer(this.colorRenderbuffer),this.renderer.framebuffers.delete(this)}begin(){this.prevFramebuffer=this.renderer.activeFramebuffer(),this.prevFramebuffer&amp;amp;&amp;amp;this.prevFramebuffer._beforeEnd(),this.renderer.activeFramebuffers.push(this),this._beforeBegin(),this.renderer.push(),this.renderer.states.setValue(&amp;quot;curCamera&amp;quot;,this.defaultCamera),this.renderer.states.setValue(&amp;quot;uPMatrix&amp;quot;,this.renderer.states.uPMatrix.clone()),this.renderer.states.uPMatrix.set(this.defaultCamera.projMatrix),this.renderer.states.setValue(&amp;quot;uViewMatrix&amp;quot;,this.renderer.states.uViewMatrix.clone()),this.renderer.states.uViewMatrix.set(this.defaultCamera.cameraMatrix),this.renderer.resetMatrix(),this.renderer.states.uViewMatrix.set(this.renderer.states.curCamera.cameraMatrix),this.renderer.states.uModelMatrix.reset(),this.renderer._applyStencilTestIfClipping()}_framebufferToBind(){return this.antialias?this.aaFramebuffer:this.framebuffer}_update(t){if(this.dirty[t]&amp;amp;&amp;amp;this.antialias){let r=this.gl;r.bindFramebuffer(r.READ_FRAMEBUFFER,this.aaFramebuffer),r.bindFramebuffer(r.DRAW_FRAMEBUFFER,this.framebuffer);let n={colorTexture:[r.COLOR_BUFFER_BIT,this.colorP5Texture.glMagFilter]};this.useDepth&amp;amp;&amp;amp;(n.depthTexture=[r.DEPTH_BUFFER_BIT,this.depthP5Texture.glMagFilter]);let[s,a]=n[t];r.blitFramebuffer(0,0,this.width*this.density,this.height*this.density,0,0,this.width*this.density,this.height*this.density,s,a),this.dirty[t]=!1;let o=this.renderer.activeFramebuffer();o?r.bindFramebuffer(r.FRAMEBUFFER,o._framebufferToBind()):r.bindFramebuffer(r.FRAMEBUFFER,null)}}_beforeBegin(){let t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this._framebufferToBind()),this.renderer.viewport(this.width*this.density,this.height*this.density)}_beforeEnd(){this.antialias&amp;amp;&amp;amp;(this.dirty={colorTexture:!0,depthTexture:!0})}end(){let t=this.gl;if(this.renderer.pop(),this.renderer.activeFramebuffers.pop()!==this)throw new Error(&amp;quot;It looks like you&amp;#39;ve called end() while another Framebuffer is active.&amp;quot;);this._beforeEnd(),this.prevFramebuffer?this.prevFramebuffer._beforeBegin():(t.bindFramebuffer(t.FRAMEBUFFER,null),this.renderer.viewport(this.renderer._origViewport.width,this.renderer._origViewport.height)),this.renderer._applyStencilTestIfClipping()}draw(t){this.begin(),t(),this.end()}loadPixels(){this._update(&amp;quot;colorTexture&amp;quot;);let t=this.gl,r=this.renderer.activeFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer);let n=this._glColorFormat();this.pixels=Cc(this.pixels,t,this.framebuffer,0,0,this.width*this.density,this.height*this.density,n.format,n.type),r?t.bindFramebuffer(t.FRAMEBUFFER,r._framebufferToBind()):t.bindFramebuffer(t.FRAMEBUFFER,null)}get(t,r,n,s){this._update(&amp;quot;colorTexture&amp;quot;);let a=this._glColorFormat();if(t===void 0&amp;amp;&amp;amp;r===void 0)t=0,r=0,n=this.width,s=this.height;else if(n===void 0&amp;amp;&amp;amp;s===void 0)return(t&amp;lt;0||r&amp;lt;0||t&amp;gt;=this.width||r&amp;gt;=this.height)&amp;amp;&amp;amp;(console.warn(&amp;quot;The x and y values passed to p5.Framebuffer.get are outside of its range and will be clamped.&amp;quot;),t=Fs(t,0,this.width-1),r=Fs(r,0,this.height-1)),jm(this.gl,this.framebuffer,t*this.density,r*this.density,a.format,a.type);t=Fs(t,0,this.width-1),r=Fs(r,0,this.height-1),n=Fs(n,1,this.width-t),s=Fs(s,1,this.height-r);let o=Cc(void 0,this.gl,this.framebuffer,t*this.density,r*this.density,n*this.density,s*this.density,a.format,a.type),u=new Uint8ClampedArray(n*s*this.density*this.density*4);u.fill(255);let h=a.type===this.gl.RGB?3:4;for(let c=0;c&amp;lt;s*this.density;c++)for(let p=0;p&amp;lt;n*this.density;p++)for(let f=0;f&amp;lt;4;f++){let d=(c*n*this.density+p)*4+f;if(f&amp;lt;h){let m=h===4?d:(c*n*this.density+p)*h+f;u[d]=o[m]}}let l=new ar(n*this.density,s*this.density);return l.imageData=l.canvas.getContext(&amp;quot;2d&amp;quot;).createImageData(l.width,l.height),l.imageData.data.set(u),l.pixels=l.imageData.data,l.updatePixels(),this.density!==1&amp;amp;&amp;amp;l.resize(n,s),l}updatePixels(){let t=this.gl;this.colorP5Texture.bindTexture();let r=this._glColorFormat(),n=r.format===t.RGBA?4:3,s=this.width*this.height*this.density*this.density*n,a=r.type===t.UNSIGNED_BYTE?Uint8Array:Float32Array;if(!(this.pixels instanceof a)||this.pixels.length!==s)throw new Error(&amp;quot;The pixels array has not been set correctly. Please call loadPixels() before updatePixels().&amp;quot;);t.texImage2D(t.TEXTURE_2D,0,r.internalFormat,this.width*this.density,this.height*this.density,0,r.format,r.type,this.pixels),this.colorP5Texture.unbindTexture(),this.dirty.colorTexture=!1;let o=this.renderer.activeFramebuffer();this.antialias?(this.begin(),this.renderer.push(),this.renderer.states.setValue(&amp;quot;imageMode&amp;quot;,Ct),this.renderer.setCamera(this.filterCamera),this.renderer.resetMatrix(),this.renderer.states.setValue(&amp;quot;strokeColor&amp;quot;,null),this.renderer.clear(),this.renderer._drawingFilter=!0,this.renderer.image(this,0,0,this.width,this.height,-this.renderer.width/2,-this.renderer.height/2,this.renderer.width,this.renderer.height),this.renderer._drawingFilter=!1,this.renderer.pop(),this.useDepth&amp;amp;&amp;amp;(t.clearDepth(1),t.clear(t.DEPTH_BUFFER_BIT)),this.end()):(t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer),this.useDepth&amp;amp;&amp;amp;(t.clearDepth(1),t.clear(t.DEPTH_BUFFER_BIT)),o?t.bindFramebuffer(t.FRAMEBUFFER,o._framebufferToBind()):t.bindFramebuffer(t.FRAMEBUFFER,null))}};function Gc(i,t){i.FramebufferCamera=il,i.FramebufferTexture=Ts,i.Framebuffer=hr}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;Gc(p5,p5.prototype);var Qu;function zc(i,t){Qu=i.renderers={},t.createCanvas=function(r,n,s,...a){let o=Yr;return Reflect.ownKeys(Qu).includes(s)?o=s:a.unshift(s),this._renderer&amp;amp;&amp;amp;this._renderer.remove(),this._renderer=new Qu[o](this,r,n,!0,...a),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer),this._renderer._applyDefaults(),Object.hasOwn(this,&amp;quot;pixels&amp;quot;)||Object.defineProperty(this,&amp;quot;pixels&amp;quot;,{get(){return this._renderer?.pixels}}),this._renderer},t.resizeCanvas=function(r,n,s){this._renderer&amp;amp;&amp;amp;(this._renderer.resize(r,n),s||this.redraw()),this._addAccsOutput()&amp;amp;&amp;amp;this._updateAccsOutput()},t.noCanvas=function(){this.canvas&amp;amp;&amp;amp;this.canvas.parentNode.removeChild(this.canvas)},t.createGraphics=function(r,n,...s){return s[0]instanceof HTMLCanvasElement&amp;amp;&amp;amp;(s[1]=s[0],s[0]=Yr),new i.Graphics(r,n,s[0],this,s[1])},t.createFramebuffer=function(r){return new hr(this._renderer,r)},t.clearDepth=function(r){this._assert3d(&amp;quot;clearDepth&amp;quot;),this._renderer.clearDepth(r)}}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;zc(p5,p5.prototype);var A3=Se(or());var T3=Se(Bt()),N3=Se(ur());var $3=Se(lr());var hl=class{constructor(t){this.pInst=t,this.canvas=document.createElement(&amp;quot;canvas&amp;quot;),this.canvas.width=t.width,this.canvas.height=t.height;let r=pt;if(this.gl=this.canvas.getContext(&amp;quot;webgl2&amp;quot;),this.gl||(r=kr,this.gl=this.canvas.getContext(&amp;quot;webgl&amp;quot;)),!this.gl){console.error(&amp;quot;WebGL not supported, cannot apply filter.&amp;quot;);return}this._renderer={GL:this.gl,registerEnabled:new Set,_curShader:null,_emptyTexture:null,webglVersion:r,states:{textureWrapX:this.gl.CLAMP_TO_EDGE,textureWrapY:this.gl.CLAMP_TO_EDGE},_arraysEqual:(n,s)=&amp;gt;JSON.stringify(n)===JSON.stringify(s),_getEmptyTexture:()=&amp;gt;{if(!this._emptyTexture){let n=new ar(1,1);n.set(0,0,255),this._emptyTexture=new _r(this._renderer,n)}return this._emptyTexture}},this._baseFilterShader=void 0,this.filterShaderSources={[di]:Ic,[Sa]:Lc,[vn]:Rc,[Da]:Tc,[Ca]:Fc,[Aa]:Nc,[xn]:kc,[Ea]:Mc},this.filterShaders={},this.operation=null,this.filterParameter=1,this.customShader=null,this._shader=null,this.vertexBuffer=this.gl.createBuffer(),this.texcoordBuffer=this.gl.createBuffer(),this.vertices=new Float32Array([-1,-1,1,-1,-1,1,1,1]),this.texcoords=new Float32Array([0,1,1,1,0,0,1,0]),this._bindBufferData(this.vertexBuffer,this.gl.ARRAY_BUFFER,this.vertices),this._bindBufferData(this.texcoordBuffer,this.gl.ARRAY_BUFFER,this.texcoords)}_webGL2CompatibilityPrefix(t,r){let n=&amp;quot;&amp;quot;;return this._renderer.webglVersion===pt&amp;amp;&amp;amp;(n+=`#version 300 es
<a href="#l2239" class="line" id="l2239">   2239</a> &lt;a href=&quot;#l2220&quot; class=&quot;line&quot; id=&quot;l2220&quot;&gt;   2220&lt;/a&gt; #define WEBGL2
<a href="#l2240" class="line" id="l2240">   2240</a> &lt;a href=&quot;#l2221&quot; class=&quot;line&quot; id=&quot;l2221&quot;&gt;   2221&lt;/a&gt; `),t===&amp;quot;vert&amp;quot;?n+=`#define VERTEX_SHADER
<a href="#l2241" class="line" id="l2241">   2241</a> &lt;a href=&quot;#l2222&quot; class=&quot;line&quot; id=&quot;l2222&quot;&gt;   2222&lt;/a&gt; `:t===&amp;quot;frag&amp;quot;&amp;amp;&amp;amp;(n+=`#define FRAGMENT_SHADER
<a href="#l2242" class="line" id="l2242">   2242</a> &lt;a href=&quot;#l2223&quot; class=&quot;line&quot; id=&quot;l2223&quot;&gt;   2223&lt;/a&gt; `),r&amp;amp;&amp;amp;(n+=`precision ${r} float;
<a href="#l2243" class="line" id="l2243">   2243</a> &lt;a href=&quot;#l2224&quot; class=&quot;line&quot; id=&quot;l2224&quot;&gt;   2224&lt;/a&gt; `),n}baseFilterShader(){return this._baseFilterShader||(this._baseFilterShader=new Tt(this._renderer,this._webGL2CompatibilityPrefix(&amp;quot;vert&amp;quot;,&amp;quot;highp&amp;quot;)+ol+Ac,this._webGL2CompatibilityPrefix(&amp;quot;frag&amp;quot;,&amp;quot;highp&amp;quot;)+ol+Dc,{vertex:{},fragment:{&amp;quot;vec4 getColor&amp;quot;:`(FilterInputs inputs, in sampler2D canvasContent) {
<a href="#l2244" class="line" id="l2244">   2244</a> &lt;a href=&quot;#l2225&quot; class=&quot;line&quot; id=&quot;l2225&quot;&gt;   2225&lt;/a&gt;                 return getTexture(canvasContent, inputs.texCoord);
<a href="#l2245" class="line" id="l2245">   2245</a> &lt;a href=&quot;#l2226&quot; class=&quot;line&quot; id=&quot;l2226&quot;&gt;   2226&lt;/a&gt;               }`}})),this._baseFilterShader}setOperation(t,r,n=null){this.operation=t,this.filterParameter=r,t in Ds&amp;amp;&amp;amp;r===void 0&amp;amp;&amp;amp;(this.filterParameter=Ds[t]),this.customShader=n,this._initializeShader()}_initializeShader(){if(this.customShader){this._shader=this.customShader;return}if(!this.operation){console.error(&amp;quot;No operation set for FilterRenderer2D, cannot initialize shader.&amp;quot;);return}if(this.filterShaders[this.operation]){this._shader=this.filterShaders[this.operation];return}let t=this.filterShaderSources[this.operation];if(!t){console.error(&amp;quot;No shader available for this operation:&amp;quot;,this.operation);return}let r=new Tt(this._renderer,Bc,t);this.filterShaders[this.operation]=r,this._shader=r}_bindBufferData(t,r,n){let s=this.gl;s.bindBuffer(r,t),s.bufferData(r,n,s.STATIC_DRAW)}get canvasTexture(){return this._canvasTexture||(this._canvasTexture=new _r(this._renderer,this.pInst.wrappedElt)),this._canvasTexture}_renderPass(){let t=this.gl;this._shader.bindShader();let r=this.pInst.pixelDensity?this.pInst.pixelDensity():1,n=[1/(this.pInst.width*r),1/(this.pInst.height*r)],s=this.canvasTexture;this._shader.setUniform(&amp;quot;tex0&amp;quot;,s),this._shader.setUniform(&amp;quot;texelSize&amp;quot;,n),this._shader.setUniform(&amp;quot;canvasSize&amp;quot;,[this.pInst.width,this.pInst.height]),this._shader.setUniform(&amp;quot;radius&amp;quot;,Math.max(1,this.filterParameter)),this._shader.setUniform(&amp;quot;filterParameter&amp;quot;,this.filterParameter),this._shader.setDefaultUniforms(),this.pInst.states.setValue(&amp;quot;rectMode&amp;quot;,Ct),this.pInst.states.setValue(&amp;quot;imageMode&amp;quot;,Ct),this.pInst.blendMode(St),this.pInst.resetMatrix();let a=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];this._shader.setUniform(&amp;quot;uModelViewMatrix&amp;quot;,a),this._shader.setUniform(&amp;quot;uProjectionMatrix&amp;quot;,a),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),this._shader.enableAttrib(this._shader.attributes.aPosition,2),t.bindBuffer(t.ARRAY_BUFFER,this.texcoordBuffer),this._shader.enableAttrib(this._shader.attributes.aTexCoord,2),this._shader.bindTextures(),this._shader.disableRemainingAttributes(),t.drawArrays(t.TRIANGLE_STRIP,0,4),this._shader.unbindShader()}applyFilter(){if(!this._shader){console.error(&amp;quot;Cannot apply filter: shader not initialized.&amp;quot;);return}this.pInst.push(),this.pInst.resetMatrix(),this.operation===di&amp;amp;&amp;amp;!this.customShader?(this._shader.setUniform(&amp;quot;direction&amp;quot;,[1,0]),this._renderPass(),this.pInst.clear(),this.pInst.drawingContext.drawImage(this.canvas,0,0,this.pInst.width,this.pInst.height),this._shader.setUniform(&amp;quot;direction&amp;quot;,[0,1]),this._renderPass(),this.pInst.clear(),this.pInst.drawingContext.drawImage(this.canvas,0,0,this.pInst.width,this.pInst.height)):(this._renderPass(),this.pInst.clear(),this.pInst.blendMode(St),this.pInst.drawingContext.drawImage(this.canvas,0,0,this.pInst.width,this.pInst.height)),this.pInst.pop()}};var ri=&amp;quot;rgba(0,0,0,0)&amp;quot;,so=class extends ke{constructor(t,r,n,s,a,o={}){super(t,r,n,s),this.canvas=this.elt=a||document.createElement(&amp;quot;canvas&amp;quot;),s?(this._pInst._curElement=this,this._pInst.canvas=this.canvas):this.canvas.style.display=&amp;quot;none&amp;quot;,this.elt.id=&amp;quot;defaultCanvas0&amp;quot;,this.elt.classList.add(&amp;quot;p5Canvas&amp;quot;);for(let u of Object.getOwnPropertyNames(st.prototype))u!==&amp;quot;constructor&amp;quot;&amp;amp;&amp;amp;u[0]!==&amp;quot;_&amp;quot;&amp;amp;&amp;amp;Object.defineProperty(this,u,{get(){return this.wrappedElt[u]}});if(this.elt.width=r*this._pixelDensity,this.elt.height=n*this._pixelDensity,this.elt.style.width=`${r}px`,this.elt.style.height=`${n}px`,this._pInst._userNode)this._pInst._userNode.appendChild(this.elt);else{if(document.getElementsByTagName(&amp;quot;main&amp;quot;).length===0){let u=document.createElement(&amp;quot;main&amp;quot;);document.body.appendChild(u)}document.getElementsByTagName(&amp;quot;main&amp;quot;)[0].appendChild(this.elt)}this.drawingContext=this.canvas.getContext(&amp;quot;2d&amp;quot;,o),o.colorSpace===&amp;quot;display-p3&amp;quot;&amp;amp;&amp;amp;(this.states.colorMode=It),this.scale(this._pixelDensity,this._pixelDensity),this.filterRenderer||(this.filterRenderer=new hl(this)),this.wrappedElt=new st(this.elt,this._pInst),this.clipPath=null}remove(){this.wrappedElt.remove(),this.wrappedElt=null,this.canvas=null,this.elt=null}getFilterGraphicsLayer(){if(!this.filterGraphicsLayer){let t=this._pInst;this.filterGraphicsLayer=new _i(this.width,this.height,kr,t)}return(this.filterGraphicsLayer.width!==this.width||this.filterGraphicsLayer.height!==this.height)&amp;amp;&amp;amp;this.filterGraphicsLayer.resizeCanvas(this.width,this.height),this.filterGraphicsLayer.pixelDensity()!==this._pInst.pixelDensity()&amp;amp;&amp;amp;this.filterGraphicsLayer.pixelDensity(this._pInst.pixelDensity()),this.filterGraphicsLayer}_applyDefaults(){this.states.setValue(&amp;quot;_cachedFillStyle&amp;quot;,void 0),this.states.setValue(&amp;quot;_cachedStrokeStyle&amp;quot;,void 0),this._cachedBlendMode=St,this._setFill(vh),this._setStroke(yh),this.drawingContext.lineCap=Mr,this.drawingContext.font=&amp;quot;normal 12px sans-serif&amp;quot;}resize(t,r){super.resize(t,r);let n={};for(let s in this.drawingContext){let a=this.drawingContext[s];typeof a!=&amp;quot;object&amp;quot;&amp;amp;&amp;amp;typeof a!=&amp;quot;function&amp;quot;&amp;amp;&amp;amp;(n[s]=a)}this.canvas.width=t*this._pixelDensity,this.canvas.height=r*this._pixelDensity,this.canvas.style.width=`${t}px`,this.canvas.style.height=`${r}px`,this.drawingContext.scale(this._pixelDensity,this._pixelDensity);for(let s in n)try{this.drawingContext[s]=n[s]}catch{}}background(...t){if(this.push(),this.resetMatrix(),t[0]instanceof ar)if(t[1]&amp;gt;=0){let r=t[0];this.drawingContext.globalAlpha=t[1]/255,this._pInst.image(r,0,0,this.width,this.height)}else this._pInst.image(t[0],0,0,this.width,this.height);else{let r=this._pInst.color(...t);this._pInst._addAccsOutput()&amp;amp;&amp;amp;this._pInst._accsBackground(r._getRGBA([255,255,255,255]));let n=r.toString();this._setFill(n),this._isErasing&amp;amp;&amp;amp;this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._isErasing&amp;amp;&amp;amp;this._pInst.erase()}this.pop()}clear(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()}fill(...t){super.fill(...t);let r=this.states.fillColor;this._setFill(r.toString()),this._pInst._addAccsOutput()&amp;amp;&amp;amp;this._pInst._accsCanvasColors(&amp;quot;fill&amp;quot;,r._getRGBA([255,255,255,255]))}stroke(...t){super.stroke(...t);let r=this.states.strokeColor;this._setStroke(r.toString()),this._pInst._addAccsOutput()&amp;amp;&amp;amp;this._pInst._accsCanvasColors(&amp;quot;stroke&amp;quot;,r._getRGBA([255,255,255,255]))}erase(t,r){if(!this._isErasing){this.states.setValue(&amp;quot;_cachedFillStyle&amp;quot;,this.drawingContext.fillStyle);let n=this._pInst.color(255,t).toString();this.drawingContext.fillStyle=n,this.states.setValue(&amp;quot;_cachedStrokeStyle&amp;quot;,this.drawingContext.strokeStyle);let s=this._pInst.color(255,r).toString();this.drawingContext.strokeStyle=s;let a=this._cachedBlendMode;this.blendMode(pi),this._cachedBlendMode=a,this._isErasing=!0}}noErase(){this._isErasing&amp;amp;&amp;amp;(this.drawingContext.fillStyle=this.states._cachedFillStyle,this.drawingContext.strokeStyle=this.states._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)}drawShape(t){let r=new Va({strokeWeight:this.states.strokeWeight});t.accept(r),this._clipping?(this.clipPath.addPath(r.path),this.clipPath.closePath()):(this.states.fillColor&amp;amp;&amp;amp;this.drawingContext.fill(r.path),this.states.strokeColor&amp;amp;&amp;amp;this.drawingContext.stroke(r.path))}beginClip(t={}){super.beginClip(t),this.states.setValue(&amp;quot;_cachedFillStyle&amp;quot;,this.drawingContext.fillStyle);let r=this._pInst.color(255,0).toString();this.drawingContext.fillStyle=r,this.states.setValue(&amp;quot;_cachedStrokeStyle&amp;quot;,this.drawingContext.strokeStyle);let n=this._pInst.color(255,0).toString();this.drawingContext.strokeStyle=n;let s=this._cachedBlendMode;this.blendMode(St),this._cachedBlendMode=s,this.clipPath=new Path2D,this._clipInvert&amp;amp;&amp;amp;(this.clipPath.moveTo(-2*this.width,-2*this.height),this.clipPath.lineTo(-2*this.width,2*this.height),this.clipPath.lineTo(2*this.width,2*this.height),this.clipPath.lineTo(2*this.width,-2*this.height),this.clipPath.closePath())}endClip(){this.drawingContext.clip(this.clipPath),this.clipPath=null,super.endClip(),this.drawingContext.fillStyle=this.states._cachedFillStyle,this.drawingContext.strokeStyle=this.states._cachedStrokeStyle,this.blendMode(this._cachedBlendMode)}image(t,r,n,s,a,o,u,h,l){let c;t.gifProperties&amp;amp;&amp;amp;t._animateGif(this._pInst);try{t instanceof xi&amp;amp;&amp;amp;t._ensureCanvas(),this.states.tint&amp;amp;&amp;amp;t.canvas&amp;amp;&amp;amp;(c=this._getTintedImageCanvas(t)),c||(c=t.canvas||t.elt);let p=1;t.width&amp;amp;&amp;amp;t.width&amp;gt;0&amp;amp;&amp;amp;(p=c.width/t.width),this._isErasing&amp;amp;&amp;amp;this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(c,p*r,p*n,p*s,p*a,o,u,h,l),this._isErasing&amp;amp;&amp;amp;this._pInst.erase()}catch(p){if(p.name!==&amp;quot;NS_ERROR_NOT_AVAILABLE&amp;quot;)throw p}}_getTintedImageCanvas(t){if(!t.canvas)return t;t.tintCanvas||(t.tintCanvas=document.createElement(&amp;quot;canvas&amp;quot;)),t.tintCanvas.width!==t.canvas.width&amp;amp;&amp;amp;(t.tintCanvas.width=t.canvas.width),t.tintCanvas.height!==t.canvas.height&amp;amp;&amp;amp;(t.tintCanvas.height=t.canvas.height);let r=t.tintCanvas.getContext(&amp;quot;2d&amp;quot;);return r.save(),r.clearRect(0,0,t.canvas.width,t.canvas.height),this.states.tint[0]&amp;lt;255||this.states.tint[1]&amp;lt;255||this.states.tint[2]&amp;lt;255?(r.drawImage(t.canvas,0,0),r.globalCompositeOperation=&amp;quot;luminosity&amp;quot;,r.drawImage(t.canvas,0,0),r.globalCompositeOperation=&amp;quot;color&amp;quot;,r.drawImage(t.canvas,0,0),r.globalCompositeOperation=&amp;quot;multiply&amp;quot;,r.fillStyle=`rgb(${this.states.tint.slice(0,3).join(&amp;quot;, &amp;quot;)})`,r.fillRect(0,0,t.canvas.width,t.canvas.height),r.globalCompositeOperation=&amp;quot;destination-in&amp;quot;,r.globalAlpha=this.states.tint[3]/255,r.drawImage(t.canvas,0,0)):(r.globalAlpha=this.states.tint[3]/255,r.drawImage(t.canvas,0,0)),r.restore(),t.tintCanvas}blendMode(t){if(t===rs)console.warn(&amp;quot;blendMode(SUBTRACT) only works in WEBGL mode.&amp;quot;);else if(t===St||t===pi||t===es||t===ts||t===fh||t===ns||t===is||t===ss||t===as||t===va||t===xa||t===ba||t===_a||t===wa||t===yn)this._cachedBlendMode=t,this.drawingContext.globalCompositeOperation=t;else throw new Error(`Mode ${t} not recognized.`)}blend(...t){let r=this.drawingContext.globalCompositeOperation,n=t[t.length-1],s=Array.prototype.slice.call(t,0,t.length-1);this.drawingContext.globalCompositeOperation=n,$e.prototype.copy.apply(this,s),this.drawingContext.globalCompositeOperation=r}_getPixel(t,r){let n,s;return n=this.drawingContext.getImageData(t,r,1,1).data,s=0,[n[s+0],n[s+1],n[s+2],n[s+3]]}loadPixels(){let t=this._pixelDensity,r=this.width*t,n=this.height*t,s=this.drawingContext.getImageData(0,0,r,n);this.imageData=s,this.pixels=s.data}set(t,r,n){if(t=Math.floor(t),r=Math.floor(r),n instanceof ar)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pixelDensity,this._pixelDensity),this.drawingContext.clearRect(t,r,n.width,n.height),this.drawingContext.drawImage(n.canvas,t,r),this.drawingContext.restore();else{let s=0,a=0,o=0,u=0,h=4*(r*this._pixelDensity*(this.width*this._pixelDensity)+t*this._pixelDensity);if(this.imageData||this.loadPixels(),typeof n==&amp;quot;number&amp;quot;)h&amp;lt;this.pixels.length&amp;amp;&amp;amp;(s=n,a=n,o=n,u=255);else if(Array.isArray(n)){if(n.length&amp;lt;4)throw new Error(&amp;quot;pixel array must be of the form [R, G, B, A]&amp;quot;);h&amp;lt;this.pixels.length&amp;amp;&amp;amp;(s=n[0],a=n[1],o=n[2],u=n[3])}else n instanceof $e.Color&amp;amp;&amp;amp;h&amp;lt;this.pixels.length&amp;amp;&amp;amp;([s,a,o,u]=n._getRGBA([255,255,255,255]));for(let l=0;l&amp;lt;this._pixelDensity;l++)for(let c=0;c&amp;lt;this._pixelDensity;c++)h=4*((r*this._pixelDensity+c)*this.width*this._pixelDensity+(t*this._pixelDensity+l)),this.pixels[h]=s,this.pixels[h+1]=a,this.pixels[h+2]=o,this.pixels[h+3]=u}}updatePixels(t,r,n,s){let a=this._pixelDensity;t===void 0&amp;amp;&amp;amp;r===void 0&amp;amp;&amp;amp;n===void 0&amp;amp;&amp;amp;s===void 0&amp;amp;&amp;amp;(t=0,r=0,n=this.width,s=this.height),t*=a,r*=a,n*=a,s*=a,this.gifProperties&amp;amp;&amp;amp;(this.gifProperties.frames[this.gifProperties.displayIndex].image=this.imageData),this.drawingContext.putImageData(this.imageData,0,0,t,r,n,s)}arc(t,r,n,s,a,o,u){let h=this.clipPa||this.drawingContext,l=t+n/2,c=r+s/2,p=n/2,f=s/2,d=!(u===Qn||u===Xr||(o-a)%wt===0);return this.states.fillColor&amp;amp;&amp;amp;(this._clipping||h.beginPath(),h.ellipse(l,c,p,f,0,a,o),d&amp;amp;&amp;amp;h.lineTo(l,c),h.closePath(),this._clipping||h.fill()),this.states.strokeColor&amp;amp;&amp;amp;(this._clipping||h.beginPath(),h.ellipse(l,c,p,f,0,a,o),u===gn&amp;amp;&amp;amp;d&amp;amp;&amp;amp;h.lineTo(l,c),(u===gn||u===Qn)&amp;amp;&amp;amp;h.closePath(),this._clipping||h.stroke()),this}ellipse(t){let r=this.clipPath||this.drawingContext,n=!!this.states.fillColor,s=this.states.strokeColor,a=parseFloat(t[0]),o=parseFloat(t[1]),u=parseFloat(t[2]),h=parseFloat(t[3]);if(n&amp;amp;&amp;amp;!s){if(this._getFill()===ri)return this}else if(!n&amp;amp;&amp;amp;s&amp;amp;&amp;amp;this._getStroke()===ri)return this;let l=a+u/2,c=o+h/2,p=u/2,f=h/2;this._clipping||r.beginPath(),r.ellipse(l,c,p,f,0,0,2*Math.PI),r.closePath(),!this._clipping&amp;amp;&amp;amp;n&amp;amp;&amp;amp;r.fill(),!this._clipping&amp;amp;&amp;amp;s&amp;amp;&amp;amp;r.stroke()}line(t,r,n,s){let a=this.clipPath||this.drawingContext;if(this.states.strokeColor){if(this._getStroke()===ri)return this}else return this;return this._clipping||a.beginPath(),a.moveTo(t,r),a.lineTo(n,s),a.stroke(),this}point(t,r){let n=this.clipPath||this.drawingContext;if(this.states.strokeColor){if(this._getStroke()===ri)return this}else return this;let s=this._getStroke(),a=this._getFill();this._clipping||this._setFill(s),this._clipping||n.beginPath(),n.arc(t,r,n.lineWidth/2,0,wt,!1),this._clipping||(n.fill(),this._setFill(a))}quad(t,r,n,s,a,o,u,h){let l=this.clipPath||this.drawingContext,c=!!this.states.fillColor,p=this.states.strokeColor;if(c&amp;amp;&amp;amp;!p){if(this._getFill()===ri)return this}else if(!c&amp;amp;&amp;amp;p&amp;amp;&amp;amp;this._getStroke()===ri)return this;return this._clipping||l.beginPath(),l.moveTo(t,r),l.lineTo(n,s),l.lineTo(a,o),l.lineTo(u,h),l.closePath(),!this._clipping&amp;amp;&amp;amp;c&amp;amp;&amp;amp;l.fill(),!this._clipping&amp;amp;&amp;amp;p&amp;amp;&amp;amp;l.stroke(),this}rect(t){let r=t[0],n=t[1],s=t[2],a=t[3],o=t[4],u=t[5],h=t[6],l=t[7],c=this.clipPath||this.drawingContext,p=!!this.states.fillColor,f=this.states.strokeColor;if(p&amp;amp;&amp;amp;!f){if(this._getFill()===ri)return this}else if(!p&amp;amp;&amp;amp;f&amp;amp;&amp;amp;this._getStroke()===ri)return this;if(this._clipping||c.beginPath(),typeof o&amp;gt;&amp;quot;u&amp;quot;)c.rect(r,n,s,a);else{typeof u&amp;gt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;(u=o),typeof h&amp;gt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;(h=u),typeof l&amp;gt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;(l=h);let d=Math.abs(s),m=Math.abs(a),g=d/2,v=m/2;d&amp;lt;2*o&amp;amp;&amp;amp;(o=g),m&amp;lt;2*o&amp;amp;&amp;amp;(o=v),d&amp;lt;2*u&amp;amp;&amp;amp;(u=g),m&amp;lt;2*u&amp;amp;&amp;amp;(u=v),d&amp;lt;2*h&amp;amp;&amp;amp;(h=g),m&amp;lt;2*h&amp;amp;&amp;amp;(h=v),d&amp;lt;2*l&amp;amp;&amp;amp;(l=g),m&amp;lt;2*l&amp;amp;&amp;amp;(l=v),c.roundRect(r,n,s,a,[o,u,h,l])}return!this._clipping&amp;amp;&amp;amp;this.states.fillColor&amp;amp;&amp;amp;c.fill(),!this._clipping&amp;amp;&amp;amp;this.states.strokeColor&amp;amp;&amp;amp;c.stroke(),this}triangle(t){let r=this.clipPath||this.drawingContext,n=!!this.states.fillColor,s=this.states.strokeColor,a=t[0],o=t[1],u=t[2],h=t[3],l=t[4],c=t[5];if(n&amp;amp;&amp;amp;!s){if(this._getFill()===ri)return this}else if(!n&amp;amp;&amp;amp;s&amp;amp;&amp;amp;this._getStroke()===ri)return this;this._clipping||r.beginPath(),r.moveTo(a,o),r.lineTo(u,h),r.lineTo(l,c),r.closePath(),!this._clipping&amp;amp;&amp;amp;n&amp;amp;&amp;amp;r.fill(),!this._clipping&amp;amp;&amp;amp;s&amp;amp;&amp;amp;r.stroke()}strokeCap(t){return(t===Mr||t===ma||t===da)&amp;amp;&amp;amp;(this.drawingContext.lineCap=t),this}strokeJoin(t){return(t===Mr||t===ga||t===ya)&amp;amp;&amp;amp;(this.drawingContext.lineJoin=t),this}strokeWeight(t){return super.strokeWeight(t),typeof t&amp;gt;&amp;quot;u&amp;quot;||t===0?this.drawingContext.lineWidth=1e-4:this.drawingContext.lineWidth=t,this}_getFill(){return this.states._cachedFillStyle||this.states.setValue(&amp;quot;_cachedFillStyle&amp;quot;,this.drawingContext.fillStyle),this.states._cachedFillStyle}_setFill(t){t!==this.states._cachedFillStyle&amp;amp;&amp;amp;(this.drawingContext.fillStyle=t,this.states.setValue(&amp;quot;_cachedFillStyle&amp;quot;,t))}_getStroke(){return this.states._cachedStrokeStyle||this.states.setValue(&amp;quot;_cachedStrokeStyle&amp;quot;,this.drawingContext.strokeStyle),this.states._cachedStrokeStyle}_setStroke(t){t!==this.states._cachedStrokeStyle&amp;amp;&amp;amp;(this.drawingContext.strokeStyle=t,this.states.setValue(&amp;quot;_cachedStrokeStyle&amp;quot;,t))}applyMatrix(t,r,n,s,a,o){this.drawingContext.transform(t,r,n,s,a,o)}getWorldToScreenMatrix(){let t=new DOMMatrix().scale(1/this._pixelDensity).multiply(this.drawingContext.getTransform());return new at(t.toFloat32Array())}resetMatrix(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pixelDensity,this._pixelDensity),this}rotate(t){this.drawingContext.rotate(t)}scale(t,r){return this.drawingContext.scale(t,r),this}translate(t,r){return t instanceof $e.Vector&amp;amp;&amp;amp;(r=t.y,t=t.x),this.drawingContext.translate(t,r),this}push(){return this.drawingContext.save(),super.push()}pop(t){this.drawingContext.restore(),super.pop(t)}};function Pb(i,t){i.Renderer2D=so,i.renderers[Yr]=so,i.renderers[&amp;quot;p2d-hdr&amp;quot;]=new Proxy(so,{construct(r,[n,s,a,o,u]){return new r(n,s,a,o,u,{colorSpace:&amp;quot;display-p3&amp;quot;})}})}var $e=class i{static VERSION=rh;static instance=null;static lifecycleHooks={presetup:[],postsetup:[],predraw:[],postdraw:[],remove:[]};static _checkForUserDefinedFunctions=()=&amp;gt;{};static _friendlyFileLoadError=()=&amp;gt;{};constructor(t,r){this.hitCriticalError=!1,this._setupDone=!1,this._userNode=r,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._isGlobal=!1,this._loop=!0,this._startListener=null,this._initializeInstanceVariables(),this._events={pointerdown:null,pointerup:null,pointermove:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,wheel:null,resize:null,blur:null},this._millisStart=-1,this._recording=!1,this._lcg_random_state=null,this._gaussian_previous=!1,window.DeviceOrientationEvent&amp;amp;&amp;amp;(this._events.deviceorientation=null),window.DeviceMotionEvent&amp;amp;&amp;amp;!window._isNodeWebkit&amp;amp;&amp;amp;(this._events.devicemotion=null),this._updateWindowSize();let n=o=&amp;gt;{Object.defineProperty(window,o,{configurable:!0,enumerable:!0,get:()=&amp;gt;typeof this[o]==&amp;quot;function&amp;quot;?this[o].bind(this):this[o],set:u=&amp;gt;{Object.defineProperty(window,o,{configurable:!0,enumerable:!0,value:u,writable:!0}),i.disableFriendlyErrors||console.log(`You just changed the value of &amp;quot;${o}&amp;quot;, which was a p5 global value. This could cause problems later if you&amp;#39;re not careful.`)}})};if(t)t(this),i._checkForUserDefinedFunctions(this);else{if(this._isGlobal=!0,window.hitCriticalError)return;i.instance=this;for(let u of Object.getOwnPropertyNames(i.prototype))u[0]!==&amp;quot;_&amp;quot;&amp;amp;&amp;amp;n(u);let o=[&amp;quot;constructor&amp;quot;,&amp;quot;length&amp;quot;];for(let u in this)if(this.hasOwnProperty(u)){if(u[0]===&amp;quot;_&amp;quot;||o.includes(u))continue;n(u)}}for(let o in this._events){let u=this[`_on${o}`];if(u){let h=u.bind(this);window.addEventListener(o,h,{passive:!1}),this._events[o]=h}}let s=()=&amp;gt;{this.focused=!0},a=()=&amp;gt;{this.focused=!1};window.addEventListener(&amp;quot;focus&amp;quot;,s),window.addEventListener(&amp;quot;blur&amp;quot;,a),i.lifecycleHooks.remove.push(function(){window.removeEventListener(&amp;quot;focus&amp;quot;,s),window.removeEventListener(&amp;quot;blur&amp;quot;,a)}),document.readyState===&amp;quot;complete&amp;quot;?this.#e():(this._startListener=this.#e.bind(this),window.addEventListener(&amp;quot;load&amp;quot;,this._startListener,!1))}get pixels(){return this._renderer.pixels}get drawingContext(){return this._renderer.drawingContext}static registerAddon(t){let r={};t(i,i.prototype,r);let n=Object.keys(i.lifecycleHooks);for(let s of n)typeof r[s]==&amp;quot;function&amp;quot;&amp;amp;&amp;amp;i.lifecycleHooks[s].push(r[s])}async#e(){this.hitCriticalError||(this._userNode&amp;amp;&amp;amp;typeof this._userNode==&amp;quot;string&amp;quot;&amp;amp;&amp;amp;(this._userNode=document.getElementById(this._userNode)),await this.#t(),!this.hitCriticalError&amp;amp;&amp;amp;(this._recording||this._draw()))}async#t(){if(await this._runLifecycleHook(&amp;quot;presetup&amp;quot;),this.hitCriticalError)return;this.createCanvas(100,100,Yr),this._millisStart=window.performance.now();let t=this._isGlobal?window:this;if(typeof t.setup==&amp;quot;function&amp;quot;&amp;amp;&amp;amp;await t.setup(),this.hitCriticalError)return;let r=document.getElementsByTagName(&amp;quot;canvas&amp;quot;);if(Object.keys(this._events).some(n=&amp;gt;n.startsWith(&amp;quot;pointer&amp;quot;)))for(let n of r)n.style.touchAction=&amp;quot;none&amp;quot;;for(let n of r)n.dataset.hidden===&amp;quot;true&amp;quot;&amp;amp;&amp;amp;(n.style.visibility=&amp;quot;&amp;quot;,delete n.dataset.hidden);this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),this._setupDone=!0,(this._accessibleOutputs.grid||this._accessibleOutputs.text)&amp;amp;&amp;amp;this._updateAccsOutput(),await this._runLifecycleHook(&amp;quot;postsetup&amp;quot;)}async _draw(t){if(this.hitCriticalError)return;let r=t||window.performance.now(),n=r-this._lastTargetFrameTime,s=1e3/this._targetFrameRate;(!this._loop||n&amp;gt;=s-5)&amp;amp;&amp;amp;(this.deltaTime=r-this._lastRealFrameTime,this._frameRate=1e3/this.deltaTime,await this.redraw(),this._lastTargetFrameTime=Math.max(this._lastTargetFrameTime+s,r),this._lastRealFrameTime=r,typeof this._updateMouseCoords&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;(this._updateMouseCoords(),this.movedX=0,this.movedY=0)),this._loop&amp;amp;&amp;amp;(this._requestAnimId=window.requestAnimationFrame(this._draw.bind(this)))}async remove(){if(this._startListener&amp;amp;&amp;amp;window.removeEventListener(&amp;quot;load&amp;quot;,this._startListener,!1),this._curElement){this._loop=!1,this._requestAnimId&amp;amp;&amp;amp;window.cancelAnimationFrame(this._requestAnimId);for(let t in this._events)window.removeEventListener(t,this._events[t]);for(let t of this._elements){t.elt&amp;amp;&amp;amp;t.elt.parentNode&amp;amp;&amp;amp;t.elt.parentNode.removeChild(t.elt);for(let r in t._events)t.elt.removeEventListener(r,t._events[r])}await this._runLifecycleHook(&amp;quot;remove&amp;quot;)}if(this._isGlobal){for(let t in i.prototype)try{delete window[t]}catch{window[t]=void 0}for(let t in this)if(this.hasOwnProperty(t))try{delete window[t]}catch{window[t]=void 0}i.instance=null}}async _runLifecycleHook(t){for(let r of i.lifecycleHooks[t])await r.call(this)}_initializeInstanceVariables(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._downKeys={},this._downKeyCodes={}}};for(let i in gr)$e.prototype[i]=gr[i];$e.disableFriendlyErrors=!1;$e.registerAddon(Ta);$e.registerAddon(Ch);$e.registerAddon(Ah);$e.registerAddon(zc);$e.registerAddon(tm);$e.registerAddon(Pb);$e.registerAddon($m);function Wm(i){i.registerAddon(ja),i.registerAddon($a),i.registerAddon(Ha),i.registerAddon(Wa),i.registerAddon(Ga)}function jc(i,t){let r=&amp;quot;_Description&amp;quot;,n=&amp;quot;_fallbackDesc&amp;quot;,s=&amp;quot;_fallbackTable&amp;quot;,a=&amp;quot;_fte_&amp;quot;,o=&amp;quot;_Label&amp;quot;,u=&amp;quot;_labelDesc&amp;quot;,h=&amp;quot;_labelTable&amp;quot;,l=&amp;quot;_lte_&amp;quot;;t.describe=function(f,d){if(typeof f!=&amp;quot;string&amp;quot;)return;let m=this.canvas.id;f=c(f),this.dummyDOM||(this.dummyDOM=document.getElementById(m).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==f&amp;amp;&amp;amp;(this.descriptions.fallback.innerHTML=f):this._describeHTML(&amp;quot;fallback&amp;quot;,f),d===this.LABEL&amp;amp;&amp;amp;(this.descriptions.label?this.descriptions.label.innerHTML!==f&amp;amp;&amp;amp;(this.descriptions.label.innerHTML=f):this._describeHTML(&amp;quot;label&amp;quot;,f))},t.describeElement=function(f,d,m){if(typeof d!=&amp;quot;string&amp;quot;||typeof f!=&amp;quot;string&amp;quot;)return;let g=this.canvas.id;d=c(d);let v=p(f);f=f.replace(/[^a-zA-Z0-9]/g,&amp;quot;&amp;quot;);let w=`&amp;lt;th scope=&amp;quot;row&amp;quot;&amp;gt;${v}&amp;lt;/th&amp;gt;&amp;lt;td&amp;gt;${d}&amp;lt;/td&amp;gt;`;this.dummyDOM||(this.dummyDOM=document.getElementById(g).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[f]?this.descriptions.fallbackElements[f].innerHTML!==w&amp;amp;&amp;amp;(this.descriptions.fallbackElements[f].innerHTML=w):this._describeElementHTML(&amp;quot;fallback&amp;quot;,f,w),m===this.LABEL&amp;amp;&amp;amp;(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[f]?this.descriptions.labelElements[f].innerHTML!==w&amp;amp;&amp;amp;(this.descriptions.labelElements[f].innerHTML=w):this._describeElementHTML(&amp;quot;label&amp;quot;,f,w))};function c(f){if(f===&amp;quot;label&amp;quot;||f===&amp;quot;fallback&amp;quot;)throw new Error(&amp;quot;description should not be LABEL or FALLBACK&amp;quot;);return!f.endsWith(&amp;quot;.&amp;quot;)&amp;amp;&amp;amp;!f.endsWith(&amp;quot;;&amp;quot;)&amp;amp;&amp;amp;!f.endsWith(&amp;quot;,&amp;quot;)&amp;amp;&amp;amp;!f.endsWith(&amp;quot;?&amp;quot;)&amp;amp;&amp;amp;!f.endsWith(&amp;quot;!&amp;quot;)&amp;amp;&amp;amp;(f=f+&amp;quot;.&amp;quot;),f}t._describeHTML=function(f,d){let m=this.canvas.id;if(f===&amp;quot;fallback&amp;quot;){if(this.dummyDOM.querySelector(`#${m+r}`))this.dummyDOM.querySelector(&amp;quot;#&amp;quot;+m+s).insertAdjacentHTML(&amp;quot;beforebegin&amp;quot;,`&amp;lt;p id=&amp;quot;${m+n}&amp;quot;&amp;gt;&amp;lt;/p&amp;gt;`);else{let g=`&amp;lt;div id=&amp;quot;${m}${r}&amp;quot; role=&amp;quot;region&amp;quot; aria-label=&amp;quot;Canvas Description&amp;quot;&amp;gt;&amp;lt;p id=&amp;quot;${m}${n}&amp;quot;&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;/div&amp;gt;`;this.dummyDOM.querySelector(`#${m}accessibleOutput`)?this.dummyDOM.querySelector(`#${m}accessibleOutput`).insertAdjacentHTML(&amp;quot;beforebegin&amp;quot;,g):this.dummyDOM.querySelector(`#${m}`).innerHTML=g}this.descriptions.fallback=this.dummyDOM.querySelector(`#${m}${n}`),this.descriptions.fallback.innerHTML=d;return}else if(f===&amp;quot;label&amp;quot;){if(this.dummyDOM.querySelector(`#${m+o}`))this.dummyDOM.querySelector(`#${m+h}`)&amp;amp;&amp;amp;this.dummyDOM.querySelector(`#${m+h}`).insertAdjacentHTML(&amp;quot;beforebegin&amp;quot;,`&amp;lt;p id=&amp;quot;${m}${u}&amp;quot;&amp;gt;&amp;lt;/p&amp;gt;`);else{let g=`&amp;lt;div id=&amp;quot;${m}${o}&amp;quot; class=&amp;quot;p5Label&amp;quot;&amp;gt;&amp;lt;p id=&amp;quot;${m}${u}&amp;quot;&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;/div&amp;gt;`;this.dummyDOM.querySelector(`#${m}accessibleOutputLabel`)?this.dummyDOM.querySelector(`#${m}accessibleOutputLabel`).insertAdjacentHTML(&amp;quot;beforebegin&amp;quot;,g):this.dummyDOM.querySelector(&amp;quot;#&amp;quot;+m).insertAdjacentHTML(&amp;quot;afterend&amp;quot;,g)}this.descriptions.label=this.dummyDOM.querySelector(&amp;quot;#&amp;quot;+m+u),this.descriptions.label.innerHTML=d;return}};function p(f){if(f===&amp;quot;label&amp;quot;||f===&amp;quot;fallback&amp;quot;)throw new Error(&amp;quot;element name should not be LABEL or FALLBACK&amp;quot;);return f.endsWith(&amp;quot;.&amp;quot;)||f.endsWith(&amp;quot;;&amp;quot;)||f.endsWith(&amp;quot;,&amp;quot;)?f=f.replace(/.$/,&amp;quot;:&amp;quot;):f.endsWith(&amp;quot;:&amp;quot;)||(f=f+&amp;quot;:&amp;quot;),f}t._describeElementHTML=function(f,d,m){let g=this.canvas.id;if(f===&amp;quot;fallback&amp;quot;){if(this.dummyDOM.querySelector(`#${g+r}`))this.dummyDOM.querySelector(&amp;quot;#&amp;quot;+g+s)||this.dummyDOM.querySelector(&amp;quot;#&amp;quot;+g+n).insertAdjacentHTML(&amp;quot;afterend&amp;quot;,`&amp;lt;table id=&amp;quot;${g}${s}&amp;quot;&amp;gt;&amp;lt;caption&amp;gt;Canvas elements and their descriptions&amp;lt;/caption&amp;gt;&amp;lt;/table&amp;gt;`);else{let w=`&amp;lt;div id=&amp;quot;${g}${r}&amp;quot; role=&amp;quot;region&amp;quot; aria-label=&amp;quot;Canvas Description&amp;quot;&amp;gt;&amp;lt;table id=&amp;quot;${g}${s}&amp;quot;&amp;gt;&amp;lt;caption&amp;gt;Canvas elements and their descriptions&amp;lt;/caption&amp;gt;&amp;lt;/table&amp;gt;&amp;lt;/div&amp;gt;`;this.dummyDOM.querySelector(`#${g}accessibleOutput`)?this.dummyDOM.querySelector(`#${g}accessibleOutput`).insertAdjacentHTML(&amp;quot;beforebegin&amp;quot;,w):this.dummyDOM.querySelector(&amp;quot;#&amp;quot;+g).innerHTML=w}let v=document.createElement(&amp;quot;tr&amp;quot;);v.id=g+a+d,this.dummyDOM.querySelector(&amp;quot;#&amp;quot;+g+s).appendChild(v),this.descriptions.fallbackElements[d]=this.dummyDOM.querySelector(`#${g}${a}${d}`),this.descriptions.fallbackElements[d].innerHTML=m;return}else if(f===&amp;quot;label&amp;quot;){if(this.dummyDOM.querySelector(`#${g+o}`))this.dummyDOM.querySelector(`#${g+h}`)||this.dummyDOM.querySelector(&amp;quot;#&amp;quot;+g+u).insertAdjacentHTML(&amp;quot;afterend&amp;quot;,`&amp;lt;table id=&amp;quot;${g+h}&amp;quot;&amp;gt;&amp;lt;/table&amp;gt;`);else{let w=`&amp;lt;div id=&amp;quot;${g}${o}&amp;quot; class=&amp;quot;p5Label&amp;quot;&amp;gt;&amp;lt;table id=&amp;quot;${g}${h}&amp;quot;&amp;gt;&amp;lt;/table&amp;gt;&amp;lt;/div&amp;gt;`;this.dummyDOM.querySelector(`#${g}accessibleOutputLabel`)?this.dummyDOM.querySelector(`#${g}accessibleOutputLabel`).insertAdjacentHTML(&amp;quot;beforebegin&amp;quot;,w):this.dummyDOM.querySelector(&amp;quot;#&amp;quot;+g).insertAdjacentHTML(&amp;quot;afterend&amp;quot;,w)}let v=document.createElement(&amp;quot;tr&amp;quot;);v.id=g+l+d,this.dummyDOM.querySelector(&amp;quot;#&amp;quot;+g+h).appendChild(v),this.descriptions.labelElements[d]=this.dummyDOM.querySelector(`#${g}${l}${d}`),this.descriptions.labelElements[d].innerHTML=m}}}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;jc(p5,p5.prototype);function $c(i,t){t._updateGridOutput=function(a){if(!this.dummyDOM.querySelector(`#${a}_summary`))return;let o=this._accessibleOutputs[a],u=s(a,this.ingredients.shapes),h=n(u.numShapes,this.ingredients.colors.background,this.width,this.height),l=r(a,this.ingredients.shapes);h!==o.summary.innerHTML&amp;amp;&amp;amp;(o.summary.innerHTML=h),l!==o.map.innerHTML&amp;amp;&amp;amp;(o.map.innerHTML=l),u.details!==o.shapeDetails.innerHTML&amp;amp;&amp;amp;(o.shapeDetails.innerHTML=u.details),this._accessibleOutputs[a]=o};function r(a,o){let u=0,h=&amp;quot;&amp;quot;,l=Array.from(Array(10),()=&amp;gt;Array(10));for(let c in o)for(let p in o[c]){let f;c!==&amp;quot;line&amp;quot;?f=`&amp;lt;a href=&amp;quot;#${a}shape${u}&amp;quot;&amp;gt;${o[c][p].color} ${c}&amp;lt;/a&amp;gt;`:f=`&amp;lt;a href=&amp;quot;#${a}shape${u}&amp;quot;&amp;gt;${o[c][p].color} ${c} midpoint&amp;lt;/a&amp;gt;`,o[c][p].loc.locY&amp;lt;l.length&amp;amp;&amp;amp;o[c][p].loc.locX&amp;lt;l[o[c][p].loc.locY].length&amp;amp;&amp;amp;(l[o[c][p].loc.locY][o[c][p].loc.locX]?l[o[c][p].loc.locY][o[c][p].loc.locX]=l[o[c][p].loc.locY][o[c][p].loc.locX]+&amp;quot;  &amp;quot;+f:l[o[c][p].loc.locY][o[c][p].loc.locX]=f,u++)}for(let c in l){let p=&amp;quot;&amp;lt;tr&amp;gt;&amp;quot;;for(let f in l[c])p=p+&amp;quot;&amp;lt;td&amp;gt;&amp;quot;,l[c][f]!==void 0&amp;amp;&amp;amp;(p=p+l[c][f]),p=p+&amp;quot;&amp;lt;/td&amp;gt;&amp;quot;;h=h+p+&amp;quot;&amp;lt;/tr&amp;gt;&amp;quot;}return h}function n(a,o,u,h){let l=`${o} canvas, ${u} by ${h} pixels, contains ${a[0]}`;return a[0]===1?l=`${l} shape: ${a[1]}`:l=`${l} shapes: ${a[1]}`,l}function s(a,o){let u=&amp;quot;&amp;quot;,h=&amp;quot;&amp;quot;,l=0;for(let c in o){let p=0;for(let f in o[c]){let d=`&amp;lt;li id=&amp;quot;${a}shape${l}&amp;quot;&amp;gt;${o[c][f].color} ${c},`;c===&amp;quot;line&amp;quot;?d=d+` location = ${o[c][f].pos}, length = ${o[c][f].length} pixels`:(d=d+` location = ${o[c][f].pos}`,c!==&amp;quot;point&amp;quot;&amp;amp;&amp;amp;(d=d+`, area = ${o[c][f].area} %`),d=d+&amp;quot;&amp;lt;/li&amp;gt;&amp;quot;),u=u+d,p++,l++}p&amp;gt;1?h=`${h} ${p} ${c}s`:h=`${h} ${p} ${c}`}return{numShapes:[l,h],details:u}}}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;$c(p5,p5.prototype);function Hc(i,t){t._updateTextOutput=function(a){if(!this.dummyDOM.querySelector(`#${a}_summary`))return;let o=this._accessibleOutputs[a],u=s(a,this.ingredients.shapes),h=r(u.numShapes,this.ingredients.colors.background,this.width,this.height),l=n(a,this.ingredients.shapes);h!==o.summary.innerHTML&amp;amp;&amp;amp;(o.summary.innerHTML=h),u.listShapes!==o.list.innerHTML&amp;amp;&amp;amp;(o.list.innerHTML=u.listShapes),l!==o.shapeDetails.innerHTML&amp;amp;&amp;amp;(o.shapeDetails.innerHTML=l),this._accessibleOutputs[a]=o};function r(a,o,u,h){let l=`Your output is a, ${u} by ${h} pixels, ${o} canvas containing the following`;return a===1?l=`${l} shape:`:l=`${l} ${a} shapes:`,l}function n(a,o){let u=&amp;quot;&amp;quot;,h=0;for(let l in o)for(let c in o[l]){let p=`&amp;lt;tr id=&amp;quot;${a}shape${h}&amp;quot;&amp;gt;&amp;lt;th&amp;gt;${o[l][c].color} ${l}&amp;lt;/th&amp;gt;`;l===&amp;quot;line&amp;quot;?p=p+`&amp;lt;td&amp;gt;location = ${o[l][c].pos}&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;length = ${o[l][c].length} pixels&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;`:(p=p+`&amp;lt;td&amp;gt;location = ${o[l][c].pos}&amp;lt;/td&amp;gt;`,l!==&amp;quot;point&amp;quot;&amp;amp;&amp;amp;(p=p+`&amp;lt;td&amp;gt; area = ${o[l][c].area}%&amp;lt;/td&amp;gt;`),p=p+&amp;quot;&amp;lt;/tr&amp;gt;&amp;quot;),u=u+p,h++}return u}function s(a,o){let u=&amp;quot;&amp;quot;,h=0;for(let l in o)for(let c in o[l]){let p=`&amp;lt;li&amp;gt;&amp;lt;a href=&amp;quot;#${a}shape${h}&amp;quot;&amp;gt;${o[l][c].color} ${l}&amp;lt;/a&amp;gt;`;l===&amp;quot;line&amp;quot;?p=p+`, ${o[l][c].pos}, ${o[l][c].length} pixels long.&amp;lt;/li&amp;gt;`:(p=p+`, at ${o[l][c].pos}`,l!==&amp;quot;point&amp;quot;&amp;amp;&amp;amp;(p=p+`, covering ${o[l][c].area}% of the canvas`),p=p+&amp;quot;.&amp;lt;/li&amp;gt;&amp;quot;),u=u+p,h++}return{numShapes:h,listShapes:u}}}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;Hc(p5,p5.prototype);function Wc(i,t){t.textOutput=function(s){this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput(&amp;quot;textOutput&amp;quot;,&amp;quot;Fallback&amp;quot;),s===this.LABEL&amp;amp;&amp;amp;(this._accessibleOutputs.textLabel=!0,this._createOutput(&amp;quot;textOutput&amp;quot;,&amp;quot;Label&amp;quot;)))},t.gridOutput=function(s){this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput(&amp;quot;gridOutput&amp;quot;,&amp;quot;Fallback&amp;quot;),s===this.LABEL&amp;amp;&amp;amp;(this._accessibleOutputs.gridLabel=!0,this._createOutput(&amp;quot;gridOutput&amp;quot;,&amp;quot;Label&amp;quot;)))},t._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},t._createOutput=function(s,a){let o=this.canvas.id;this.ingredients||(this.ingredients={shapes:{},colors:{background:&amp;quot;white&amp;quot;,fill:&amp;quot;white&amp;quot;,stroke:&amp;quot;black&amp;quot;},pShapes:&amp;quot;&amp;quot;,pBackground:&amp;quot;&amp;quot;}),this.dummyDOM||(this.dummyDOM=document.getElementById(o).parentNode);let u,h,l,c=&amp;quot;&amp;quot;;a===&amp;quot;Fallback&amp;quot;?(u=o+s,h=o+&amp;quot;accessibleOutput&amp;quot;,this.dummyDOM.querySelector(`#${h}`)||(this.dummyDOM.querySelector(`#${o}_Description`)?this.dummyDOM.querySelector(`#${o}_Description`).insertAdjacentHTML(&amp;quot;afterend&amp;quot;,`&amp;lt;div id=&amp;quot;${h}&amp;quot; role=&amp;quot;region&amp;quot; aria-label=&amp;quot;Canvas Outputs&amp;quot;&amp;gt;&amp;lt;/div&amp;gt;`):this.dummyDOM.querySelector(`#${o}`).innerHTML=`&amp;lt;div id=&amp;quot;${h}&amp;quot; role=&amp;quot;region&amp;quot; aria-label=&amp;quot;Canvas Outputs&amp;quot;&amp;gt;&amp;lt;/div&amp;gt;`)):a===&amp;quot;Label&amp;quot;&amp;amp;&amp;amp;(c=a,u=o+s+a,h=o+&amp;quot;accessibleOutput&amp;quot;+a,this.dummyDOM.querySelector(`#${h}`)||(this.dummyDOM.querySelector(`#${o}_Label`)?this.dummyDOM.querySelector(`#${o}_Label`).insertAdjacentHTML(&amp;quot;afterend&amp;quot;,`&amp;lt;div id=&amp;quot;${h}&amp;quot;&amp;gt;&amp;lt;/div&amp;gt;`):this.dummyDOM.querySelector(`#${o}`).insertAdjacentHTML(&amp;quot;afterend&amp;quot;,`&amp;lt;div id=&amp;quot;${h}&amp;quot;&amp;gt;&amp;lt;/div&amp;gt;`))),this._accessibleOutputs[u]={},s===&amp;quot;textOutput&amp;quot;?(c=`#${o}gridOutput${c}`,l=`&amp;lt;div id=&amp;quot;${u}&amp;quot;&amp;gt;Text Output&amp;lt;div id=&amp;quot;${u}Summary&amp;quot; aria-label=&amp;quot;text output summary&amp;quot;&amp;gt;&amp;lt;p id=&amp;quot;${u}_summary&amp;quot;&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;ul id=&amp;quot;${u}_list&amp;quot;&amp;gt;&amp;lt;/ul&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;table id=&amp;quot;${u}_shapeDetails&amp;quot; summary=&amp;quot;text output shape details&amp;quot;&amp;gt;&amp;lt;/table&amp;gt;&amp;lt;/div&amp;gt;`,this.dummyDOM.querySelector(c)?this.dummyDOM.querySelector(c).insertAdjacentHTML(&amp;quot;beforebegin&amp;quot;,l):this.dummyDOM.querySelector(`#${h}`).innerHTML=l,this._accessibleOutputs[u].list=this.dummyDOM.querySelector(`#${u}_list`)):s===&amp;quot;gridOutput&amp;quot;&amp;amp;&amp;amp;(c=`#${o}textOutput${c}`,l=`&amp;lt;div id=&amp;quot;${u}&amp;quot;&amp;gt;Grid Output&amp;lt;p id=&amp;quot;${u}_summary&amp;quot; aria-label=&amp;quot;grid output summary&amp;quot;&amp;gt;&amp;lt;table id=&amp;quot;${u}_map&amp;quot; summary=&amp;quot;grid output content&amp;quot;&amp;gt;&amp;lt;/table&amp;gt;&amp;lt;ul id=&amp;quot;${u}_shapeDetails&amp;quot; aria-label=&amp;quot;grid output shape details&amp;quot;&amp;gt;&amp;lt;/ul&amp;gt;&amp;lt;/div&amp;gt;`,this.dummyDOM.querySelector(c)?this.dummyDOM.querySelector(c).insertAdjacentHTML(&amp;quot;afterend&amp;quot;,l):this.dummyDOM.querySelector(`#${h}`).innerHTML=l,this._accessibleOutputs[u].map=this.dummyDOM.querySelector(`#${u}_map`)),this._accessibleOutputs[u].shapeDetails=this.dummyDOM.querySelector(`#${u}_shapeDetails`),this._accessibleOutputs[u].summary=this.dummyDOM.querySelector(`#${u}_summary`)},t._updateAccsOutput=function(){let s=this.canvas.id;(JSON.stringify(this.ingredients.shapes)!==this.ingredients.pShapes||this.ingredients.colors.background!==this.ingredients.pBackground)&amp;amp;&amp;amp;(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&amp;amp;&amp;amp;this._updateTextOutput(s+&amp;quot;textOutput&amp;quot;),this._accessibleOutputs.grid&amp;amp;&amp;amp;this._updateGridOutput(s+&amp;quot;gridOutput&amp;quot;),this._accessibleOutputs.textLabel&amp;amp;&amp;amp;this._updateTextOutput(s+&amp;quot;textOutputLabel&amp;quot;),this._accessibleOutputs.gridLabel&amp;amp;&amp;amp;this._updateGridOutput(s+&amp;quot;gridOutputLabel&amp;quot;))},t._accsBackground=function(s){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.pBackground=this.ingredients.colors.background,this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==s&amp;amp;&amp;amp;(this.ingredients.colors.backgroundRGBA=s,this.ingredients.colors.background=this._rgbColorName(s))},t._accsCanvasColors=function(s,a){s===&amp;quot;fill&amp;quot;?this.ingredients.colors.fillRGBA!==a&amp;amp;&amp;amp;(this.ingredients.colors.fillRGBA=a,this.ingredients.colors.fill=this._rgbColorName(a)):s===&amp;quot;stroke&amp;quot;&amp;amp;&amp;amp;this.ingredients.colors.strokeRGBA!==a&amp;amp;&amp;amp;(this.ingredients.colors.strokeRGBA=a,this.ingredients.colors.stroke=this._rgbColorName(a))},t._accsOutput=function(s,a){s===&amp;quot;ellipse&amp;quot;&amp;amp;&amp;amp;a[2]===a[3]?s=&amp;quot;circle&amp;quot;:s===&amp;quot;rectangle&amp;quot;&amp;amp;&amp;amp;a[2]===a[3]&amp;amp;&amp;amp;(s=&amp;quot;square&amp;quot;);let o={},u=!0,h=r(s,a);if(s===&amp;quot;line&amp;quot;){o.color=this.ingredients.colors.stroke,o.length=Math.round(Math.hypot(a[2]-a[0],a[3]-a[1]));let l=this._getPos(a[0],[1]),c=this._getPos(a[2],[3]);o.loc=n(h,this.width,this.height),l===c?o.pos=`at ${l}`:o.pos=`from ${l} to ${c}`}else s===&amp;quot;point&amp;quot;?o.color=this.ingredients.colors.stroke:(o.color=this.ingredients.colors.fill,o.area=this._getArea(s,a)),o.pos=this._getPos(...h),o.loc=n(h,this.width,this.height);if(!this.ingredients.shapes[s])this.ingredients.shapes[s]=[o];else if(this.ingredients.shapes[s]!==[o]){for(let l in this.ingredients.shapes[s])JSON.stringify(this.ingredients.shapes[s][l])===JSON.stringify(o)&amp;amp;&amp;amp;(u=!1);u===!0&amp;amp;&amp;amp;this.ingredients.shapes[s].push(o)}};function r(s,a){let o,u;return s===&amp;quot;rectangle&amp;quot;||s===&amp;quot;ellipse&amp;quot;||s===&amp;quot;arc&amp;quot;||s===&amp;quot;circle&amp;quot;||s===&amp;quot;square&amp;quot;?(o=Math.round(a[0]+a[2]/2),u=Math.round(a[1]+a[3]/2)):s===&amp;quot;triangle&amp;quot;?(o=(a[0]+a[2]+a[4])/3,u=(a[1]+a[3]+a[5])/3):s===&amp;quot;quadrilateral&amp;quot;?(o=(a[0]+a[2]+a[4]+a[6])/4,u=(a[1]+a[3]+a[5]+a[7])/4):s===&amp;quot;line&amp;quot;?(o=(a[0]+a[2])/2,u=(a[1]+a[3])/2):(o=a[0],u=a[1]),[o,u]}t._getPos=function(s,a){let{x:o,y:u}=this.worldToScreen(new i.Vector(s,a)),h=this.width,l=this.height;return o&amp;lt;.4*h?u&amp;lt;.4*l?&amp;quot;top left&amp;quot;:u&amp;gt;.6*l?&amp;quot;bottom left&amp;quot;:&amp;quot;mid left&amp;quot;:o&amp;gt;.6*h?u&amp;lt;.4*l?&amp;quot;top right&amp;quot;:u&amp;gt;.6*l?&amp;quot;bottom right&amp;quot;:&amp;quot;mid right&amp;quot;:u&amp;lt;.4*l?&amp;quot;top middle&amp;quot;:u&amp;gt;.6*l?&amp;quot;bottom middle&amp;quot;:&amp;quot;middle&amp;quot;};function n(s,a,o){let l=Math.floor(s[0]/a*10),c=Math.floor(s[1]/o*10);return l===10&amp;amp;&amp;amp;(l=l-1),c===10&amp;amp;&amp;amp;(c=c-1),{locX:l,locY:c}}t._getArea=function(s,a){let o=0;if(s===&amp;quot;arc&amp;quot;){let g=((a[5]-a[4])%(Math.PI*2)+Math.PI*2)%(Math.PI*2);if(o=g*a[2]*a[3]/8,a[6]===&amp;quot;open&amp;quot;||a[6]===&amp;quot;chord&amp;quot;){let v=a[0],w=a[1],y=a[0]+a[2]/2*Math.cos(a[4]).toFixed(2),S=a[1]+a[3]/2*Math.sin(a[4]).toFixed(2),_=a[0]+a[2]/2*Math.cos(a[5]).toFixed(2),b=a[1]+a[3]/2*Math.sin(a[5]).toFixed(2),I=Math.abs(v*(S-b)+y*(b-w)+_*(w-S))/2;g&amp;gt;Math.PI?o=o+I:o=o-I}}else s===&amp;quot;ellipse&amp;quot;||s===&amp;quot;circle&amp;quot;?o=3.14*a[2]/2*a[3]/2:s===&amp;quot;line&amp;quot;||s===&amp;quot;point&amp;quot;?o=0:s===&amp;quot;quadrilateral&amp;quot;?o=Math.abs((a[6]+a[0])*(a[7]-a[1])+(a[0]+a[2])*(a[1]-a[3])+(a[2]+a[4])*(a[3]-a[5])+(a[4]+a[6])*(a[5]-a[7]))/2:s===&amp;quot;rectangle&amp;quot;||s===&amp;quot;square&amp;quot;?o=a[2]*a[3]:s===&amp;quot;triangle&amp;quot;&amp;amp;&amp;amp;(o=Math.abs(a[0]*(a[3]-a[5])+a[2]*(a[5]-a[1])+a[4]*(a[1]-a[3]))/2);let u=this.width*this._renderer._pixelDensity,h=this.height*this._renderer._pixelDensity,l=[new DOMPoint(0,0),new DOMPoint(u,0),new DOMPoint(u,h),new DOMPoint(0,h)],p=(this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform()).inverse(),f=l.map(g=&amp;gt;g.matrixTransform(p)),d=Math.abs((f[3].x+f[0].x)*(f[3].y-f[0].y)+(f[0].x+f[1].x)*(f[0].y-f[1].y)+(f[1].x+f[2].x)*(f[1].y-f[2].y)+(f[2].x+f[3].x)*(f[2].y-f[3].y))/2;return Math.round(o*100/d)}}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;Wc(p5,p5.prototype);var zN=Se(Bt());var XN=Se(or());var JN=Se(ur());var lI=Se(lr());$e.ColorConversion={_hsbaToHSLA(i){let t=i[0],r=i[1],n=i[2],s=(2-r)*n/2;return s!==0&amp;amp;&amp;amp;(s===1?r=0:s&amp;lt;.5?r=r/(2-r):r=r*n/(2-s*2)),[t,r,s,i[3]]},_hsbaToRGBA(i){let t=i[0]*6,r=i[1],n=i[2],s=[];if(r===0)s=[n,n,n,i[3]];else{let a=Math.floor(t),o=n*(1-r),u=n*(1-r*(t-a)),h=n*(1-r*(1+a-t)),l,c,p;a===1?(l=u,c=n,p=o):a===2?(l=o,c=n,p=h):a===3?(l=o,c=u,p=n):a===4?(l=h,c=o,p=n):a===5?(l=n,c=o,p=u):(l=n,c=h,p=o),s=[l,c,p,i[3]]}return s},_hslaToHSBA(i){let t=i[0],r=i[1],n=i[2],s;return n&amp;lt;.5?s=(1+r)*n:s=n+r-n*r,r=2*(s-n)/s,[t,r,s,i[3]]},_hslaToRGBA(i){let t=i[0]*6,r=i[1],n=i[2],s=[];if(r===0)s=[n,n,n,i[3]];else{let a;n&amp;lt;.5?a=(1+r)*n:a=n+r-n*r;let o=2*n-a,u=(h,l,c)=&amp;gt;(h&amp;lt;0?h+=6:h&amp;gt;=6&amp;amp;&amp;amp;(h-=6),h&amp;lt;1?l+(c-l)*h:h&amp;lt;3?c:h&amp;lt;4?l+(c-l)*(4-h):l);s=[u(t+2,o,a),u(t,o,a),u(t-2,o,a),i[3]]}return s},_rgbaToHSBA(i){let t=i[0],r=i[1],n=i[2],s=Math.max(t,r,n),a=s-Math.min(t,r,n),o,u;return a===0?(o=0,u=0):(u=a/s,t===s?o=(r-n)/a:r===s?o=2+(n-t)/a:n===s&amp;amp;&amp;amp;(o=4+(t-r)/a),o&amp;lt;0?o+=6:o&amp;gt;=6&amp;amp;&amp;amp;(o-=6)),[o/6,u,s,i[3]]},_rgbaToHSLA(i){let t=i[0],r=i[1],n=i[2],s=Math.max(t,r,n),a=Math.min(t,r,n),o=s+a,u=s-a,h,l;return u===0?(h=0,l=0):(o&amp;lt;1?l=u/o:l=u/(2-o),t===s?h=(r-n)/u:r===s?h=2+(n-t)/u:n===s&amp;amp;&amp;amp;(h=4+(t-r)/u),h&amp;lt;0?h+=6:h&amp;gt;=6&amp;amp;&amp;amp;(h-=6)),[h/6,l,o/2,i[3]]}};var qm=$e.ColorConversion;var MI=Se(Bt());var GI=Se(or());var jI=Se(ur());var ek=Se(lr());function qc(i,t){let r,n=[{h:0,s:0,b:.8275,name:&amp;quot;gray&amp;quot;},{h:0,s:0,b:.8627,name:&amp;quot;gray&amp;quot;},{h:0,s:0,b:.7529,name:&amp;quot;gray&amp;quot;},{h:.0167,s:.1176,b:1,name:&amp;quot;light pink&amp;quot;}],s=[{h:0,s:0,b:0,name:&amp;quot;black&amp;quot;},{h:0,s:0,b:.5,name:&amp;quot;gray&amp;quot;},{h:0,s:0,b:1,name:&amp;quot;white&amp;quot;},{h:0,s:.5,b:.5,name:&amp;quot;dark maroon&amp;quot;},{h:0,s:.5,b:1,name:&amp;quot;salmon pink&amp;quot;},{h:0,s:1,b:0,name:&amp;quot;black&amp;quot;},{h:0,s:1,b:.5,name:&amp;quot;dark red&amp;quot;},{h:0,s:1,b:1,name:&amp;quot;red&amp;quot;},{h:5,s:0,b:1,name:&amp;quot;very light peach&amp;quot;},{h:5,s:.5,b:.5,name:&amp;quot;brown&amp;quot;},{h:5,s:.5,b:1,name:&amp;quot;peach&amp;quot;},{h:5,s:1,b:.5,name:&amp;quot;brick red&amp;quot;},{h:5,s:1,b:1,name:&amp;quot;crimson&amp;quot;},{h:10,s:0,b:1,name:&amp;quot;light peach&amp;quot;},{h:10,s:.5,b:.5,name:&amp;quot;brown&amp;quot;},{h:10,s:.5,b:1,name:&amp;quot;light orange&amp;quot;},{h:10,s:1,b:.5,name:&amp;quot;brown&amp;quot;},{h:10,s:1,b:1,name:&amp;quot;orange&amp;quot;},{h:15,s:0,b:1,name:&amp;quot;very light yellow&amp;quot;},{h:15,s:.5,b:.5,name:&amp;quot;olive green&amp;quot;},{h:15,s:.5,b:1,name:&amp;quot;light yellow&amp;quot;},{h:15,s:1,b:0,name:&amp;quot;dark olive green&amp;quot;},{h:15,s:1,b:.5,name:&amp;quot;olive green&amp;quot;},{h:15,s:1,b:1,name:&amp;quot;yellow&amp;quot;},{h:20,s:0,b:1,name:&amp;quot;very light yellow&amp;quot;},{h:20,s:.5,b:.5,name:&amp;quot;olive green&amp;quot;},{h:20,s:.5,b:1,name:&amp;quot;light yellow green&amp;quot;},{h:20,s:1,b:0,name:&amp;quot;dark olive green&amp;quot;},{h:20,s:1,b:.5,name:&amp;quot;dark yellow green&amp;quot;},{h:20,s:1,b:1,name:&amp;quot;yellow green&amp;quot;},{h:25,s:.5,b:.5,name:&amp;quot;dark yellow green&amp;quot;},{h:25,s:.5,b:1,name:&amp;quot;light green&amp;quot;},{h:25,s:1,b:.5,name:&amp;quot;dark green&amp;quot;},{h:25,s:1,b:1,name:&amp;quot;green&amp;quot;},{h:30,s:.5,b:1,name:&amp;quot;light green&amp;quot;},{h:30,s:1,b:.5,name:&amp;quot;dark green&amp;quot;},{h:30,s:1,b:1,name:&amp;quot;green&amp;quot;},{h:35,s:0,b:.5,name:&amp;quot;light green&amp;quot;},{h:35,s:0,b:1,name:&amp;quot;very light green&amp;quot;},{h:35,s:.5,b:.5,name:&amp;quot;dark green&amp;quot;},{h:35,s:.5,b:1,name:&amp;quot;light green&amp;quot;},{h:35,s:1,b:0,name:&amp;quot;very dark green&amp;quot;},{h:35,s:1,b:.5,name:&amp;quot;dark green&amp;quot;},{h:35,s:1,b:1,name:&amp;quot;green&amp;quot;},{h:40,s:0,b:1,name:&amp;quot;very light green&amp;quot;},{h:40,s:.5,b:.5,name:&amp;quot;dark green&amp;quot;},{h:40,s:.5,b:1,name:&amp;quot;light green&amp;quot;},{h:40,s:1,b:.5,name:&amp;quot;dark green&amp;quot;},{h:40,s:1,b:1,name:&amp;quot;green&amp;quot;},{h:45,s:.5,b:1,name:&amp;quot;light turquoise&amp;quot;},{h:45,s:1,b:.5,name:&amp;quot;dark turquoise&amp;quot;},{h:45,s:1,b:1,name:&amp;quot;turquoise&amp;quot;},{h:50,s:0,b:1,name:&amp;quot;light sky blue&amp;quot;},{h:50,s:.5,b:.5,name:&amp;quot;dark cyan&amp;quot;},{h:50,s:.5,b:1,name:&amp;quot;light cyan&amp;quot;},{h:50,s:1,b:.5,name:&amp;quot;dark cyan&amp;quot;},{h:50,s:1,b:1,name:&amp;quot;cyan&amp;quot;},{h:55,s:0,b:1,name:&amp;quot;light sky blue&amp;quot;},{h:55,s:.5,b:1,name:&amp;quot;light sky blue&amp;quot;},{h:55,s:1,b:.5,name:&amp;quot;dark blue&amp;quot;},{h:55,s:1,b:1,name:&amp;quot;sky blue&amp;quot;},{h:60,s:0,b:.5,name:&amp;quot;gray&amp;quot;},{h:60,s:0,b:1,name:&amp;quot;very light blue&amp;quot;},{h:60,s:.5,b:.5,name:&amp;quot;blue&amp;quot;},{h:60,s:.5,b:1,name:&amp;quot;light blue&amp;quot;},{h:60,s:1,b:.5,name:&amp;quot;navy blue&amp;quot;},{h:60,s:1,b:1,name:&amp;quot;blue&amp;quot;},{h:65,s:0,b:1,name:&amp;quot;lavender&amp;quot;},{h:65,s:.5,b:.5,name:&amp;quot;navy blue&amp;quot;},{h:65,s:.5,b:1,name:&amp;quot;light purple&amp;quot;},{h:65,s:1,b:.5,name:&amp;quot;dark navy blue&amp;quot;},{h:65,s:1,b:1,name:&amp;quot;blue&amp;quot;},{h:70,s:0,b:1,name:&amp;quot;lavender&amp;quot;},{h:70,s:.5,b:.5,name:&amp;quot;navy blue&amp;quot;},{h:70,s:.5,b:1,name:&amp;quot;lavender blue&amp;quot;},{h:70,s:1,b:.5,name:&amp;quot;dark navy blue&amp;quot;},{h:70,s:1,b:1,name:&amp;quot;blue&amp;quot;},{h:75,s:.5,b:1,name:&amp;quot;lavender&amp;quot;},{h:75,s:1,b:.5,name:&amp;quot;dark purple&amp;quot;},{h:75,s:1,b:1,name:&amp;quot;purple&amp;quot;},{h:80,s:.5,b:1,name:&amp;quot;pinkish purple&amp;quot;},{h:80,s:1,b:.5,name:&amp;quot;dark purple&amp;quot;},{h:80,s:1,b:1,name:&amp;quot;purple&amp;quot;},{h:85,s:0,b:1,name:&amp;quot;light pink&amp;quot;},{h:85,s:.5,b:.5,name:&amp;quot;purple&amp;quot;},{h:85,s:.5,b:1,name:&amp;quot;light fuchsia&amp;quot;},{h:85,s:1,b:.5,name:&amp;quot;dark fuchsia&amp;quot;},{h:85,s:1,b:1,name:&amp;quot;fuchsia&amp;quot;},{h:90,s:.5,b:.5,name:&amp;quot;dark fuchsia&amp;quot;},{h:90,s:.5,b:1,name:&amp;quot;hot pink&amp;quot;},{h:90,s:1,b:.5,name:&amp;quot;dark fuchsia&amp;quot;},{h:90,s:1,b:1,name:&amp;quot;fuchsia&amp;quot;},{h:95,s:0,b:1,name:&amp;quot;pink&amp;quot;},{h:95,s:.5,b:1,name:&amp;quot;light pink&amp;quot;},{h:95,s:1,b:.5,name:&amp;quot;dark magenta&amp;quot;},{h:95,s:1,b:1,name:&amp;quot;magenta&amp;quot;}];function a(o){let u;if(o[0]!==0){o[0]=Math.round(o[0]*100);let h=o[0].toString().split(&amp;quot;&amp;quot;),l=h.length-1;h[l]=parseInt(h[l]),h[l]&amp;lt;2.5?h[l]=0:h[l]&amp;gt;=2.5&amp;amp;&amp;amp;h[l]&amp;lt;7.5&amp;amp;&amp;amp;(h[l]=5),h.length===2?(h[0]=parseInt(h[0]),h[l]&amp;gt;=7.5&amp;amp;&amp;amp;(h[l]=0,h[0]=h[0]+1),o[0]=h[0]*10+h[1]):h[l]&amp;gt;=7.5?o[0]=10:o[0]=h[l]}o[2]=o[2]/255;for(let h=o.length-1;h&amp;gt;=1;h--)o[h]&amp;lt;=.25?o[h]=0:o[h]&amp;gt;.25&amp;amp;&amp;amp;o[h]&amp;lt;.75?o[h]=.5:o[h]=1;if(o[0]===0&amp;amp;&amp;amp;o[1]===0&amp;amp;&amp;amp;o[2]===1){for(let h=2;h&amp;gt;=0;h--)r[h]=Math.round(r[h]*1e4)/1e4;for(let h=0;h&amp;lt;n.length;h++)if(n[h].h===r[0]&amp;amp;&amp;amp;n[h].s===r[1]&amp;amp;&amp;amp;n[h].b===r[2]){u=n[h].name;break}else u=&amp;quot;white&amp;quot;}else for(let h=0;h&amp;lt;s.length;h++)if(s[h].h===o[0]&amp;amp;&amp;amp;s[h].s===o[1]&amp;amp;&amp;amp;s[h].b===o[2]){u=s[h].name;break}return u}t._rgbColorName=function(o){let u=qm._rgbaToHSBA(o);return r=u,a([u[0],u[1],u[2]])}}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;qc(p5,p5.prototype);var Tk=Se(Bt());var Pk=Se(or());var Vk=Se(ur());var Xk=Se(lr());function Zm(i){i.registerAddon(jc),i.registerAddon($c),i.registerAddon(Hc),i.registerAddon(Wc),i.registerAddon(qc)}function Ym(i){i.registerAddon(Ba),i.registerAddon(jh),i.registerAddon(qa)}function $t(i){&amp;quot;@babel/helpers - typeof&amp;quot;;return $t=typeof Symbol==&amp;quot;function&amp;quot;&amp;amp;&amp;amp;typeof Symbol.iterator==&amp;quot;symbol&amp;quot;?function(t){return typeof t}:function(t){return t&amp;amp;&amp;amp;typeof Symbol==&amp;quot;function&amp;quot;&amp;amp;&amp;amp;t.constructor===Symbol&amp;amp;&amp;amp;t!==Symbol.prototype?&amp;quot;symbol&amp;quot;:typeof t},$t(i)}function Xm(i,t){if($t(i)!=&amp;quot;object&amp;quot;||!i)return i;var r=i[Symbol.toPrimitive];if(r!==void 0){var n=r.call(i,t||&amp;quot;default&amp;quot;);if($t(n)!=&amp;quot;object&amp;quot;)return n;throw new TypeError(&amp;quot;@@toPrimitive must return a primitive value.&amp;quot;)}return(t===&amp;quot;string&amp;quot;?String:Number)(i)}function cl(i){var t=Xm(i,&amp;quot;string&amp;quot;);return $t(t)==&amp;quot;symbol&amp;quot;?t:t+&amp;quot;&amp;quot;}function Km(i,t,r){return(t=cl(t))in i?Object.defineProperty(i,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[t]=r,i}function kt(i){for(var t=1;t&amp;lt;arguments.length;t++){var r=arguments[t]!=null?Object(arguments[t]):{},n=Object.keys(r);typeof Object.getOwnPropertySymbols==&amp;quot;function&amp;quot;&amp;amp;&amp;amp;n.push.apply(n,Object.getOwnPropertySymbols(r).filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.forEach(function(s){Km(i,s,r[s])})}return i}function wr(i,t){if(!(i instanceof t))throw new TypeError(&amp;quot;Cannot call a class as a function&amp;quot;)}function Jm(i,t){for(var r=0;r&amp;lt;t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,&amp;quot;value&amp;quot;in n&amp;amp;&amp;amp;(n.writable=!0),Object.defineProperty(i,cl(n.key),n)}}function Cr(i,t,r){return t&amp;amp;&amp;amp;Jm(i.prototype,t),r&amp;amp;&amp;amp;Jm(i,r),Object.defineProperty(i,&amp;quot;prototype&amp;quot;,{writable:!1}),i}function wi(i){if(i===void 0)throw new ReferenceError(&amp;quot;this hasn&amp;#39;t been initialised - super() hasn&amp;#39;t been called&amp;quot;);return i}function Is(i,t){if(t&amp;amp;&amp;amp;($t(t)==&amp;quot;object&amp;quot;||typeof t==&amp;quot;function&amp;quot;))return t;if(t!==void 0)throw new TypeError(&amp;quot;Derived constructors may only return object or undefined&amp;quot;);return wi(i)}function Rn(i){return Rn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Rn(i)}function fl(i,t){return fl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},fl(i,t)}function ao(i,t){if(typeof t!=&amp;quot;function&amp;quot;&amp;amp;&amp;amp;t!==null)throw new TypeError(&amp;quot;Super expression must either be null or a function&amp;quot;);i.prototype=Object.create(t&amp;amp;&amp;amp;t.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,&amp;quot;prototype&amp;quot;,{writable:!1}),t&amp;amp;&amp;amp;fl(i,t)}var Ob={type:&amp;quot;logger&amp;quot;,log:function(t){this.output(&amp;quot;log&amp;quot;,t)},warn:function(t){this.output(&amp;quot;warn&amp;quot;,t)},error:function(t){this.output(&amp;quot;error&amp;quot;,t)},output:function(t,r){console&amp;amp;&amp;amp;console[t]&amp;amp;&amp;amp;console[t].apply(console,r)}},Vb=function(){function i(t){var r=arguments.length&amp;gt;1&amp;amp;&amp;amp;arguments[1]!==void 0?arguments[1]:{};wr(this,i),this.init(t,r)}return Cr(i,[{key:&amp;quot;init&amp;quot;,value:function(r){var n=arguments.length&amp;gt;1&amp;amp;&amp;amp;arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||&amp;quot;i18next:&amp;quot;,this.logger=r||Ob,this.options=n,this.debug=n.debug}},{key:&amp;quot;setDebug&amp;quot;,value:function(r){this.debug=r}},{key:&amp;quot;log&amp;quot;,value:function(){for(var r=arguments.length,n=new Array(r),s=0;s&amp;lt;r;s++)n[s]=arguments[s];return this.forward(n,&amp;quot;log&amp;quot;,&amp;quot;&amp;quot;,!0)}},{key:&amp;quot;warn&amp;quot;,value:function(){for(var r=arguments.length,n=new Array(r),s=0;s&amp;lt;r;s++)n[s]=arguments[s];return this.forward(n,&amp;quot;warn&amp;quot;,&amp;quot;&amp;quot;,!0)}},{key:&amp;quot;error&amp;quot;,value:function(){for(var r=arguments.length,n=new Array(r),s=0;s&amp;lt;r;s++)n[s]=arguments[s];return this.forward(n,&amp;quot;error&amp;quot;,&amp;quot;&amp;quot;)}},{key:&amp;quot;deprecate&amp;quot;,value:function(){for(var r=arguments.length,n=new Array(r),s=0;s&amp;lt;r;s++)n[s]=arguments[s];return this.forward(n,&amp;quot;warn&amp;quot;,&amp;quot;WARNING DEPRECATED: &amp;quot;,!0)}},{key:&amp;quot;forward&amp;quot;,value:function(r,n,s,a){return a&amp;amp;&amp;amp;!this.debug?null:(typeof r[0]==&amp;quot;string&amp;quot;&amp;amp;&amp;amp;(r[0]=&amp;quot;&amp;quot;.concat(s).concat(this.prefix,&amp;quot; &amp;quot;).concat(r[0])),this.logger[n](r))}},{key:&amp;quot;create&amp;quot;,value:function(r){return new i(this.logger,kt({},{prefix:&amp;quot;&amp;quot;.concat(this.prefix,&amp;quot;:&amp;quot;).concat(r,&amp;quot;:&amp;quot;)},this.options))}}]),i}(),Ci=new Vb,Zi=function(){function i(){wr(this,i),this.observers={}}return Cr(i,[{key:&amp;quot;on&amp;quot;,value:function(r,n){var s=this;return r.split(&amp;quot; &amp;quot;).forEach(function(a){s.observers[a]=s.observers[a]||[],s.observers[a].push(n)}),this}},{key:&amp;quot;off&amp;quot;,value:function(r,n){if(this.observers[r]){if(!n){delete this.observers[r];return}this.observers[r]=this.observers[r].filter(function(s){return s!==n})}}},{key:&amp;quot;emit&amp;quot;,value:function(r){for(var n=arguments.length,s=new Array(n&amp;gt;1?n-1:0),a=1;a&amp;lt;n;a++)s[a-1]=arguments[a];if(this.observers[r]){var o=[].concat(this.observers[r]);o.forEach(function(h){h.apply(void 0,s)})}if(this.observers[&amp;quot;*&amp;quot;]){var u=[].concat(this.observers[&amp;quot;*&amp;quot;]);u.forEach(function(h){h.apply(h,[r].concat(s))})}}}]),i}();function oo(){var i,t,r=new Promise(function(n,s){i=n,t=s});return r.resolve=i,r.reject=t,r}function Qm(i){return i==null?&amp;quot;&amp;quot;:&amp;quot;&amp;quot;+i}function Ub(i,t,r){i.forEach(function(n){t[n]&amp;amp;&amp;amp;(r[n]=t[n])})}function Yc(i,t,r){function n(u){return u&amp;amp;&amp;amp;u.indexOf(&amp;quot;###&amp;quot;)&amp;gt;-1?u.replace(/###/g,&amp;quot;.&amp;quot;):u}function s(){return!i||typeof i==&amp;quot;string&amp;quot;}for(var a=typeof t!=&amp;quot;string&amp;quot;?[].concat(t):t.split(&amp;quot;.&amp;quot;);a.length&amp;gt;1;){if(s())return{};var o=n(a.shift());!i[o]&amp;amp;&amp;amp;r&amp;amp;&amp;amp;(i[o]=new r),Object.prototype.hasOwnProperty.call(i,o)?i=i[o]:i={}}return s()?{}:{obj:i,k:n(a.shift())}}function e0(i,t,r){var n=Yc(i,t,Object),s=n.obj,a=n.k;s[a]=r}function Gb(i,t,r,n){var s=Yc(i,t,Object),a=s.obj,o=s.k;a[o]=a[o]||[],n&amp;amp;&amp;amp;(a[o]=a[o].concat(r)),n||a[o].push(r)}function dl(i,t){var r=Yc(i,t),n=r.obj,s=r.k;if(n)return n[s]}function t0(i,t,r){var n=dl(i,r);return n!==void 0?n:dl(t,r)}function s0(i,t,r){for(var n in t)n!==&amp;quot;__proto__&amp;quot;&amp;amp;&amp;amp;n!==&amp;quot;constructor&amp;quot;&amp;amp;&amp;amp;(n in i?typeof i[n]==&amp;quot;string&amp;quot;||i[n]instanceof String||typeof t[n]==&amp;quot;string&amp;quot;||t[n]instanceof String?r&amp;amp;&amp;amp;(i[n]=t[n]):s0(i[n],t[n],r):i[n]=t[n]);return i}function ks(i){return i.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,&amp;quot;\\$&amp;amp;&amp;quot;)}var zb={&amp;quot;&amp;amp;&amp;quot;:&amp;quot;&amp;amp;amp;&amp;quot;,&amp;quot;&amp;lt;&amp;quot;:&amp;quot;&amp;amp;lt;&amp;quot;,&amp;quot;&amp;gt;&amp;quot;:&amp;quot;&amp;amp;gt;&amp;quot;,&amp;#39;&amp;quot;&amp;#39;:&amp;quot;&amp;amp;quot;&amp;quot;,&amp;quot;&amp;#39;&amp;quot;:&amp;quot;&amp;amp;#39;&amp;quot;,&amp;quot;/&amp;quot;:&amp;quot;&amp;amp;#x2F;&amp;quot;};function jb(i){return typeof i==&amp;quot;string&amp;quot;?i.replace(/[&amp;amp;&amp;lt;&amp;gt;&amp;quot;&amp;#39;\/]/g,function(t){return zb[t]}):i}var ml=typeof window&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;window.navigator&amp;amp;&amp;amp;window.navigator.userAgent&amp;amp;&amp;amp;window.navigator.userAgent.indexOf(&amp;quot;MSIE&amp;quot;)&amp;gt;-1,$b=function(i){ao(t,i);function t(r){var n,s=arguments.length&amp;gt;1&amp;amp;&amp;amp;arguments[1]!==void 0?arguments[1]:{ns:[&amp;quot;translation&amp;quot;],defaultNS:&amp;quot;translation&amp;quot;};return wr(this,t),n=Is(this,Rn(t).call(this)),ml&amp;amp;&amp;amp;Zi.call(wi(n)),n.data=r||{},n.options=s,n.options.keySeparator===void 0&amp;amp;&amp;amp;(n.options.keySeparator=&amp;quot;.&amp;quot;),n}return Cr(t,[{key:&amp;quot;addNamespaces&amp;quot;,value:function(n){this.options.ns.indexOf(n)&amp;lt;0&amp;amp;&amp;amp;this.options.ns.push(n)}},{key:&amp;quot;removeNamespaces&amp;quot;,value:function(n){var s=this.options.ns.indexOf(n);s&amp;gt;-1&amp;amp;&amp;amp;this.options.ns.splice(s,1)}},{key:&amp;quot;getResource&amp;quot;,value:function(n,s,a){var o=arguments.length&amp;gt;3&amp;amp;&amp;amp;arguments[3]!==void 0?arguments[3]:{},u=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,h=[n,s];return a&amp;amp;&amp;amp;typeof a!=&amp;quot;string&amp;quot;&amp;amp;&amp;amp;(h=h.concat(a)),a&amp;amp;&amp;amp;typeof a==&amp;quot;string&amp;quot;&amp;amp;&amp;amp;(h=h.concat(u?a.split(u):a)),n.indexOf(&amp;quot;.&amp;quot;)&amp;gt;-1&amp;amp;&amp;amp;(h=n.split(&amp;quot;.&amp;quot;)),dl(this.data,h)}},{key:&amp;quot;addResource&amp;quot;,value:function(n,s,a,o){var u=arguments.length&amp;gt;4&amp;amp;&amp;amp;arguments[4]!==void 0?arguments[4]:{silent:!1},h=this.options.keySeparator;h===void 0&amp;amp;&amp;amp;(h=&amp;quot;.&amp;quot;);var l=[n,s];a&amp;amp;&amp;amp;(l=l.concat(h?a.split(h):a)),n.indexOf(&amp;quot;.&amp;quot;)&amp;gt;-1&amp;amp;&amp;amp;(l=n.split(&amp;quot;.&amp;quot;),o=s,s=l[1]),this.addNamespaces(s),e0(this.data,l,o),u.silent||this.emit(&amp;quot;added&amp;quot;,n,s,a,o)}},{key:&amp;quot;addResources&amp;quot;,value:function(n,s,a){var o=arguments.length&amp;gt;3&amp;amp;&amp;amp;arguments[3]!==void 0?arguments[3]:{silent:!1};for(var u in a)(typeof a[u]==&amp;quot;string&amp;quot;||Object.prototype.toString.apply(a[u])===&amp;quot;[object Array]&amp;quot;)&amp;amp;&amp;amp;this.addResource(n,s,u,a[u],{silent:!0});o.silent||this.emit(&amp;quot;added&amp;quot;,n,s,a)}},{key:&amp;quot;addResourceBundle&amp;quot;,value:function(n,s,a,o,u){var h=arguments.length&amp;gt;5&amp;amp;&amp;amp;arguments[5]!==void 0?arguments[5]:{silent:!1},l=[n,s];n.indexOf(&amp;quot;.&amp;quot;)&amp;gt;-1&amp;amp;&amp;amp;(l=n.split(&amp;quot;.&amp;quot;),o=a,a=s,s=l[1]),this.addNamespaces(s);var c=dl(this.data,l)||{};o?s0(c,a,u):c=kt({},c,a),e0(this.data,l,c),h.silent||this.emit(&amp;quot;added&amp;quot;,n,s,a)}},{key:&amp;quot;removeResourceBundle&amp;quot;,value:function(n,s){this.hasResourceBundle(n,s)&amp;amp;&amp;amp;delete this.data[n][s],this.removeNamespaces(s),this.emit(&amp;quot;removed&amp;quot;,n,s)}},{key:&amp;quot;hasResourceBundle&amp;quot;,value:function(n,s){return this.getResource(n,s)!==void 0}},{key:&amp;quot;getResourceBundle&amp;quot;,value:function(n,s){return s||(s=this.options.defaultNS),this.options.compatibilityAPI===&amp;quot;v1&amp;quot;?kt({},{},this.getResource(n,s)):this.getResource(n,s)}},{key:&amp;quot;getDataByLanguage&amp;quot;,value:function(n){return this.data[n]}},{key:&amp;quot;toJSON&amp;quot;,value:function(){return this.data}}]),t}(Zi),a0={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(t,r,n,s,a){var o=this;return t.forEach(function(u){o.processors[u]&amp;amp;&amp;amp;(r=o.processors[u].process(r,n,s,a))}),r}},r0={},i0=function(i){ao(t,i);function t(r){var n,s=arguments.length&amp;gt;1&amp;amp;&amp;amp;arguments[1]!==void 0?arguments[1]:{};return wr(this,t),n=Is(this,Rn(t).call(this)),ml&amp;amp;&amp;amp;Zi.call(wi(n)),Ub([&amp;quot;resourceStore&amp;quot;,&amp;quot;languageUtils&amp;quot;,&amp;quot;pluralResolver&amp;quot;,&amp;quot;interpolator&amp;quot;,&amp;quot;backendConnector&amp;quot;,&amp;quot;i18nFormat&amp;quot;,&amp;quot;utils&amp;quot;],r,wi(n)),n.options=s,n.options.keySeparator===void 0&amp;amp;&amp;amp;(n.options.keySeparator=&amp;quot;.&amp;quot;),n.logger=Ci.create(&amp;quot;translator&amp;quot;),n}return Cr(t,[{key:&amp;quot;changeLanguage&amp;quot;,value:function(n){n&amp;amp;&amp;amp;(this.language=n)}},{key:&amp;quot;exists&amp;quot;,value:function(n){var s=arguments.length&amp;gt;1&amp;amp;&amp;amp;arguments[1]!==void 0?arguments[1]:{interpolation:{}},a=this.resolve(n,s);return a&amp;amp;&amp;amp;a.res!==void 0}},{key:&amp;quot;extractFromKey&amp;quot;,value:function(n,s){var a=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;a===void 0&amp;amp;&amp;amp;(a=&amp;quot;:&amp;quot;);var o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,u=s.ns||this.options.defaultNS;if(a&amp;amp;&amp;amp;n.indexOf(a)&amp;gt;-1){var h=n.match(this.interpolator.nestingRegexp);if(h&amp;amp;&amp;amp;h.length&amp;gt;0)return{key:n,namespaces:u};var l=n.split(a);(a!==o||a===o&amp;amp;&amp;amp;this.options.ns.indexOf(l[0])&amp;gt;-1)&amp;amp;&amp;amp;(u=l.shift()),n=l.join(o)}return typeof u==&amp;quot;string&amp;quot;&amp;amp;&amp;amp;(u=[u]),{key:n,namespaces:u}}},{key:&amp;quot;translate&amp;quot;,value:function(n,s,a){var o=this;if($t(s)!==&amp;quot;object&amp;quot;&amp;amp;&amp;amp;this.options.overloadTranslationOptionHandler&amp;amp;&amp;amp;(s=this.options.overloadTranslationOptionHandler(arguments)),s||(s={}),n==null)return&amp;quot;&amp;quot;;Array.isArray(n)||(n=[String(n)]);var u=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,h=this.extractFromKey(n[n.length-1],s),l=h.key,c=h.namespaces,p=c[c.length-1],f=s.lng||this.language,d=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(f&amp;amp;&amp;amp;f.toLowerCase()===&amp;quot;cimode&amp;quot;){if(d){var m=s.nsSeparator||this.options.nsSeparator;return p+m+l}return l}var g=this.resolve(n,s),v=g&amp;amp;&amp;amp;g.res,w=g&amp;amp;&amp;amp;g.usedKey||l,y=g&amp;amp;&amp;amp;g.exactUsedKey||l,S=Object.prototype.toString.apply(v),_=[&amp;quot;[object Number]&amp;quot;,&amp;quot;[object Function]&amp;quot;,&amp;quot;[object RegExp]&amp;quot;],b=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,I=!this.i18nFormat||this.i18nFormat.handleAsObject,E=typeof v!=&amp;quot;string&amp;quot;&amp;amp;&amp;amp;typeof v!=&amp;quot;boolean&amp;quot;&amp;amp;&amp;amp;typeof v!=&amp;quot;number&amp;quot;;if(I&amp;amp;&amp;amp;v&amp;amp;&amp;amp;E&amp;amp;&amp;amp;_.indexOf(S)&amp;lt;0&amp;amp;&amp;amp;!(typeof b==&amp;quot;string&amp;quot;&amp;amp;&amp;amp;S===&amp;quot;[object Array]&amp;quot;)){if(!s.returnObjects&amp;amp;&amp;amp;!this.options.returnObjects)return this.logger.warn(&amp;quot;accessing an object - but returnObjects options is not enabled!&amp;quot;),this.options.returnedObjectHandler?this.options.returnedObjectHandler(w,v,s):&amp;quot;key &amp;#39;&amp;quot;.concat(l,&amp;quot; (&amp;quot;).concat(this.language,&amp;quot;)&amp;#39; returned an object instead of string.&amp;quot;);if(u){var A=S===&amp;quot;[object Array]&amp;quot;,C=A?[]:{},T=A?y:w;for(var D in v)if(Object.prototype.hasOwnProperty.call(v,D)){var F=&amp;quot;&amp;quot;.concat(T).concat(u).concat(D);C[D]=this.translate(F,kt({},s,{joinArrays:!1,ns:c})),C[D]===F&amp;amp;&amp;amp;(C[D]=v[D])}v=C}}else if(I&amp;amp;&amp;amp;typeof b==&amp;quot;string&amp;quot;&amp;amp;&amp;amp;S===&amp;quot;[object Array]&amp;quot;)v=v.join(b),v&amp;amp;&amp;amp;(v=this.extendTranslation(v,n,s,a));else{var N=!1,B=!1,U=s.count!==void 0&amp;amp;&amp;amp;typeof s.count!=&amp;quot;string&amp;quot;,j=t.hasDefaultValue(s),W=U?this.pluralResolver.getSuffix(f,s.count):&amp;quot;&amp;quot;,te=s[&amp;quot;defaultValue&amp;quot;.concat(W)]||s.defaultValue;!this.isValidLookup(v)&amp;amp;&amp;amp;j&amp;amp;&amp;amp;(N=!0,v=te),this.isValidLookup(v)||(B=!0,v=l);var X=j&amp;amp;&amp;amp;te!==v&amp;amp;&amp;amp;this.options.updateMissing;if(B||N||X){if(this.logger.log(X?&amp;quot;updateKey&amp;quot;:&amp;quot;missingKey&amp;quot;,f,p,l,X?te:v),u){var Z=this.resolve(l,kt({},s,{keySeparator:!1}));Z&amp;amp;&amp;amp;Z.res&amp;amp;&amp;amp;this.logger.warn(&amp;quot;Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.&amp;quot;)}var G=[],q=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo===&amp;quot;fallback&amp;quot;&amp;amp;&amp;amp;q&amp;amp;&amp;amp;q[0])for(var J=0;J&amp;lt;q.length;J++)G.push(q[J]);else this.options.saveMissingTo===&amp;quot;all&amp;quot;?G=this.languageUtils.toResolveHierarchy(s.lng||this.language):G.push(s.lng||this.language);var Y=function(fe,de,me){o.options.missingKeyHandler?o.options.missingKeyHandler(fe,p,de,X?me:v,X,s):o.backendConnector&amp;amp;&amp;amp;o.backendConnector.saveMissing&amp;amp;&amp;amp;o.backendConnector.saveMissing(fe,p,de,X?me:v,X,s),o.emit(&amp;quot;missingKey&amp;quot;,fe,p,de,v)};this.options.saveMissing&amp;amp;&amp;amp;(this.options.saveMissingPlurals&amp;amp;&amp;amp;U?G.forEach(function(Q){o.pluralResolver.getSuffixes(Q).forEach(function(fe){Y([Q],l+fe,s[&amp;quot;defaultValue&amp;quot;.concat(fe)]||te)})}):Y(G,l,te))}v=this.extendTranslation(v,n,s,g,a),B&amp;amp;&amp;amp;v===l&amp;amp;&amp;amp;this.options.appendNamespaceToMissingKey&amp;amp;&amp;amp;(v=&amp;quot;&amp;quot;.concat(p,&amp;quot;:&amp;quot;).concat(l)),B&amp;amp;&amp;amp;this.options.parseMissingKeyHandler&amp;amp;&amp;amp;(v=this.options.parseMissingKeyHandler(v))}return v}},{key:&amp;quot;extendTranslation&amp;quot;,value:function(n,s,a,o,u){var h=this;if(this.i18nFormat&amp;amp;&amp;amp;this.i18nFormat.parse)n=this.i18nFormat.parse(n,a,o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!a.skipInterpolation){a.interpolation&amp;amp;&amp;amp;this.interpolator.init(kt({},a,{interpolation:kt({},this.options.interpolation,a.interpolation)}));var l=a.interpolation&amp;amp;&amp;amp;a.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables,c;if(l){var p=n.match(this.interpolator.nestingRegexp);c=p&amp;amp;&amp;amp;p.length}var f=a.replace&amp;amp;&amp;amp;typeof a.replace!=&amp;quot;string&amp;quot;?a.replace:a;if(this.options.interpolation.defaultVariables&amp;amp;&amp;amp;(f=kt({},this.options.interpolation.defaultVariables,f)),n=this.interpolator.interpolate(n,f,a.lng||this.language,a),l){var d=n.match(this.interpolator.nestingRegexp),m=d&amp;amp;&amp;amp;d.length;c&amp;lt;m&amp;amp;&amp;amp;(a.nest=!1)}a.nest!==!1&amp;amp;&amp;amp;(n=this.interpolator.nest(n,function(){for(var w=arguments.length,y=new Array(w),S=0;S&amp;lt;w;S++)y[S]=arguments[S];return u&amp;amp;&amp;amp;u[0]===y[0]&amp;amp;&amp;amp;!a.context?(h.logger.warn(&amp;quot;It seems you are nesting recursively key: &amp;quot;.concat(y[0],&amp;quot; in key: &amp;quot;).concat(s[0])),null):h.translate.apply(h,y.concat([s]))},a)),a.interpolation&amp;amp;&amp;amp;this.interpolator.reset()}var g=a.postProcess||this.options.postProcess,v=typeof g==&amp;quot;string&amp;quot;?[g]:g;return n!=null&amp;amp;&amp;amp;v&amp;amp;&amp;amp;v.length&amp;amp;&amp;amp;a.applyPostProcessor!==!1&amp;amp;&amp;amp;(n=a0.handle(v,n,s,this.options&amp;amp;&amp;amp;this.options.postProcessPassResolved?kt({i18nResolved:o},a):a,this)),n}},{key:&amp;quot;resolve&amp;quot;,value:function(n){var s=this,a=arguments.length&amp;gt;1&amp;amp;&amp;amp;arguments[1]!==void 0?arguments[1]:{},o,u,h,l,c;return typeof n==&amp;quot;string&amp;quot;&amp;amp;&amp;amp;(n=[n]),n.forEach(function(p){if(!s.isValidLookup(o)){var f=s.extractFromKey(p,a),d=f.key;u=d;var m=f.namespaces;s.options.fallbackNS&amp;amp;&amp;amp;(m=m.concat(s.options.fallbackNS));var g=a.count!==void 0&amp;amp;&amp;amp;typeof a.count!=&amp;quot;string&amp;quot;,v=a.context!==void 0&amp;amp;&amp;amp;typeof a.context==&amp;quot;string&amp;quot;&amp;amp;&amp;amp;a.context!==&amp;quot;&amp;quot;,w=a.lngs?a.lngs:s.languageUtils.toResolveHierarchy(a.lng||s.language,a.fallbackLng);m.forEach(function(y){s.isValidLookup(o)||(c=y,!r0[&amp;quot;&amp;quot;.concat(w[0],&amp;quot;-&amp;quot;).concat(y)]&amp;amp;&amp;amp;s.utils&amp;amp;&amp;amp;s.utils.hasLoadedNamespace&amp;amp;&amp;amp;!s.utils.hasLoadedNamespace(c)&amp;amp;&amp;amp;(r0[&amp;quot;&amp;quot;.concat(w[0],&amp;quot;-&amp;quot;).concat(y)]=!0,s.logger.warn(&amp;#39;key &amp;quot;&amp;#39;.concat(u,&amp;#39;&amp;quot; for languages &amp;quot;&amp;#39;).concat(w.join(&amp;quot;, &amp;quot;),`&amp;quot; won&amp;#39;t get resolved as namespace &amp;quot;`).concat(c,&amp;#39;&amp;quot; was not yet loaded&amp;#39;),&amp;quot;This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!&amp;quot;)),w.forEach(function(S){if(!s.isValidLookup(o)){l=S;var _=d,b=[_];if(s.i18nFormat&amp;amp;&amp;amp;s.i18nFormat.addLookupKeys)s.i18nFormat.addLookupKeys(b,d,S,y,a);else{var I;g&amp;amp;&amp;amp;(I=s.pluralResolver.getSuffix(S,a.count)),g&amp;amp;&amp;amp;v&amp;amp;&amp;amp;b.push(_+I),v&amp;amp;&amp;amp;b.push(_+=&amp;quot;&amp;quot;.concat(s.options.contextSeparator).concat(a.context)),g&amp;amp;&amp;amp;b.push(_+=I)}for(var E;E=b.pop();)s.isValidLookup(o)||(h=E,o=s.getResource(S,y,E,a))}}))})}}),{res:o,usedKey:u,exactUsedKey:h,usedLng:l,usedNS:c}}},{key:&amp;quot;isValidLookup&amp;quot;,value:function(n){return n!==void 0&amp;amp;&amp;amp;!(!this.options.returnNull&amp;amp;&amp;amp;n===null)&amp;amp;&amp;amp;!(!this.options.returnEmptyString&amp;amp;&amp;amp;n===&amp;quot;&amp;quot;)}},{key:&amp;quot;getResource&amp;quot;,value:function(n,s,a){var o=arguments.length&amp;gt;3&amp;amp;&amp;amp;arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&amp;amp;&amp;amp;this.i18nFormat.getResource?this.i18nFormat.getResource(n,s,a,o):this.resourceStore.getResource(n,s,a,o)}}],[{key:&amp;quot;hasDefaultValue&amp;quot;,value:function(n){var s=&amp;quot;defaultValue&amp;quot;;for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)&amp;amp;&amp;amp;s===a.substring(0,s.length)&amp;amp;&amp;amp;n[a]!==void 0)return!0;return!1}}]),t}(Zi);function Zc(i){return i.charAt(0).toUpperCase()+i.slice(1)}var Hb=function(){function i(t){wr(this,i),this.options=t,this.whitelist=this.options.supportedLngs||!1,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Ci.create(&amp;quot;languageUtils&amp;quot;)}return Cr(i,[{key:&amp;quot;getScriptPartFromCode&amp;quot;,value:function(r){if(!r||r.indexOf(&amp;quot;-&amp;quot;)&amp;lt;0)return null;var n=r.split(&amp;quot;-&amp;quot;);return n.length===2||(n.pop(),n[n.length-1].toLowerCase()===&amp;quot;x&amp;quot;)?null:this.formatLanguageCode(n.join(&amp;quot;-&amp;quot;))}},{key:&amp;quot;getLanguagePartFromCode&amp;quot;,value:function(r){if(!r||r.indexOf(&amp;quot;-&amp;quot;)&amp;lt;0)return r;var n=r.split(&amp;quot;-&amp;quot;);return this.formatLanguageCode(n[0])}},{key:&amp;quot;formatLanguageCode&amp;quot;,value:function(r){if(typeof r==&amp;quot;string&amp;quot;&amp;amp;&amp;amp;r.indexOf(&amp;quot;-&amp;quot;)&amp;gt;-1){var n=[&amp;quot;hans&amp;quot;,&amp;quot;hant&amp;quot;,&amp;quot;latn&amp;quot;,&amp;quot;cyrl&amp;quot;,&amp;quot;cans&amp;quot;,&amp;quot;mong&amp;quot;,&amp;quot;arab&amp;quot;],s=r.split(&amp;quot;-&amp;quot;);return this.options.lowerCaseLng?s=s.map(function(a){return a.toLowerCase()}):s.length===2?(s[0]=s[0].toLowerCase(),s[1]=s[1].toUpperCase(),n.indexOf(s[1].toLowerCase())&amp;gt;-1&amp;amp;&amp;amp;(s[1]=Zc(s[1].toLowerCase()))):s.length===3&amp;amp;&amp;amp;(s[0]=s[0].toLowerCase(),s[1].length===2&amp;amp;&amp;amp;(s[1]=s[1].toUpperCase()),s[0]!==&amp;quot;sgn&amp;quot;&amp;amp;&amp;amp;s[2].length===2&amp;amp;&amp;amp;(s[2]=s[2].toUpperCase()),n.indexOf(s[1].toLowerCase())&amp;gt;-1&amp;amp;&amp;amp;(s[1]=Zc(s[1].toLowerCase())),n.indexOf(s[2].toLowerCase())&amp;gt;-1&amp;amp;&amp;amp;(s[2]=Zc(s[2].toLowerCase()))),s.join(&amp;quot;-&amp;quot;)}return this.options.cleanCode||this.options.lowerCaseLng?r.toLowerCase():r}},{key:&amp;quot;isWhitelisted&amp;quot;,value:function(r){return this.logger.deprecate(&amp;quot;languageUtils.isWhitelisted&amp;quot;,`function &amp;quot;isWhitelisted&amp;quot; will be renamed to &amp;quot;isSupportedCode&amp;quot; in the next major - please make sure to rename it&amp;#39;s usage asap.`),this.isSupportedCode(r)}},{key:&amp;quot;isSupportedCode&amp;quot;,value:function(r){return(this.options.load===&amp;quot;languageOnly&amp;quot;||this.options.nonExplicitSupportedLngs)&amp;amp;&amp;amp;(r=this.getLanguagePartFromCode(r)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(r)&amp;gt;-1}},{key:&amp;quot;getBestMatchFromCodes&amp;quot;,value:function(r){var n=this;if(!r)return null;var s;return r.forEach(function(a){if(!s){var o=n.formatLanguageCode(a);(!n.options.supportedLngs||n.isSupportedCode(o))&amp;amp;&amp;amp;(s=o)}}),!s&amp;amp;&amp;amp;this.options.supportedLngs&amp;amp;&amp;amp;r.forEach(function(a){if(!s){var o=n.getLanguagePartFromCode(a);if(n.isSupportedCode(o))return s=o;s=n.options.supportedLngs.find(function(u){if(u.indexOf(o)===0)return u})}}),s||(s=this.getFallbackCodes(this.options.fallbackLng)[0]),s}},{key:&amp;quot;getFallbackCodes&amp;quot;,value:function(r,n){if(!r)return[];if(typeof r==&amp;quot;function&amp;quot;&amp;amp;&amp;amp;(r=r(n)),typeof r==&amp;quot;string&amp;quot;&amp;amp;&amp;amp;(r=[r]),Object.prototype.toString.apply(r)===&amp;quot;[object Array]&amp;quot;)return r;if(!n)return r.default||[];var s=r[n];return s||(s=r[this.getScriptPartFromCode(n)]),s||(s=r[this.formatLanguageCode(n)]),s||(s=r[this.getLanguagePartFromCode(n)]),s||(s=r.default),s||[]}},{key:&amp;quot;toResolveHierarchy&amp;quot;,value:function(r,n){var s=this,a=this.getFallbackCodes(n||this.options.fallbackLng||[],r),o=[],u=function(l){l&amp;amp;&amp;amp;(s.isSupportedCode(l)?o.push(l):s.logger.warn(&amp;quot;rejecting language code not found in supportedLngs: &amp;quot;.concat(l)))};return typeof r==&amp;quot;string&amp;quot;&amp;amp;&amp;amp;r.indexOf(&amp;quot;-&amp;quot;)&amp;gt;-1?(this.options.load!==&amp;quot;languageOnly&amp;quot;&amp;amp;&amp;amp;u(this.formatLanguageCode(r)),this.options.load!==&amp;quot;languageOnly&amp;quot;&amp;amp;&amp;amp;this.options.load!==&amp;quot;currentOnly&amp;quot;&amp;amp;&amp;amp;u(this.getScriptPartFromCode(r)),this.options.load!==&amp;quot;currentOnly&amp;quot;&amp;amp;&amp;amp;u(this.getLanguagePartFromCode(r))):typeof r==&amp;quot;string&amp;quot;&amp;amp;&amp;amp;u(this.formatLanguageCode(r)),a.forEach(function(h){o.indexOf(h)&amp;lt;0&amp;amp;&amp;amp;u(s.formatLanguageCode(h))}),o}}]),i}(),Wb=[{lngs:[&amp;quot;ach&amp;quot;,&amp;quot;ak&amp;quot;,&amp;quot;am&amp;quot;,&amp;quot;arn&amp;quot;,&amp;quot;br&amp;quot;,&amp;quot;fil&amp;quot;,&amp;quot;gun&amp;quot;,&amp;quot;ln&amp;quot;,&amp;quot;mfe&amp;quot;,&amp;quot;mg&amp;quot;,&amp;quot;mi&amp;quot;,&amp;quot;oc&amp;quot;,&amp;quot;pt&amp;quot;,&amp;quot;pt-BR&amp;quot;,&amp;quot;tg&amp;quot;,&amp;quot;tl&amp;quot;,&amp;quot;ti&amp;quot;,&amp;quot;tr&amp;quot;,&amp;quot;uz&amp;quot;,&amp;quot;wa&amp;quot;],nr:[1,2],fc:1},{lngs:[&amp;quot;af&amp;quot;,&amp;quot;an&amp;quot;,&amp;quot;ast&amp;quot;,&amp;quot;az&amp;quot;,&amp;quot;bg&amp;quot;,&amp;quot;bn&amp;quot;,&amp;quot;ca&amp;quot;,&amp;quot;da&amp;quot;,&amp;quot;de&amp;quot;,&amp;quot;dev&amp;quot;,&amp;quot;el&amp;quot;,&amp;quot;en&amp;quot;,&amp;quot;eo&amp;quot;,&amp;quot;es&amp;quot;,&amp;quot;et&amp;quot;,&amp;quot;eu&amp;quot;,&amp;quot;fi&amp;quot;,&amp;quot;fo&amp;quot;,&amp;quot;fur&amp;quot;,&amp;quot;fy&amp;quot;,&amp;quot;gl&amp;quot;,&amp;quot;gu&amp;quot;,&amp;quot;ha&amp;quot;,&amp;quot;hi&amp;quot;,&amp;quot;hu&amp;quot;,&amp;quot;hy&amp;quot;,&amp;quot;ia&amp;quot;,&amp;quot;it&amp;quot;,&amp;quot;kn&amp;quot;,&amp;quot;ku&amp;quot;,&amp;quot;lb&amp;quot;,&amp;quot;mai&amp;quot;,&amp;quot;ml&amp;quot;,&amp;quot;mn&amp;quot;,&amp;quot;mr&amp;quot;,&amp;quot;nah&amp;quot;,&amp;quot;nap&amp;quot;,&amp;quot;nb&amp;quot;,&amp;quot;ne&amp;quot;,&amp;quot;nl&amp;quot;,&amp;quot;nn&amp;quot;,&amp;quot;no&amp;quot;,&amp;quot;nso&amp;quot;,&amp;quot;pa&amp;quot;,&amp;quot;pap&amp;quot;,&amp;quot;pms&amp;quot;,&amp;quot;ps&amp;quot;,&amp;quot;pt-PT&amp;quot;,&amp;quot;rm&amp;quot;,&amp;quot;sco&amp;quot;,&amp;quot;se&amp;quot;,&amp;quot;si&amp;quot;,&amp;quot;so&amp;quot;,&amp;quot;son&amp;quot;,&amp;quot;sq&amp;quot;,&amp;quot;sv&amp;quot;,&amp;quot;sw&amp;quot;,&amp;quot;ta&amp;quot;,&amp;quot;te&amp;quot;,&amp;quot;tk&amp;quot;,&amp;quot;ur&amp;quot;,&amp;quot;yo&amp;quot;],nr:[1,2],fc:2},{lngs:[&amp;quot;ay&amp;quot;,&amp;quot;bo&amp;quot;,&amp;quot;cgg&amp;quot;,&amp;quot;fa&amp;quot;,&amp;quot;ht&amp;quot;,&amp;quot;id&amp;quot;,&amp;quot;ja&amp;quot;,&amp;quot;jbo&amp;quot;,&amp;quot;ka&amp;quot;,&amp;quot;kk&amp;quot;,&amp;quot;km&amp;quot;,&amp;quot;ko&amp;quot;,&amp;quot;ky&amp;quot;,&amp;quot;lo&amp;quot;,&amp;quot;ms&amp;quot;,&amp;quot;sah&amp;quot;,&amp;quot;su&amp;quot;,&amp;quot;th&amp;quot;,&amp;quot;tt&amp;quot;,&amp;quot;ug&amp;quot;,&amp;quot;vi&amp;quot;,&amp;quot;wo&amp;quot;,&amp;quot;zh&amp;quot;],nr:[1],fc:3},{lngs:[&amp;quot;be&amp;quot;,&amp;quot;bs&amp;quot;,&amp;quot;cnr&amp;quot;,&amp;quot;dz&amp;quot;,&amp;quot;hr&amp;quot;,&amp;quot;ru&amp;quot;,&amp;quot;sr&amp;quot;,&amp;quot;uk&amp;quot;],nr:[1,2,5],fc:4},{lngs:[&amp;quot;ar&amp;quot;],nr:[0,1,2,3,11,100],fc:5},{lngs:[&amp;quot;cs&amp;quot;,&amp;quot;sk&amp;quot;],nr:[1,2,5],fc:6},{lngs:[&amp;quot;csb&amp;quot;,&amp;quot;pl&amp;quot;],nr:[1,2,5],fc:7},{lngs:[&amp;quot;cy&amp;quot;],nr:[1,2,3,8],fc:8},{lngs:[&amp;quot;fr&amp;quot;],nr:[1,2],fc:9},{lngs:[&amp;quot;ga&amp;quot;],nr:[1,2,3,7,11],fc:10},{lngs:[&amp;quot;gd&amp;quot;],nr:[1,2,3,20],fc:11},{lngs:[&amp;quot;is&amp;quot;],nr:[1,2],fc:12},{lngs:[&amp;quot;jv&amp;quot;],nr:[0,1],fc:13},{lngs:[&amp;quot;kw&amp;quot;],nr:[1,2,3,4],fc:14},{lngs:[&amp;quot;lt&amp;quot;],nr:[1,2,10],fc:15},{lngs:[&amp;quot;lv&amp;quot;],nr:[1,2,0],fc:16},{lngs:[&amp;quot;mk&amp;quot;],nr:[1,2],fc:17},{lngs:[&amp;quot;mnk&amp;quot;],nr:[0,1,2],fc:18},{lngs:[&amp;quot;mt&amp;quot;],nr:[1,2,11,20],fc:19},{lngs:[&amp;quot;or&amp;quot;],nr:[2,1],fc:2},{lngs:[&amp;quot;ro&amp;quot;],nr:[1,2,20],fc:20},{lngs:[&amp;quot;sl&amp;quot;],nr:[5,1,2,3],fc:21},{lngs:[&amp;quot;he&amp;quot;,&amp;quot;iw&amp;quot;],nr:[1,2,20,21],fc:22}],qb={1:function(t){return+(t&amp;gt;1)},2:function(t){return+(t!=1)},3:function(t){return 0},4:function(t){return t%10==1&amp;amp;&amp;amp;t%100!=11?0:t%10&amp;gt;=2&amp;amp;&amp;amp;t%10&amp;lt;=4&amp;amp;&amp;amp;(t%100&amp;lt;10||t%100&amp;gt;=20)?1:2},5:function(t){return t==0?0:t==1?1:t==2?2:t%100&amp;gt;=3&amp;amp;&amp;amp;t%100&amp;lt;=10?3:t%100&amp;gt;=11?4:5},6:function(t){return t==1?0:t&amp;gt;=2&amp;amp;&amp;amp;t&amp;lt;=4?1:2},7:function(t){return t==1?0:t%10&amp;gt;=2&amp;amp;&amp;amp;t%10&amp;lt;=4&amp;amp;&amp;amp;(t%100&amp;lt;10||t%100&amp;gt;=20)?1:2},8:function(t){return t==1?0:t==2?1:t!=8&amp;amp;&amp;amp;t!=11?2:3},9:function(t){return+(t&amp;gt;=2)},10:function(t){return t==1?0:t==2?1:t&amp;lt;7?2:t&amp;lt;11?3:4},11:function(t){return t==1||t==11?0:t==2||t==12?1:t&amp;gt;2&amp;amp;&amp;amp;t&amp;lt;20?2:3},12:function(t){return+(t%10!=1||t%100==11)},13:function(t){return+(t!==0)},14:function(t){return t==1?0:t==2?1:t==3?2:3},15:function(t){return t%10==1&amp;amp;&amp;amp;t%100!=11?0:t%10&amp;gt;=2&amp;amp;&amp;amp;(t%100&amp;lt;10||t%100&amp;gt;=20)?1:2},16:function(t){return t%10==1&amp;amp;&amp;amp;t%100!=11?0:t!==0?1:2},17:function(t){return t==1||t%10==1&amp;amp;&amp;amp;t%100!=11?0:1},18:function(t){return t==0?0:t==1?1:2},19:function(t){return t==1?0:t==0||t%100&amp;gt;1&amp;amp;&amp;amp;t%100&amp;lt;11?1:t%100&amp;gt;10&amp;amp;&amp;amp;t%100&amp;lt;20?2:3},20:function(t){return t==1?0:t==0||t%100&amp;gt;0&amp;amp;&amp;amp;t%100&amp;lt;20?1:2},21:function(t){return t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0},22:function(t){return t==1?0:t==2?1:(t&amp;lt;0||t&amp;gt;10)&amp;amp;&amp;amp;t%10==0?2:3}};function Zb(){var i={};return Wb.forEach(function(t){t.lngs.forEach(function(r){i[r]={numbers:t.nr,plurals:qb[t.fc]}})}),i}var Yb=function(){function i(t){var r=arguments.length&amp;gt;1&amp;amp;&amp;amp;arguments[1]!==void 0?arguments[1]:{};wr(this,i),this.languageUtils=t,this.options=r,this.logger=Ci.create(&amp;quot;pluralResolver&amp;quot;),this.rules=Zb()}return Cr(i,[{key:&amp;quot;addRule&amp;quot;,value:function(r,n){this.rules[r]=n}},{key:&amp;quot;getRule&amp;quot;,value:function(r){return this.rules[r]||this.rules[this.languageUtils.getLanguagePartFromCode(r)]}},{key:&amp;quot;needsPlural&amp;quot;,value:function(r){var n=this.getRule(r);return n&amp;amp;&amp;amp;n.numbers.length&amp;gt;1}},{key:&amp;quot;getPluralFormsOfKey&amp;quot;,value:function(r,n){return this.getSuffixes(r).map(function(s){return n+s})}},{key:&amp;quot;getSuffixes&amp;quot;,value:function(r){var n=this,s=this.getRule(r);return s?s.numbers.map(function(a){return n.getSuffix(r,a)}):[]}},{key:&amp;quot;getSuffix&amp;quot;,value:function(r,n){var s=this,a=this.getRule(r);if(a){var o=a.noAbs?a.plurals(n):a.plurals(Math.abs(n)),u=a.numbers[o];this.options.simplifyPluralSuffix&amp;amp;&amp;amp;a.numbers.length===2&amp;amp;&amp;amp;a.numbers[0]===1&amp;amp;&amp;amp;(u===2?u=&amp;quot;plural&amp;quot;:u===1&amp;amp;&amp;amp;(u=&amp;quot;&amp;quot;));var h=function(){return s.options.prepend&amp;amp;&amp;amp;u.toString()?s.options.prepend+u.toString():u.toString()};return this.options.compatibilityJSON===&amp;quot;v1&amp;quot;?u===1?&amp;quot;&amp;quot;:typeof u==&amp;quot;number&amp;quot;?&amp;quot;_plural_&amp;quot;.concat(u.toString()):h():this.options.compatibilityJSON===&amp;quot;v2&amp;quot;||this.options.simplifyPluralSuffix&amp;amp;&amp;amp;a.numbers.length===2&amp;amp;&amp;amp;a.numbers[0]===1?h():this.options.prepend&amp;amp;&amp;amp;o.toString()?this.options.prepend+o.toString():o.toString()}return this.logger.warn(&amp;quot;no plural rule found for: &amp;quot;.concat(r)),&amp;quot;&amp;quot;}}]),i}(),Xb=function(){function i(){var t=arguments.length&amp;gt;0&amp;amp;&amp;amp;arguments[0]!==void 0?arguments[0]:{};wr(this,i),this.logger=Ci.create(&amp;quot;interpolator&amp;quot;),this.options=t,this.format=t.interpolation&amp;amp;&amp;amp;t.interpolation.format||function(r){return r},this.init(t)}return Cr(i,[{key:&amp;quot;init&amp;quot;,value:function(){var r=arguments.length&amp;gt;0&amp;amp;&amp;amp;arguments[0]!==void 0?arguments[0]:{};r.interpolation||(r.interpolation={escapeValue:!0});var n=r.interpolation;this.escape=n.escape!==void 0?n.escape:jb,this.escapeValue=n.escapeValue!==void 0?n.escapeValue:!0,this.useRawValueToEscape=n.useRawValueToEscape!==void 0?n.useRawValueToEscape:!1,this.prefix=n.prefix?ks(n.prefix):n.prefixEscaped||&amp;quot;{{&amp;quot;,this.suffix=n.suffix?ks(n.suffix):n.suffixEscaped||&amp;quot;}}&amp;quot;,this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||&amp;quot;,&amp;quot;,this.unescapePrefix=n.unescapeSuffix?&amp;quot;&amp;quot;:n.unescapePrefix||&amp;quot;-&amp;quot;,this.unescapeSuffix=this.unescapePrefix?&amp;quot;&amp;quot;:n.unescapeSuffix||&amp;quot;&amp;quot;,this.nestingPrefix=n.nestingPrefix?ks(n.nestingPrefix):n.nestingPrefixEscaped||ks(&amp;quot;$t(&amp;quot;),this.nestingSuffix=n.nestingSuffix?ks(n.nestingSuffix):n.nestingSuffixEscaped||ks(&amp;quot;)&amp;quot;),this.nestingOptionsSeparator=n.nestingOptionsSeparator?n.nestingOptionsSeparator:n.nestingOptionsSeparator||&amp;quot;,&amp;quot;,this.maxReplaces=n.maxReplaces?n.maxReplaces:1e3,this.alwaysFormat=n.alwaysFormat!==void 0?n.alwaysFormat:!1,this.resetRegExp()}},{key:&amp;quot;reset&amp;quot;,value:function(){this.options&amp;amp;&amp;amp;this.init(this.options)}},{key:&amp;quot;resetRegExp&amp;quot;,value:function(){var r=&amp;quot;&amp;quot;.concat(this.prefix,&amp;quot;(.+?)&amp;quot;).concat(this.suffix);this.regexp=new RegExp(r,&amp;quot;g&amp;quot;);var n=&amp;quot;&amp;quot;.concat(this.prefix).concat(this.unescapePrefix,&amp;quot;(.+?)&amp;quot;).concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(n,&amp;quot;g&amp;quot;);var s=&amp;quot;&amp;quot;.concat(this.nestingPrefix,&amp;quot;(.+?)&amp;quot;).concat(this.nestingSuffix);this.nestingRegexp=new RegExp(s,&amp;quot;g&amp;quot;)}},{key:&amp;quot;interpolate&amp;quot;,value:function(r,n,s,a){var o=this,u,h,l,c=this.options&amp;amp;&amp;amp;this.options.interpolation&amp;amp;&amp;amp;this.options.interpolation.defaultVariables||{};function p(v){return v.replace(/\$/g,&amp;quot;$$$$&amp;quot;)}var f=function(w){if(w.indexOf(o.formatSeparator)&amp;lt;0){var y=t0(n,c,w);return o.alwaysFormat?o.format(y,void 0,s):y}var S=w.split(o.formatSeparator),_=S.shift().trim(),b=S.join(o.formatSeparator).trim();return o.format(t0(n,c,_),b,s,a)};this.resetRegExp();var d=a&amp;amp;&amp;amp;a.missingInterpolationHandler||this.options.missingInterpolationHandler,m=a&amp;amp;&amp;amp;a.interpolation&amp;amp;&amp;amp;a.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables,g=[{regex:this.regexpUnescape,safeValue:function(w){return p(w)}},{regex:this.regexp,safeValue:function(w){return o.escapeValue?p(o.escape(w)):p(w)}}];return g.forEach(function(v){for(l=0;u=v.regex.exec(r);){if(h=f(u[1].trim()),h===void 0)if(typeof d==&amp;quot;function&amp;quot;){var w=d(r,u,a);h=typeof w==&amp;quot;string&amp;quot;?w:&amp;quot;&amp;quot;}else if(m){h=u[0];continue}else o.logger.warn(&amp;quot;missed to pass in variable &amp;quot;.concat(u[1],&amp;quot; for interpolating &amp;quot;).concat(r)),h=&amp;quot;&amp;quot;;else typeof h!=&amp;quot;string&amp;quot;&amp;amp;&amp;amp;!o.useRawValueToEscape&amp;amp;&amp;amp;(h=Qm(h));if(r=r.replace(u[0],v.safeValue(h)),v.regex.lastIndex=0,l++,l&amp;gt;=o.maxReplaces)break}}),r}},{key:&amp;quot;nest&amp;quot;,value:function(r,n){var s=this,a=arguments.length&amp;gt;2&amp;amp;&amp;amp;arguments[2]!==void 0?arguments[2]:{},o,u,h=kt({},a);h.applyPostProcessor=!1,delete h.defaultValue;function l(d,m){var g=this.nestingOptionsSeparator;if(d.indexOf(g)&amp;lt;0)return d;var v=d.split(new RegExp(&amp;quot;&amp;quot;.concat(g,&amp;quot;[ ]*{&amp;quot;))),w=&amp;quot;{&amp;quot;.concat(v[1]);d=v[0],w=this.interpolate(w,h),w=w.replace(/&amp;#39;/g,&amp;#39;&amp;quot;&amp;#39;);try{h=JSON.parse(w),m&amp;amp;&amp;amp;(h=kt({},m,h))}catch(y){return this.logger.warn(&amp;quot;failed parsing options string in nesting for key &amp;quot;.concat(d),y),&amp;quot;&amp;quot;.concat(d).concat(g).concat(w)}return delete h.defaultValue,d}for(;o=this.nestingRegexp.exec(r);){var c=[],p=!1;if(o[0].includes(this.formatSeparator)&amp;amp;&amp;amp;!/{.*}/.test(o[1])){var f=o[1].split(this.formatSeparator).map(function(d){return d.trim()});o[1]=f.shift(),c=f,p=!0}if(u=n(l.call(this,o[1].trim(),h),h),u&amp;amp;&amp;amp;o[0]===r&amp;amp;&amp;amp;typeof u!=&amp;quot;string&amp;quot;)return u;typeof u!=&amp;quot;string&amp;quot;&amp;amp;&amp;amp;(u=Qm(u)),u||(this.logger.warn(&amp;quot;missed to resolve &amp;quot;.concat(o[1],&amp;quot; for nesting &amp;quot;).concat(r)),u=&amp;quot;&amp;quot;),p&amp;amp;&amp;amp;(u=c.reduce(function(d,m){return s.format(d,m,a.lng,a)},u.trim())),r=r.replace(o[0],u),this.regexp.lastIndex=0}return r}}]),i}();function Kb(i,t){for(var r=i.indexOf(t);r!==-1;)i.splice(r,1),r=i.indexOf(t)}var Jb=function(i){ao(t,i);function t(r,n,s){var a,o=arguments.length&amp;gt;3&amp;amp;&amp;amp;arguments[3]!==void 0?arguments[3]:{};return wr(this,t),a=Is(this,Rn(t).call(this)),ml&amp;amp;&amp;amp;Zi.call(wi(a)),a.backend=r,a.store=n,a.services=s,a.languageUtils=s.languageUtils,a.options=o,a.logger=Ci.create(&amp;quot;backendConnector&amp;quot;),a.state={},a.queue=[],a.backend&amp;amp;&amp;amp;a.backend.init&amp;amp;&amp;amp;a.backend.init(s,o.backend,o),a}return Cr(t,[{key:&amp;quot;queueLoad&amp;quot;,value:function(n,s,a,o){var u=this,h=[],l=[],c=[],p=[];return n.forEach(function(f){var d=!0;s.forEach(function(m){var g=&amp;quot;&amp;quot;.concat(f,&amp;quot;|&amp;quot;).concat(m);!a.reload&amp;amp;&amp;amp;u.store.hasResourceBundle(f,m)?u.state[g]=2:u.state[g]&amp;lt;0||(u.state[g]===1?l.indexOf(g)&amp;lt;0&amp;amp;&amp;amp;l.push(g):(u.state[g]=1,d=!1,l.indexOf(g)&amp;lt;0&amp;amp;&amp;amp;l.push(g),h.indexOf(g)&amp;lt;0&amp;amp;&amp;amp;h.push(g),p.indexOf(m)&amp;lt;0&amp;amp;&amp;amp;p.push(m)))}),d||c.push(f)}),(h.length||l.length)&amp;amp;&amp;amp;this.queue.push({pending:l,loaded:{},errors:[],callback:o}),{toLoad:h,pending:l,toLoadLanguages:c,toLoadNamespaces:p}}},{key:&amp;quot;loaded&amp;quot;,value:function(n,s,a){var o=n.split(&amp;quot;|&amp;quot;),u=o[0],h=o[1];s&amp;amp;&amp;amp;this.emit(&amp;quot;failedLoading&amp;quot;,u,h,s),a&amp;amp;&amp;amp;this.store.addResourceBundle(u,h,a),this.state[n]=s?-1:2;var l={};this.queue.forEach(function(c){Gb(c.loaded,[u],h),Kb(c.pending,n),s&amp;amp;&amp;amp;c.errors.push(s),c.pending.length===0&amp;amp;&amp;amp;!c.done&amp;amp;&amp;amp;(Object.keys(c.loaded).forEach(function(p){l[p]||(l[p]=[]),c.loaded[p].length&amp;amp;&amp;amp;c.loaded[p].forEach(function(f){l[p].indexOf(f)&amp;lt;0&amp;amp;&amp;amp;l[p].push(f)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit(&amp;quot;loaded&amp;quot;,l),this.queue=this.queue.filter(function(c){return!c.done})}},{key:&amp;quot;read&amp;quot;,value:function(n,s,a){var o=this,u=arguments.length&amp;gt;3&amp;amp;&amp;amp;arguments[3]!==void 0?arguments[3]:0,h=arguments.length&amp;gt;4&amp;amp;&amp;amp;arguments[4]!==void 0?arguments[4]:350,l=arguments.length&amp;gt;5?arguments[5]:void 0;return n.length?this.backend[a](n,s,function(c,p){if(c&amp;amp;&amp;amp;p&amp;amp;&amp;amp;u&amp;lt;5){setTimeout(function(){o.read.call(o,n,s,a,u+1,h*2,l)},h);return}l(c,p)}):l(null,{})}},{key:&amp;quot;prepareLoading&amp;quot;,value:function(n,s){var a=this,o=arguments.length&amp;gt;2&amp;amp;&amp;amp;arguments[2]!==void 0?arguments[2]:{},u=arguments.length&amp;gt;3?arguments[3]:void 0;if(!this.backend)return this.logger.warn(&amp;quot;No backend was added via i18next.use. Will not load resources.&amp;quot;),u&amp;amp;&amp;amp;u();typeof n==&amp;quot;string&amp;quot;&amp;amp;&amp;amp;(n=this.languageUtils.toResolveHierarchy(n)),typeof s==&amp;quot;string&amp;quot;&amp;amp;&amp;amp;(s=[s]);var h=this.queueLoad(n,s,o,u);if(!h.toLoad.length)return h.pending.length||u(),null;h.toLoad.forEach(function(l){a.loadOne(l)})}},{key:&amp;quot;load&amp;quot;,value:function(n,s,a){this.prepareLoading(n,s,{},a)}},{key:&amp;quot;reload&amp;quot;,value:function(n,s,a){this.prepareLoading(n,s,{reload:!0},a)}},{key:&amp;quot;loadOne&amp;quot;,value:function(n){var s=this,a=arguments.length&amp;gt;1&amp;amp;&amp;amp;arguments[1]!==void 0?arguments[1]:&amp;quot;&amp;quot;,o=n.split(&amp;quot;|&amp;quot;),u=o[0],h=o[1];this.read(u,h,&amp;quot;read&amp;quot;,void 0,void 0,function(l,c){l&amp;amp;&amp;amp;s.logger.warn(&amp;quot;&amp;quot;.concat(a,&amp;quot;loading namespace &amp;quot;).concat(h,&amp;quot; for language &amp;quot;).concat(u,&amp;quot; failed&amp;quot;),l),!l&amp;amp;&amp;amp;c&amp;amp;&amp;amp;s.logger.log(&amp;quot;&amp;quot;.concat(a,&amp;quot;loaded namespace &amp;quot;).concat(h,&amp;quot; for language &amp;quot;).concat(u),c),s.loaded(n,l,c)})}},{key:&amp;quot;saveMissing&amp;quot;,value:function(n,s,a,o,u){var h=arguments.length&amp;gt;5&amp;amp;&amp;amp;arguments[5]!==void 0?arguments[5]:{};if(this.services.utils&amp;amp;&amp;amp;this.services.utils.hasLoadedNamespace&amp;amp;&amp;amp;!this.services.utils.hasLoadedNamespace(s)){this.logger.warn(&amp;#39;did not save key &amp;quot;&amp;#39;.concat(a,&amp;#39;&amp;quot; as the namespace &amp;quot;&amp;#39;).concat(s,&amp;#39;&amp;quot; was not yet loaded&amp;#39;),&amp;quot;This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!&amp;quot;);return}a==null||a===&amp;quot;&amp;quot;||(this.backend&amp;amp;&amp;amp;this.backend.create&amp;amp;&amp;amp;this.backend.create(n,s,a,o,null,kt({},h,{isUpdate:u})),!(!n||!n[0])&amp;amp;&amp;amp;this.store.addResource(n[0],s,a,o))}}]),t}(Zi);function Qb(){return{debug:!1,initImmediate:!0,ns:[&amp;quot;translation&amp;quot;],defaultNS:[&amp;quot;translation&amp;quot;],fallbackLng:[&amp;quot;dev&amp;quot;],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:&amp;quot;all&amp;quot;,preload:!1,simplifyPluralSuffix:!0,keySeparator:&amp;quot;.&amp;quot;,nsSeparator:&amp;quot;:&amp;quot;,pluralSeparator:&amp;quot;_&amp;quot;,contextSeparator:&amp;quot;_&amp;quot;,partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:&amp;quot;fallback&amp;quot;,saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){var r={};if($t(t[1])===&amp;quot;object&amp;quot;&amp;amp;&amp;amp;(r=t[1]),typeof t[1]==&amp;quot;string&amp;quot;&amp;amp;&amp;amp;(r.defaultValue=t[1]),typeof t[2]==&amp;quot;string&amp;quot;&amp;amp;&amp;amp;(r.tDescription=t[2]),$t(t[2])===&amp;quot;object&amp;quot;||$t(t[3])===&amp;quot;object&amp;quot;){var n=t[3]||t[2];Object.keys(n).forEach(function(s){r[s]=n[s]})}return r},interpolation:{escapeValue:!0,format:function(t,r,n,s){return t},prefix:&amp;quot;{{&amp;quot;,suffix:&amp;quot;}}&amp;quot;,formatSeparator:&amp;quot;,&amp;quot;,unescapePrefix:&amp;quot;-&amp;quot;,nestingPrefix:&amp;quot;$t(&amp;quot;,nestingSuffix:&amp;quot;)&amp;quot;,nestingOptionsSeparator:&amp;quot;,&amp;quot;,maxReplaces:1e3,skipOnVariables:!1}}}function n0(i){return typeof i.ns==&amp;quot;string&amp;quot;&amp;amp;&amp;amp;(i.ns=[i.ns]),typeof i.fallbackLng==&amp;quot;string&amp;quot;&amp;amp;&amp;amp;(i.fallbackLng=[i.fallbackLng]),typeof i.fallbackNS==&amp;quot;string&amp;quot;&amp;amp;&amp;amp;(i.fallbackNS=[i.fallbackNS]),i.whitelist&amp;amp;&amp;amp;(i.whitelist&amp;amp;&amp;amp;i.whitelist.indexOf(&amp;quot;cimode&amp;quot;)&amp;lt;0&amp;amp;&amp;amp;(i.whitelist=i.whitelist.concat([&amp;quot;cimode&amp;quot;])),i.supportedLngs=i.whitelist),i.nonExplicitWhitelist&amp;amp;&amp;amp;(i.nonExplicitSupportedLngs=i.nonExplicitWhitelist),i.supportedLngs&amp;amp;&amp;amp;i.supportedLngs.indexOf(&amp;quot;cimode&amp;quot;)&amp;lt;0&amp;amp;&amp;amp;(i.supportedLngs=i.supportedLngs.concat([&amp;quot;cimode&amp;quot;])),i}function pl(){}var e_=function(i){ao(t,i);function t(){var r,n=arguments.length&amp;gt;0&amp;amp;&amp;amp;arguments[0]!==void 0?arguments[0]:{},s=arguments.length&amp;gt;1?arguments[1]:void 0;if(wr(this,t),r=Is(this,Rn(t).call(this)),ml&amp;amp;&amp;amp;Zi.call(wi(r)),r.options=n0(n),r.services={},r.logger=Ci,r.modules={external:[]},s&amp;amp;&amp;amp;!r.isInitialized&amp;amp;&amp;amp;!n.isClone){if(!r.options.initImmediate)return r.init(n,s),Is(r,wi(r));setTimeout(function(){r.init(n,s)},0)}return r}return Cr(t,[{key:&amp;quot;init&amp;quot;,value:function(){var n=this,s=arguments.length&amp;gt;0&amp;amp;&amp;amp;arguments[0]!==void 0?arguments[0]:{},a=arguments.length&amp;gt;1?arguments[1]:void 0;typeof s==&amp;quot;function&amp;quot;&amp;amp;&amp;amp;(a=s,s={}),s.whitelist&amp;amp;&amp;amp;!s.supportedLngs&amp;amp;&amp;amp;this.logger.deprecate(&amp;quot;whitelist&amp;quot;,&amp;#39;option &amp;quot;whitelist&amp;quot; will be renamed to &amp;quot;supportedLngs&amp;quot; in the next major - please make sure to rename this option asap.&amp;#39;),s.nonExplicitWhitelist&amp;amp;&amp;amp;!s.nonExplicitSupportedLngs&amp;amp;&amp;amp;this.logger.deprecate(&amp;quot;whitelist&amp;quot;,&amp;#39;options &amp;quot;nonExplicitWhitelist&amp;quot; will be renamed to &amp;quot;nonExplicitSupportedLngs&amp;quot; in the next major - please make sure to rename this option asap.&amp;#39;),this.options=kt({},Qb(),this.options,n0(s)),this.format=this.options.interpolation.format,a||(a=pl);function o(m){return m?typeof m==&amp;quot;function&amp;quot;?new m:m:null}if(!this.options.isClone){this.modules.logger?Ci.init(o(this.modules.logger),this.options):Ci.init(null,this.options);var u=new Hb(this.options);this.store=new $b(this.options.resources,this.options);var h=this.services;h.logger=Ci,h.resourceStore=this.store,h.languageUtils=u,h.pluralResolver=new Yb(u,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),h.interpolator=new Xb(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new Jb(o(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on(&amp;quot;*&amp;quot;,function(m){for(var g=arguments.length,v=new Array(g&amp;gt;1?g-1:0),w=1;w&amp;lt;g;w++)v[w-1]=arguments[w];n.emit.apply(n,[m].concat(v))}),this.modules.languageDetector&amp;amp;&amp;amp;(h.languageDetector=o(this.modules.languageDetector),h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&amp;amp;&amp;amp;(h.i18nFormat=o(this.modules.i18nFormat),h.i18nFormat.init&amp;amp;&amp;amp;h.i18nFormat.init(this)),this.translator=new i0(this.services,this.options),this.translator.on(&amp;quot;*&amp;quot;,function(m){for(var g=arguments.length,v=new Array(g&amp;gt;1?g-1:0),w=1;w&amp;lt;g;w++)v[w-1]=arguments[w];n.emit.apply(n,[m].concat(v))}),this.modules.external.forEach(function(m){m.init&amp;amp;&amp;amp;m.init(n)})}if(this.options.fallbackLng&amp;amp;&amp;amp;!this.services.languageDetector&amp;amp;&amp;amp;!this.options.lng){var l=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);l.length&amp;gt;0&amp;amp;&amp;amp;l[0]!==&amp;quot;dev&amp;quot;&amp;amp;&amp;amp;(this.options.lng=l[0])}!this.services.languageDetector&amp;amp;&amp;amp;!this.options.lng&amp;amp;&amp;amp;this.logger.warn(&amp;quot;init: no languageDetector is used and no lng is defined&amp;quot;);var c=[&amp;quot;getResource&amp;quot;,&amp;quot;hasResourceBundle&amp;quot;,&amp;quot;getResourceBundle&amp;quot;,&amp;quot;getDataByLanguage&amp;quot;];c.forEach(function(m){n[m]=function(){var g;return(g=n.store)[m].apply(g,arguments)}});var p=[&amp;quot;addResource&amp;quot;,&amp;quot;addResources&amp;quot;,&amp;quot;addResourceBundle&amp;quot;,&amp;quot;removeResourceBundle&amp;quot;];p.forEach(function(m){n[m]=function(){var g;return(g=n.store)[m].apply(g,arguments),n}});var f=oo(),d=function(){var g=function(w,y){n.isInitialized&amp;amp;&amp;amp;n.logger.warn(&amp;quot;init: i18next is already initialized. You should call init just once!&amp;quot;),n.isInitialized=!0,n.options.isClone||n.logger.log(&amp;quot;initialized&amp;quot;,n.options),n.emit(&amp;quot;initialized&amp;quot;,n.options),f.resolve(y),a(w,y)};if(n.languages&amp;amp;&amp;amp;n.options.compatibilityAPI!==&amp;quot;v1&amp;quot;&amp;amp;&amp;amp;!n.isInitialized)return g(null,n.t.bind(n));n.changeLanguage(n.options.lng,g)};return this.options.resources||!this.options.initImmediate?d():setTimeout(d,0),f}},{key:&amp;quot;loadResources&amp;quot;,value:function(n){var s=this,a=arguments.length&amp;gt;1&amp;amp;&amp;amp;arguments[1]!==void 0?arguments[1]:pl,o=a,u=typeof n==&amp;quot;string&amp;quot;?n:this.language;if(typeof n==&amp;quot;function&amp;quot;&amp;amp;&amp;amp;(o=n),!this.options.resources||this.options.partialBundledLanguages){if(u&amp;amp;&amp;amp;u.toLowerCase()===&amp;quot;cimode&amp;quot;)return o();var h=[],l=function(f){if(f){var d=s.services.languageUtils.toResolveHierarchy(f);d.forEach(function(m){h.indexOf(m)&amp;lt;0&amp;amp;&amp;amp;h.push(m)})}};if(u)l(u);else{var c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.forEach(function(p){return l(p)})}this.options.preload&amp;amp;&amp;amp;this.options.preload.forEach(function(p){return l(p)}),this.services.backendConnector.load(h,this.options.ns,o)}else o(null)}},{key:&amp;quot;reloadResources&amp;quot;,value:function(n,s,a){var o=oo();return n||(n=this.languages),s||(s=this.options.ns),a||(a=pl),this.services.backendConnector.reload(n,s,function(u){o.resolve(),a(u)}),o}},{key:&amp;quot;use&amp;quot;,value:function(n){if(!n)throw new Error(&amp;quot;You are passing an undefined module! Please check the object you are passing to i18next.use()&amp;quot;);if(!n.type)throw new Error(&amp;quot;You are passing a wrong module! Please check the object you are passing to i18next.use()&amp;quot;);return n.type===&amp;quot;backend&amp;quot;&amp;amp;&amp;amp;(this.modules.backend=n),(n.type===&amp;quot;logger&amp;quot;||n.log&amp;amp;&amp;amp;n.warn&amp;amp;&amp;amp;n.error)&amp;amp;&amp;amp;(this.modules.logger=n),n.type===&amp;quot;languageDetector&amp;quot;&amp;amp;&amp;amp;(this.modules.languageDetector=n),n.type===&amp;quot;i18nFormat&amp;quot;&amp;amp;&amp;amp;(this.modules.i18nFormat=n),n.type===&amp;quot;postProcessor&amp;quot;&amp;amp;&amp;amp;a0.addPostProcessor(n),n.type===&amp;quot;3rdParty&amp;quot;&amp;amp;&amp;amp;this.modules.external.push(n),this}},{key:&amp;quot;changeLanguage&amp;quot;,value:function(n,s){var a=this;this.isLanguageChangingTo=n;var o=oo();this.emit(&amp;quot;languageChanging&amp;quot;,n);var u=function(c,p){p?(a.language=p,a.languages=a.services.languageUtils.toResolveHierarchy(p),a.translator.changeLanguage(p),a.isLanguageChangingTo=void 0,a.emit(&amp;quot;languageChanged&amp;quot;,p),a.logger.log(&amp;quot;languageChanged&amp;quot;,p)):a.isLanguageChangingTo=void 0,o.resolve(function(){return a.t.apply(a,arguments)}),s&amp;amp;&amp;amp;s(c,function(){return a.t.apply(a,arguments)})},h=function(c){var p=typeof c==&amp;quot;string&amp;quot;?c:a.services.languageUtils.getBestMatchFromCodes(c);p&amp;amp;&amp;amp;(a.language||(a.language=p,a.languages=a.services.languageUtils.toResolveHierarchy(p)),a.translator.language||a.translator.changeLanguage(p),a.services.languageDetector&amp;amp;&amp;amp;a.services.languageDetector.cacheUserLanguage(p)),a.loadResources(p,function(f){u(f,p)})};return!n&amp;amp;&amp;amp;this.services.languageDetector&amp;amp;&amp;amp;!this.services.languageDetector.async?h(this.services.languageDetector.detect()):!n&amp;amp;&amp;amp;this.services.languageDetector&amp;amp;&amp;amp;this.services.languageDetector.async?this.services.languageDetector.detect(h):h(n),o}},{key:&amp;quot;getFixedT&amp;quot;,value:function(n,s){var a=this,o=function u(h,l){var c;if($t(l)!==&amp;quot;object&amp;quot;){for(var p=arguments.length,f=new Array(p&amp;gt;2?p-2:0),d=2;d&amp;lt;p;d++)f[d-2]=arguments[d];c=a.options.overloadTranslationOptionHandler([h,l].concat(f))}else c=kt({},l);return c.lng=c.lng||u.lng,c.lngs=c.lngs||u.lngs,c.ns=c.ns||u.ns,a.t(h,c)};return typeof n==&amp;quot;string&amp;quot;?o.lng=n:o.lngs=n,o.ns=s,o}},{key:&amp;quot;t&amp;quot;,value:function(){var n;return this.translator&amp;amp;&amp;amp;(n=this.translator).translate.apply(n,arguments)}},{key:&amp;quot;exists&amp;quot;,value:function(){var n;return this.translator&amp;amp;&amp;amp;(n=this.translator).exists.apply(n,arguments)}},{key:&amp;quot;setDefaultNamespace&amp;quot;,value:function(n){this.options.defaultNS=n}},{key:&amp;quot;hasLoadedNamespace&amp;quot;,value:function(n){var s=this,a=arguments.length&amp;gt;1&amp;amp;&amp;amp;arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn(&amp;quot;hasLoadedNamespace: i18next was not initialized&amp;quot;,this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn(&amp;quot;hasLoadedNamespace: i18n.languages were undefined or empty&amp;quot;,this.languages),!1;var o=this.languages[0],u=this.options?this.options.fallbackLng:!1,h=this.languages[this.languages.length-1];if(o.toLowerCase()===&amp;quot;cimode&amp;quot;)return!0;var l=function(f,d){var m=s.services.backendConnector.state[&amp;quot;&amp;quot;.concat(f,&amp;quot;|&amp;quot;).concat(d)];return m===-1||m===2};if(a.precheck){var c=a.precheck(this,l);if(c!==void 0)return c}return!!(this.hasResourceBundle(o,n)||!this.services.backendConnector.backend||l(o,n)&amp;amp;&amp;amp;(!u||l(h,n)))}},{key:&amp;quot;loadNamespaces&amp;quot;,value:function(n,s){var a=this,o=oo();return this.options.ns?(typeof n==&amp;quot;string&amp;quot;&amp;amp;&amp;amp;(n=[n]),n.forEach(function(u){a.options.ns.indexOf(u)&amp;lt;0&amp;amp;&amp;amp;a.options.ns.push(u)}),this.loadResources(function(u){o.resolve(),s&amp;amp;&amp;amp;s(u)}),o):(s&amp;amp;&amp;amp;s(),Promise.resolve())}},{key:&amp;quot;loadLanguages&amp;quot;,value:function(n,s){var a=oo();typeof n==&amp;quot;string&amp;quot;&amp;amp;&amp;amp;(n=[n]);var o=this.options.preload||[],u=n.filter(function(h){return o.indexOf(h)&amp;lt;0});return u.length?(this.options.preload=o.concat(u),this.loadResources(function(h){a.resolve(),s&amp;amp;&amp;amp;s(h)}),a):(s&amp;amp;&amp;amp;s(),Promise.resolve())}},{key:&amp;quot;dir&amp;quot;,value:function(n){if(n||(n=this.languages&amp;amp;&amp;amp;this.languages.length&amp;gt;0?this.languages[0]:this.language),!n)return&amp;quot;rtl&amp;quot;;var s=[&amp;quot;ar&amp;quot;,&amp;quot;shu&amp;quot;,&amp;quot;sqr&amp;quot;,&amp;quot;ssh&amp;quot;,&amp;quot;xaa&amp;quot;,&amp;quot;yhd&amp;quot;,&amp;quot;yud&amp;quot;,&amp;quot;aao&amp;quot;,&amp;quot;abh&amp;quot;,&amp;quot;abv&amp;quot;,&amp;quot;acm&amp;quot;,&amp;quot;acq&amp;quot;,&amp;quot;acw&amp;quot;,&amp;quot;acx&amp;quot;,&amp;quot;acy&amp;quot;,&amp;quot;adf&amp;quot;,&amp;quot;ads&amp;quot;,&amp;quot;aeb&amp;quot;,&amp;quot;aec&amp;quot;,&amp;quot;afb&amp;quot;,&amp;quot;ajp&amp;quot;,&amp;quot;apc&amp;quot;,&amp;quot;apd&amp;quot;,&amp;quot;arb&amp;quot;,&amp;quot;arq&amp;quot;,&amp;quot;ars&amp;quot;,&amp;quot;ary&amp;quot;,&amp;quot;arz&amp;quot;,&amp;quot;auz&amp;quot;,&amp;quot;avl&amp;quot;,&amp;quot;ayh&amp;quot;,&amp;quot;ayl&amp;quot;,&amp;quot;ayn&amp;quot;,&amp;quot;ayp&amp;quot;,&amp;quot;bbz&amp;quot;,&amp;quot;pga&amp;quot;,&amp;quot;he&amp;quot;,&amp;quot;iw&amp;quot;,&amp;quot;ps&amp;quot;,&amp;quot;pbt&amp;quot;,&amp;quot;pbu&amp;quot;,&amp;quot;pst&amp;quot;,&amp;quot;prp&amp;quot;,&amp;quot;prd&amp;quot;,&amp;quot;ug&amp;quot;,&amp;quot;ur&amp;quot;,&amp;quot;ydd&amp;quot;,&amp;quot;yds&amp;quot;,&amp;quot;yih&amp;quot;,&amp;quot;ji&amp;quot;,&amp;quot;yi&amp;quot;,&amp;quot;hbo&amp;quot;,&amp;quot;men&amp;quot;,&amp;quot;xmn&amp;quot;,&amp;quot;fa&amp;quot;,&amp;quot;jpr&amp;quot;,&amp;quot;peo&amp;quot;,&amp;quot;pes&amp;quot;,&amp;quot;prs&amp;quot;,&amp;quot;dv&amp;quot;,&amp;quot;sam&amp;quot;];return s.indexOf(this.services.languageUtils.getLanguagePartFromCode(n))&amp;gt;=0?&amp;quot;rtl&amp;quot;:&amp;quot;ltr&amp;quot;}},{key:&amp;quot;createInstance&amp;quot;,value:function(){var n=arguments.length&amp;gt;0&amp;amp;&amp;amp;arguments[0]!==void 0?arguments[0]:{},s=arguments.length&amp;gt;1?arguments[1]:void 0;return new t(n,s)}},{key:&amp;quot;cloneInstance&amp;quot;,value:function(){var n=this,s=arguments.length&amp;gt;0&amp;amp;&amp;amp;arguments[0]!==void 0?arguments[0]:{},a=arguments.length&amp;gt;1&amp;amp;&amp;amp;arguments[1]!==void 0?arguments[1]:pl,o=kt({},this.options,s,{isClone:!0}),u=new t(o),h=[&amp;quot;store&amp;quot;,&amp;quot;services&amp;quot;,&amp;quot;language&amp;quot;];return h.forEach(function(l){u[l]=n[l]}),u.services=kt({},this.services),u.services.utils={hasLoadedNamespace:u.hasLoadedNamespace.bind(u)},u.translator=new i0(u.services,u.options),u.translator.on(&amp;quot;*&amp;quot;,function(l){for(var c=arguments.length,p=new Array(c&amp;gt;1?c-1:0),f=1;f&amp;lt;c;f++)p[f-1]=arguments[f];u.emit.apply(u,[l].concat(p))}),u.init(o,a),u.translator.options=u.options,u.translator.backendConnector.services.utils={hasLoadedNamespace:u.hasLoadedNamespace.bind(u)},u}}]),t}(Zi),t_=new e_,Xc=t_;var u0=[],r_=u0.forEach,i_=u0.slice;function n_(i){return r_.call(i_.call(arguments,1),function(t){if(t)for(var r in t)i[r]===void 0&amp;amp;&amp;amp;(i[r]=t[r])}),i}var o0={create:function(t,r,n,s){var a=arguments.length&amp;gt;4&amp;amp;&amp;amp;arguments[4]!==void 0?arguments[4]:{path:&amp;quot;/&amp;quot;},o;if(n){var u=new Date;u.setTime(u.getTime()+n*60*1e3),o=&amp;quot;; expires=&amp;quot;+u.toUTCString()}else o=&amp;quot;&amp;quot;;s=s?&amp;quot;domain=&amp;quot;+s+&amp;quot;;&amp;quot;:&amp;quot;&amp;quot;,a=Object.keys(a).reduce(function(h,l){return h+&amp;quot;;&amp;quot;+l.replace(/([A-Z])/g,function(c){return&amp;quot;-&amp;quot;+c.toLowerCase()})+&amp;quot;=&amp;quot;+a[l]},&amp;quot;&amp;quot;),document.cookie=t+&amp;quot;=&amp;quot;+encodeURIComponent(r)+o+&amp;quot;;&amp;quot;+s+a},read:function(t){for(var r=t+&amp;quot;=&amp;quot;,n=document.cookie.split(&amp;quot;;&amp;quot;),s=0;s&amp;lt;n.length;s++){for(var a=n[s];a.charAt(0)===&amp;quot; &amp;quot;;)a=a.substring(1,a.length);if(a.indexOf(r)===0)return a.substring(r.length,a.length)}return null},remove:function(t){this.create(t,&amp;quot;&amp;quot;,-1)}},s_={name:&amp;quot;cookie&amp;quot;,lookup:function(t){var r;if(t.lookupCookie&amp;amp;&amp;amp;typeof document&amp;lt;&amp;quot;u&amp;quot;){var n=o0.read(t.lookupCookie);n&amp;amp;&amp;amp;(r=n)}return r},cacheUserLanguage:function(t,r){r.lookupCookie&amp;amp;&amp;amp;typeof document&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;o0.create(r.lookupCookie,t,r.cookieMinutes,r.cookieDomain,r.cookieOptions)}},a_={name:&amp;quot;querystring&amp;quot;,lookup:function(t){var r;if(typeof window&amp;lt;&amp;quot;u&amp;quot;)for(var n=window.location.search.substring(1),s=n.split(&amp;quot;&amp;amp;&amp;quot;),a=0;a&amp;lt;s.length;a++){var o=s[a].indexOf(&amp;quot;=&amp;quot;);if(o&amp;gt;0){var u=s[a].substring(0,o);u===t.lookupQuerystring&amp;amp;&amp;amp;(r=s[a].substring(o+1))}}return r}},gl;try{gl=window!==&amp;quot;undefined&amp;quot;&amp;amp;&amp;amp;window.localStorage!==null,Kc=&amp;quot;i18next.translate.boo&amp;quot;,window.localStorage.setItem(Kc,&amp;quot;foo&amp;quot;),window.localStorage.removeItem(Kc)}catch{gl=!1}var Kc,o_={name:&amp;quot;localStorage&amp;quot;,lookup:function(t){var r;if(t.lookupLocalStorage&amp;amp;&amp;amp;gl){var n=window.localStorage.getItem(t.lookupLocalStorage);n&amp;amp;&amp;amp;(r=n)}return r},cacheUserLanguage:function(t,r){r.lookupLocalStorage&amp;amp;&amp;amp;gl&amp;amp;&amp;amp;window.localStorage.setItem(r.lookupLocalStorage,t)}},yl;try{yl=window!==&amp;quot;undefined&amp;quot;&amp;amp;&amp;amp;window.sessionStorage!==null,Jc=&amp;quot;i18next.translate.boo&amp;quot;,window.sessionStorage.setItem(Jc,&amp;quot;foo&amp;quot;),window.sessionStorage.removeItem(Jc)}catch{yl=!1}var Jc,u_={name:&amp;quot;sessionStorage&amp;quot;,lookup:function(t){var r;if(t.lookupsessionStorage&amp;amp;&amp;amp;yl){var n=window.sessionStorage.getItem(t.lookupsessionStorage);n&amp;amp;&amp;amp;(r=n)}return r},cacheUserLanguage:function(t,r){r.lookupsessionStorage&amp;amp;&amp;amp;yl&amp;amp;&amp;amp;window.sessionStorage.setItem(r.lookupsessionStorage,t)}},l_={name:&amp;quot;navigator&amp;quot;,lookup:function(t){var r=[];if(typeof navigator&amp;lt;&amp;quot;u&amp;quot;){if(navigator.languages)for(var n=0;n&amp;lt;navigator.languages.length;n++)r.push(navigator.languages[n]);navigator.userLanguage&amp;amp;&amp;amp;r.push(navigator.userLanguage),navigator.language&amp;amp;&amp;amp;r.push(navigator.language)}return r.length&amp;gt;0?r:void 0}},h_={name:&amp;quot;htmlTag&amp;quot;,lookup:function(t){var r,n=t.htmlTag||(typeof document&amp;lt;&amp;quot;u&amp;quot;?document.documentElement:null);return n&amp;amp;&amp;amp;typeof n.getAttribute==&amp;quot;function&amp;quot;&amp;amp;&amp;amp;(r=n.getAttribute(&amp;quot;lang&amp;quot;)),r}},c_={name:&amp;quot;path&amp;quot;,lookup:function(t){var r;if(typeof window&amp;lt;&amp;quot;u&amp;quot;){var n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(n instanceof Array)if(typeof t.lookupFromPathIndex==&amp;quot;number&amp;quot;){if(typeof n[t.lookupFromPathIndex]!=&amp;quot;string&amp;quot;)return;r=n[t.lookupFromPathIndex].replace(&amp;quot;/&amp;quot;,&amp;quot;&amp;quot;)}else r=n[0].replace(&amp;quot;/&amp;quot;,&amp;quot;&amp;quot;)}return r}},f_={name:&amp;quot;subdomain&amp;quot;,lookup:function(t){var r;if(typeof window&amp;lt;&amp;quot;u&amp;quot;){var n=window.location.href.match(/(?:http[s]*\:\/\/)*(.*?)\.(?=[^\/]*\..{2,5})/gi);n instanceof Array&amp;amp;&amp;amp;(typeof t.lookupFromSubdomainIndex==&amp;quot;number&amp;quot;?r=n[t.lookupFromSubdomainIndex].replace(&amp;quot;http://&amp;quot;,&amp;quot;&amp;quot;).replace(&amp;quot;https://&amp;quot;,&amp;quot;&amp;quot;).replace(&amp;quot;.&amp;quot;,&amp;quot;&amp;quot;):r=n[0].replace(&amp;quot;http://&amp;quot;,&amp;quot;&amp;quot;).replace(&amp;quot;https://&amp;quot;,&amp;quot;&amp;quot;).replace(&amp;quot;.&amp;quot;,&amp;quot;&amp;quot;))}return r}};function p_(){return{order:[&amp;quot;querystring&amp;quot;,&amp;quot;cookie&amp;quot;,&amp;quot;localStorage&amp;quot;,&amp;quot;sessionStorage&amp;quot;,&amp;quot;navigator&amp;quot;,&amp;quot;htmlTag&amp;quot;],lookupQuerystring:&amp;quot;lng&amp;quot;,lookupCookie:&amp;quot;i18next&amp;quot;,lookupLocalStorage:&amp;quot;i18nextLng&amp;quot;,caches:[&amp;quot;localStorage&amp;quot;],excludeCacheFor:[&amp;quot;cimode&amp;quot;],checkWhitelist:!0,checkForSimilarInWhitelist:!1}}var l0=function(){function i(t){var r=arguments.length&amp;gt;1&amp;amp;&amp;amp;arguments[1]!==void 0?arguments[1]:{};wr(this,i),this.type=&amp;quot;languageDetector&amp;quot;,this.detectors={},this.init(t,r)}return Cr(i,[{key:&amp;quot;init&amp;quot;,value:function(r){var n=arguments.length&amp;gt;1&amp;amp;&amp;amp;arguments[1]!==void 0?arguments[1]:{},s=arguments.length&amp;gt;2&amp;amp;&amp;amp;arguments[2]!==void 0?arguments[2]:{};this.services=r,this.options=n_(n,this.options||{},p_()),this.options.checkForSimilarInWhitelist&amp;amp;&amp;amp;(this.options.checkWhitelist=!0),this.options.lookupFromUrlIndex&amp;amp;&amp;amp;(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=s,this.addDetector(s_),this.addDetector(a_),this.addDetector(o_),this.addDetector(u_),this.addDetector(l_),this.addDetector(h_),this.addDetector(c_),this.addDetector(f_)}},{key:&amp;quot;addDetector&amp;quot;,value:function(r){this.detectors[r.name]=r}},{key:&amp;quot;detect&amp;quot;,value:function(r){var n=this;r||(r=this.options.order);var s=[];r.forEach(function(u){if(n.detectors[u]){var h=n.detectors[u].lookup(n.options);h&amp;amp;&amp;amp;typeof h==&amp;quot;string&amp;quot;&amp;amp;&amp;amp;(h=[h]),h&amp;amp;&amp;amp;(s=s.concat(h))}});var a;if(s.forEach(function(u){if(!a){var h=n.services.languageUtils.formatLanguageCode(u);(!n.options.checkWhitelist||n.services.languageUtils.isWhitelisted(h))&amp;amp;&amp;amp;(a=h),!a&amp;amp;&amp;amp;n.options.checkForSimilarInWhitelist&amp;amp;&amp;amp;(a=n.getSimilarInWhitelist(h))}}),!a){var o=this.i18nOptions.fallbackLng;typeof o==&amp;quot;string&amp;quot;&amp;amp;&amp;amp;(o=[o]),o||(o=[]),Object.prototype.toString.apply(o)===&amp;quot;[object Array]&amp;quot;?a=o[0]:a=o[0]||o.default&amp;amp;&amp;amp;o.default[0]}return a}},{key:&amp;quot;cacheUserLanguage&amp;quot;,value:function(r,n){var s=this;n||(n=this.options.caches),n&amp;amp;&amp;amp;(this.options.excludeCacheFor&amp;amp;&amp;amp;this.options.excludeCacheFor.indexOf(r)&amp;gt;-1||n.forEach(function(a){s.detectors[a]&amp;amp;&amp;amp;s.detectors[a].cacheUserLanguage(r,s.options)}))}},{key:&amp;quot;getSimilarInWhitelist&amp;quot;,value:function(r){var n=this;if(this.i18nOptions.whitelist){if(r.includes(&amp;quot;-&amp;quot;)){var s=r.split(&amp;quot;-&amp;quot;)[0],a=this.services.languageUtils.formatLanguageCode(s);if(this.services.languageUtils.isWhitelisted(a))return a;r=a}var o=this.i18nOptions.whitelist.find(function(u){var h=n.services.languageUtils.formatLanguageCode(u);if(h.startsWith(r))return h});if(o)return o}}}]),i}();l0.type=&amp;quot;languageDetector&amp;quot;;var h0=l0;var b_={autoplay:`The media that tried to play (with &amp;#39;{{src}}&amp;#39;) wasn&amp;#39;t allowed to by this browser, most likely due to the browser&amp;#39;s autoplay policy.
<a href="#l2246" class="line" id="l2246">   2246</a> &lt;a href=&quot;#l2227&quot; class=&quot;line&quot; id=&quot;l2227&quot;&gt;   2227&lt;/a&gt; 
<a href="#l2247" class="line" id="l2247">   2247</a> &lt;a href=&quot;#l2228&quot; class=&quot;line&quot; id=&quot;l2228&quot;&gt;   2228&lt;/a&gt; + More info: {{url}}`,checkUserDefinedFns:&amp;quot;It seems that you may have accidentally written {{name}} instead of {{actualName}}. Please correct it if it&amp;#39;s not intentional.&amp;quot;,fileLoadError:{bytes:&amp;quot;It looks like there was a problem loading your file. {{suggestion}}&amp;quot;,font:&amp;quot;It looks like there was a problem loading your font. {{suggestion}}&amp;quot;,gif:&amp;quot;There was some trouble loading your GIF. Make sure that your GIF is using 87a or 89a encoding.&amp;quot;,image:&amp;quot;It looks like there was a problem loading your image. {{suggestion}}&amp;quot;,json:&amp;quot;It looks like there was a problem loading your JSON file. {{suggestion}}&amp;quot;,large:&amp;quot;If your large file isn&amp;#39;t fetched successfully, we recommend splitting the file into smaller segments and fetching those.&amp;quot;,strings:&amp;quot;It looks like there was a problem loading your text file. {{suggestion}}&amp;quot;,suggestion:`Try checking if the file path ({{filePath}}) is correct, hosting the file online, or running a local server.
<a href="#l2248" class="line" id="l2248">   2248</a> &lt;a href=&quot;#l2229&quot; class=&quot;line&quot; id=&quot;l2229&quot;&gt;   2229&lt;/a&gt; 
<a href="#l2249" class="line" id="l2249">   2249</a> &lt;a href=&quot;#l2230&quot; class=&quot;line&quot; id=&quot;l2230&quot;&gt;   2230&lt;/a&gt; + More info: {{url}}`,table:&amp;quot;It looks like there was a problem loading your table file. {{suggestion}}&amp;quot;,xml:&amp;quot;It looks like there was a problem loading your XML file. {{suggestion}}&amp;quot;},friendlyParamError:{type_EMPTY_VAR:`{{location}} {{func}}() was expecting {{formatType}} for the {{position}} parameter, received an empty variable instead. If not intentional, this is often a problem with scope.
<a href="#l2250" class="line" id="l2250">   2250</a> &lt;a href=&quot;#l2231&quot; class=&quot;line&quot; id=&quot;l2231&quot;&gt;   2231&lt;/a&gt; 
<a href="#l2251" class="line" id="l2251">   2251</a> &lt;a href=&quot;#l2232&quot; class=&quot;line&quot; id=&quot;l2232&quot;&gt;   2232&lt;/a&gt; + More info: {{url}}`,type_TOO_FEW_ARGUMENTS:&amp;quot;{{location}} {{func}}() was expecting at least {{minParams}} arguments, but received only {{argCount}}.&amp;quot;,type_TOO_MANY_ARGUMENTS:&amp;quot;{{location}} {{func}}() was expecting no more than {{maxParams}} arguments, but received {{argCount}}.&amp;quot;,type_WRONG_TYPE:&amp;quot;{{location}} {{func}}() was expecting {{formatType}} for the {{position}} parameter, received {{argType}} instead.&amp;quot;},globalErrors:{reference:{cannotAccess:`
<a href="#l2252" class="line" id="l2252">   2252</a> &lt;a href=&quot;#l2233&quot; class=&quot;line&quot; id=&quot;l2233&quot;&gt;   2233&lt;/a&gt; {{location}} &amp;quot;{{symbol}}&amp;quot; is used before declaration. Make sure you have declared the variable before using it.
<a href="#l2253" class="line" id="l2253">   2253</a> &lt;a href=&quot;#l2234&quot; class=&quot;line&quot; id=&quot;l2234&quot;&gt;   2234&lt;/a&gt; 
<a href="#l2254" class="line" id="l2254">   2254</a> &lt;a href=&quot;#l2235&quot; class=&quot;line&quot; id=&quot;l2235&quot;&gt;   2235&lt;/a&gt; + More info: {{url}}`,notDefined:`
<a href="#l2255" class="line" id="l2255">   2255</a> &lt;a href=&quot;#l2236&quot; class=&quot;line&quot; id=&quot;l2236&quot;&gt;   2236&lt;/a&gt; {{location}} &amp;quot;{{symbol}}&amp;quot; is not defined in the current scope. If you have defined it in your code, you should check its scope, spelling, and letter-casing (JavaScript is case-sensitive).
<a href="#l2256" class="line" id="l2256">   2256</a> &lt;a href=&quot;#l2237&quot; class=&quot;line&quot; id=&quot;l2237&quot;&gt;   2237&lt;/a&gt; 
<a href="#l2257" class="line" id="l2257">   2257</a> &lt;a href=&quot;#l2238&quot; class=&quot;line&quot; id=&quot;l2238&quot;&gt;   2238&lt;/a&gt; + More info: {{url}}`},stackSubseq:`\u2514[{{location}}] 
<a href="#l2258" class="line" id="l2258">   2258</a> &lt;a href=&quot;#l2239&quot; class=&quot;line&quot; id=&quot;l2239&quot;&gt;   2239&lt;/a&gt; 	 Called from line {{line}} in {{func}}()
<a href="#l2259" class="line" id="l2259">   2259</a> &lt;a href=&quot;#l2240&quot; class=&quot;line&quot; id=&quot;l2240&quot;&gt;   2240&lt;/a&gt; `,stackTop:`\u250C[{{location}}] 
<a href="#l2260" class="line" id="l2260">   2260</a> &lt;a href=&quot;#l2241&quot; class=&quot;line&quot; id=&quot;l2241&quot;&gt;   2241&lt;/a&gt; 	 Error at line {{line}} in {{func}}()
<a href="#l2261" class="line" id="l2261">   2261</a> &lt;a href=&quot;#l2242&quot; class=&quot;line&quot; id=&quot;l2242&quot;&gt;   2242&lt;/a&gt; `,syntax:{badReturnOrYield:`
<a href="#l2262" class="line" id="l2262">   2262</a> &lt;a href=&quot;#l2243&quot; class=&quot;line&quot; id=&quot;l2243&quot;&gt;   2243&lt;/a&gt; Syntax Error - return lies outside of a function. Make sure you\u2019re not missing any brackets, so that return lies inside a function.
<a href="#l2263" class="line" id="l2263">   2263</a> &lt;a href=&quot;#l2244&quot; class=&quot;line&quot; id=&quot;l2244&quot;&gt;   2244&lt;/a&gt; 
<a href="#l2264" class="line" id="l2264">   2264</a> &lt;a href=&quot;#l2245&quot; class=&quot;line&quot; id=&quot;l2245&quot;&gt;   2245&lt;/a&gt; + More info: {{url}}`,invalidToken:`
<a href="#l2265" class="line" id="l2265">   2265</a> &lt;a href=&quot;#l2246&quot; class=&quot;line&quot; id=&quot;l2246&quot;&gt;   2246&lt;/a&gt; Syntax Error - Found a symbol that JavaScript doesn&amp;#39;t recognize or didn&amp;#39;t expect at it&amp;#39;s place.
<a href="#l2266" class="line" id="l2266">   2266</a> &lt;a href=&quot;#l2247&quot; class=&quot;line&quot; id=&quot;l2247&quot;&gt;   2247&lt;/a&gt; 
<a href="#l2267" class="line" id="l2267">   2267</a> &lt;a href=&quot;#l2248&quot; class=&quot;line&quot; id=&quot;l2248&quot;&gt;   2248&lt;/a&gt; + More info: {{url}}`,missingInitializer:`
<a href="#l2268" class="line" id="l2268">   2268</a> &lt;a href=&quot;#l2249&quot; class=&quot;line&quot; id=&quot;l2249&quot;&gt;   2249&lt;/a&gt; Syntax Error - A const variable is declared but not initialized. In JavaScript, an initializer for a const is required. A value must be specified in the same statement in which the variable is declared. Check the line number in the error and assign the const variable a value.
<a href="#l2269" class="line" id="l2269">   2269</a> &lt;a href=&quot;#l2250&quot; class=&quot;line&quot; id=&quot;l2250&quot;&gt;   2250&lt;/a&gt; 
<a href="#l2270" class="line" id="l2270">   2270</a> &lt;a href=&quot;#l2251&quot; class=&quot;line&quot; id=&quot;l2251&quot;&gt;   2251&lt;/a&gt; + More info: {{url}}`,redeclaredVariable:`
<a href="#l2271" class="line" id="l2271">   2271</a> &lt;a href=&quot;#l2252&quot; class=&quot;line&quot; id=&quot;l2252&quot;&gt;   2252&lt;/a&gt; Syntax Error - &amp;quot;{{symbol}}&amp;quot; is being redeclared. JavaScript doesn&amp;#39;t allow declaring a variable more than once. Check the line number in error for redeclaration of the variable.
<a href="#l2272" class="line" id="l2272">   2272</a> &lt;a href=&quot;#l2253&quot; class=&quot;line&quot; id=&quot;l2253&quot;&gt;   2253&lt;/a&gt; 
<a href="#l2273" class="line" id="l2273">   2273</a> &lt;a href=&quot;#l2254&quot; class=&quot;line&quot; id=&quot;l2254&quot;&gt;   2254&lt;/a&gt; + More info: {{url}}`,unexpectedToken:`
<a href="#l2274" class="line" id="l2274">   2274</a> &lt;a href=&quot;#l2255&quot; class=&quot;line&quot; id=&quot;l2255&quot;&gt;   2255&lt;/a&gt; Syntax Error - Symbol present at a place that wasn&amp;#39;t expected.
<a href="#l2275" class="line" id="l2275">   2275</a> &lt;a href=&quot;#l2256&quot; class=&quot;line&quot; id=&quot;l2256&quot;&gt;   2256&lt;/a&gt; Usually this is due to a typo. Check the line number in the error for anything missing/extra.
<a href="#l2276" class="line" id="l2276">   2276</a> &lt;a href=&quot;#l2257&quot; class=&quot;line&quot; id=&quot;l2257&quot;&gt;   2257&lt;/a&gt; 
<a href="#l2277" class="line" id="l2277">   2277</a> &lt;a href=&quot;#l2258&quot; class=&quot;line&quot; id=&quot;l2258&quot;&gt;   2258&lt;/a&gt; + More info: {{url}}`},type:{constAssign:`
<a href="#l2278" class="line" id="l2278">   2278</a> &lt;a href=&quot;#l2259&quot; class=&quot;line&quot; id=&quot;l2259&quot;&gt;   2259&lt;/a&gt; {{location}} A const variable is being re-assigned. In javascript, re-assigning a value to a constant is not allowed. If you want to re-assign new values to a variable, make sure it is declared as var or let.
<a href="#l2279" class="line" id="l2279">   2279</a> &lt;a href=&quot;#l2260&quot; class=&quot;line&quot; id=&quot;l2260&quot;&gt;   2260&lt;/a&gt; 
<a href="#l2280" class="line" id="l2280">   2280</a> &lt;a href=&quot;#l2261&quot; class=&quot;line&quot; id=&quot;l2261&quot;&gt;   2261&lt;/a&gt; + More info: {{url}}`,notfunc:`
<a href="#l2281" class="line" id="l2281">   2281</a> &lt;a href=&quot;#l2262&quot; class=&quot;line&quot; id=&quot;l2262&quot;&gt;   2262&lt;/a&gt; {{location}} &amp;quot;{{symbol}}&amp;quot; could not be called as a function.
<a href="#l2282" class="line" id="l2282">   2282</a> &lt;a href=&quot;#l2263&quot; class=&quot;line&quot; id=&quot;l2263&quot;&gt;   2263&lt;/a&gt; Check the spelling, letter-casing (JavaScript is case-sensitive) and its type.
<a href="#l2283" class="line" id="l2283">   2283</a> &lt;a href=&quot;#l2264&quot; class=&quot;line&quot; id=&quot;l2264&quot;&gt;   2264&lt;/a&gt; 
<a href="#l2284" class="line" id="l2284">   2284</a> &lt;a href=&quot;#l2265&quot; class=&quot;line&quot; id=&quot;l2265&quot;&gt;   2265&lt;/a&gt; + More info: {{url}}`,notfuncObj:`
<a href="#l2285" class="line" id="l2285">   2285</a> &lt;a href=&quot;#l2266&quot; class=&quot;line&quot; id=&quot;l2266&quot;&gt;   2266&lt;/a&gt; {{location}} &amp;quot;{{symbol}}&amp;quot; could not be called as a function.
<a href="#l2286" class="line" id="l2286">   2286</a> &lt;a href=&quot;#l2267&quot; class=&quot;line&quot; id=&quot;l2267&quot;&gt;   2267&lt;/a&gt; Verify whether &amp;quot;{{obj}}&amp;quot; has &amp;quot;{{symbol}}&amp;quot; in it and check the spelling, letter-casing (JavaScript is case-sensitive) and its type.
<a href="#l2287" class="line" id="l2287">   2287</a> &lt;a href=&quot;#l2268&quot; class=&quot;line&quot; id=&quot;l2268&quot;&gt;   2268&lt;/a&gt; 
<a href="#l2288" class="line" id="l2288">   2288</a> &lt;a href=&quot;#l2269&quot; class=&quot;line&quot; id=&quot;l2269&quot;&gt;   2269&lt;/a&gt; + More info: {{url}}`,readFromNull:`
<a href="#l2289" class="line" id="l2289">   2289</a> &lt;a href=&quot;#l2270&quot; class=&quot;line&quot; id=&quot;l2270&quot;&gt;   2270&lt;/a&gt; {{location}} The property of null can&amp;#39;t be read. In javascript the value null indicates that an object has no value.
<a href="#l2290" class="line" id="l2290">   2290</a> &lt;a href=&quot;#l2271&quot; class=&quot;line&quot; id=&quot;l2271&quot;&gt;   2271&lt;/a&gt; 
<a href="#l2291" class="line" id="l2291">   2291</a> &lt;a href=&quot;#l2272&quot; class=&quot;line&quot; id=&quot;l2272&quot;&gt;   2272&lt;/a&gt; + More info: {{url}}`,readFromUndefined:`
<a href="#l2292" class="line" id="l2292">   2292</a> &lt;a href=&quot;#l2273&quot; class=&quot;line&quot; id=&quot;l2273&quot;&gt;   2273&lt;/a&gt; {{location}} Cannot read property of undefined. Check the line number in error and make sure the variable which is being operated is not undefined.
<a href="#l2293" class="line" id="l2293">   2293</a> &lt;a href=&quot;#l2274&quot; class=&quot;line&quot; id=&quot;l2274&quot;&gt;   2274&lt;/a&gt; 
<a href="#l2294" class="line" id="l2294">   2294</a> &lt;a href=&quot;#l2275&quot; class=&quot;line&quot; id=&quot;l2275&quot;&gt;   2275&lt;/a&gt;  + More info: {{url}}`}},libraryError:&amp;#39;{{location}} An error with message &amp;quot;{{error}}&amp;quot; occurred inside the p5js library when {{func}} was called. If not stated otherwise, it might be an issue with the arguments passed to {{func}}.&amp;#39;,location:&amp;quot;[{{file}}, line {{line}}]&amp;quot;,misspelling:&amp;#39;{{location}} It seems that you may have accidentally written &amp;quot;{{name}}&amp;quot; instead of &amp;quot;{{actualName}}&amp;quot;. Please correct it to {{actualName}} if you wish to use the {{type}} from p5.js.&amp;#39;,misspelling_plural:`{{location}} It seems that you may have accidentally written &amp;quot;{{name}}&amp;quot;.
<a href="#l2295" class="line" id="l2295">   2295</a> &lt;a href=&quot;#l2276&quot; class=&quot;line&quot; id=&quot;l2276&quot;&gt;   2276&lt;/a&gt; You may have meant one of the following: 
<a href="#l2296" class="line" id="l2296">   2296</a> &lt;a href=&quot;#l2277&quot; class=&quot;line&quot; id=&quot;l2277&quot;&gt;   2277&lt;/a&gt; {{suggestions}}`,misusedTopLevel:`Did you just try to use p5.js&amp;#39;s {{symbolName}} {{symbolType}}? If so, you may want to move it into your sketch&amp;#39;s setup() function.
<a href="#l2297" class="line" id="l2297">   2297</a> &lt;a href=&quot;#l2278&quot; class=&quot;line&quot; id=&quot;l2278&quot;&gt;   2278&lt;/a&gt; 
<a href="#l2298" class="line" id="l2298">   2298</a> &lt;a href=&quot;#l2279&quot; class=&quot;line&quot; id=&quot;l2279&quot;&gt;   2279&lt;/a&gt; + More info: {{url}}`,preloadDisabled:&amp;quot;The preload() function has been removed in p5.js 2.0. Please load assets in setup() using async / await keywords or callbacks instead. See https://dev.to/limzykenneth/asynchronous-p5js-20-458f for more information.&amp;quot;,positions:{p_1:&amp;quot;first&amp;quot;,p_10:&amp;quot;tenth&amp;quot;,p_11:&amp;quot;eleventh&amp;quot;,p_12:&amp;quot;twelfth&amp;quot;,p_2:&amp;quot;second&amp;quot;,p_3:&amp;quot;third&amp;quot;,p_4:&amp;quot;fourth&amp;quot;,p_5:&amp;quot;fifth&amp;quot;,p_6:&amp;quot;sixth&amp;quot;,p_7:&amp;quot;seventh&amp;quot;,p_8:&amp;quot;eighth&amp;quot;,p_9:&amp;quot;ninth&amp;quot;},pre:`
<a href="#l2299" class="line" id="l2299">   2299</a> &lt;a href=&quot;#l2280&quot; class=&quot;line&quot; id=&quot;l2280&quot;&gt;   2280&lt;/a&gt; \u{1F338} p5.js says: {{message}}`,sketchReaderErrors:{reservedConst:`you have used a p5.js reserved variable &amp;quot;{{symbol}}&amp;quot; make sure you change the variable name to something else.
<a href="#l2300" class="line" id="l2300">   2300</a> &lt;a href=&quot;#l2281&quot; class=&quot;line&quot; id=&quot;l2281&quot;&gt;   2281&lt;/a&gt; 
<a href="#l2301" class="line" id="l2301">   2301</a> &lt;a href=&quot;#l2282&quot; class=&quot;line&quot; id=&quot;l2282&quot;&gt;   2282&lt;/a&gt; + More info: {{url}}`,reservedFunc:`you have used a p5.js reserved function &amp;quot;{{symbol}}&amp;quot; make sure you change the function name to something else.
<a href="#l2302" class="line" id="l2302">   2302</a> &lt;a href=&quot;#l2283&quot; class=&quot;line&quot; id=&quot;l2283&quot;&gt;   2283&lt;/a&gt; 
<a href="#l2303" class="line" id="l2303">   2303</a> &lt;a href=&quot;#l2284&quot; class=&quot;line&quot; id=&quot;l2284&quot;&gt;   2284&lt;/a&gt; + More info: {{url}}`},welcome:&amp;quot;Welcome! This is your friendly debugger. To turn me off, switch to using p5.min.js.&amp;quot;,wrongPreload:&amp;#39;{{location}} An error with message &amp;quot;{{error}}&amp;quot; occurred inside the p5js library when &amp;quot;{{func}}&amp;quot; was called. If not stated otherwise, it might be due to &amp;quot;{{func}}&amp;quot; being called from preload. Nothing besides load calls (loadImage, loadJSON, loadFont, loadStrings, etc.) should be inside the preload function.&amp;#39;},__={fes:b_},uo={en:{translation:__}},w_=[&amp;quot;en&amp;quot;,&amp;quot;es&amp;quot;,&amp;quot;ko&amp;quot;,&amp;quot;zh&amp;quot;,&amp;quot;hi&amp;quot;,&amp;quot;ja&amp;quot;];if(typeof IS_MINIFIED&amp;gt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;typeof P5_DEV_BUILD&amp;lt;&amp;quot;u&amp;quot;){let i=(E0(),Qy(C0));for(let t of Object.keys(i)){let r=t.split(&amp;quot;_&amp;quot;),n=r.slice(0,r.length-1).join(&amp;quot;-&amp;quot;),s=r[r.length-1];uo[n]=uo[n]||{},uo[n][s]=i[t]}}var vl=class{constructor(t,r){this.init(t,r)}fetchWithTimeout(t,r,n=2e3){return Promise.race([fetch(t,r),new Promise((s,a)=&amp;gt;setTimeout(()=&amp;gt;a(new Error(&amp;quot;timeout&amp;quot;)),n))])}init(t,r={}){this.services=t,this.options=r}read(t,r,n){let s=this.options.loadPath;if(t===this.options.fallback)n(null,uo[t][r]);else if(w_.includes(t)){let a=this.services.interpolator.interpolate(s,{lng:t,ns:r});this.loadUrl(a,n)}else n(&amp;quot;Not found&amp;quot;,!1)}loadUrl(t,r){this.fetchWithTimeout(t).then(n=&amp;gt;{if(!n.ok)throw new Error(`failed loading ${t}`);return n.json()},()=&amp;gt;{throw new Error(`failed loading ${t}`)}).then(n=&amp;gt;r(null,n)).catch(r)}};vl.type=&amp;quot;backend&amp;quot;;var Pe=(i,t)=&amp;gt;{console.debug(&amp;quot;p5.js translator called before translations were loaded&amp;quot;),Xc.t(i,t)},S0=()=&amp;gt;Xc.use(h0).use(vl).init({fallbackLng:&amp;quot;en&amp;quot;,nestingPrefix:&amp;quot;$tr(&amp;quot;,nestingSuffix:&amp;quot;)&amp;quot;,defaultNS:&amp;quot;translation&amp;quot;,returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:[&amp;quot;querystring&amp;quot;,&amp;quot;navigator&amp;quot;,&amp;quot;htmlTag&amp;quot;,&amp;quot;path&amp;quot;,&amp;quot;subdomain&amp;quot;],caches:[]},backend:{fallback:&amp;quot;en&amp;quot;,loadPath:&amp;quot;https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json&amp;quot;},partialBundledLanguages:!0,resources:uo}).then(t=&amp;gt;{Pe=t},t=&amp;gt;console.debug(`Translations failed to load (${t})`));var A0={ReferenceError:[{msg:&amp;quot;{{}} is not defined&amp;quot;,type:&amp;quot;NOTDEFINED&amp;quot;,browser:&amp;quot;all&amp;quot;},{msg:&amp;quot;Can&amp;#39;t find variable: {{}}&amp;quot;,type:&amp;quot;NOTDEFINED&amp;quot;,browser:&amp;quot;Safari&amp;quot;},{msg:&amp;quot;Cannot access &amp;#39;{{.}}&amp;#39; before initialization&amp;quot;,type:&amp;quot;CANNOTACCESS&amp;quot;,browser:&amp;quot;Chrome&amp;quot;},{msg:&amp;quot;can&amp;#39;t access lexical declaration &amp;#39;{{.}}&amp;#39; before initialization&amp;quot;,type:&amp;quot;CANNOTACCESS&amp;quot;,browser:&amp;quot;Firefox&amp;quot;}],SyntaxError:[{msg:&amp;quot;illegal character&amp;quot;,type:&amp;quot;INVALIDTOKEN&amp;quot;,browser:&amp;quot;Firefox&amp;quot;},{msg:&amp;quot;Invalid character&amp;quot;,type:&amp;quot;INVALIDTOKEN&amp;quot;,browser:&amp;quot;Safari&amp;quot;},{msg:&amp;quot;Invalid or unexpected token&amp;quot;,type:&amp;quot;INVALIDTOKEN&amp;quot;,browser:&amp;quot;Chrome&amp;quot;},{msg:&amp;quot;Unexpected token &amp;#39;{{.}}&amp;#39;&amp;quot;,type:&amp;quot;UNEXPECTEDTOKEN&amp;quot;,browser:&amp;quot;Chrome&amp;quot;},{msg:&amp;quot;expected {{.}}, got &amp;#39;{{.}}&amp;#39;&amp;quot;,type:&amp;quot;UNEXPECTEDTOKEN&amp;quot;,browser:&amp;quot;Chrome&amp;quot;},{msg:&amp;quot;Identifier &amp;#39;{{.}}&amp;#39; has already been declared&amp;quot;,type:&amp;quot;REDECLAREDVARIABLE&amp;quot;,browser:&amp;quot;Chrome&amp;quot;},{msg:&amp;quot;redeclaration of {} {{.}}&amp;quot;,type:&amp;quot;REDECLAREDVARIABLE&amp;quot;,browser:&amp;quot;Firefox&amp;quot;},{msg:&amp;quot;Missing initializer in const declaration&amp;quot;,type:&amp;quot;MISSINGINITIALIZER&amp;quot;,browser:&amp;quot;Chrome&amp;quot;},{msg:&amp;quot;missing = in const declaration&amp;quot;,type:&amp;quot;MISSINGINITIALIZER&amp;quot;,browser:&amp;quot;Firefox&amp;quot;},{msg:&amp;quot;Illegal return statement&amp;quot;,type:&amp;quot;BADRETURNORYIELD&amp;quot;,browser:&amp;quot;Chrome&amp;quot;},{msg:&amp;quot;return not in function&amp;quot;,type:&amp;quot;BADRETURNORYIELD&amp;quot;,browser:&amp;quot;Firefox&amp;quot;}],TypeError:[{msg:&amp;quot;{{.}} is not a function&amp;quot;,type:&amp;quot;NOTFUNC&amp;quot;,browser:&amp;quot;all&amp;quot;},{msg:&amp;quot;Cannot read {{.}} null&amp;quot;,type:&amp;quot;READNULL&amp;quot;,browser:&amp;quot;Chrome&amp;quot;},{msg:&amp;quot;{{.}} is null&amp;quot;,type:&amp;quot;READNULL&amp;quot;,browser:&amp;quot;Firefox&amp;quot;},{msg:&amp;quot;Cannot read {{.}} undefined&amp;quot;,type:&amp;quot;READUDEFINED&amp;quot;,browser:&amp;quot;Chrome&amp;quot;},{msg:&amp;quot;{{.}} is undefined&amp;quot;,type:&amp;quot;READUDEFINED&amp;quot;,browser:&amp;quot;Firefox&amp;quot;},{msg:&amp;quot;Assignment to constant variable&amp;quot;,type:&amp;quot;CONSTASSIGN&amp;quot;,browser:&amp;quot;Chrome&amp;quot;},{msg:&amp;quot;invalid assignment to const &amp;#39;{{.}}&amp;#39;&amp;quot;,type:&amp;quot;CONSTASSIGN&amp;quot;,browser:&amp;quot;Firefox&amp;quot;}]};function Qc(i,t){let r=[&amp;quot;#2D7BB6&amp;quot;,&amp;quot;#EE9900&amp;quot;,&amp;quot;#4DB200&amp;quot;,&amp;quot;#C83C00&amp;quot;],n=null,s=null,a=2;class o extends Error{}if(typeof IS_MINIFIED&amp;lt;&amp;quot;u&amp;quot;)i._friendlyError=i._checkForUserDefinedFunctions=i._fesErrorMonitor=()=&amp;gt;{};else{let l={},c=l.toString,p=[&amp;quot;Boolean&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;String&amp;quot;,&amp;quot;Function&amp;quot;,&amp;quot;Array&amp;quot;,&amp;quot;Date&amp;quot;,&amp;quot;RegExp&amp;quot;,&amp;quot;Object&amp;quot;,&amp;quot;Error&amp;quot;];for(let b=0;b&amp;lt;p.length;b++)l[`[object ${p[b]}]`]=p[b].toLowerCase();let f=b=&amp;gt;b==null?`${b}`:typeof b==&amp;quot;object&amp;quot;||typeof b==&amp;quot;function&amp;quot;?l[c.call(b)]||&amp;quot;object&amp;quot;:typeof b,d=[&amp;quot;setup&amp;quot;,&amp;quot;draw&amp;quot;,&amp;quot;deviceMoved&amp;quot;,&amp;quot;deviceTurned&amp;quot;,&amp;quot;deviceShaken&amp;quot;,&amp;quot;doubleClicked&amp;quot;,&amp;quot;mousePressed&amp;quot;,&amp;quot;mouseReleased&amp;quot;,&amp;quot;mouseMoved&amp;quot;,&amp;quot;mouseDragged&amp;quot;,&amp;quot;mouseClicked&amp;quot;,&amp;quot;mouseWheel&amp;quot;,&amp;quot;touchStarted&amp;quot;,&amp;quot;touchMoved&amp;quot;,&amp;quot;touchEnded&amp;quot;,&amp;quot;keyPressed&amp;quot;,&amp;quot;keyReleased&amp;quot;,&amp;quot;keyTyped&amp;quot;,&amp;quot;windowResized&amp;quot;],m=(b,I)=&amp;gt;{let E=&amp;quot;&amp;quot;;if(I==null||I.substring(0,4)===&amp;quot;load&amp;quot;)E=b;else{let A=I.split(&amp;quot;.&amp;quot;),C=A.length&amp;gt;1?`${A[0]}.${A[1]}`:&amp;quot;p5&amp;quot;,T=A.length===1?I:A.slice(2).join(&amp;quot;/&amp;quot;);T.startsWith(&amp;quot;p5.&amp;quot;)?E=`${b} (https://p5js.org/reference/${C}.${T})`:E=`${b} (https://p5js.org/reference/${C}/${T})`}return E};i._report=(b,I,E)=&amp;gt;{let A=i._fesLogger==null?console.log.bind(console):i._fesLogger;f(E)===&amp;quot;undefined&amp;quot;?E=&amp;quot;#B40033&amp;quot;:f(E)===&amp;quot;number&amp;quot;&amp;amp;&amp;amp;(E=r[E]),b=m(b,I);let C=Pe(&amp;quot;fes.pre&amp;quot;,{message:b});A(C)},i._error=(b,I,E)=&amp;gt;{throw i._report(I,E),b.hitCriticalError=!0,new o(&amp;quot;Stopping sketch to prevent more errors&amp;quot;)},i._friendlyError=function(b,I,E){i._report(b,I,E)},i._friendlyAutoplayError=function(b){let I=Pe(&amp;quot;fes.autoplay&amp;quot;,{src:b,url:&amp;quot;https://developer.mozilla.org/docs/Web/Media/Autoplay_guide&amp;quot;});console.log(Pe(&amp;quot;fes.pre&amp;quot;,{message:I}))};let g=(b,I)=&amp;gt;{let E=b.length,A=I.length;if(E===0)return I;if(A===0)return b;let C=[],T=[];for(let D=0;D&amp;lt;A+1;D++)T[D]=D;C=T;for(let D=1;D&amp;lt;E+1;D++){T=[];for(let F=0;F&amp;lt;A+1;F++)if(F===0)T[F]=D;else{let N=b[D-1],B=I[F-1],U=999999,j=N.toLowerCase()===B.toLowerCase()?0:1;U=U&amp;gt;j+C[F-1]?j+C[F-1]:U,U=U&amp;gt;1+T[F-1]?1+T[F-1]:U,U=U&amp;gt;1+C[F]?1+C[F]:U,T[F]=U}C=T}return T[A]};i.isPreloadSupported=function(){return!1};let v=b=&amp;gt;{if(i.disableFriendlyErrors)return;b=b instanceof i?b:window;let E=d;b.preload&amp;amp;&amp;amp;!i.isPreloadSupported()&amp;amp;&amp;amp;i._error(b,Pe(&amp;quot;fes.preloadDisabled&amp;quot;));let A={};E.forEach(C=&amp;gt;{A[C.toLowerCase()]=C});for(let C of Object.keys(b)){let T=C.toLowerCase();if(A.hasOwnProperty(T)&amp;amp;&amp;amp;!b[A[T]]&amp;amp;&amp;amp;typeof b[C]==&amp;quot;function&amp;quot;){let D=Pe(&amp;quot;fes.checkUserDefinedFns&amp;quot;,{name:C,actualName:A[T]});i._friendlyError(D,A[T])}}},w=(b,I)=&amp;gt;{n||s();let E={},A=999999;if(n.forEach(T=&amp;gt;{let D=g(b,T.name);E[D]?E[D].push(T):E[D]=[T],D&amp;lt;A&amp;amp;&amp;amp;(A=D)}),A&amp;gt;Math.min(a,b.length))return!1;let C=E[A].filter(T=&amp;gt;T.name!==b);if(C.length!==0){let T=i._getErrorStackParser().parse(I),D;T&amp;amp;&amp;amp;T[0]&amp;amp;&amp;amp;T[0].fileName&amp;amp;&amp;amp;T[0].lineNumber&amp;amp;&amp;amp;T[0].columnNumber&amp;amp;&amp;amp;(D={location:`${T[0].fileName}:${T[0].lineNumber}:${T[0].columnNumber}`,file:T[0].fileName.split(&amp;quot;/&amp;quot;).slice(-1),line:T[0].lineNumber});let F;if(C.length===1)F=Pe(&amp;quot;fes.misspelling&amp;quot;,{name:b,actualName:C[0].name,type:C[0].type,location:D?Pe(&amp;quot;fes.location&amp;quot;,D):&amp;quot;&amp;quot;,count:C.length});else{let N=C.map(B=&amp;gt;{let U=&amp;quot;\u25B6\uFE0F &amp;quot;+B.name+(B.type===&amp;quot;function&amp;quot;?&amp;quot;()&amp;quot;:&amp;quot;&amp;quot;);return m(U,B.name)}).join(`
<a href="#l2304" class="line" id="l2304">   2304</a> &lt;a href=&quot;#l2285&quot; class=&quot;line&quot; id=&quot;l2285&quot;&gt;   2285&lt;/a&gt; `);F=Pe(&amp;quot;fes.misspelling&amp;quot;,{name:b,suggestions:N,location:D?Pe(&amp;quot;fes.location&amp;quot;,D):&amp;quot;&amp;quot;,count:C.length})}return i._friendlyError(F,C.length===1?C[0].name:void 0),!0}return!1},y=b=&amp;gt;{let I=i._fesLogger&amp;amp;&amp;amp;typeof i._fesLogger==&amp;quot;function&amp;quot;?i._fesLogger:console.log.bind(console);if(b.length&amp;gt;1){let E=&amp;quot;&amp;quot;;b.forEach((A,C)=&amp;gt;{let T=`${A.fileName}:${A.lineNumber}:${A.columnNumber}`,D,F={func:A.functionName,line:A.lineNumber,location:T,file:A.fileName.split(&amp;quot;/&amp;quot;).slice(-1)};C===0?D=Pe(&amp;quot;fes.globalErrors.stackTop&amp;quot;,F):D=Pe(&amp;quot;fes.globalErrors.stackSubseq&amp;quot;,F),E+=D}),I(E)}},S=(b,I)=&amp;gt;{if(!I)return[!1,null];I.forEach(D=&amp;gt;{D.functionName=D.functionName||&amp;quot;&amp;quot;});let E=!1,A,C,T;try{throw new Error}catch(D){A=i._getErrorStackParser().parse(D)[0].fileName}for(let D=I.length-1;D&amp;gt;=0;D--){let F=I[D].functionName.split(&amp;quot;.&amp;quot;);if(d.includes(F[F.length-1])){if(C=I.slice(0,D+1),T=F[F.length-1],I[0].fileName===A){E=!0;break}break}}if(C||(C=I),E){if(C=C.map((N,B)=&amp;gt;(N.frameIndex=B,N)).filter(N=&amp;gt;N.fileName!==A),C.length===0)return[!0,null];let D=I[C[0].frameIndex-2].functionName.split(&amp;quot;.&amp;quot;).slice(-1)[0],F;if(C[0].fileName&amp;amp;&amp;amp;C[0].lineNumber&amp;amp;&amp;amp;C[0].columnNumber&amp;amp;&amp;amp;(F={location:`${C[0].fileName}:${C[0].lineNumber}:${C[0].columnNumber}`,file:C[0].fileName.split(&amp;quot;/&amp;quot;).slice(-1),line:C[0].lineNumber},i._fesLogCache[F.location]))return[!0,null];T===&amp;quot;preload&amp;quot;&amp;amp;&amp;amp;t._preloadMethods[D]==null?i._friendlyError(Pe(&amp;quot;fes.wrongPreload&amp;quot;,{func:D,location:F?Pe(&amp;quot;fes.location&amp;quot;,F):&amp;quot;&amp;quot;,error:b.message}),&amp;quot;preload&amp;quot;):i._friendlyError(Pe(&amp;quot;fes.libraryError&amp;quot;,{func:D,location:F?Pe(&amp;quot;fes.location&amp;quot;,F):&amp;quot;&amp;quot;,error:b.message}),D),C&amp;amp;&amp;amp;C.length&amp;amp;&amp;amp;y(C)}return[E,C]},_=b=&amp;gt;{if(i.disableFriendlyErrors||b&amp;amp;&amp;amp;(b instanceof o||b.reason instanceof o))return;let I;if(b instanceof Error)I=b;else if(b instanceof ErrorEvent)I=b.error;else if(b instanceof PromiseRejectionEvent&amp;amp;&amp;amp;(I=b.reason,!(I instanceof Error)))return;if(!I)return;let E=i._getErrorStackParser().parse(I),[A,C]=S(I,E);if(A)return;let T=A0[I.name];if(!T)return;let D;for(let N of T){let B=N.msg;B=B.replace(new RegExp(&amp;quot;{{}}&amp;quot;,&amp;quot;g&amp;quot;),&amp;quot;([a-zA-Z0-9_]+)&amp;quot;),B=B.replace(new RegExp(&amp;quot;{{.}}&amp;quot;,&amp;quot;g&amp;quot;),&amp;quot;(.+)&amp;quot;),B=B.replace(new RegExp(&amp;quot;{}&amp;quot;,&amp;quot;g&amp;quot;),&amp;quot;(?:[a-zA-Z0-9_]+)&amp;quot;);let U=I.message.match(B);if(U){D=Object.assign({},N),D.match=U;break}}if(!D)return;let F;switch(E&amp;amp;&amp;amp;E[0].fileName&amp;amp;&amp;amp;E[0].lineNumber&amp;amp;&amp;amp;E[0].columnNumber&amp;amp;&amp;amp;(F={location:`${E[0].fileName}:${E[0].lineNumber}:${E[0].columnNumber}`,file:E[0].fileName.split(&amp;quot;/&amp;quot;).slice(-1),line:C[0].lineNumber}),I.name){case&amp;quot;SyntaxError&amp;quot;:{switch(D.type){case&amp;quot;INVALIDTOKEN&amp;quot;:{i._friendlyError(Pe(&amp;quot;fes.globalErrors.syntax.invalidToken&amp;quot;,{url:&amp;quot;https://developer.mozilla.org/docs/Web/JavaScript/Reference/Errors/Illegal_character#What_went_wrong&amp;quot;}));break}case&amp;quot;UNEXPECTEDTOKEN&amp;quot;:{i._friendlyError(Pe(&amp;quot;fes.globalErrors.syntax.unexpectedToken&amp;quot;,{url:&amp;quot;https://developer.mozilla.org/docs/Web/JavaScript/Reference/Errors/Unexpected_token#What_went_wrong&amp;quot;}));break}case&amp;quot;REDECLAREDVARIABLE&amp;quot;:{let N=D.match[1];i._friendlyError(Pe(&amp;quot;fes.globalErrors.syntax.redeclaredVariable&amp;quot;,{symbol:N,url:&amp;quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Redeclared_parameter#what_went_wrong&amp;quot;}));break}case&amp;quot;MISSINGINITIALIZER&amp;quot;:{i._friendlyError(Pe(&amp;quot;fes.globalErrors.syntax.missingInitializer&amp;quot;,{url:&amp;quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Missing_initializer_in_const#what_went_wrong&amp;quot;}));break}case&amp;quot;BADRETURNORYIELD&amp;quot;:{i._friendlyError(Pe(&amp;quot;fes.globalErrors.syntax.badReturnOrYield&amp;quot;,{url:&amp;quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Bad_return_or_yield#what_went_wrong&amp;quot;}));break}}break}case&amp;quot;ReferenceError&amp;quot;:{switch(D.type){case&amp;quot;NOTDEFINED&amp;quot;:{let N=D.match[1];if(N&amp;amp;&amp;amp;w(N,I))break;i._friendlyError(Pe(&amp;quot;fes.globalErrors.reference.notDefined&amp;quot;,{url:&amp;quot;https://p5js.org/examples/data-variable-scope.html&amp;quot;,symbol:N,location:F?Pe(&amp;quot;fes.location&amp;quot;,F):&amp;quot;&amp;quot;})),C&amp;amp;&amp;amp;y(C);break}case&amp;quot;CANNOTACCESS&amp;quot;:{let N=D.match[1];i._friendlyError(Pe(&amp;quot;fes.globalErrors.reference.cannotAccess&amp;quot;,{url:&amp;quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Cant_access_lexical_declaration_before_init#what_went_wrong&amp;quot;,symbol:N,location:F?Pe(&amp;quot;fes.location&amp;quot;,F):&amp;quot;&amp;quot;})),C&amp;amp;&amp;amp;y(C);break}}break}case&amp;quot;TypeError&amp;quot;:switch(D.type){case&amp;quot;NOTFUNC&amp;quot;:{let B=D.match[1].split(&amp;quot;.&amp;quot;),j={url:&amp;quot;https://developer.mozilla.org/docs/Web/JavaScript/Reference/Errors/Not_a_function#What_went_wrong&amp;quot;,symbol:B[B.length-1],obj:B.slice(0,B.length-1).join(&amp;quot;.&amp;quot;),location:F?Pe(&amp;quot;fes.location&amp;quot;,F):&amp;quot;&amp;quot;};B.length&amp;gt;1?i._friendlyError(Pe(&amp;quot;fes.globalErrors.type.notfuncObj&amp;quot;,j)):i._friendlyError(Pe(&amp;quot;fes.globalErrors.type.notfunc&amp;quot;,j)),C&amp;amp;&amp;amp;y(C);break}case&amp;quot;READNULL&amp;quot;:{let N=D.match[1];i._friendlyError(Pe(&amp;quot;fes.globalErrors.type.readFromNull&amp;quot;,{url:&amp;quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Cant_access_property#what_went_wrong&amp;quot;,symbol:N,location:F?Pe(&amp;quot;fes.location&amp;quot;,F):&amp;quot;&amp;quot;})),C&amp;amp;&amp;amp;y(C);break}case&amp;quot;READUDEFINED&amp;quot;:{let N=D.match[1];i._friendlyError(Pe(&amp;quot;fes.globalErrors.type.readFromUndefined&amp;quot;,{url:&amp;quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Cant_access_property#what_went_wrong&amp;quot;,symbol:N,location:F?Pe(&amp;quot;fes.location&amp;quot;,F):&amp;quot;&amp;quot;})),C&amp;amp;&amp;amp;y(C);break}case&amp;quot;CONSTASSIGN&amp;quot;:{i._friendlyError(Pe(&amp;quot;fes.globalErrors.type.constAssign&amp;quot;,{url:&amp;quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Invalid_const_assignment#what_went_wrong&amp;quot;,location:F?Pe(&amp;quot;fes.location&amp;quot;,F):&amp;quot;&amp;quot;})),C&amp;amp;&amp;amp;y(C);break}}}};i._fesErrorMonitor=_,i._checkForUserDefinedFunctions=v,i._fesLogger=null,i._fesLogCache={},window.addEventListener(&amp;quot;load&amp;quot;,v,!1),window.addEventListener(&amp;quot;error&amp;quot;,i._fesErrorMonitor,!1),window.addEventListener(&amp;quot;unhandledrejection&amp;quot;,i._fesErrorMonitor,!1)}n=null;let u=&amp;quot;https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup&amp;quot;;s=()=&amp;gt;{let l={},c=p=&amp;gt;Object.getOwnPropertyNames(p).filter(f=&amp;gt;f[0]===&amp;quot;_&amp;quot;||f in l?!1:(l[f]=!0,!0)).map(f=&amp;gt;{let d;return typeof p[f]==&amp;quot;function&amp;quot;?d=&amp;quot;function&amp;quot;:f===f.toUpperCase()?d=&amp;quot;constant&amp;quot;:d=&amp;quot;variable&amp;quot;,{name:f,type:d}});n=[].concat(c(t),c(gr)),n.sort((p,f)=&amp;gt;f.name.length-p.name.length)};let h=(l,c)=&amp;gt;{c||(c=console.log.bind(console)),n||s(),n.some(p=&amp;gt;{if(l.message&amp;amp;&amp;amp;l.message.match(`\\W?${p.name}\\W`)!==null){let f=p.type===&amp;quot;function&amp;quot;?`${p.name}()`:p.name;return c(typeof IS_MINIFIED&amp;lt;&amp;quot;u&amp;quot;?`Did you just try to use p5.js&amp;#39;s ${f} ${p.type}? If so, you may want to move it into your sketch&amp;#39;s setup() function.
<a href="#l2305" class="line" id="l2305">   2305</a> &lt;a href=&quot;#l2286&quot; class=&quot;line&quot; id=&quot;l2286&quot;&gt;   2286&lt;/a&gt; 
<a href="#l2306" class="line" id="l2306">   2306</a> &lt;a href=&quot;#l2287&quot; class=&quot;line&quot; id=&quot;l2287&quot;&gt;   2287&lt;/a&gt; For more details, see: ${u}`:Pe(&amp;quot;fes.misusedTopLevel&amp;quot;,{symbolName:f,symbolType:p.type,url:u})),!0}})};t._helpForMisusedAtTopLevelCode=h,document.readyState!==&amp;quot;complete&amp;quot;&amp;amp;&amp;amp;(window.addEventListener(&amp;quot;error&amp;quot;,h,!1),window.addEventListener(&amp;quot;load&amp;quot;,()=&amp;gt;{window.removeEventListener(&amp;quot;error&amp;quot;,h,!1)}))}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;Qc(p5,p5.prototype);function C_(){let i=/(^|@)\S+:\d+/,t=/^\s*at .*(\S+:\d+|\(native\))/m,r=/^(eval@)?(\[native code])?$/;return{parse:function(s){if(typeof s.stacktrace&amp;lt;&amp;quot;u&amp;quot;||typeof s[&amp;quot;opera#sourceloc&amp;quot;]&amp;lt;&amp;quot;u&amp;quot;)return this.parseOpera(s);if(s.stack&amp;amp;&amp;amp;s.stack.match(t))return this.parseV8OrIE(s);if(s.stack)return this.parseFFOrSafari(s)},extractLocation:function(s){if(s.indexOf(&amp;quot;:&amp;quot;)===-1)return[s];let o=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(s.replace(/[()]/g,&amp;quot;&amp;quot;));return[o[1],o[2]||void 0,o[3]||void 0]},parseV8OrIE:function(s){return s.stack.split(`
<a href="#l2307" class="line" id="l2307">   2307</a> &lt;a href=&quot;#l2288&quot; class=&quot;line&quot; id=&quot;l2288&quot;&gt;   2288&lt;/a&gt; `).filter(function(o){return!!o.match(t)},this).map(function(o){o.indexOf(&amp;quot;(eval &amp;quot;)&amp;gt;-1&amp;amp;&amp;amp;(o=o.replace(/eval code/g,&amp;quot;eval&amp;quot;).replace(/(\(eval at [^()]*)|(\),.*$)/g,&amp;quot;&amp;quot;));let u=o.replace(/^\s+/,&amp;quot;&amp;quot;).replace(/\(eval code/g,&amp;quot;(&amp;quot;),h=u.match(/ (\((.+):(\d+):(\d+)\)$)/);u=h?u.replace(h[0],&amp;quot;&amp;quot;):u;let l=u.split(/\s+/).slice(1),c=this.extractLocation(h?h[1]:l.pop()),p=l.join(&amp;quot; &amp;quot;)||void 0,f=[&amp;quot;eval&amp;quot;,&amp;quot;&amp;lt;anonymous&amp;gt;&amp;quot;].indexOf(c[0])&amp;gt;-1?void 0:c[0];return{functionName:p,fileName:f,lineNumber:c[1],columnNumber:c[2],source:o}},this)},parseFFOrSafari:function(s){return s.stack.split(`
<a href="#l2308" class="line" id="l2308">   2308</a> &lt;a href=&quot;#l2289&quot; class=&quot;line&quot; id=&quot;l2289&quot;&gt;   2289&lt;/a&gt; `).filter(function(o){return!o.match(r)},this).map(function(o){if(o.indexOf(&amp;quot; &amp;gt; eval&amp;quot;)&amp;gt;-1&amp;amp;&amp;amp;(o=o.replace(/ line (\d+)(?: &amp;gt; eval line \d+)* &amp;gt; eval:\d+:\d+/g,&amp;quot;:$1&amp;quot;)),o.indexOf(&amp;quot;@&amp;quot;)===-1&amp;amp;&amp;amp;o.indexOf(&amp;quot;:&amp;quot;)===-1)return{functionName:o};{let u=/((.*&amp;quot;.+&amp;quot;[^@]*)?[^@]*)(?:@)/,h=o.match(u),l=h&amp;amp;&amp;amp;h[1]?h[1]:void 0,c=this.extractLocation(o.replace(u,&amp;quot;&amp;quot;));return{functionName:l,fileName:c[0],lineNumber:c[1],columnNumber:c[2],source:o}}},this)},parseOpera:function(s){return!s.stacktrace||s.message.indexOf(`
<a href="#l2309" class="line" id="l2309">   2309</a> &lt;a href=&quot;#l2290&quot; class=&quot;line&quot; id=&quot;l2290&quot;&gt;   2290&lt;/a&gt; `)&amp;gt;-1&amp;amp;&amp;amp;s.message.split(`
<a href="#l2310" class="line" id="l2310">   2310</a> &lt;a href=&quot;#l2291&quot; class=&quot;line&quot; id=&quot;l2291&quot;&gt;   2291&lt;/a&gt; `).length&amp;gt;s.stacktrace.split(`
<a href="#l2311" class="line" id="l2311">   2311</a> &lt;a href=&quot;#l2292&quot; class=&quot;line&quot; id=&quot;l2292&quot;&gt;   2292&lt;/a&gt; `).length?this.parseOpera9(s):s.stack?this.parseOpera11(s):this.parseOpera10(s)},parseOpera9:function(s){let a=/Line (\d+).*script (?:in )?(\S+)/i,o=s.message.split(`
<a href="#l2312" class="line" id="l2312">   2312</a> &lt;a href=&quot;#l2293&quot; class=&quot;line&quot; id=&quot;l2293&quot;&gt;   2293&lt;/a&gt; `),u=[];for(let h=2,l=o.length;h&amp;lt;l;h+=2){let c=a.exec(o[h]);c&amp;amp;&amp;amp;u.push({fileName:c[2],lineNumber:c[1],source:o[h]})}return u},parseOpera10:function(s){let a=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,o=s.stacktrace.split(`
<a href="#l2313" class="line" id="l2313">   2313</a> &lt;a href=&quot;#l2294&quot; class=&quot;line&quot; id=&quot;l2294&quot;&gt;   2294&lt;/a&gt; `),u=[];for(let h=0,l=o.length;h&amp;lt;l;h+=2){let c=a.exec(o[h]);c&amp;amp;&amp;amp;u.push({functionName:c[3]||void 0,fileName:c[2],lineNumber:c[1],source:o[h]})}return u},parseOpera11:function(s){return s.stack.split(`
<a href="#l2314" class="line" id="l2314">   2314</a> &lt;a href=&quot;#l2295&quot; class=&quot;line&quot; id=&quot;l2295&quot;&gt;   2295&lt;/a&gt; `).filter(function(o){return!!o.match(i)&amp;amp;&amp;amp;!o.match(/^Error created at/)},this).map(function(o){let u=o.split(&amp;quot;@&amp;quot;),h=this.extractLocation(u.pop()),l=u.shift()||&amp;quot;&amp;quot;,c=l.replace(/&amp;lt;anonymous function(: (\w+))?&amp;gt;/,&amp;quot;$2&amp;quot;).replace(/\([^)]*\)/g,&amp;quot;&amp;quot;)||void 0,p;l.match(/\(([^)]*)\)/)&amp;amp;&amp;amp;(p=l.replace(/^[^(]+\(([^)]*)\)$/,&amp;quot;$1&amp;quot;));let f=p===void 0||p===&amp;quot;[arguments not available]&amp;quot;?void 0:p.split(&amp;quot;,&amp;quot;);return{functionName:c,args:f,fileName:h[0],lineNumber:h[1],columnNumber:h[2],source:o}},this)}}}function ef(i,t){i._getErrorStackParser=function(){return new C_}}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;ef(p5,p5.prototype);var He;(function(i){i.assertEqual=s=&amp;gt;{};function t(s){}i.assertIs=t;function r(s){throw new Error}i.assertNever=r,i.arrayToEnum=s=&amp;gt;{let a={};for(let o of s)a[o]=o;return a},i.getValidEnumValues=s=&amp;gt;{let a=i.objectKeys(s).filter(u=&amp;gt;typeof s[s[u]]!=&amp;quot;number&amp;quot;),o={};for(let u of a)o[u]=s[u];return i.objectValues(o)},i.objectValues=s=&amp;gt;i.objectKeys(s).map(function(a){return s[a]}),i.objectKeys=typeof Object.keys==&amp;quot;function&amp;quot;?s=&amp;gt;Object.keys(s):s=&amp;gt;{let a=[];for(let o in s)Object.prototype.hasOwnProperty.call(s,o)&amp;amp;&amp;amp;a.push(o);return a},i.find=(s,a)=&amp;gt;{for(let o of s)if(a(o))return o},i.isInteger=typeof Number.isInteger==&amp;quot;function&amp;quot;?s=&amp;gt;Number.isInteger(s):s=&amp;gt;typeof s==&amp;quot;number&amp;quot;&amp;amp;&amp;amp;Number.isFinite(s)&amp;amp;&amp;amp;Math.floor(s)===s;function n(s,a=&amp;quot; | &amp;quot;){return s.map(o=&amp;gt;typeof o==&amp;quot;string&amp;quot;?`&amp;#39;${o}&amp;#39;`:o).join(a)}i.joinValues=n,i.jsonStringifyReplacer=(s,a)=&amp;gt;typeof a==&amp;quot;bigint&amp;quot;?a.toString():a})(He||(He={}));var D0;(function(i){i.mergeShapes=(t,r)=&amp;gt;({...t,...r})})(D0||(D0={}));var we=He.arrayToEnum([&amp;quot;string&amp;quot;,&amp;quot;nan&amp;quot;,&amp;quot;number&amp;quot;,&amp;quot;integer&amp;quot;,&amp;quot;float&amp;quot;,&amp;quot;boolean&amp;quot;,&amp;quot;date&amp;quot;,&amp;quot;bigint&amp;quot;,&amp;quot;symbol&amp;quot;,&amp;quot;function&amp;quot;,&amp;quot;undefined&amp;quot;,&amp;quot;null&amp;quot;,&amp;quot;array&amp;quot;,&amp;quot;object&amp;quot;,&amp;quot;unknown&amp;quot;,&amp;quot;promise&amp;quot;,&amp;quot;void&amp;quot;,&amp;quot;never&amp;quot;,&amp;quot;map&amp;quot;,&amp;quot;set&amp;quot;]),Ei=i=&amp;gt;{switch(typeof i){case&amp;quot;undefined&amp;quot;:return we.undefined;case&amp;quot;string&amp;quot;:return we.string;case&amp;quot;number&amp;quot;:return Number.isNaN(i)?we.nan:we.number;case&amp;quot;boolean&amp;quot;:return we.boolean;case&amp;quot;function&amp;quot;:return we.function;case&amp;quot;bigint&amp;quot;:return we.bigint;case&amp;quot;symbol&amp;quot;:return we.symbol;case&amp;quot;object&amp;quot;:return Array.isArray(i)?we.array:i===null?we.null:i.then&amp;amp;&amp;amp;typeof i.then==&amp;quot;function&amp;quot;&amp;amp;&amp;amp;i.catch&amp;amp;&amp;amp;typeof i.catch==&amp;quot;function&amp;quot;?we.promise:typeof Map&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;i instanceof Map?we.map:typeof Set&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;i instanceof Set?we.set:typeof Date&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;i instanceof Date?we.date:we.object;default:return we.unknown}};var le=He.arrayToEnum([&amp;quot;invalid_type&amp;quot;,&amp;quot;invalid_literal&amp;quot;,&amp;quot;custom&amp;quot;,&amp;quot;invalid_union&amp;quot;,&amp;quot;invalid_union_discriminator&amp;quot;,&amp;quot;invalid_enum_value&amp;quot;,&amp;quot;unrecognized_keys&amp;quot;,&amp;quot;invalid_arguments&amp;quot;,&amp;quot;invalid_return_type&amp;quot;,&amp;quot;invalid_date&amp;quot;,&amp;quot;invalid_string&amp;quot;,&amp;quot;too_small&amp;quot;,&amp;quot;too_big&amp;quot;,&amp;quot;invalid_intersection_types&amp;quot;,&amp;quot;not_multiple_of&amp;quot;,&amp;quot;not_finite&amp;quot;]);var cr=class i extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=&amp;gt;{this.issues=[...this.issues,n]},this.addIssues=(n=[])=&amp;gt;{this.issues=[...this.issues,...n]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name=&amp;quot;ZodError&amp;quot;,this.issues=t}format(t){let r=t||function(a){return a.message},n={_errors:[]},s=a=&amp;gt;{for(let o of a.issues)if(o.code===&amp;quot;invalid_union&amp;quot;)o.unionErrors.map(s);else if(o.code===&amp;quot;invalid_return_type&amp;quot;)s(o.returnTypeError);else if(o.code===&amp;quot;invalid_arguments&amp;quot;)s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let u=n,h=0;for(;h&amp;lt;o.path.length;){let l=o.path[h];h===o.path.length-1?(u[l]=u[l]||{_errors:[]},u[l]._errors.push(r(o))):u[l]=u[l]||{_errors:[]},u=u[l],h++}}};return s(this),n}static assert(t){if(!(t instanceof i))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,He.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=&amp;gt;r.message){let r={},n=[];for(let s of this.issues)if(s.path.length&amp;gt;0){let a=s.path[0];r[a]=r[a]||[],r[a].push(t(s))}else n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}};cr.create=i=&amp;gt;new cr(i);var E_=(i,t)=&amp;gt;{let r;switch(i.code){case le.invalid_type:i.received===we.undefined?r=&amp;quot;Required&amp;quot;:r=`Expected ${i.expected}, received ${i.received}`;break;case le.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(i.expected,He.jsonStringifyReplacer)}`;break;case le.unrecognized_keys:r=`Unrecognized key(s) in object: ${He.joinValues(i.keys,&amp;quot;, &amp;quot;)}`;break;case le.invalid_union:r=&amp;quot;Invalid input&amp;quot;;break;case le.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${He.joinValues(i.options)}`;break;case le.invalid_enum_value:r=`Invalid enum value. Expected ${He.joinValues(i.options)}, received &amp;#39;${i.received}&amp;#39;`;break;case le.invalid_arguments:r=&amp;quot;Invalid function arguments&amp;quot;;break;case le.invalid_return_type:r=&amp;quot;Invalid function return type&amp;quot;;break;case le.invalid_date:r=&amp;quot;Invalid date&amp;quot;;break;case le.invalid_string:typeof i.validation==&amp;quot;object&amp;quot;?&amp;quot;includes&amp;quot;in i.validation?(r=`Invalid input: must include &amp;quot;${i.validation.includes}&amp;quot;`,typeof i.validation.position==&amp;quot;number&amp;quot;&amp;amp;&amp;amp;(r=`${r} at one or more positions greater than or equal to ${i.validation.position}`)):&amp;quot;startsWith&amp;quot;in i.validation?r=`Invalid input: must start with &amp;quot;${i.validation.startsWith}&amp;quot;`:&amp;quot;endsWith&amp;quot;in i.validation?r=`Invalid input: must end with &amp;quot;${i.validation.endsWith}&amp;quot;`:He.assertNever(i.validation):i.validation!==&amp;quot;regex&amp;quot;?r=`Invalid ${i.validation}`:r=&amp;quot;Invalid&amp;quot;;break;case le.too_small:i.type===&amp;quot;array&amp;quot;?r=`Array must contain ${i.exact?&amp;quot;exactly&amp;quot;:i.inclusive?&amp;quot;at least&amp;quot;:&amp;quot;more than&amp;quot;} ${i.minimum} element(s)`:i.type===&amp;quot;string&amp;quot;?r=`String must contain ${i.exact?&amp;quot;exactly&amp;quot;:i.inclusive?&amp;quot;at least&amp;quot;:&amp;quot;over&amp;quot;} ${i.minimum} character(s)`:i.type===&amp;quot;number&amp;quot;?r=`Number must be ${i.exact?&amp;quot;exactly equal to &amp;quot;:i.inclusive?&amp;quot;greater than or equal to &amp;quot;:&amp;quot;greater than &amp;quot;}${i.minimum}`:i.type===&amp;quot;bigint&amp;quot;?r=`Number must be ${i.exact?&amp;quot;exactly equal to &amp;quot;:i.inclusive?&amp;quot;greater than or equal to &amp;quot;:&amp;quot;greater than &amp;quot;}${i.minimum}`:i.type===&amp;quot;date&amp;quot;?r=`Date must be ${i.exact?&amp;quot;exactly equal to &amp;quot;:i.inclusive?&amp;quot;greater than or equal to &amp;quot;:&amp;quot;greater than &amp;quot;}${new Date(Number(i.minimum))}`:r=&amp;quot;Invalid input&amp;quot;;break;case le.too_big:i.type===&amp;quot;array&amp;quot;?r=`Array must contain ${i.exact?&amp;quot;exactly&amp;quot;:i.inclusive?&amp;quot;at most&amp;quot;:&amp;quot;less than&amp;quot;} ${i.maximum} element(s)`:i.type===&amp;quot;string&amp;quot;?r=`String must contain ${i.exact?&amp;quot;exactly&amp;quot;:i.inclusive?&amp;quot;at most&amp;quot;:&amp;quot;under&amp;quot;} ${i.maximum} character(s)`:i.type===&amp;quot;number&amp;quot;?r=`Number must be ${i.exact?&amp;quot;exactly&amp;quot;:i.inclusive?&amp;quot;less than or equal to&amp;quot;:&amp;quot;less than&amp;quot;} ${i.maximum}`:i.type===&amp;quot;bigint&amp;quot;?r=`BigInt must be ${i.exact?&amp;quot;exactly&amp;quot;:i.inclusive?&amp;quot;less than or equal to&amp;quot;:&amp;quot;less than&amp;quot;} ${i.maximum}`:i.type===&amp;quot;date&amp;quot;?r=`Date must be ${i.exact?&amp;quot;exactly&amp;quot;:i.inclusive?&amp;quot;smaller than or equal to&amp;quot;:&amp;quot;smaller than&amp;quot;} ${new Date(Number(i.maximum))}`:r=&amp;quot;Invalid input&amp;quot;;break;case le.custom:r=&amp;quot;Invalid input&amp;quot;;break;case le.invalid_intersection_types:r=&amp;quot;Intersection results could not be merged&amp;quot;;break;case le.not_multiple_of:r=`Number must be a multiple of ${i.multipleOf}`;break;case le.not_finite:r=&amp;quot;Number must be finite&amp;quot;;break;default:r=t.defaultError,He.assertNever(i)}return{message:r}},Yi=E_;var S_=Yi;function lo(){return S_}var xl=i=&amp;gt;{let{data:t,path:r,errorMaps:n,issueData:s}=i,a=[...r,...s.path||[]],o={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let u=&amp;quot;&amp;quot;,h=n.filter(l=&amp;gt;!!l).slice().reverse();for(let l of h)u=l(o,{data:t,defaultError:u}).message;return{...s,path:a,message:u}};function _e(i,t){let r=lo(),n=xl({issueData:t,data:i.data,path:i.path,errorMaps:[i.common.contextualErrorMap,i.schemaErrorMap,r,r===Yi?void 0:Yi].filter(s=&amp;gt;!!s)});i.common.issues.push(n)}var Ot=class i{constructor(){this.value=&amp;quot;valid&amp;quot;}dirty(){this.value===&amp;quot;valid&amp;quot;&amp;amp;&amp;amp;(this.value=&amp;quot;dirty&amp;quot;)}abort(){this.value!==&amp;quot;aborted&amp;quot;&amp;amp;&amp;amp;(this.value=&amp;quot;aborted&amp;quot;)}static mergeArray(t,r){let n=[];for(let s of r){if(s.status===&amp;quot;aborted&amp;quot;)return Re;s.status===&amp;quot;dirty&amp;quot;&amp;amp;&amp;amp;t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){let n=[];for(let s of r){let a=await s.key,o=await s.value;n.push({key:a,value:o})}return i.mergeObjectSync(t,n)}static mergeObjectSync(t,r){let n={};for(let s of r){let{key:a,value:o}=s;if(a.status===&amp;quot;aborted&amp;quot;||o.status===&amp;quot;aborted&amp;quot;)return Re;a.status===&amp;quot;dirty&amp;quot;&amp;amp;&amp;amp;t.dirty(),o.status===&amp;quot;dirty&amp;quot;&amp;amp;&amp;amp;t.dirty(),a.value!==&amp;quot;__proto__&amp;quot;&amp;amp;&amp;amp;(typeof o.value&amp;lt;&amp;quot;u&amp;quot;||s.alwaysSet)&amp;amp;&amp;amp;(n[a.value]=o.value)}return{status:t.value,value:n}}},Re=Object.freeze({status:&amp;quot;aborted&amp;quot;}),Ms=i=&amp;gt;({status:&amp;quot;dirty&amp;quot;,value:i}),Ht=i=&amp;gt;({status:&amp;quot;valid&amp;quot;,value:i}),tf=i=&amp;gt;i.status===&amp;quot;aborted&amp;quot;,rf=i=&amp;gt;i.status===&amp;quot;dirty&amp;quot;,Bn=i=&amp;gt;i.status===&amp;quot;valid&amp;quot;,ho=i=&amp;gt;typeof Promise&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;i instanceof Promise;var Ne;(function(i){i.errToObj=t=&amp;gt;typeof t==&amp;quot;string&amp;quot;?{message:t}:t||{},i.toString=t=&amp;gt;typeof t==&amp;quot;string&amp;quot;?t:t?.message})(Ne||(Ne={}));var Er=class{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},F0=(i,t)=&amp;gt;{if(Bn(t))return{success:!0,data:t.value};if(!i.common.issues.length)throw new Error(&amp;quot;Validation failed but no issues detected.&amp;quot;);return{success:!1,get error(){if(this._error)return this._error;let r=new cr(i.common.issues);return this._error=r,this._error}}};function Ue(i){if(!i)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:s}=i;if(t&amp;amp;&amp;amp;(r||n))throw new Error(`Can&amp;#39;t use &amp;quot;invalid_type_error&amp;quot; or &amp;quot;required_error&amp;quot; in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,u)=&amp;gt;{let{message:h}=i;return o.code===&amp;quot;invalid_enum_value&amp;quot;?{message:h??u.defaultError}:typeof u.data&amp;gt;&amp;quot;u&amp;quot;?{message:h??n??u.defaultError}:o.code!==&amp;quot;invalid_type&amp;quot;?{message:u.defaultError}:{message:h??r??u.defaultError}},description:s}}var ze=class{get description(){return this._def.description}_getType(t){return Ei(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Ei(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Ot,ctx:{common:t.parent.common,data:t.data,parsedType:Ei(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){let r=this._parse(t);if(ho(r))throw new Error(&amp;quot;Synchronous parse encountered promise.&amp;quot;);return r}_parseAsync(t){let r=this._parse(t);return Promise.resolve(r)}parse(t,r){let n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){let n={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ei(t)},s=this._parseSync({data:t,path:n.path,parent:n});return F0(n,s)}&amp;quot;~validate&amp;quot;(t){let r={common:{issues:[],async:!!this[&amp;quot;~standard&amp;quot;].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ei(t)};if(!this[&amp;quot;~standard&amp;quot;].async)try{let n=this._parseSync({data:t,path:[],parent:r});return Bn(n)?{value:n.value}:{issues:r.common.issues}}catch(n){n?.message?.toLowerCase()?.includes(&amp;quot;encountered&amp;quot;)&amp;amp;&amp;amp;(this[&amp;quot;~standard&amp;quot;].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(n=&amp;gt;Bn(n)?{value:n.value}:{issues:r.common.issues})}async parseAsync(t,r){let n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){let n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ei(t)},s=this._parse({data:t,path:n.path,parent:n}),a=await(ho(s)?s:Promise.resolve(s));return F0(n,a)}refine(t,r){let n=s=&amp;gt;typeof r==&amp;quot;string&amp;quot;||typeof r&amp;gt;&amp;quot;u&amp;quot;?{message:r}:typeof r==&amp;quot;function&amp;quot;?r(s):r;return this._refinement((s,a)=&amp;gt;{let o=t(s),u=()=&amp;gt;a.addIssue({code:le.custom,...n(s)});return typeof Promise&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;o instanceof Promise?o.then(h=&amp;gt;h?!0:(u(),!1)):o?!0:(u(),!1)})}refinement(t,r){return this._refinement((n,s)=&amp;gt;t(n)?!0:(s.addIssue(typeof r==&amp;quot;function&amp;quot;?r(n,s):r),!1))}_refinement(t){return new Hr({schema:this,typeName:Be.ZodEffects,effect:{type:&amp;quot;refinement&amp;quot;,refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this[&amp;quot;~standard&amp;quot;]={version:1,vendor:&amp;quot;zod&amp;quot;,validate:r=&amp;gt;this[&amp;quot;~validate&amp;quot;](r)}}optional(){return jr.create(this,this._def)}nullable(){return Ai.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ki.create(this)}promise(){return On.create(this,this._def)}or(t){return Ji.create([this,t],this._def)}and(t){return Os.create(this,t,this._def)}transform(t){return new Hr({...Ue(this._def),schema:this,typeName:Be.ZodEffects,effect:{type:&amp;quot;transform&amp;quot;,transform:t}})}default(t){let r=typeof t==&amp;quot;function&amp;quot;?t:()=&amp;gt;t;return new js({...Ue(this._def),innerType:this,defaultValue:r,typeName:Be.ZodDefault})}brand(){return new bl({typeName:Be.ZodBranded,type:this,...Ue(this._def)})}catch(t){let r=typeof t==&amp;quot;function&amp;quot;?t:()=&amp;gt;t;return new $s({...Ue(this._def),innerType:this,catchValue:r,typeName:Be.ZodCatch})}describe(t){let r=this.constructor;return new r({...this._def,description:t})}pipe(t){return _l.create(this,t)}readonly(){return Hs.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},A_=/^c[^\s-]{8,}$/i,D_=/^[0-9a-z]+$/,F_=/^[0-9A-HJKMNP-TV-Z]{26}$/i,T_=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,N_=/^[a-z0-9_-]{21}$/i,I_=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,k_=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,M_=/^(?!\.)(?!.*\.\.)([A-Z0-9_&amp;#39;+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,L_=&amp;quot;^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$&amp;quot;,nf,R_=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,B_=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,P_=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,O_=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,V_=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,U_=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,N0=&amp;quot;((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))&amp;quot;,G_=new RegExp(`^${N0}$`);function I0(i){let t=&amp;quot;[0-5]\\d&amp;quot;;i.precision?t=`${t}\\.\\d{${i.precision}}`:i.precision==null&amp;amp;&amp;amp;(t=`${t}(\\.\\d+)?`);let r=i.precision?&amp;quot;+&amp;quot;:&amp;quot;?&amp;quot;;return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function z_(i){return new RegExp(`^${I0(i)}$`)}function j_(i){let t=`${N0}T${I0(i)}`,r=[];return r.push(i.local?&amp;quot;Z?&amp;quot;:&amp;quot;Z&amp;quot;),i.offset&amp;amp;&amp;amp;r.push(&amp;quot;([+-]\\d{2}:?\\d{2})&amp;quot;),t=`${t}(${r.join(&amp;quot;|&amp;quot;)})`,new RegExp(`^${t}$`)}function $_(i,t){return!!((t===&amp;quot;v4&amp;quot;||!t)&amp;amp;&amp;amp;R_.test(i)||(t===&amp;quot;v6&amp;quot;||!t)&amp;amp;&amp;amp;P_.test(i))}function H_(i,t){if(!I_.test(i))return!1;try{let[r]=i.split(&amp;quot;.&amp;quot;);if(!r)return!1;let n=r.replace(/-/g,&amp;quot;+&amp;quot;).replace(/_/g,&amp;quot;/&amp;quot;).padEnd(r.length+(4-r.length%4)%4,&amp;quot;=&amp;quot;),s=JSON.parse(atob(n));return!(typeof s!=&amp;quot;object&amp;quot;||s===null||&amp;quot;typ&amp;quot;in s&amp;amp;&amp;amp;s?.typ!==&amp;quot;JWT&amp;quot;||!s.alg||t&amp;amp;&amp;amp;s.alg!==t)}catch{return!1}}function W_(i,t){return!!((t===&amp;quot;v4&amp;quot;||!t)&amp;amp;&amp;amp;B_.test(i)||(t===&amp;quot;v6&amp;quot;||!t)&amp;amp;&amp;amp;O_.test(i))}var Rs=class i extends ze{_parse(t){if(this._def.coerce&amp;amp;&amp;amp;(t.data=String(t.data)),this._getType(t)!==we.string){let a=this._getOrReturnCtx(t);return _e(a,{code:le.invalid_type,expected:we.string,received:a.parsedType}),Re}let n=new Ot,s;for(let a of this._def.checks)if(a.kind===&amp;quot;min&amp;quot;)t.data.length&amp;lt;a.value&amp;amp;&amp;amp;(s=this._getOrReturnCtx(t,s),_e(s,{code:le.too_small,minimum:a.value,type:&amp;quot;string&amp;quot;,inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind===&amp;quot;max&amp;quot;)t.data.length&amp;gt;a.value&amp;amp;&amp;amp;(s=this._getOrReturnCtx(t,s),_e(s,{code:le.too_big,maximum:a.value,type:&amp;quot;string&amp;quot;,inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind===&amp;quot;length&amp;quot;){let o=t.data.length&amp;gt;a.value,u=t.data.length&amp;lt;a.value;(o||u)&amp;amp;&amp;amp;(s=this._getOrReturnCtx(t,s),o?_e(s,{code:le.too_big,maximum:a.value,type:&amp;quot;string&amp;quot;,inclusive:!0,exact:!0,message:a.message}):u&amp;amp;&amp;amp;_e(s,{code:le.too_small,minimum:a.value,type:&amp;quot;string&amp;quot;,inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind===&amp;quot;email&amp;quot;)M_.test(t.data)||(s=this._getOrReturnCtx(t,s),_e(s,{validation:&amp;quot;email&amp;quot;,code:le.invalid_string,message:a.message}),n.dirty());else if(a.kind===&amp;quot;emoji&amp;quot;)nf||(nf=new RegExp(L_,&amp;quot;u&amp;quot;)),nf.test(t.data)||(s=this._getOrReturnCtx(t,s),_e(s,{validation:&amp;quot;emoji&amp;quot;,code:le.invalid_string,message:a.message}),n.dirty());else if(a.kind===&amp;quot;uuid&amp;quot;)T_.test(t.data)||(s=this._getOrReturnCtx(t,s),_e(s,{validation:&amp;quot;uuid&amp;quot;,code:le.invalid_string,message:a.message}),n.dirty());else if(a.kind===&amp;quot;nanoid&amp;quot;)N_.test(t.data)||(s=this._getOrReturnCtx(t,s),_e(s,{validation:&amp;quot;nanoid&amp;quot;,code:le.invalid_string,message:a.message}),n.dirty());else if(a.kind===&amp;quot;cuid&amp;quot;)A_.test(t.data)||(s=this._getOrReturnCtx(t,s),_e(s,{validation:&amp;quot;cuid&amp;quot;,code:le.invalid_string,message:a.message}),n.dirty());else if(a.kind===&amp;quot;cuid2&amp;quot;)D_.test(t.data)||(s=this._getOrReturnCtx(t,s),_e(s,{validation:&amp;quot;cuid2&amp;quot;,code:le.invalid_string,message:a.message}),n.dirty());else if(a.kind===&amp;quot;ulid&amp;quot;)F_.test(t.data)||(s=this._getOrReturnCtx(t,s),_e(s,{validation:&amp;quot;ulid&amp;quot;,code:le.invalid_string,message:a.message}),n.dirty());else if(a.kind===&amp;quot;url&amp;quot;)try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),_e(s,{validation:&amp;quot;url&amp;quot;,code:le.invalid_string,message:a.message}),n.dirty()}else a.kind===&amp;quot;regex&amp;quot;?(a.regex.lastIndex=0,a.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),_e(s,{validation:&amp;quot;regex&amp;quot;,code:le.invalid_string,message:a.message}),n.dirty())):a.kind===&amp;quot;trim&amp;quot;?t.data=t.data.trim():a.kind===&amp;quot;includes&amp;quot;?t.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(t,s),_e(s,{code:le.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind===&amp;quot;toLowerCase&amp;quot;?t.data=t.data.toLowerCase():a.kind===&amp;quot;toUpperCase&amp;quot;?t.data=t.data.toUpperCase():a.kind===&amp;quot;startsWith&amp;quot;?t.data.startsWith(a.value)||(s=this._getOrReturnCtx(t,s),_e(s,{code:le.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind===&amp;quot;endsWith&amp;quot;?t.data.endsWith(a.value)||(s=this._getOrReturnCtx(t,s),_e(s,{code:le.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind===&amp;quot;datetime&amp;quot;?j_(a).test(t.data)||(s=this._getOrReturnCtx(t,s),_e(s,{code:le.invalid_string,validation:&amp;quot;datetime&amp;quot;,message:a.message}),n.dirty()):a.kind===&amp;quot;date&amp;quot;?G_.test(t.data)||(s=this._getOrReturnCtx(t,s),_e(s,{code:le.invalid_string,validation:&amp;quot;date&amp;quot;,message:a.message}),n.dirty()):a.kind===&amp;quot;time&amp;quot;?z_(a).test(t.data)||(s=this._getOrReturnCtx(t,s),_e(s,{code:le.invalid_string,validation:&amp;quot;time&amp;quot;,message:a.message}),n.dirty()):a.kind===&amp;quot;duration&amp;quot;?k_.test(t.data)||(s=this._getOrReturnCtx(t,s),_e(s,{validation:&amp;quot;duration&amp;quot;,code:le.invalid_string,message:a.message}),n.dirty()):a.kind===&amp;quot;ip&amp;quot;?$_(t.data,a.version)||(s=this._getOrReturnCtx(t,s),_e(s,{validation:&amp;quot;ip&amp;quot;,code:le.invalid_string,message:a.message}),n.dirty()):a.kind===&amp;quot;jwt&amp;quot;?H_(t.data,a.alg)||(s=this._getOrReturnCtx(t,s),_e(s,{validation:&amp;quot;jwt&amp;quot;,code:le.invalid_string,message:a.message}),n.dirty()):a.kind===&amp;quot;cidr&amp;quot;?W_(t.data,a.version)||(s=this._getOrReturnCtx(t,s),_e(s,{validation:&amp;quot;cidr&amp;quot;,code:le.invalid_string,message:a.message}),n.dirty()):a.kind===&amp;quot;base64&amp;quot;?V_.test(t.data)||(s=this._getOrReturnCtx(t,s),_e(s,{validation:&amp;quot;base64&amp;quot;,code:le.invalid_string,message:a.message}),n.dirty()):a.kind===&amp;quot;base64url&amp;quot;?U_.test(t.data)||(s=this._getOrReturnCtx(t,s),_e(s,{validation:&amp;quot;base64url&amp;quot;,code:le.invalid_string,message:a.message}),n.dirty()):He.assertNever(a);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=&amp;gt;t.test(s),{validation:r,code:le.invalid_string,...Ne.errToObj(n)})}_addCheck(t){return new i({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:&amp;quot;email&amp;quot;,...Ne.errToObj(t)})}url(t){return this._addCheck({kind:&amp;quot;url&amp;quot;,...Ne.errToObj(t)})}emoji(t){return this._addCheck({kind:&amp;quot;emoji&amp;quot;,...Ne.errToObj(t)})}uuid(t){return this._addCheck({kind:&amp;quot;uuid&amp;quot;,...Ne.errToObj(t)})}nanoid(t){return this._addCheck({kind:&amp;quot;nanoid&amp;quot;,...Ne.errToObj(t)})}cuid(t){return this._addCheck({kind:&amp;quot;cuid&amp;quot;,...Ne.errToObj(t)})}cuid2(t){return this._addCheck({kind:&amp;quot;cuid2&amp;quot;,...Ne.errToObj(t)})}ulid(t){return this._addCheck({kind:&amp;quot;ulid&amp;quot;,...Ne.errToObj(t)})}base64(t){return this._addCheck({kind:&amp;quot;base64&amp;quot;,...Ne.errToObj(t)})}base64url(t){return this._addCheck({kind:&amp;quot;base64url&amp;quot;,...Ne.errToObj(t)})}jwt(t){return this._addCheck({kind:&amp;quot;jwt&amp;quot;,...Ne.errToObj(t)})}ip(t){return this._addCheck({kind:&amp;quot;ip&amp;quot;,...Ne.errToObj(t)})}cidr(t){return this._addCheck({kind:&amp;quot;cidr&amp;quot;,...Ne.errToObj(t)})}datetime(t){return typeof t==&amp;quot;string&amp;quot;?this._addCheck({kind:&amp;quot;datetime&amp;quot;,precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:&amp;quot;datetime&amp;quot;,precision:typeof t?.precision&amp;gt;&amp;quot;u&amp;quot;?null:t?.precision,offset:t?.offset??!1,local:t?.local??!1,...Ne.errToObj(t?.message)})}date(t){return this._addCheck({kind:&amp;quot;date&amp;quot;,message:t})}time(t){return typeof t==&amp;quot;string&amp;quot;?this._addCheck({kind:&amp;quot;time&amp;quot;,precision:null,message:t}):this._addCheck({kind:&amp;quot;time&amp;quot;,precision:typeof t?.precision&amp;gt;&amp;quot;u&amp;quot;?null:t?.precision,...Ne.errToObj(t?.message)})}duration(t){return this._addCheck({kind:&amp;quot;duration&amp;quot;,...Ne.errToObj(t)})}regex(t,r){return this._addCheck({kind:&amp;quot;regex&amp;quot;,regex:t,...Ne.errToObj(r)})}includes(t,r){return this._addCheck({kind:&amp;quot;includes&amp;quot;,value:t,position:r?.position,...Ne.errToObj(r?.message)})}startsWith(t,r){return this._addCheck({kind:&amp;quot;startsWith&amp;quot;,value:t,...Ne.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:&amp;quot;endsWith&amp;quot;,value:t,...Ne.errToObj(r)})}min(t,r){return this._addCheck({kind:&amp;quot;min&amp;quot;,value:t,...Ne.errToObj(r)})}max(t,r){return this._addCheck({kind:&amp;quot;max&amp;quot;,value:t,...Ne.errToObj(r)})}length(t,r){return this._addCheck({kind:&amp;quot;length&amp;quot;,value:t,...Ne.errToObj(r)})}nonempty(t){return this.min(1,Ne.errToObj(t))}trim(){return new i({...this._def,checks:[...this._def.checks,{kind:&amp;quot;trim&amp;quot;}]})}toLowerCase(){return new i({...this._def,checks:[...this._def.checks,{kind:&amp;quot;toLowerCase&amp;quot;}]})}toUpperCase(){return new i({...this._def,checks:[...this._def.checks,{kind:&amp;quot;toUpperCase&amp;quot;}]})}get isDatetime(){return!!this._def.checks.find(t=&amp;gt;t.kind===&amp;quot;datetime&amp;quot;)}get isDate(){return!!this._def.checks.find(t=&amp;gt;t.kind===&amp;quot;date&amp;quot;)}get isTime(){return!!this._def.checks.find(t=&amp;gt;t.kind===&amp;quot;time&amp;quot;)}get isDuration(){return!!this._def.checks.find(t=&amp;gt;t.kind===&amp;quot;duration&amp;quot;)}get isEmail(){return!!this._def.checks.find(t=&amp;gt;t.kind===&amp;quot;email&amp;quot;)}get isURL(){return!!this._def.checks.find(t=&amp;gt;t.kind===&amp;quot;url&amp;quot;)}get isEmoji(){return!!this._def.checks.find(t=&amp;gt;t.kind===&amp;quot;emoji&amp;quot;)}get isUUID(){return!!this._def.checks.find(t=&amp;gt;t.kind===&amp;quot;uuid&amp;quot;)}get isNANOID(){return!!this._def.checks.find(t=&amp;gt;t.kind===&amp;quot;nanoid&amp;quot;)}get isCUID(){return!!this._def.checks.find(t=&amp;gt;t.kind===&amp;quot;cuid&amp;quot;)}get isCUID2(){return!!this._def.checks.find(t=&amp;gt;t.kind===&amp;quot;cuid2&amp;quot;)}get isULID(){return!!this._def.checks.find(t=&amp;gt;t.kind===&amp;quot;ulid&amp;quot;)}get isIP(){return!!this._def.checks.find(t=&amp;gt;t.kind===&amp;quot;ip&amp;quot;)}get isCIDR(){return!!this._def.checks.find(t=&amp;gt;t.kind===&amp;quot;cidr&amp;quot;)}get isBase64(){return!!this._def.checks.find(t=&amp;gt;t.kind===&amp;quot;base64&amp;quot;)}get isBase64url(){return!!this._def.checks.find(t=&amp;gt;t.kind===&amp;quot;base64url&amp;quot;)}get minLength(){let t=null;for(let r of this._def.checks)r.kind===&amp;quot;min&amp;quot;&amp;amp;&amp;amp;(t===null||r.value&amp;gt;t)&amp;amp;&amp;amp;(t=r.value);return t}get maxLength(){let t=null;for(let r of this._def.checks)r.kind===&amp;quot;max&amp;quot;&amp;amp;&amp;amp;(t===null||r.value&amp;lt;t)&amp;amp;&amp;amp;(t=r.value);return t}};Rs.create=i=&amp;gt;new Rs({checks:[],typeName:Be.ZodString,coerce:i?.coerce??!1,...Ue(i)});function q_(i,t){let r=(i.toString().split(&amp;quot;.&amp;quot;)[1]||&amp;quot;&amp;quot;).length,n=(t.toString().split(&amp;quot;.&amp;quot;)[1]||&amp;quot;&amp;quot;).length,s=r&amp;gt;n?r:n,a=Number.parseInt(i.toFixed(s).replace(&amp;quot;.&amp;quot;,&amp;quot;&amp;quot;)),o=Number.parseInt(t.toFixed(s).replace(&amp;quot;.&amp;quot;,&amp;quot;&amp;quot;));return a%o/10**s}var co=class i extends ze{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&amp;amp;&amp;amp;(t.data=Number(t.data)),this._getType(t)!==we.number){let a=this._getOrReturnCtx(t);return _e(a,{code:le.invalid_type,expected:we.number,received:a.parsedType}),Re}let n,s=new Ot;for(let a of this._def.checks)a.kind===&amp;quot;int&amp;quot;?He.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),_e(n,{code:le.invalid_type,expected:&amp;quot;integer&amp;quot;,received:&amp;quot;float&amp;quot;,message:a.message}),s.dirty()):a.kind===&amp;quot;min&amp;quot;?(a.inclusive?t.data&amp;lt;a.value:t.data&amp;lt;=a.value)&amp;amp;&amp;amp;(n=this._getOrReturnCtx(t,n),_e(n,{code:le.too_small,minimum:a.value,type:&amp;quot;number&amp;quot;,inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind===&amp;quot;max&amp;quot;?(a.inclusive?t.data&amp;gt;a.value:t.data&amp;gt;=a.value)&amp;amp;&amp;amp;(n=this._getOrReturnCtx(t,n),_e(n,{code:le.too_big,maximum:a.value,type:&amp;quot;number&amp;quot;,inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind===&amp;quot;multipleOf&amp;quot;?q_(t.data,a.value)!==0&amp;amp;&amp;amp;(n=this._getOrReturnCtx(t,n),_e(n,{code:le.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind===&amp;quot;finite&amp;quot;?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),_e(n,{code:le.not_finite,message:a.message}),s.dirty()):He.assertNever(a);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit(&amp;quot;min&amp;quot;,t,!0,Ne.toString(r))}gt(t,r){return this.setLimit(&amp;quot;min&amp;quot;,t,!1,Ne.toString(r))}lte(t,r){return this.setLimit(&amp;quot;max&amp;quot;,t,!0,Ne.toString(r))}lt(t,r){return this.setLimit(&amp;quot;max&amp;quot;,t,!1,Ne.toString(r))}setLimit(t,r,n,s){return new i({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ne.toString(s)}]})}_addCheck(t){return new i({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:&amp;quot;int&amp;quot;,message:Ne.toString(t)})}positive(t){return this._addCheck({kind:&amp;quot;min&amp;quot;,value:0,inclusive:!1,message:Ne.toString(t)})}negative(t){return this._addCheck({kind:&amp;quot;max&amp;quot;,value:0,inclusive:!1,message:Ne.toString(t)})}nonpositive(t){return this._addCheck({kind:&amp;quot;max&amp;quot;,value:0,inclusive:!0,message:Ne.toString(t)})}nonnegative(t){return this._addCheck({kind:&amp;quot;min&amp;quot;,value:0,inclusive:!0,message:Ne.toString(t)})}multipleOf(t,r){return this._addCheck({kind:&amp;quot;multipleOf&amp;quot;,value:t,message:Ne.toString(r)})}finite(t){return this._addCheck({kind:&amp;quot;finite&amp;quot;,message:Ne.toString(t)})}safe(t){return this._addCheck({kind:&amp;quot;min&amp;quot;,inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ne.toString(t)})._addCheck({kind:&amp;quot;max&amp;quot;,inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ne.toString(t)})}get minValue(){let t=null;for(let r of this._def.checks)r.kind===&amp;quot;min&amp;quot;&amp;amp;&amp;amp;(t===null||r.value&amp;gt;t)&amp;amp;&amp;amp;(t=r.value);return t}get maxValue(){let t=null;for(let r of this._def.checks)r.kind===&amp;quot;max&amp;quot;&amp;amp;&amp;amp;(t===null||r.value&amp;lt;t)&amp;amp;&amp;amp;(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=&amp;gt;t.kind===&amp;quot;int&amp;quot;||t.kind===&amp;quot;multipleOf&amp;quot;&amp;amp;&amp;amp;He.isInteger(t.value))}get isFinite(){let t=null,r=null;for(let n of this._def.checks){if(n.kind===&amp;quot;finite&amp;quot;||n.kind===&amp;quot;int&amp;quot;||n.kind===&amp;quot;multipleOf&amp;quot;)return!0;n.kind===&amp;quot;min&amp;quot;?(r===null||n.value&amp;gt;r)&amp;amp;&amp;amp;(r=n.value):n.kind===&amp;quot;max&amp;quot;&amp;amp;&amp;amp;(t===null||n.value&amp;lt;t)&amp;amp;&amp;amp;(t=n.value)}return Number.isFinite(r)&amp;amp;&amp;amp;Number.isFinite(t)}};co.create=i=&amp;gt;new co({checks:[],typeName:Be.ZodNumber,coerce:i?.coerce||!1,...Ue(i)});var fo=class i extends ze{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==we.bigint)return this._getInvalidInput(t);let n,s=new Ot;for(let a of this._def.checks)a.kind===&amp;quot;min&amp;quot;?(a.inclusive?t.data&amp;lt;a.value:t.data&amp;lt;=a.value)&amp;amp;&amp;amp;(n=this._getOrReturnCtx(t,n),_e(n,{code:le.too_small,type:&amp;quot;bigint&amp;quot;,minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind===&amp;quot;max&amp;quot;?(a.inclusive?t.data&amp;gt;a.value:t.data&amp;gt;=a.value)&amp;amp;&amp;amp;(n=this._getOrReturnCtx(t,n),_e(n,{code:le.too_big,type:&amp;quot;bigint&amp;quot;,maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind===&amp;quot;multipleOf&amp;quot;?t.data%a.value!==BigInt(0)&amp;amp;&amp;amp;(n=this._getOrReturnCtx(t,n),_e(n,{code:le.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):He.assertNever(a);return{status:s.value,value:t.data}}_getInvalidInput(t){let r=this._getOrReturnCtx(t);return _e(r,{code:le.invalid_type,expected:we.bigint,received:r.parsedType}),Re}gte(t,r){return this.setLimit(&amp;quot;min&amp;quot;,t,!0,Ne.toString(r))}gt(t,r){return this.setLimit(&amp;quot;min&amp;quot;,t,!1,Ne.toString(r))}lte(t,r){return this.setLimit(&amp;quot;max&amp;quot;,t,!0,Ne.toString(r))}lt(t,r){return this.setLimit(&amp;quot;max&amp;quot;,t,!1,Ne.toString(r))}setLimit(t,r,n,s){return new i({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ne.toString(s)}]})}_addCheck(t){return new i({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:&amp;quot;min&amp;quot;,value:BigInt(0),inclusive:!1,message:Ne.toString(t)})}negative(t){return this._addCheck({kind:&amp;quot;max&amp;quot;,value:BigInt(0),inclusive:!1,message:Ne.toString(t)})}nonpositive(t){return this._addCheck({kind:&amp;quot;max&amp;quot;,value:BigInt(0),inclusive:!0,message:Ne.toString(t)})}nonnegative(t){return this._addCheck({kind:&amp;quot;min&amp;quot;,value:BigInt(0),inclusive:!0,message:Ne.toString(t)})}multipleOf(t,r){return this._addCheck({kind:&amp;quot;multipleOf&amp;quot;,value:t,message:Ne.toString(r)})}get minValue(){let t=null;for(let r of this._def.checks)r.kind===&amp;quot;min&amp;quot;&amp;amp;&amp;amp;(t===null||r.value&amp;gt;t)&amp;amp;&amp;amp;(t=r.value);return t}get maxValue(){let t=null;for(let r of this._def.checks)r.kind===&amp;quot;max&amp;quot;&amp;amp;&amp;amp;(t===null||r.value&amp;lt;t)&amp;amp;&amp;amp;(t=r.value);return t}};fo.create=i=&amp;gt;new fo({checks:[],typeName:Be.ZodBigInt,coerce:i?.coerce??!1,...Ue(i)});var po=class extends ze{_parse(t){if(this._def.coerce&amp;amp;&amp;amp;(t.data=!!t.data),this._getType(t)!==we.boolean){let n=this._getOrReturnCtx(t);return _e(n,{code:le.invalid_type,expected:we.boolean,received:n.parsedType}),Re}return Ht(t.data)}};po.create=i=&amp;gt;new po({typeName:Be.ZodBoolean,coerce:i?.coerce||!1,...Ue(i)});var mo=class i extends ze{_parse(t){if(this._def.coerce&amp;amp;&amp;amp;(t.data=new Date(t.data)),this._getType(t)!==we.date){let a=this._getOrReturnCtx(t);return _e(a,{code:le.invalid_type,expected:we.date,received:a.parsedType}),Re}if(Number.isNaN(t.data.getTime())){let a=this._getOrReturnCtx(t);return _e(a,{code:le.invalid_date}),Re}let n=new Ot,s;for(let a of this._def.checks)a.kind===&amp;quot;min&amp;quot;?t.data.getTime()&amp;lt;a.value&amp;amp;&amp;amp;(s=this._getOrReturnCtx(t,s),_e(s,{code:le.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:&amp;quot;date&amp;quot;}),n.dirty()):a.kind===&amp;quot;max&amp;quot;?t.data.getTime()&amp;gt;a.value&amp;amp;&amp;amp;(s=this._getOrReturnCtx(t,s),_e(s,{code:le.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:&amp;quot;date&amp;quot;}),n.dirty()):He.assertNever(a);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new i({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:&amp;quot;min&amp;quot;,value:t.getTime(),message:Ne.toString(r)})}max(t,r){return this._addCheck({kind:&amp;quot;max&amp;quot;,value:t.getTime(),message:Ne.toString(r)})}get minDate(){let t=null;for(let r of this._def.checks)r.kind===&amp;quot;min&amp;quot;&amp;amp;&amp;amp;(t===null||r.value&amp;gt;t)&amp;amp;&amp;amp;(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(let r of this._def.checks)r.kind===&amp;quot;max&amp;quot;&amp;amp;&amp;amp;(t===null||r.value&amp;lt;t)&amp;amp;&amp;amp;(t=r.value);return t!=null?new Date(t):null}};mo.create=i=&amp;gt;new mo({checks:[],coerce:i?.coerce||!1,typeName:Be.ZodDate,...Ue(i)});var go=class extends ze{_parse(t){if(this._getType(t)!==we.symbol){let n=this._getOrReturnCtx(t);return _e(n,{code:le.invalid_type,expected:we.symbol,received:n.parsedType}),Re}return Ht(t.data)}};go.create=i=&amp;gt;new go({typeName:Be.ZodSymbol,...Ue(i)});var Bs=class extends ze{_parse(t){if(this._getType(t)!==we.undefined){let n=this._getOrReturnCtx(t);return _e(n,{code:le.invalid_type,expected:we.undefined,received:n.parsedType}),Re}return Ht(t.data)}};Bs.create=i=&amp;gt;new Bs({typeName:Be.ZodUndefined,...Ue(i)});var Ps=class extends ze{_parse(t){if(this._getType(t)!==we.null){let n=this._getOrReturnCtx(t);return _e(n,{code:le.invalid_type,expected:we.null,received:n.parsedType}),Re}return Ht(t.data)}};Ps.create=i=&amp;gt;new Ps({typeName:Be.ZodNull,...Ue(i)});var Pn=class extends ze{constructor(){super(...arguments),this._any=!0}_parse(t){return Ht(t.data)}};Pn.create=i=&amp;gt;new Pn({typeName:Be.ZodAny,...Ue(i)});var Xi=class extends ze{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Ht(t.data)}};Xi.create=i=&amp;gt;new Xi({typeName:Be.ZodUnknown,...Ue(i)});var ii=class extends ze{_parse(t){let r=this._getOrReturnCtx(t);return _e(r,{code:le.invalid_type,expected:we.never,received:r.parsedType}),Re}};ii.create=i=&amp;gt;new ii({typeName:Be.ZodNever,...Ue(i)});var yo=class extends ze{_parse(t){if(this._getType(t)!==we.undefined){let n=this._getOrReturnCtx(t);return _e(n,{code:le.invalid_type,expected:we.void,received:n.parsedType}),Re}return Ht(t.data)}};yo.create=i=&amp;gt;new yo({typeName:Be.ZodVoid,...Ue(i)});var Ki=class i extends ze{_parse(t){let{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==we.array)return _e(r,{code:le.invalid_type,expected:we.array,received:r.parsedType}),Re;if(s.exactLength!==null){let o=r.data.length&amp;gt;s.exactLength.value,u=r.data.length&amp;lt;s.exactLength.value;(o||u)&amp;amp;&amp;amp;(_e(r,{code:o?le.too_big:le.too_small,minimum:u?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:&amp;quot;array&amp;quot;,inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&amp;amp;&amp;amp;r.data.length&amp;lt;s.minLength.value&amp;amp;&amp;amp;(_e(r,{code:le.too_small,minimum:s.minLength.value,type:&amp;quot;array&amp;quot;,inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&amp;amp;&amp;amp;r.data.length&amp;gt;s.maxLength.value&amp;amp;&amp;amp;(_e(r,{code:le.too_big,maximum:s.maxLength.value,type:&amp;quot;array&amp;quot;,inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,u)=&amp;gt;s.type._parseAsync(new Er(r,o,r.path,u)))).then(o=&amp;gt;Ot.mergeArray(n,o));let a=[...r.data].map((o,u)=&amp;gt;s.type._parseSync(new Er(r,o,r.path,u)));return Ot.mergeArray(n,a)}get element(){return this._def.type}min(t,r){return new i({...this._def,minLength:{value:t,message:Ne.toString(r)}})}max(t,r){return new i({...this._def,maxLength:{value:t,message:Ne.toString(r)}})}length(t,r){return new i({...this._def,exactLength:{value:t,message:Ne.toString(r)}})}nonempty(t){return this.min(1,t)}};Ki.create=(i,t)=&amp;gt;new Ki({type:i,minLength:null,maxLength:null,exactLength:null,typeName:Be.ZodArray,...Ue(t)});function Ls(i){if(i instanceof fr){let t={};for(let r in i.shape){let n=i.shape[r];t[r]=jr.create(Ls(n))}return new fr({...i._def,shape:()=&amp;gt;t})}else return i instanceof Ki?new Ki({...i._def,type:Ls(i.element)}):i instanceof jr?jr.create(Ls(i.unwrap())):i instanceof Ai?Ai.create(Ls(i.unwrap())):i instanceof $r?$r.create(i.items.map(t=&amp;gt;Ls(t))):i}var fr=class i extends ze{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let t=this._def.shape(),r=He.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==we.object){let l=this._getOrReturnCtx(t);return _e(l,{code:le.invalid_type,expected:we.object,received:l.parsedType}),Re}let{status:n,ctx:s}=this._processInputParams(t),{shape:a,keys:o}=this._getCached(),u=[];if(!(this._def.catchall instanceof ii&amp;amp;&amp;amp;this._def.unknownKeys===&amp;quot;strip&amp;quot;))for(let l in s.data)o.includes(l)||u.push(l);let h=[];for(let l of o){let c=a[l],p=s.data[l];h.push({key:{status:&amp;quot;valid&amp;quot;,value:l},value:c._parse(new Er(s,p,s.path,l)),alwaysSet:l in s.data})}if(this._def.catchall instanceof ii){let l=this._def.unknownKeys;if(l===&amp;quot;passthrough&amp;quot;)for(let c of u)h.push({key:{status:&amp;quot;valid&amp;quot;,value:c},value:{status:&amp;quot;valid&amp;quot;,value:s.data[c]}});else if(l===&amp;quot;strict&amp;quot;)u.length&amp;gt;0&amp;amp;&amp;amp;(_e(s,{code:le.unrecognized_keys,keys:u}),n.dirty());else if(l!==&amp;quot;strip&amp;quot;)throw new Error(&amp;quot;Internal ZodObject error: invalid unknownKeys value.&amp;quot;)}else{let l=this._def.catchall;for(let c of u){let p=s.data[c];h.push({key:{status:&amp;quot;valid&amp;quot;,value:c},value:l._parse(new Er(s,p,s.path,c)),alwaysSet:c in s.data})}}return s.common.async?Promise.resolve().then(async()=&amp;gt;{let l=[];for(let c of h){let p=await c.key,f=await c.value;l.push({key:p,value:f,alwaysSet:c.alwaysSet})}return l}).then(l=&amp;gt;Ot.mergeObjectSync(n,l)):Ot.mergeObjectSync(n,h)}get shape(){return this._def.shape()}strict(t){return Ne.errToObj,new i({...this._def,unknownKeys:&amp;quot;strict&amp;quot;,...t!==void 0?{errorMap:(r,n)=&amp;gt;{let s=this._def.errorMap?.(r,n).message??n.defaultError;return r.code===&amp;quot;unrecognized_keys&amp;quot;?{message:Ne.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new i({...this._def,unknownKeys:&amp;quot;strip&amp;quot;})}passthrough(){return new i({...this._def,unknownKeys:&amp;quot;passthrough&amp;quot;})}extend(t){return new i({...this._def,shape:()=&amp;gt;({...this._def.shape(),...t})})}merge(t){return new i({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=&amp;gt;({...this._def.shape(),...t._def.shape()}),typeName:Be.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new i({...this._def,catchall:t})}pick(t){let r={};for(let n of He.objectKeys(t))t[n]&amp;amp;&amp;amp;this.shape[n]&amp;amp;&amp;amp;(r[n]=this.shape[n]);return new i({...this._def,shape:()=&amp;gt;r})}omit(t){let r={};for(let n of He.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new i({...this._def,shape:()=&amp;gt;r})}deepPartial(){return Ls(this)}partial(t){let r={};for(let n of He.objectKeys(this.shape)){let s=this.shape[n];t&amp;amp;&amp;amp;!t[n]?r[n]=s:r[n]=s.optional()}return new i({...this._def,shape:()=&amp;gt;r})}required(t){let r={};for(let n of He.objectKeys(this.shape))if(t&amp;amp;&amp;amp;!t[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof jr;)a=a._def.innerType;r[n]=a}return new i({...this._def,shape:()=&amp;gt;r})}keyof(){return k0(He.objectKeys(this.shape))}};fr.create=(i,t)=&amp;gt;new fr({shape:()=&amp;gt;i,unknownKeys:&amp;quot;strip&amp;quot;,catchall:ii.create(),typeName:Be.ZodObject,...Ue(t)});fr.strictCreate=(i,t)=&amp;gt;new fr({shape:()=&amp;gt;i,unknownKeys:&amp;quot;strict&amp;quot;,catchall:ii.create(),typeName:Be.ZodObject,...Ue(t)});fr.lazycreate=(i,t)=&amp;gt;new fr({shape:i,unknownKeys:&amp;quot;strip&amp;quot;,catchall:ii.create(),typeName:Be.ZodObject,...Ue(t)});var Ji=class extends ze{_parse(t){let{ctx:r}=this._processInputParams(t),n=this._def.options;function s(a){for(let u of a)if(u.result.status===&amp;quot;valid&amp;quot;)return u.result;for(let u of a)if(u.result.status===&amp;quot;dirty&amp;quot;)return r.common.issues.push(...u.ctx.common.issues),u.result;let o=a.map(u=&amp;gt;new cr(u.ctx.common.issues));return _e(r,{code:le.invalid_union,unionErrors:o}),Re}if(r.common.async)return Promise.all(n.map(async a=&amp;gt;{let o={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let a,o=[];for(let h of n){let l={...r,common:{...r.common,issues:[]},parent:null},c=h._parseSync({data:r.data,path:r.path,parent:l});if(c.status===&amp;quot;valid&amp;quot;)return c;c.status===&amp;quot;dirty&amp;quot;&amp;amp;&amp;amp;!a&amp;amp;&amp;amp;(a={result:c,ctx:l}),l.common.issues.length&amp;amp;&amp;amp;o.push(l.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;let u=o.map(h=&amp;gt;new cr(h));return _e(r,{code:le.invalid_union,unionErrors:u}),Re}}get options(){return this._def.options}};Ji.create=(i,t)=&amp;gt;new Ji({options:i,typeName:Be.ZodUnion,...Ue(t)});var Si=i=&amp;gt;i instanceof Vs?Si(i.schema):i instanceof Hr?Si(i.innerType()):i instanceof Us?[i.value]:i instanceof Gs?i.options:i instanceof zs?He.objectValues(i.enum):i instanceof js?Si(i._def.innerType):i instanceof Bs?[void 0]:i instanceof Ps?[null]:i instanceof jr?[void 0,...Si(i.unwrap())]:i instanceof Ai?[null,...Si(i.unwrap())]:i instanceof bl||i instanceof Hs?Si(i.unwrap()):i instanceof $s?Si(i._def.innerType):[],sf=class i extends ze{_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==we.object)return _e(r,{code:le.invalid_type,expected:we.object,received:r.parsedType}),Re;let n=this.discriminator,s=r.data[n],a=this.optionsMap.get(s);return a?r.common.async?a._parseAsync({data:r.data,path:r.path,parent:r}):a._parseSync({data:r.data,path:r.path,parent:r}):(_e(r,{code:le.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Re)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){let s=new Map;for(let a of r){let o=Si(a.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(let u of o){if(s.has(u))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(u)}`);s.set(u,a)}}return new i({typeName:Be.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:s,...Ue(n)})}};function af(i,t){let r=Ei(i),n=Ei(t);if(i===t)return{valid:!0,data:i};if(r===we.object&amp;amp;&amp;amp;n===we.object){let s=He.objectKeys(t),a=He.objectKeys(i).filter(u=&amp;gt;s.indexOf(u)!==-1),o={...i,...t};for(let u of a){let h=af(i[u],t[u]);if(!h.valid)return{valid:!1};o[u]=h.data}return{valid:!0,data:o}}else if(r===we.array&amp;amp;&amp;amp;n===we.array){if(i.length!==t.length)return{valid:!1};let s=[];for(let a=0;a&amp;lt;i.length;a++){let o=i[a],u=t[a],h=af(o,u);if(!h.valid)return{valid:!1};s.push(h.data)}return{valid:!0,data:s}}else return r===we.date&amp;amp;&amp;amp;n===we.date&amp;amp;&amp;amp;+i==+t?{valid:!0,data:i}:{valid:!1}}var Os=class extends ze{_parse(t){let{status:r,ctx:n}=this._processInputParams(t),s=(a,o)=&amp;gt;{if(tf(a)||tf(o))return Re;let u=af(a.value,o.value);return u.valid?((rf(a)||rf(o))&amp;amp;&amp;amp;r.dirty(),{status:r.value,value:u.data}):(_e(n,{code:le.invalid_intersection_types}),Re)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,o])=&amp;gt;s(a,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};Os.create=(i,t,r)=&amp;gt;new Os({left:i,right:t,typeName:Be.ZodIntersection,...Ue(r)});var $r=class i extends ze{_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==we.array)return _e(n,{code:le.invalid_type,expected:we.array,received:n.parsedType}),Re;if(n.data.length&amp;lt;this._def.items.length)return _e(n,{code:le.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:&amp;quot;array&amp;quot;}),Re;!this._def.rest&amp;amp;&amp;amp;n.data.length&amp;gt;this._def.items.length&amp;amp;&amp;amp;(_e(n,{code:le.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:&amp;quot;array&amp;quot;}),r.dirty());let a=[...n.data].map((o,u)=&amp;gt;{let h=this._def.items[u]||this._def.rest;return h?h._parse(new Er(n,o,n.path,u)):null}).filter(o=&amp;gt;!!o);return n.common.async?Promise.all(a).then(o=&amp;gt;Ot.mergeArray(r,o)):Ot.mergeArray(r,a)}get items(){return this._def.items}rest(t){return new i({...this._def,rest:t})}};$r.create=(i,t)=&amp;gt;{if(!Array.isArray(i))throw new Error(&amp;quot;You must pass an array of schemas to z.tuple([ ... ])&amp;quot;);return new $r({items:i,typeName:Be.ZodTuple,rest:null,...Ue(t)})};var of=class i extends ze{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==we.object)return _e(n,{code:le.invalid_type,expected:we.object,received:n.parsedType}),Re;let s=[],a=this._def.keyType,o=this._def.valueType;for(let u in n.data)s.push({key:a._parse(new Er(n,u,n.path,u)),value:o._parse(new Er(n,n.data[u],n.path,u)),alwaysSet:u in n.data});return n.common.async?Ot.mergeObjectAsync(r,s):Ot.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof ze?new i({keyType:t,valueType:r,typeName:Be.ZodRecord,...Ue(n)}):new i({keyType:Rs.create(),valueType:t,typeName:Be.ZodRecord,...Ue(r)})}},vo=class extends ze{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==we.map)return _e(n,{code:le.invalid_type,expected:we.map,received:n.parsedType}),Re;let s=this._def.keyType,a=this._def.valueType,o=[...n.data.entries()].map(([u,h],l)=&amp;gt;({key:s._parse(new Er(n,u,n.path,[l,&amp;quot;key&amp;quot;])),value:a._parse(new Er(n,h,n.path,[l,&amp;quot;value&amp;quot;]))}));if(n.common.async){let u=new Map;return Promise.resolve().then(async()=&amp;gt;{for(let h of o){let l=await h.key,c=await h.value;if(l.status===&amp;quot;aborted&amp;quot;||c.status===&amp;quot;aborted&amp;quot;)return Re;(l.status===&amp;quot;dirty&amp;quot;||c.status===&amp;quot;dirty&amp;quot;)&amp;amp;&amp;amp;r.dirty(),u.set(l.value,c.value)}return{status:r.value,value:u}})}else{let u=new Map;for(let h of o){let l=h.key,c=h.value;if(l.status===&amp;quot;aborted&amp;quot;||c.status===&amp;quot;aborted&amp;quot;)return Re;(l.status===&amp;quot;dirty&amp;quot;||c.status===&amp;quot;dirty&amp;quot;)&amp;amp;&amp;amp;r.dirty(),u.set(l.value,c.value)}return{status:r.value,value:u}}}};vo.create=(i,t,r)=&amp;gt;new vo({valueType:t,keyType:i,typeName:Be.ZodMap,...Ue(r)});var xo=class i extends ze{_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==we.set)return _e(n,{code:le.invalid_type,expected:we.set,received:n.parsedType}),Re;let s=this._def;s.minSize!==null&amp;amp;&amp;amp;n.data.size&amp;lt;s.minSize.value&amp;amp;&amp;amp;(_e(n,{code:le.too_small,minimum:s.minSize.value,type:&amp;quot;set&amp;quot;,inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&amp;amp;&amp;amp;n.data.size&amp;gt;s.maxSize.value&amp;amp;&amp;amp;(_e(n,{code:le.too_big,maximum:s.maxSize.value,type:&amp;quot;set&amp;quot;,inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());let a=this._def.valueType;function o(h){let l=new Set;for(let c of h){if(c.status===&amp;quot;aborted&amp;quot;)return Re;c.status===&amp;quot;dirty&amp;quot;&amp;amp;&amp;amp;r.dirty(),l.add(c.value)}return{status:r.value,value:l}}let u=[...n.data.values()].map((h,l)=&amp;gt;a._parse(new Er(n,h,n.path,l)));return n.common.async?Promise.all(u).then(h=&amp;gt;o(h)):o(u)}min(t,r){return new i({...this._def,minSize:{value:t,message:Ne.toString(r)}})}max(t,r){return new i({...this._def,maxSize:{value:t,message:Ne.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}};xo.create=(i,t)=&amp;gt;new xo({valueType:i,minSize:null,maxSize:null,typeName:Be.ZodSet,...Ue(t)});var uf=class i extends ze{constructor(){super(...arguments),this.validate=this.implement}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==we.function)return _e(r,{code:le.invalid_type,expected:we.function,received:r.parsedType}),Re;function n(u,h){return xl({data:u,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,lo(),Yi].filter(l=&amp;gt;!!l),issueData:{code:le.invalid_arguments,argumentsError:h}})}function s(u,h){return xl({data:u,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,lo(),Yi].filter(l=&amp;gt;!!l),issueData:{code:le.invalid_return_type,returnTypeError:h}})}let a={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof On){let u=this;return Ht(async function(...h){let l=new cr([]),c=await u._def.args.parseAsync(h,a).catch(d=&amp;gt;{throw l.addIssue(n(h,d)),l}),p=await Reflect.apply(o,this,c);return await u._def.returns._def.type.parseAsync(p,a).catch(d=&amp;gt;{throw l.addIssue(s(p,d)),l})})}else{let u=this;return Ht(function(...h){let l=u._def.args.safeParse(h,a);if(!l.success)throw new cr([n(h,l.error)]);let c=Reflect.apply(o,this,l.data),p=u._def.returns.safeParse(c,a);if(!p.success)throw new cr([s(c,p.error)]);return p.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new i({...this._def,args:$r.create(t).rest(Xi.create())})}returns(t){return new i({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new i({args:t||$r.create([]).rest(Xi.create()),returns:r||Xi.create(),typeName:Be.ZodFunction,...Ue(n)})}},Vs=class extends ze{get schema(){return this._def.getter()}_parse(t){let{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};Vs.create=(i,t)=&amp;gt;new Vs({getter:i,typeName:Be.ZodLazy,...Ue(t)});var Us=class extends ze{_parse(t){if(t.data!==this._def.value){let r=this._getOrReturnCtx(t);return _e(r,{received:r.data,code:le.invalid_literal,expected:this._def.value}),Re}return{status:&amp;quot;valid&amp;quot;,value:t.data}}get value(){return this._def.value}};Us.create=(i,t)=&amp;gt;new Us({value:i,typeName:Be.ZodLiteral,...Ue(t)});function k0(i,t){return new Gs({values:i,typeName:Be.ZodEnum,...Ue(t)})}var Gs=class i extends ze{_parse(t){if(typeof t.data!=&amp;quot;string&amp;quot;){let r=this._getOrReturnCtx(t),n=this._def.values;return _e(r,{expected:He.joinValues(n),received:r.parsedType,code:le.invalid_type}),Re}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){let r=this._getOrReturnCtx(t),n=this._def.values;return _e(r,{received:r.data,code:le.invalid_enum_value,options:n}),Re}return Ht(t.data)}get options(){return this._def.values}get enum(){let t={};for(let r of this._def.values)t[r]=r;return t}get Values(){let t={};for(let r of this._def.values)t[r]=r;return t}get Enum(){let t={};for(let r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return i.create(t,{...this._def,...r})}exclude(t,r=this._def){return i.create(this.options.filter(n=&amp;gt;!t.includes(n)),{...this._def,...r})}};Gs.create=k0;var zs=class extends ze{_parse(t){let r=He.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==we.string&amp;amp;&amp;amp;n.parsedType!==we.number){let s=He.objectValues(r);return _e(n,{expected:He.joinValues(s),received:n.parsedType,code:le.invalid_type}),Re}if(this._cache||(this._cache=new Set(He.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){let s=He.objectValues(r);return _e(n,{received:n.data,code:le.invalid_enum_value,options:s}),Re}return Ht(t.data)}get enum(){return this._def.values}};zs.create=(i,t)=&amp;gt;new zs({values:i,typeName:Be.ZodNativeEnum,...Ue(t)});var On=class extends ze{unwrap(){return this._def.type}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==we.promise&amp;amp;&amp;amp;r.common.async===!1)return _e(r,{code:le.invalid_type,expected:we.promise,received:r.parsedType}),Re;let n=r.parsedType===we.promise?r.data:Promise.resolve(r.data);return Ht(n.then(s=&amp;gt;this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}};On.create=(i,t)=&amp;gt;new On({type:i,typeName:Be.ZodPromise,...Ue(t)});var Hr=class extends ze{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Be.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){let{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,a={addIssue:o=&amp;gt;{_e(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),s.type===&amp;quot;preprocess&amp;quot;){let o=s.transform(n.data,a);if(n.common.async)return Promise.resolve(o).then(async u=&amp;gt;{if(r.value===&amp;quot;aborted&amp;quot;)return Re;let h=await this._def.schema._parseAsync({data:u,path:n.path,parent:n});return h.status===&amp;quot;aborted&amp;quot;?Re:h.status===&amp;quot;dirty&amp;quot;?Ms(h.value):r.value===&amp;quot;dirty&amp;quot;?Ms(h.value):h});{if(r.value===&amp;quot;aborted&amp;quot;)return Re;let u=this._def.schema._parseSync({data:o,path:n.path,parent:n});return u.status===&amp;quot;aborted&amp;quot;?Re:u.status===&amp;quot;dirty&amp;quot;?Ms(u.value):r.value===&amp;quot;dirty&amp;quot;?Ms(u.value):u}}if(s.type===&amp;quot;refinement&amp;quot;){let o=u=&amp;gt;{let h=s.refinement(u,a);if(n.common.async)return Promise.resolve(h);if(h instanceof Promise)throw new Error(&amp;quot;Async refinement encountered during synchronous parse operation. Use .parseAsync instead.&amp;quot;);return u};if(n.common.async===!1){let u=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return u.status===&amp;quot;aborted&amp;quot;?Re:(u.status===&amp;quot;dirty&amp;quot;&amp;amp;&amp;amp;r.dirty(),o(u.value),{status:r.value,value:u.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(u=&amp;gt;u.status===&amp;quot;aborted&amp;quot;?Re:(u.status===&amp;quot;dirty&amp;quot;&amp;amp;&amp;amp;r.dirty(),o(u.value).then(()=&amp;gt;({status:r.value,value:u.value}))))}if(s.type===&amp;quot;transform&amp;quot;)if(n.common.async===!1){let o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Bn(o))return Re;let u=s.transform(o.value,a);if(u instanceof Promise)throw new Error(&amp;quot;Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.&amp;quot;);return{status:r.value,value:u}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=&amp;gt;Bn(o)?Promise.resolve(s.transform(o.value,a)).then(u=&amp;gt;({status:r.value,value:u})):Re);He.assertNever(s)}};Hr.create=(i,t,r)=&amp;gt;new Hr({schema:i,typeName:Be.ZodEffects,effect:t,...Ue(r)});Hr.createWithPreprocess=(i,t,r)=&amp;gt;new Hr({schema:t,effect:{type:&amp;quot;preprocess&amp;quot;,transform:i},typeName:Be.ZodEffects,...Ue(r)});var jr=class extends ze{_parse(t){return this._getType(t)===we.undefined?Ht(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};jr.create=(i,t)=&amp;gt;new jr({innerType:i,typeName:Be.ZodOptional,...Ue(t)});var Ai=class extends ze{_parse(t){return this._getType(t)===we.null?Ht(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};Ai.create=(i,t)=&amp;gt;new Ai({innerType:i,typeName:Be.ZodNullable,...Ue(t)});var js=class extends ze{_parse(t){let{ctx:r}=this._processInputParams(t),n=r.data;return r.parsedType===we.undefined&amp;amp;&amp;amp;(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};js.create=(i,t)=&amp;gt;new js({innerType:i,typeName:Be.ZodDefault,defaultValue:typeof t.default==&amp;quot;function&amp;quot;?t.default:()=&amp;gt;t.default,...Ue(t)});var $s=class extends ze{_parse(t){let{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return ho(s)?s.then(a=&amp;gt;({status:&amp;quot;valid&amp;quot;,value:a.status===&amp;quot;valid&amp;quot;?a.value:this._def.catchValue({get error(){return new cr(n.common.issues)},input:n.data})})):{status:&amp;quot;valid&amp;quot;,value:s.status===&amp;quot;valid&amp;quot;?s.value:this._def.catchValue({get error(){return new cr(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};$s.create=(i,t)=&amp;gt;new $s({innerType:i,typeName:Be.ZodCatch,catchValue:typeof t.catch==&amp;quot;function&amp;quot;?t.catch:()=&amp;gt;t.catch,...Ue(t)});var bo=class extends ze{_parse(t){if(this._getType(t)!==we.nan){let n=this._getOrReturnCtx(t);return _e(n,{code:le.invalid_type,expected:we.nan,received:n.parsedType}),Re}return{status:&amp;quot;valid&amp;quot;,value:t.data}}};bo.create=i=&amp;gt;new bo({typeName:Be.ZodNaN,...Ue(i)});var AL=Symbol(&amp;quot;zod_brand&amp;quot;),bl=class extends ze{_parse(t){let{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}},_l=class i extends ze{_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=&amp;gt;{let a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status===&amp;quot;aborted&amp;quot;?Re:a.status===&amp;quot;dirty&amp;quot;?(r.dirty(),Ms(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{let s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status===&amp;quot;aborted&amp;quot;?Re:s.status===&amp;quot;dirty&amp;quot;?(r.dirty(),{status:&amp;quot;dirty&amp;quot;,value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new i({in:t,out:r,typeName:Be.ZodPipeline})}},Hs=class extends ze{_parse(t){let r=this._def.innerType._parse(t),n=s=&amp;gt;(Bn(s)&amp;amp;&amp;amp;(s.value=Object.freeze(s.value)),s);return ho(r)?r.then(s=&amp;gt;n(s)):n(r)}unwrap(){return this._def.innerType}};Hs.create=(i,t)=&amp;gt;new Hs({innerType:i,typeName:Be.ZodReadonly,...Ue(t)});function T0(i,t){let r=typeof i==&amp;quot;function&amp;quot;?i(t):typeof i==&amp;quot;string&amp;quot;?{message:i}:i;return typeof r==&amp;quot;string&amp;quot;?{message:r}:r}function lf(i,t={},r){return i?Pn.create().superRefine((n,s)=&amp;gt;{let a=i(n);if(a instanceof Promise)return a.then(o=&amp;gt;{if(!o){let u=T0(t,n),h=u.fatal??r??!0;s.addIssue({code:&amp;quot;custom&amp;quot;,...u,fatal:h})}});if(!a){let o=T0(t,n),u=o.fatal??r??!0;s.addIssue({code:&amp;quot;custom&amp;quot;,...o,fatal:u})}}):Pn.create()}var DL={object:fr.lazycreate},Be;(function(i){i.ZodString=&amp;quot;ZodString&amp;quot;,i.ZodNumber=&amp;quot;ZodNumber&amp;quot;,i.ZodNaN=&amp;quot;ZodNaN&amp;quot;,i.ZodBigInt=&amp;quot;ZodBigInt&amp;quot;,i.ZodBoolean=&amp;quot;ZodBoolean&amp;quot;,i.ZodDate=&amp;quot;ZodDate&amp;quot;,i.ZodSymbol=&amp;quot;ZodSymbol&amp;quot;,i.ZodUndefined=&amp;quot;ZodUndefined&amp;quot;,i.ZodNull=&amp;quot;ZodNull&amp;quot;,i.ZodAny=&amp;quot;ZodAny&amp;quot;,i.ZodUnknown=&amp;quot;ZodUnknown&amp;quot;,i.ZodNever=&amp;quot;ZodNever&amp;quot;,i.ZodVoid=&amp;quot;ZodVoid&amp;quot;,i.ZodArray=&amp;quot;ZodArray&amp;quot;,i.ZodObject=&amp;quot;ZodObject&amp;quot;,i.ZodUnion=&amp;quot;ZodUnion&amp;quot;,i.ZodDiscriminatedUnion=&amp;quot;ZodDiscriminatedUnion&amp;quot;,i.ZodIntersection=&amp;quot;ZodIntersection&amp;quot;,i.ZodTuple=&amp;quot;ZodTuple&amp;quot;,i.ZodRecord=&amp;quot;ZodRecord&amp;quot;,i.ZodMap=&amp;quot;ZodMap&amp;quot;,i.ZodSet=&amp;quot;ZodSet&amp;quot;,i.ZodFunction=&amp;quot;ZodFunction&amp;quot;,i.ZodLazy=&amp;quot;ZodLazy&amp;quot;,i.ZodLiteral=&amp;quot;ZodLiteral&amp;quot;,i.ZodEnum=&amp;quot;ZodEnum&amp;quot;,i.ZodEffects=&amp;quot;ZodEffects&amp;quot;,i.ZodNativeEnum=&amp;quot;ZodNativeEnum&amp;quot;,i.ZodOptional=&amp;quot;ZodOptional&amp;quot;,i.ZodNullable=&amp;quot;ZodNullable&amp;quot;,i.ZodDefault=&amp;quot;ZodDefault&amp;quot;,i.ZodCatch=&amp;quot;ZodCatch&amp;quot;,i.ZodPromise=&amp;quot;ZodPromise&amp;quot;,i.ZodBranded=&amp;quot;ZodBranded&amp;quot;,i.ZodPipeline=&amp;quot;ZodPipeline&amp;quot;,i.ZodReadonly=&amp;quot;ZodReadonly&amp;quot;})(Be||(Be={}));var hf=(i,t={message:`Input not instance of ${i.name}`})=&amp;gt;lf(r=&amp;gt;r instanceof i,t),M0=Rs.create,cf=co.create,FL=bo.create,TL=fo.create,L0=po.create,NL=mo.create,IL=go.create,kL=Bs.create,ML=Ps.create,wl=Pn.create,LL=Xi.create,RL=ii.create,BL=yo.create,ff=Ki.create,R0=fr.create,PL=fr.strictCreate,pf=Ji.create,OL=sf.create,VL=Os.create,df=$r.create,UL=of.create,GL=vo.create,zL=xo.create,mf=uf.create,jL=Vs.create,gf=Us.create,$L=Gs.create,HL=zs.create,WL=On.create,qL=Hr.create,ZL=jr.create,YL=Ai.create,XL=Hr.createWithPreprocess,KL=_l.create;var Z_={describe:{overloads:[[&amp;quot;String&amp;quot;,&amp;quot;FALLBACK|LABEL?&amp;quot;]]},describeElement:{overloads:[[&amp;quot;String&amp;quot;,&amp;quot;String&amp;quot;,&amp;quot;FALLBACK|LABEL?&amp;quot;]]},textOutput:{overloads:[[&amp;quot;FALLBACK|LABEL?&amp;quot;]]},gridOutput:{overloads:[[&amp;quot;FALLBACK|LABEL?&amp;quot;]]},p5:{overloads:[[&amp;quot;Object&amp;quot;,&amp;quot;String|HTMLElement&amp;quot;]]},color:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number?&amp;quot;],[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number?&amp;quot;],[&amp;quot;String&amp;quot;],[&amp;quot;Number[]&amp;quot;],[&amp;quot;p5.Color&amp;quot;]]},red:{overloads:[[&amp;quot;p5.Color|Number[]|String&amp;quot;]]},green:{overloads:[[&amp;quot;p5.Color|Number[]|String&amp;quot;]]},blue:{overloads:[[&amp;quot;p5.Color|Number[]|String&amp;quot;]]},alpha:{overloads:[[&amp;quot;p5.Color|Number[]|String&amp;quot;]]},hue:{overloads:[[&amp;quot;p5.Color|Number[]|String&amp;quot;]]},saturation:{overloads:[[&amp;quot;p5.Color|Number[]|String&amp;quot;]]},brightness:{overloads:[[&amp;quot;p5.Color|Number[]|String&amp;quot;]]},lightness:{overloads:[[&amp;quot;p5.Color|Number[]|String&amp;quot;]]},lerpColor:{overloads:[[&amp;quot;p5.Color&amp;quot;,&amp;quot;p5.Color&amp;quot;,&amp;quot;Number&amp;quot;]]},paletteLerp:{overloads:[[&amp;quot;[p5.Color|String|Number|Number[], Number][]&amp;quot;,&amp;quot;Number&amp;quot;]]},beginClip:{overloads:[[&amp;quot;Object?&amp;quot;]]},endClip:{overloads:[[]]},clip:{overloads:[[&amp;quot;Function&amp;quot;,&amp;quot;Object?&amp;quot;]]},background:{overloads:[[&amp;quot;p5.Color&amp;quot;],[&amp;quot;String&amp;quot;,&amp;quot;Number?&amp;quot;],[&amp;quot;Number&amp;quot;,&amp;quot;Number?&amp;quot;],[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number?&amp;quot;],[&amp;quot;Number[]&amp;quot;],[&amp;quot;p5.Image&amp;quot;,&amp;quot;Number?&amp;quot;]]},clear:{overloads:[[&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;],[]]},colorMode:{overloads:[[&amp;quot;RGB|HSB|HSL|RGBHDR|HWB|LAB|LCH|OKLAB|OKLCH&amp;quot;,&amp;quot;Number?&amp;quot;],[&amp;quot;RGB|HSB|HSL|RGBHDR|HWB|LAB|LCH|OKLAB|OKLCH&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number?&amp;quot;]]},fill:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number?&amp;quot;],[&amp;quot;String&amp;quot;],[&amp;quot;Number&amp;quot;,&amp;quot;Number?&amp;quot;],[&amp;quot;Number[]&amp;quot;],[&amp;quot;p5.Color&amp;quot;]]},noFill:{overloads:[[]]},noStroke:{overloads:[[]]},stroke:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number?&amp;quot;],[&amp;quot;String&amp;quot;],[&amp;quot;Number&amp;quot;,&amp;quot;Number?&amp;quot;],[&amp;quot;Number[]&amp;quot;],[&amp;quot;p5.Color&amp;quot;]]},erase:{overloads:[[&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;]]},noErase:{overloads:[[]]},blendMode:{overloads:[[&amp;quot;BLEND|DARKEST|LIGHTEST|DIFFERENCE|MULTIPLY|EXCLUSION|SCREEN|REPLACE|OVERLAY|HARD_LIGHT|SOFT_LIGHT|DODGE|BURN|ADD|REMOVE|SUBTRACT&amp;quot;]]},print:{overloads:[[&amp;quot;Any&amp;quot;],[&amp;quot;String|Number|Array&amp;quot;]]},cursor:{overloads:[[&amp;quot;ARROW|CROSS|HAND|MOVE|TEXT|WAIT|String&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;]]},frameRate:{overloads:[[&amp;quot;Number&amp;quot;],[]]},getTargetFrameRate:{overloads:[[]]},noCursor:{overloads:[[]]},windowResized:{overloads:[[&amp;quot;UIEvent?&amp;quot;]]},fullscreen:{overloads:[[&amp;quot;Boolean?&amp;quot;]]},pixelDensity:{overloads:[[&amp;quot;Number?&amp;quot;],[]]},displayDensity:{overloads:[[]]},getURL:{overloads:[[]]},getURLPath:{overloads:[[]]},getURLParams:{overloads:[[]]},worldToScreen:{overloads:[[&amp;quot;Number|p5.Vector&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number?&amp;quot;]]},screenToWorld:{overloads:[[&amp;quot;Number|p5.Vector&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number?&amp;quot;]]},setup:{overloads:[[]]},draw:{overloads:[[]]},createCanvas:{overloads:[[&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;P2D|WEBGL|P2DHDR?&amp;quot;,&amp;quot;HTMLCanvasElement?&amp;quot;],[&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;HTMLCanvasElement?&amp;quot;]]},resizeCanvas:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Boolean?&amp;quot;]]},noCanvas:{overloads:[[]]},createGraphics:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;P2D|WEBGL?&amp;quot;,&amp;quot;HTMLCanvasElement?&amp;quot;],[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;HTMLCanvasElement?&amp;quot;]]},createFramebuffer:{overloads:[[&amp;quot;Object?&amp;quot;]]},clearDepth:{overloads:[[&amp;quot;Number?&amp;quot;]]},noLoop:{overloads:[[]]},loop:{overloads:[[]]},isLooping:{overloads:[[]]},redraw:{overloads:[[&amp;quot;Integer?&amp;quot;]]},applyMatrix:{overloads:[[&amp;quot;Array&amp;quot;],[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;],[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;]]},resetMatrix:{overloads:[[]]},rotate:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;p5.Vector|Number[]?&amp;quot;]]},rotateX:{overloads:[[&amp;quot;Number&amp;quot;]]},rotateY:{overloads:[[&amp;quot;Number&amp;quot;]]},rotateZ:{overloads:[[&amp;quot;Number&amp;quot;]]},scale:{overloads:[[&amp;quot;Number|p5.Vector|Number[]&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;],[&amp;quot;p5.Vector|Number[]&amp;quot;]]},shearX:{overloads:[[&amp;quot;Number&amp;quot;]]},shearY:{overloads:[[&amp;quot;Number&amp;quot;]]},translate:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number?&amp;quot;],[&amp;quot;p5.Vector&amp;quot;]]},push:{overloads:[[]]},pop:{overloads:[[]]},storeItem:{overloads:[[&amp;quot;String&amp;quot;,&amp;quot;String|Number|Boolean|Object|Array&amp;quot;]]},getItem:{overloads:[[&amp;quot;String&amp;quot;]]},clearStorage:{overloads:[[]]},removeItem:{overloads:[[&amp;quot;String&amp;quot;]]},select:{overloads:[[&amp;quot;String&amp;quot;,&amp;quot;String|p5.Element|HTMLElement?&amp;quot;]]},selectAll:{overloads:[[&amp;quot;String&amp;quot;,&amp;quot;String|p5.Element|HTMLElement?&amp;quot;]]},createElement:{overloads:[[&amp;quot;String&amp;quot;,&amp;quot;String?&amp;quot;]]},removeElements:{overloads:[[]]},addElement:{overloads:[[]]},createDiv:{overloads:[[&amp;quot;String?&amp;quot;]]},createP:{overloads:[[&amp;quot;String?&amp;quot;]]},createSpan:{overloads:[[&amp;quot;String?&amp;quot;]]},createImg:{overloads:[[&amp;quot;String&amp;quot;,&amp;quot;String&amp;quot;],[&amp;quot;String&amp;quot;,&amp;quot;String&amp;quot;,&amp;quot;String?&amp;quot;,&amp;quot;Function?&amp;quot;]]},createA:{overloads:[[&amp;quot;String&amp;quot;,&amp;quot;String&amp;quot;,&amp;quot;String?&amp;quot;]]},createSlider:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;]]},createButton:{overloads:[[&amp;quot;String&amp;quot;,&amp;quot;String?&amp;quot;]]},createCheckbox:{overloads:[[&amp;quot;String?&amp;quot;,&amp;quot;Boolean?&amp;quot;]]},createSelect:{overloads:[[&amp;quot;Boolean?&amp;quot;],[&amp;quot;Object&amp;quot;]]},createRadio:{overloads:[[&amp;quot;Object?&amp;quot;],[&amp;quot;String?&amp;quot;],[]]},createColorPicker:{overloads:[[&amp;quot;String|p5.Color?&amp;quot;]]},createInput:{overloads:[[&amp;quot;String?&amp;quot;,&amp;quot;String?&amp;quot;],[&amp;quot;String?&amp;quot;]]},createFileInput:{overloads:[[&amp;quot;Function&amp;quot;,&amp;quot;Boolean?&amp;quot;]]},setMoveThreshold:{overloads:[[&amp;quot;Number&amp;quot;]]},setShakeThreshold:{overloads:[[&amp;quot;Number&amp;quot;]]},deviceMoved:{overloads:[[]]},deviceTurned:{overloads:[[]]},deviceShaken:{overloads:[[]]},keyPressed:{overloads:[[&amp;quot;KeyboardEvent?&amp;quot;]]},keyReleased:{overloads:[[&amp;quot;KeyboardEvent?&amp;quot;]]},keyTyped:{overloads:[[&amp;quot;KeyboardEvent?&amp;quot;]]},keyIsDown:{overloads:[[&amp;quot;Number|String&amp;quot;]]},mouseMoved:{overloads:[[&amp;quot;MouseEvent?&amp;quot;]]},mouseDragged:{overloads:[[&amp;quot;MouseEvent?&amp;quot;]]},mousePressed:{overloads:[[&amp;quot;MouseEvent?&amp;quot;]]},mouseReleased:{overloads:[[&amp;quot;MouseEvent?&amp;quot;]]},mouseClicked:{overloads:[[&amp;quot;MouseEvent?&amp;quot;]]},doubleClicked:{overloads:[[&amp;quot;MouseEvent?&amp;quot;]]},mouseWheel:{overloads:[[&amp;quot;WheelEvent?&amp;quot;]]},requestPointerLock:{overloads:[[]]},exitPointerLock:{overloads:[[]]},createImage:{overloads:[[&amp;quot;Integer&amp;quot;,&amp;quot;Integer&amp;quot;]]},saveCanvas:{overloads:[[&amp;quot;p5.Framebuffer|p5.Element|HTMLCanvasElement&amp;quot;,&amp;quot;String?&amp;quot;,&amp;quot;String?&amp;quot;],[&amp;quot;String?&amp;quot;,&amp;quot;String?&amp;quot;]]},saveFrames:{overloads:[[&amp;quot;String&amp;quot;,&amp;quot;String&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;function(Array)?&amp;quot;]]},loadImage:{overloads:[[&amp;quot;String|Request&amp;quot;,&amp;quot;function(p5.Image)?&amp;quot;,&amp;quot;function(Event)?&amp;quot;]]},saveGif:{overloads:[[&amp;quot;String&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Object?&amp;quot;]]},image:{overloads:[[&amp;quot;p5.Image|p5.Element|p5.Texture|p5.Framebuffer|p5.FramebufferTexture|p5.Renderer|p5.Graphics&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;],[&amp;quot;p5.Image|p5.Element|p5.Texture|p5.Framebuffer|p5.FramebufferTexture&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;CONTAIN|COVER?&amp;quot;,&amp;quot;LEFT|RIGHT|CENTER?&amp;quot;,&amp;quot;TOP|BOTTOM|CENTER?&amp;quot;]]},tint:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number?&amp;quot;],[&amp;quot;String&amp;quot;],[&amp;quot;Number&amp;quot;,&amp;quot;Number?&amp;quot;],[&amp;quot;Number[]&amp;quot;],[&amp;quot;p5.Color&amp;quot;]]},noTint:{overloads:[[]]},imageMode:{overloads:[[&amp;quot;CORNER|CORNERS|CENTER&amp;quot;]]},blend:{overloads:[[&amp;quot;p5.Image&amp;quot;,&amp;quot;Integer&amp;quot;,&amp;quot;Integer&amp;quot;,&amp;quot;Integer&amp;quot;,&amp;quot;Integer&amp;quot;,&amp;quot;Integer&amp;quot;,&amp;quot;Integer&amp;quot;,&amp;quot;Integer&amp;quot;,&amp;quot;Integer&amp;quot;,&amp;quot;BLEND|DARKEST|LIGHTEST|DIFFERENCE|MULTIPLY|EXCLUSION|SCREEN|REPLACE|OVERLAY|HARD_LIGHT|SOFT_LIGHT|DODGE|BURN|ADD|NORMAL&amp;quot;],[&amp;quot;Integer&amp;quot;,&amp;quot;Integer&amp;quot;,&amp;quot;Integer&amp;quot;,&amp;quot;Integer&amp;quot;,&amp;quot;Integer&amp;quot;,&amp;quot;Integer&amp;quot;,&amp;quot;Integer&amp;quot;,&amp;quot;Integer&amp;quot;,&amp;quot;BLEND|DARKEST|LIGHTEST|DIFFERENCE|MULTIPLY|EXCLUSION|SCREEN|REPLACE|OVERLAY|HARD_LIGHT|SOFT_LIGHT|DODGE|BURN|ADD|NORMAL&amp;quot;]]},copy:{overloads:[[&amp;quot;p5.Image|p5.Element&amp;quot;,&amp;quot;Integer&amp;quot;,&amp;quot;Integer&amp;quot;,&amp;quot;Integer&amp;quot;,&amp;quot;Integer&amp;quot;,&amp;quot;Integer&amp;quot;,&amp;quot;Integer&amp;quot;,&amp;quot;Integer&amp;quot;,&amp;quot;Integer&amp;quot;],[&amp;quot;Integer&amp;quot;,&amp;quot;Integer&amp;quot;,&amp;quot;Integer&amp;quot;,&amp;quot;Integer&amp;quot;,&amp;quot;Integer&amp;quot;,&amp;quot;Integer&amp;quot;,&amp;quot;Integer&amp;quot;,&amp;quot;Integer&amp;quot;]]},filter:{overloads:[[&amp;quot;THRESHOLD|GRAY|OPAQUE|INVERT|POSTERIZE|BLUR|ERODE|DILATE|BLUR&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Boolean?&amp;quot;],[&amp;quot;p5.Shader&amp;quot;]]},get:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;],[],[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;]]},loadPixels:{overloads:[[]]},set:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number|Number[]|Object&amp;quot;]]},updatePixels:{overloads:[[&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;],[]]},loadJSON:{overloads:[[&amp;quot;String|Request&amp;quot;,&amp;quot;Function?&amp;quot;,&amp;quot;Function?&amp;quot;]]},loadStrings:{overloads:[[&amp;quot;String|Request&amp;quot;,&amp;quot;Function?&amp;quot;,&amp;quot;Function?&amp;quot;]]},loadTable:{overloads:[[&amp;quot;String|Request&amp;quot;,&amp;quot;String?&amp;quot;,&amp;quot;String?&amp;quot;,&amp;quot;Function?&amp;quot;,&amp;quot;Function?&amp;quot;]]},loadXML:{overloads:[[&amp;quot;String|Request&amp;quot;,&amp;quot;Function?&amp;quot;,&amp;quot;Function?&amp;quot;]]},loadBytes:{overloads:[[&amp;quot;String|Request&amp;quot;,&amp;quot;Function?&amp;quot;,&amp;quot;Function?&amp;quot;]]},loadBlob:{overloads:[[&amp;quot;String|Request&amp;quot;,&amp;quot;Function?&amp;quot;,&amp;quot;Function?&amp;quot;]]},httpGet:{overloads:[[&amp;quot;String|Request&amp;quot;,&amp;quot;String?&amp;quot;,&amp;quot;Function?&amp;quot;,&amp;quot;Function?&amp;quot;],[&amp;quot;String|Request&amp;quot;,&amp;quot;Function&amp;quot;,&amp;quot;Function?&amp;quot;]]},httpPost:{overloads:[[&amp;quot;String|Request&amp;quot;,&amp;quot;Object|Boolean?&amp;quot;,&amp;quot;String?&amp;quot;,&amp;quot;Function?&amp;quot;,&amp;quot;Function?&amp;quot;],[&amp;quot;String|Request&amp;quot;,&amp;quot;Object|Boolean&amp;quot;,&amp;quot;Function?&amp;quot;,&amp;quot;Function?&amp;quot;],[&amp;quot;String|Request&amp;quot;,&amp;quot;Function?&amp;quot;,&amp;quot;Function?&amp;quot;]]},httpDo:{overloads:[[&amp;quot;String|Request&amp;quot;,&amp;quot;String?&amp;quot;,&amp;quot;String?&amp;quot;,&amp;quot;Object?&amp;quot;,&amp;quot;Function?&amp;quot;,&amp;quot;Function?&amp;quot;],[&amp;quot;String|Request&amp;quot;,&amp;quot;Function?&amp;quot;,&amp;quot;Function?&amp;quot;]]},createWriter:{overloads:[[&amp;quot;String&amp;quot;,&amp;quot;String?&amp;quot;]]},write:{overloads:[[&amp;quot;String|Number|Array&amp;quot;]]},close:{overloads:[[]]},save:{overloads:[[&amp;quot;Object|String?&amp;quot;,&amp;quot;String?&amp;quot;,&amp;quot;Boolean|String?&amp;quot;]]},saveJSON:{overloads:[[&amp;quot;Array|Object&amp;quot;,&amp;quot;String&amp;quot;,&amp;quot;Boolean?&amp;quot;]]},saveStrings:{overloads:[[&amp;quot;String[]&amp;quot;,&amp;quot;String&amp;quot;,&amp;quot;String?&amp;quot;,&amp;quot;Boolean?&amp;quot;]]},saveTable:{overloads:[[&amp;quot;p5.Table&amp;quot;,&amp;quot;String&amp;quot;,&amp;quot;String?&amp;quot;]]},abs:{overloads:[[&amp;quot;Number&amp;quot;]]},ceil:{overloads:[[&amp;quot;Number&amp;quot;]]},constrain:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;]]},dist:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;],[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;],[&amp;quot;p5.Vector&amp;quot;]]},exp:{overloads:[[&amp;quot;Number&amp;quot;]]},floor:{overloads:[[&amp;quot;Number&amp;quot;]]},lerp:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;]]},log:{overloads:[[&amp;quot;Number&amp;quot;]]},mag:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;]]},map:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Boolean?&amp;quot;]]},max:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;],[&amp;quot;Number[]&amp;quot;]]},min:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;],[&amp;quot;Number[]&amp;quot;]]},norm:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;]]},pow:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;]]},round:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number?&amp;quot;]]},sq:{overloads:[[&amp;quot;Number&amp;quot;]]},sqrt:{overloads:[[&amp;quot;Number&amp;quot;]]},fract:{overloads:[[&amp;quot;Number&amp;quot;]]},createVector:{overloads:[[&amp;quot;...Number[]&amp;quot;]]},noise:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;]]},noiseDetail:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;]]},noiseSeed:{overloads:[[&amp;quot;Number&amp;quot;]]},randomSeed:{overloads:[[&amp;quot;Number&amp;quot;]]},random:{overloads:[[&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;],[&amp;quot;Array&amp;quot;]]},randomGaussian:{overloads:[[&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;]]},acos:{overloads:[[&amp;quot;Number&amp;quot;]]},asin:{overloads:[[&amp;quot;Number&amp;quot;]]},atan:{overloads:[[&amp;quot;Number&amp;quot;]]},atan2:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;]]},cos:{overloads:[[&amp;quot;Number&amp;quot;]]},sin:{overloads:[[&amp;quot;Number&amp;quot;]]},tan:{overloads:[[&amp;quot;Number&amp;quot;]]},degrees:{overloads:[[&amp;quot;Number&amp;quot;]]},radians:{overloads:[[&amp;quot;Number&amp;quot;]]},angleMode:{overloads:[[&amp;quot;RADIANS|DEGREES&amp;quot;],[]]},arc:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;CHORD|PIE|OPEN?&amp;quot;,&amp;quot;Integer?&amp;quot;]]},ellipse:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number?&amp;quot;],[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Integer?&amp;quot;]]},circle:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;]]},line:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;],[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;]]},point:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number?&amp;quot;],[&amp;quot;p5.Vector&amp;quot;]]},quad:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Integer?&amp;quot;,&amp;quot;Integer?&amp;quot;],[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Integer?&amp;quot;,&amp;quot;Integer?&amp;quot;]]},rect:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;],[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Integer?&amp;quot;,&amp;quot;Integer?&amp;quot;]]},square:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;]]},triangle:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;]]},ellipseMode:{overloads:[[&amp;quot;CENTER|RADIUS|CORNER|CORNERS&amp;quot;]]},noSmooth:{overloads:[[]]},rectMode:{overloads:[[&amp;quot;CENTER|RADIUS|CORNER|CORNERS&amp;quot;]]},smooth:{overloads:[[]]},strokeCap:{overloads:[[&amp;quot;ROUND|SQUARE|PROJECT&amp;quot;]]},strokeJoin:{overloads:[[&amp;quot;MITER|BEVEL|ROUND&amp;quot;]]},strokeWeight:{overloads:[[&amp;quot;Number&amp;quot;]]},bezier:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;],[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;]]},bezierPoint:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;]]},bezierTangent:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;]]},spline:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;],[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;]]},splinePoint:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;]]},splineTangent:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;]]},bezierOrder:{overloads:[[&amp;quot;Number&amp;quot;],[]]},splineVertex:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;],[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number?&amp;quot;],[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;],[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;]]},splineProperty:{overloads:[[&amp;quot;String&amp;quot;,null],[&amp;quot;String&amp;quot;]]},splineProperties:{overloads:[[&amp;quot;Object&amp;quot;],[]]},vertex:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;],[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;],[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;]]},beginContour:{overloads:[[]]},endContour:{overloads:[[&amp;quot;OPEN|CLOSE?&amp;quot;]]},beginShape:{overloads:[[&amp;quot;POINTS|LINES|TRIANGLES|TRIANGLE_FAN|TRIANGLE_STRIP|QUADS|QUAD_STRIP|PATH?&amp;quot;]]},bezierVertex:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;],[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;]]},endShape:{overloads:[[&amp;quot;CLOSE?&amp;quot;,&amp;quot;Integer?&amp;quot;]]},normal:{overloads:[[&amp;quot;p5.Vector&amp;quot;],[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;]]},vertexProperty:{overloads:[[&amp;quot;String&amp;quot;,&amp;quot;Number|Number[]&amp;quot;]]},loadFont:{overloads:[[&amp;quot;String&amp;quot;,&amp;quot;String?&amp;quot;,&amp;quot;Object?&amp;quot;,&amp;quot;Function?&amp;quot;,&amp;quot;Function?&amp;quot;],[&amp;quot;String&amp;quot;,&amp;quot;Function?&amp;quot;,&amp;quot;Function?&amp;quot;]]},text:{overloads:[[&amp;quot;String|Object|Array|Number|Boolean&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;]]},textAlign:{overloads:[[&amp;quot;LEFT|CENTER|RIGHT&amp;quot;,&amp;quot;TOP|BOTTOM|CENTER|BASELINE?&amp;quot;]]},textAscent:{overloads:[[&amp;quot;String?&amp;quot;]]},textDescent:{overloads:[[&amp;quot;String?&amp;quot;]]},textLeading:{overloads:[[&amp;quot;Number&amp;quot;]]},textFont:{overloads:[[&amp;quot;p5.Font|String|Object&amp;quot;,&amp;quot;Number?&amp;quot;]]},textSize:{overloads:[[&amp;quot;Number&amp;quot;],[]]},textStyle:{overloads:[[&amp;quot;NORMAL|ITALIC|BOLD|BOLDITALIC&amp;quot;],[]]},textWidth:{overloads:[[&amp;quot;String&amp;quot;]]},textWrap:{overloads:[[&amp;quot;WORD|CHAR&amp;quot;],[]]},textBounds:{overloads:[[&amp;quot;String&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;]]},textDirection:{overloads:[[&amp;quot;String&amp;quot;],[]]},textProperty:{overloads:[[&amp;quot;String&amp;quot;,null],[&amp;quot;String&amp;quot;]]},textProperties:{overloads:[[&amp;quot;Object&amp;quot;],[]]},fontBounds:{overloads:[[&amp;quot;String&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;]]},fontWidth:{overloads:[[&amp;quot;String&amp;quot;]]},fontAscent:{overloads:[[]]},fontDescent:{overloads:[[]]},textWeight:{overloads:[[&amp;quot;Number&amp;quot;],[]]},float:{overloads:[[&amp;quot;String&amp;quot;],[&amp;quot;String[]&amp;quot;]]},int:{overloads:[[&amp;quot;String|Boolean|Number&amp;quot;],[&amp;quot;Array&amp;quot;]]},str:{overloads:[[&amp;quot;String|Boolean|Number&amp;quot;]]},boolean:{overloads:[[&amp;quot;String|Boolean|Number&amp;quot;],[&amp;quot;Array&amp;quot;]]},byte:{overloads:[[&amp;quot;String|Boolean|Number&amp;quot;],[&amp;quot;Array&amp;quot;]]},char:{overloads:[[&amp;quot;String|Number&amp;quot;],[&amp;quot;Array&amp;quot;]]},unchar:{overloads:[[&amp;quot;String&amp;quot;],[&amp;quot;String[]&amp;quot;]]},hex:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number?&amp;quot;],[&amp;quot;Number[]&amp;quot;,&amp;quot;Number?&amp;quot;]]},unhex:{overloads:[[&amp;quot;String&amp;quot;],[&amp;quot;String[]&amp;quot;]]},day:{overloads:[[]]},hour:{overloads:[[]]},minute:{overloads:[[]]},millis:{overloads:[[]]},month:{overloads:[[]]},second:{overloads:[[]]},year:{overloads:[[]]},nf:{overloads:[[&amp;quot;Number|String&amp;quot;,&amp;quot;Integer|String?&amp;quot;,&amp;quot;Integer|String?&amp;quot;],[&amp;quot;Number[]&amp;quot;,&amp;quot;Integer|String?&amp;quot;,&amp;quot;Integer|String?&amp;quot;]]},nfc:{overloads:[[&amp;quot;Number|String&amp;quot;,&amp;quot;Integer|String?&amp;quot;],[&amp;quot;Number[]&amp;quot;,&amp;quot;Integer|String?&amp;quot;]]},nfp:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Integer?&amp;quot;,&amp;quot;Integer?&amp;quot;],[&amp;quot;Number[]&amp;quot;,&amp;quot;Integer?&amp;quot;,&amp;quot;Integer?&amp;quot;]]},nfs:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Integer?&amp;quot;,&amp;quot;Integer?&amp;quot;],[&amp;quot;Array&amp;quot;,&amp;quot;Integer?&amp;quot;,&amp;quot;Integer?&amp;quot;]]},splitTokens:{overloads:[[&amp;quot;String&amp;quot;,&amp;quot;String?&amp;quot;]]},shuffle:{overloads:[[&amp;quot;Array&amp;quot;,&amp;quot;Boolean?&amp;quot;]]},strokeMode:{overloads:[[&amp;quot;String&amp;quot;]]},buildGeometry:{overloads:[[&amp;quot;Function&amp;quot;]]},freeGeometry:{overloads:[[&amp;quot;p5.Geometry&amp;quot;]]},plane:{overloads:[[&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Integer?&amp;quot;,&amp;quot;Integer?&amp;quot;]]},box:{overloads:[[&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Integer?&amp;quot;,&amp;quot;Integer?&amp;quot;]]},sphere:{overloads:[[&amp;quot;Number?&amp;quot;,&amp;quot;Integer?&amp;quot;,&amp;quot;Integer?&amp;quot;]]},cylinder:{overloads:[[&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Integer?&amp;quot;,&amp;quot;Integer?&amp;quot;,&amp;quot;Boolean?&amp;quot;,&amp;quot;Boolean?&amp;quot;]]},cone:{overloads:[[&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Integer?&amp;quot;,&amp;quot;Integer?&amp;quot;,&amp;quot;Boolean?&amp;quot;]]},ellipsoid:{overloads:[[&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Integer?&amp;quot;,&amp;quot;Integer?&amp;quot;]]},torus:{overloads:[[&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Integer?&amp;quot;,&amp;quot;Integer?&amp;quot;]]},curveDetail:{overloads:[[&amp;quot;Number&amp;quot;]]},orbitControl:{overloads:[[&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Object?&amp;quot;]]},debugMode:{overloads:[[],[&amp;quot;GRID|AXES&amp;quot;],[&amp;quot;GRID|AXES&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;],[&amp;quot;GRID|AXES&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;],[&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;]]},noDebugMode:{overloads:[[]]},ambientLight:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number?&amp;quot;],[&amp;quot;Number&amp;quot;,&amp;quot;Number?&amp;quot;],[&amp;quot;String&amp;quot;],[&amp;quot;Number[]&amp;quot;],[&amp;quot;p5.Color&amp;quot;]]},specularColor:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;],[&amp;quot;Number&amp;quot;],[&amp;quot;String&amp;quot;],[&amp;quot;Number[]&amp;quot;],[&amp;quot;p5.Color&amp;quot;]]},directionalLight:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;],[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;p5.Vector&amp;quot;],[&amp;quot;p5.Color|Number[]|String&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;],[&amp;quot;p5.Color|Number[]|String&amp;quot;,&amp;quot;p5.Vector&amp;quot;]]},pointLight:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;],[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;p5.Vector&amp;quot;],[&amp;quot;p5.Color|Number[]|String&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;],[&amp;quot;p5.Color|Number[]|String&amp;quot;,&amp;quot;p5.Vector&amp;quot;]]},imageLight:{overloads:[[&amp;quot;p5.image&amp;quot;]]},panorama:{overloads:[[&amp;quot;p5.Image&amp;quot;]]},lights:{overloads:[[]]},lightFalloff:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;]]},spotLight:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;],[&amp;quot;p5.Color|Number[]|String&amp;quot;,&amp;quot;p5.Vector&amp;quot;,&amp;quot;p5.Vector&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;],[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;p5.Vector&amp;quot;,&amp;quot;p5.Vector&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;],[&amp;quot;p5.Color|Number[]|String&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;p5.Vector&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;],[&amp;quot;p5.Color|Number[]|String&amp;quot;,&amp;quot;p5.Vector&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;],[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;p5.Vector&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;],[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;p5.Vector&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;],[&amp;quot;p5.Color|Number[]|String&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;]]},noLights:{overloads:[[]]},loadModel:{overloads:[[&amp;quot;String|Request&amp;quot;,&amp;quot;String?&amp;quot;,&amp;quot;Boolean&amp;quot;,&amp;quot;function(p5.Geometry)?&amp;quot;,&amp;quot;function(Event)?&amp;quot;],[&amp;quot;String|Request&amp;quot;,&amp;quot;String?&amp;quot;,&amp;quot;function(p5.Geometry)?&amp;quot;,&amp;quot;function(Event)?&amp;quot;],[&amp;quot;String|Request&amp;quot;,&amp;quot;Object?&amp;quot;]]},model:{overloads:[[&amp;quot;p5.Geometry&amp;quot;,&amp;quot;Number?&amp;quot;]]},createModel:{overloads:[[&amp;quot;String&amp;quot;,&amp;quot;String?&amp;quot;,&amp;quot;Boolean&amp;quot;,&amp;quot;function(p5.Geometry)?&amp;quot;,&amp;quot;function(Event)?&amp;quot;],[&amp;quot;String&amp;quot;,&amp;quot;String?&amp;quot;,&amp;quot;function(p5.Geometry)?&amp;quot;,&amp;quot;function(Event)?&amp;quot;],[&amp;quot;String&amp;quot;,&amp;quot;String?&amp;quot;,&amp;quot;Object?&amp;quot;]]},loadShader:{overloads:[[&amp;quot;String|Request&amp;quot;,&amp;quot;String|Request&amp;quot;,&amp;quot;Function?&amp;quot;,&amp;quot;Function?&amp;quot;]]},createShader:{overloads:[[&amp;quot;String&amp;quot;,&amp;quot;String&amp;quot;,&amp;quot;Object?&amp;quot;]]},loadFilterShader:{overloads:[[&amp;quot;String&amp;quot;,&amp;quot;Function?&amp;quot;,&amp;quot;Function?&amp;quot;]]},createFilterShader:{overloads:[[&amp;quot;String&amp;quot;]]},shader:{overloads:[[&amp;quot;p5.Shader&amp;quot;]]},strokeShader:{overloads:[[&amp;quot;p5.Shader&amp;quot;]]},imageShader:{overloads:[[&amp;quot;p5.Shader&amp;quot;]]},baseMaterialShader:{overloads:[[]]},baseFilterShader:{overloads:[[]]},baseNormalShader:{overloads:[[]]},baseColorShader:{overloads:[[]]},baseStrokeShader:{overloads:[[]]},resetShader:{overloads:[[]]},texture:{overloads:[[&amp;quot;p5.Image|p5.MediaElement|p5.Graphics|p5.Texture|p5.Framebuffer|p5.FramebufferTexture&amp;quot;]]},textureMode:{overloads:[[&amp;quot;IMAGE|NORMAL&amp;quot;]]},textureWrap:{overloads:[[&amp;quot;CLAMP|REPEAT|MIRROR&amp;quot;,&amp;quot;CLAMP|REPEAT|MIRROR?&amp;quot;]]},normalMaterial:{overloads:[[]]},ambientMaterial:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;],[&amp;quot;Number&amp;quot;],[&amp;quot;p5.Color|Number[]|String&amp;quot;]]},emissiveMaterial:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number?&amp;quot;],[&amp;quot;Number&amp;quot;],[&amp;quot;p5.Color|Number[]|String&amp;quot;]]},specularMaterial:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number?&amp;quot;],[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number?&amp;quot;],[&amp;quot;p5.Color|Number[]|String&amp;quot;]]},shininess:{overloads:[[&amp;quot;Number&amp;quot;]]},metalness:{overloads:[[&amp;quot;Number&amp;quot;]]},camera:{overloads:[[&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;]]},perspective:{overloads:[[&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;]]},linePerspective:{overloads:[[&amp;quot;Boolean&amp;quot;],[]]},ortho:{overloads:[[&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;]]},frustum:{overloads:[[&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;]]},createCamera:{overloads:[[]]},setCamera:{overloads:[[&amp;quot;p5.Camera&amp;quot;]]},saveObj:{overloads:[[&amp;quot;String?&amp;quot;]]},saveStl:{overloads:[[&amp;quot;String?&amp;quot;,&amp;quot;Object?&amp;quot;]]},setAttributes:{overloads:[[&amp;quot;String&amp;quot;,&amp;quot;Boolean&amp;quot;],[&amp;quot;Object&amp;quot;]]},remove:{overloads:[[]]},createVideo:{overloads:[[&amp;quot;String|String[]&amp;quot;,&amp;quot;Function?&amp;quot;]]},createAudio:{overloads:[[],[&amp;quot;String|String[]?&amp;quot;,&amp;quot;Function?&amp;quot;]]},createCapture:{overloads:[[&amp;quot;AUDIO|VIDEO|Object?&amp;quot;,&amp;quot;Object?&amp;quot;,&amp;quot;Function?&amp;quot;]]}},Y_={p5:Z_,&amp;quot;p5.Geometry&amp;quot;:{flipV:{overloads:[[]]},calculateBoundingBox:{overloads:[[]]},clearColors:{overloads:[[]]},flipU:{overloads:[[]]},computeFaces:{overloads:[[]]},computeNormals:{overloads:[[&amp;quot;FLAT|SMOOTH?&amp;quot;,&amp;quot;Object?&amp;quot;]]},makeEdgesFromFaces:{overloads:[[]]},normalize:{overloads:[[]]},vertexProperty:{overloads:[[&amp;quot;String&amp;quot;,&amp;quot;Number|Number[]&amp;quot;,&amp;quot;Number?&amp;quot;]]}},&amp;quot;p5.Color&amp;quot;:{toString:{overloads:[[&amp;quot;String?&amp;quot;]]},setRed:{overloads:[[&amp;quot;Number&amp;quot;]]},setGreen:{overloads:[[&amp;quot;Number&amp;quot;]]},setBlue:{overloads:[[&amp;quot;Number&amp;quot;]]},setAlpha:{overloads:[[&amp;quot;Number&amp;quot;]]}},&amp;quot;p5.Graphics&amp;quot;:{reset:{overloads:[[]]},remove:{overloads:[[]]},createFramebuffer:{overloads:[[&amp;quot;Object?&amp;quot;]]}},&amp;quot;p5.Element&amp;quot;:{remove:{overloads:[[]]},parent:{overloads:[[&amp;quot;String|p5.Element|Object&amp;quot;],[]]},child:{overloads:[[],[&amp;quot;String|p5.Element?&amp;quot;]]},html:{overloads:[[],[&amp;quot;String?&amp;quot;,&amp;quot;Boolean?&amp;quot;]]},id:{overloads:[[&amp;quot;String&amp;quot;],[]]},class:{overloads:[[&amp;quot;String&amp;quot;],[]]},addClass:{overloads:[[&amp;quot;String&amp;quot;]]},removeClass:{overloads:[[&amp;quot;String&amp;quot;]]},hasClass:{overloads:[[null]]},toggleClass:{overloads:[[null]]},center:{overloads:[[&amp;quot;String?&amp;quot;]]},position:{overloads:[[],[&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;String?&amp;quot;]]},show:{overloads:[[]]},hide:{overloads:[[]]},size:{overloads:[[],[&amp;quot;Number|AUTO?&amp;quot;,&amp;quot;Number|AUTO?&amp;quot;]]},style:{overloads:[[&amp;quot;String&amp;quot;],[&amp;quot;String&amp;quot;,&amp;quot;String|p5.Color&amp;quot;]]},attribute:{overloads:[[],[&amp;quot;String&amp;quot;,&amp;quot;String&amp;quot;]]},removeAttribute:{overloads:[[&amp;quot;String&amp;quot;]]},value:{overloads:[[],[&amp;quot;String|Number&amp;quot;]]},mousePressed:{overloads:[[&amp;quot;Function|Boolean&amp;quot;]]},doubleClicked:{overloads:[[&amp;quot;Function|Boolean&amp;quot;]]},mouseWheel:{overloads:[[&amp;quot;Function|Boolean&amp;quot;]]},mouseReleased:{overloads:[[&amp;quot;Function|Boolean&amp;quot;]]},mouseClicked:{overloads:[[&amp;quot;Function|Boolean&amp;quot;]]},mouseMoved:{overloads:[[&amp;quot;Function|Boolean&amp;quot;]]},mouseOver:{overloads:[[&amp;quot;Function|Boolean&amp;quot;]]},mouseOut:{overloads:[[&amp;quot;Function|Boolean&amp;quot;]]},dragOver:{overloads:[[&amp;quot;Function|Boolean&amp;quot;]]},dragLeave:{overloads:[[&amp;quot;Function|Boolean&amp;quot;]]},changed:{overloads:[[&amp;quot;Function|Boolean&amp;quot;]]},input:{overloads:[[&amp;quot;Function|Boolean&amp;quot;]]},drop:{overloads:[[&amp;quot;Function&amp;quot;,&amp;quot;Function?&amp;quot;]]},draggable:{overloads:[[&amp;quot;p5.Element?&amp;quot;]]}},&amp;quot;p5.MediaElement&amp;quot;:{play:{overloads:[[]]},stop:{overloads:[[]]},pause:{overloads:[[]]},loop:{overloads:[[]]},noLoop:{overloads:[[]]},autoplay:{overloads:[[&amp;quot;Boolean?&amp;quot;]]},volume:{overloads:[[],[&amp;quot;Number&amp;quot;]]},speed:{overloads:[[],[&amp;quot;Number&amp;quot;]]},time:{overloads:[[],[&amp;quot;Number&amp;quot;]]},duration:{overloads:[[]]},onended:{overloads:[[&amp;quot;Function&amp;quot;]]},connect:{overloads:[[&amp;quot;AudioNode|Object&amp;quot;]]},disconnect:{overloads:[[]]},showControls:{overloads:[[]]},hideControls:{overloads:[[]]},addCue:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Function&amp;quot;,&amp;quot;Object?&amp;quot;]]},removeCue:{overloads:[[&amp;quot;Number&amp;quot;]]},clearCues:{overloads:[[]]}},&amp;quot;p5.Image&amp;quot;:{pixelDensity:{overloads:[[&amp;quot;Number?&amp;quot;]]},loadPixels:{overloads:[[]]},updatePixels:{overloads:[[&amp;quot;Integer&amp;quot;,&amp;quot;Integer&amp;quot;,&amp;quot;Integer&amp;quot;,&amp;quot;Integer&amp;quot;]]},get:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;],[],[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;]]},set:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number|Number[]|Object&amp;quot;]]},resize:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;]]},copy:{overloads:[[&amp;quot;p5.Image|p5.Element&amp;quot;,&amp;quot;Integer&amp;quot;,&amp;quot;Integer&amp;quot;,&amp;quot;Integer&amp;quot;,&amp;quot;Integer&amp;quot;,&amp;quot;Integer&amp;quot;,&amp;quot;Integer&amp;quot;,&amp;quot;Integer&amp;quot;,&amp;quot;Integer&amp;quot;],[&amp;quot;Integer&amp;quot;,&amp;quot;Integer&amp;quot;,&amp;quot;Integer&amp;quot;,&amp;quot;Integer&amp;quot;,&amp;quot;Integer&amp;quot;,&amp;quot;Integer&amp;quot;,&amp;quot;Integer&amp;quot;,&amp;quot;Integer&amp;quot;]]},mask:{overloads:[[&amp;quot;p5.Image&amp;quot;]]},filter:{overloads:[[&amp;quot;THRESHOLD|GRAY|OPAQUE|INVERT|POSTERIZE|ERODE|DILATE|BLUR&amp;quot;,&amp;quot;Number?&amp;quot;]]},blend:{overloads:[[&amp;quot;p5.Image&amp;quot;,&amp;quot;Integer&amp;quot;,&amp;quot;Integer&amp;quot;,&amp;quot;Integer&amp;quot;,&amp;quot;Integer&amp;quot;,&amp;quot;Integer&amp;quot;,&amp;quot;Integer&amp;quot;,&amp;quot;Integer&amp;quot;,&amp;quot;Integer&amp;quot;,&amp;quot;BLEND|DARKEST|LIGHTEST|DIFFERENCE|MULTIPLY|EXCLUSION|SCREEN|REPLACE|OVERLAY|HARD_LIGHT|SOFT_LIGHT|DODGE|BURN|ADD|NORMAL&amp;quot;],[&amp;quot;Integer&amp;quot;,&amp;quot;Integer&amp;quot;,&amp;quot;Integer&amp;quot;,&amp;quot;Integer&amp;quot;,&amp;quot;Integer&amp;quot;,&amp;quot;Integer&amp;quot;,&amp;quot;Integer&amp;quot;,&amp;quot;Integer&amp;quot;,&amp;quot;BLEND|DARKEST|LIGHTEST|DIFFERENCE|MULTIPLY|EXCLUSION|SCREEN|REPLACE|OVERLAY|HARD_LIGHT|SOFT_LIGHT|DODGE|BURN|ADD|NORMAL&amp;quot;]]},save:{overloads:[[&amp;quot;String&amp;quot;,&amp;quot;String?&amp;quot;]]},reset:{overloads:[[]]},getCurrentFrame:{overloads:[[]]},setFrame:{overloads:[[&amp;quot;Number&amp;quot;]]},numFrames:{overloads:[[]]},play:{overloads:[[]]},pause:{overloads:[[]]},delay:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number?&amp;quot;]]}},&amp;quot;p5.Table&amp;quot;:{addRow:{overloads:[[&amp;quot;p5.TableRow?&amp;quot;]]},removeRow:{overloads:[[&amp;quot;Integer&amp;quot;]]},getRow:{overloads:[[&amp;quot;Integer&amp;quot;]]},getRows:{overloads:[[]]},findRow:{overloads:[[&amp;quot;String&amp;quot;,&amp;quot;Integer|String&amp;quot;]]},findRows:{overloads:[[&amp;quot;String&amp;quot;,&amp;quot;Integer|String&amp;quot;]]},matchRow:{overloads:[[&amp;quot;String|RegExp&amp;quot;,&amp;quot;String|Integer&amp;quot;]]},matchRows:{overloads:[[&amp;quot;String&amp;quot;,&amp;quot;String|Integer?&amp;quot;]]},getColumn:{overloads:[[&amp;quot;String|Number&amp;quot;]]},clearRows:{overloads:[[]]},addColumn:{overloads:[[&amp;quot;String?&amp;quot;]]},getColumnCount:{overloads:[[]]},getRowCount:{overloads:[[]]},removeTokens:{overloads:[[&amp;quot;String&amp;quot;,&amp;quot;String|Integer?&amp;quot;]]},trim:{overloads:[[&amp;quot;String|Integer?&amp;quot;]]},removeColumn:{overloads:[[&amp;quot;String|Integer&amp;quot;]]},set:{overloads:[[&amp;quot;Integer&amp;quot;,&amp;quot;String|Integer&amp;quot;,&amp;quot;String|Number&amp;quot;]]},setNum:{overloads:[[&amp;quot;Integer&amp;quot;,&amp;quot;String|Integer&amp;quot;,&amp;quot;Number&amp;quot;]]},setString:{overloads:[[&amp;quot;Integer&amp;quot;,&amp;quot;String|Integer&amp;quot;,&amp;quot;String&amp;quot;]]},get:{overloads:[[&amp;quot;Integer&amp;quot;,&amp;quot;String|Integer&amp;quot;]]},getNum:{overloads:[[&amp;quot;Integer&amp;quot;,&amp;quot;String|Integer&amp;quot;]]},getString:{overloads:[[&amp;quot;Integer&amp;quot;,&amp;quot;String|Integer&amp;quot;]]},getObject:{overloads:[[&amp;quot;String?&amp;quot;]]},getArray:{overloads:[[]]}},&amp;quot;p5.TableRow&amp;quot;:{set:{overloads:[[&amp;quot;String|Integer&amp;quot;,&amp;quot;String|Number&amp;quot;]]},setNum:{overloads:[[&amp;quot;String|Integer&amp;quot;,&amp;quot;Number|String&amp;quot;]]},setString:{overloads:[[&amp;quot;String|Integer&amp;quot;,&amp;quot;String|Number|Boolean|Object&amp;quot;]]},get:{overloads:[[&amp;quot;String|Integer&amp;quot;]]},getNum:{overloads:[[&amp;quot;String|Integer&amp;quot;]]},getString:{overloads:[[&amp;quot;String|Integer&amp;quot;]]}},&amp;quot;p5.XML&amp;quot;:{getParent:{overloads:[[]]},getName:{overloads:[[]]},setName:{overloads:[[&amp;quot;String&amp;quot;]]},hasChildren:{overloads:[[]]},listChildren:{overloads:[[]]},getChildren:{overloads:[[&amp;quot;String?&amp;quot;]]},getChild:{overloads:[[&amp;quot;String|Integer&amp;quot;]]},addChild:{overloads:[[&amp;quot;p5.XML&amp;quot;]]},removeChild:{overloads:[[&amp;quot;String|Integer&amp;quot;]]},getAttributeCount:{overloads:[[]]},listAttributes:{overloads:[[]]},hasAttribute:{overloads:[[&amp;quot;String&amp;quot;]]},getNum:{overloads:[[&amp;quot;String&amp;quot;,&amp;quot;Number?&amp;quot;]]},getString:{overloads:[[&amp;quot;String&amp;quot;,&amp;quot;Number?&amp;quot;]]},setAttribute:{overloads:[[&amp;quot;String&amp;quot;,&amp;quot;Number|String|Boolean&amp;quot;]]},getContent:{overloads:[[&amp;quot;String?&amp;quot;]]},serialize:{overloads:[[]]}},&amp;quot;p5.Vector&amp;quot;:{getValue:{overloads:[[&amp;quot;Number&amp;quot;]]},setValue:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;]]},set:{overloads:[[&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;],[&amp;quot;p5.Vector|Number[]&amp;quot;]]},copy:{overloads:[[],[&amp;quot;p5.Vector&amp;quot;]]},add:{overloads:[[&amp;quot;Number|Array&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;],[&amp;quot;p5.Vector|Number[]&amp;quot;],[&amp;quot;p5.Vector&amp;quot;,&amp;quot;p5.Vector&amp;quot;,&amp;quot;p5.Vector?&amp;quot;]]},rem:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;],[&amp;quot;p5.Vector|Number[]&amp;quot;],[&amp;quot;p5.Vector&amp;quot;,&amp;quot;p5.Vector&amp;quot;]]},sub:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;],[&amp;quot;p5.Vector|Number[]&amp;quot;],[&amp;quot;p5.Vector&amp;quot;,&amp;quot;p5.Vector&amp;quot;,&amp;quot;p5.Vector?&amp;quot;]]},mult:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number?&amp;quot;],[&amp;quot;Number[]&amp;quot;],[&amp;quot;p5.Vector&amp;quot;],[],[&amp;quot;p5.Vector&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;p5.Vector?&amp;quot;],[&amp;quot;p5.Vector&amp;quot;,&amp;quot;p5.Vector&amp;quot;,&amp;quot;p5.Vector?&amp;quot;],[&amp;quot;p5.Vector&amp;quot;,&amp;quot;Number[]&amp;quot;,&amp;quot;p5.Vector?&amp;quot;]]},div:{overloads:[[&amp;quot;Number&amp;quot;],[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number?&amp;quot;],[&amp;quot;Number[]&amp;quot;],[&amp;quot;p5.Vector&amp;quot;],[],[&amp;quot;p5.Vector&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;p5.Vector?&amp;quot;],[&amp;quot;p5.Vector&amp;quot;,&amp;quot;p5.Vector&amp;quot;,&amp;quot;p5.Vector?&amp;quot;],[&amp;quot;p5.Vector&amp;quot;,&amp;quot;Number[]&amp;quot;,&amp;quot;p5.Vector?&amp;quot;]]},mag:{overloads:[[],[&amp;quot;p5.Vector&amp;quot;]]},magSq:{overloads:[[],[&amp;quot;p5.Vector&amp;quot;]]},dot:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;],[&amp;quot;p5.Vector&amp;quot;],[],[&amp;quot;p5.Vector&amp;quot;,&amp;quot;p5.Vector&amp;quot;]]},cross:{overloads:[[&amp;quot;p5.Vector&amp;quot;],[],[&amp;quot;p5.Vector&amp;quot;,&amp;quot;p5.Vector&amp;quot;]]},normalize:{overloads:[[],[&amp;quot;p5.Vector&amp;quot;,&amp;quot;p5.Vector?&amp;quot;]]},limit:{overloads:[[&amp;quot;Number&amp;quot;],[],[&amp;quot;p5.Vector&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;p5.Vector?&amp;quot;]]},setMag:{overloads:[[&amp;quot;Number&amp;quot;],[],[&amp;quot;p5.Vector&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;p5.Vector?&amp;quot;]]},heading:{overloads:[[],[&amp;quot;p5.Vector&amp;quot;]]},setHeading:{overloads:[[&amp;quot;Number&amp;quot;]]},rotate:{overloads:[[&amp;quot;Number&amp;quot;],[],[&amp;quot;p5.Vector&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;p5.Vector?&amp;quot;]]},angleBetween:{overloads:[[&amp;quot;p5.Vector&amp;quot;],[],[&amp;quot;p5.Vector&amp;quot;,&amp;quot;p5.Vector&amp;quot;]]},lerp:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;],[&amp;quot;p5.Vector&amp;quot;,&amp;quot;Number&amp;quot;],[],[&amp;quot;p5.Vector&amp;quot;,&amp;quot;p5.Vector&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;p5.Vector?&amp;quot;]]},slerp:{overloads:[[&amp;quot;p5.Vector&amp;quot;,&amp;quot;Number&amp;quot;],[],[&amp;quot;p5.Vector&amp;quot;,&amp;quot;p5.Vector&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;p5.Vector?&amp;quot;]]},reflect:{overloads:[[&amp;quot;p5.Vector&amp;quot;],[],[&amp;quot;p5.Vector&amp;quot;,&amp;quot;p5.Vector&amp;quot;,&amp;quot;p5.Vector?&amp;quot;]]},array:{overloads:[[],[&amp;quot;p5.Vector&amp;quot;]]},equals:{overloads:[[&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;],[&amp;quot;p5.Vector|Array&amp;quot;],[],[&amp;quot;p5.Vector|Array&amp;quot;,&amp;quot;p5.Vector|Array&amp;quot;]]},fromAngle:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number?&amp;quot;]]},fromAngles:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number?&amp;quot;]]},random2D:{overloads:[[]]},random3D:{overloads:[[]]},dist:{overloads:[[],[&amp;quot;p5.Vector&amp;quot;,&amp;quot;p5.Vector&amp;quot;]]}},&amp;quot;p5.Font&amp;quot;:{textToPaths:{overloads:[[&amp;quot;String&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Object?&amp;quot;]]},textToPoints:{overloads:[[&amp;quot;String&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Object?&amp;quot;]]},textToContours:{overloads:[[&amp;quot;String&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Object?&amp;quot;]]},textToModel:{overloads:[[&amp;quot;String&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Object?&amp;quot;]]}},&amp;quot;p5.Camera&amp;quot;:{perspective:{overloads:[[&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;]]},ortho:{overloads:[[&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;]]},frustum:{overloads:[[&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;]]},pan:{overloads:[[&amp;quot;Number&amp;quot;]]},tilt:{overloads:[[&amp;quot;Number&amp;quot;]]},lookAt:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;]]},camera:{overloads:[[&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;,&amp;quot;Number?&amp;quot;]]},move:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;]]},setPosition:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;]]},set:{overloads:[[&amp;quot;p5.Camera&amp;quot;]]},slerp:{overloads:[[&amp;quot;p5.Camera&amp;quot;,&amp;quot;p5.Camera&amp;quot;,&amp;quot;Number&amp;quot;]]}},&amp;quot;p5.Framebuffer&amp;quot;:{resize:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;]]},pixelDensity:{overloads:[[&amp;quot;Number?&amp;quot;]]},autoSized:{overloads:[[&amp;quot;Boolean?&amp;quot;]]},createCamera:{overloads:[[]]},remove:{overloads:[[]]},begin:{overloads:[[]]},end:{overloads:[[]]},draw:{overloads:[[&amp;quot;Function&amp;quot;]]},get:{overloads:[[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;],[],[&amp;quot;Number&amp;quot;,&amp;quot;Number&amp;quot;]]}},&amp;quot;p5.Shader&amp;quot;:{version:{overloads:[[]]},inspectHooks:{overloads:[[]]},modify:{overloads:[[&amp;quot;Object?&amp;quot;]]},copyToContext:{overloads:[[&amp;quot;p5|p5.Graphics&amp;quot;]]},setUniform:{overloads:[[&amp;quot;String&amp;quot;,&amp;quot;Boolean|Number|Number[]|p5.Image|p5.Graphics|p5.MediaElement|p5.Texture&amp;quot;]]}}};function yf(i,t,r){let n=new Map,s=Object.keys(i).reduce((m,g)=&amp;gt;(g.match(/^[A-Z]/)&amp;amp;&amp;amp;!g.match(/^[A-Z][A-Z0-9]*$/)&amp;amp;&amp;amp;i[g]instanceof Function&amp;amp;&amp;amp;(m[g]=i[g]),m),{});function a(){for(let m of Object.keys(i))typeof i[m]==&amp;quot;function&amp;quot;&amp;amp;&amp;amp;m[0]!==m[0].toLowerCase()&amp;amp;&amp;amp;(s[m]=i[m])}let o={};for(let[m,g]of Object.entries(gr))o[m]=g;let u={Any:wl(),Array:ff(wl()),Boolean:L0(),Function:mf(),Integer:cf().int(),Number:cf(),Object:R0({}),String:M0()},h=[&amp;quot;AudioNode&amp;quot;,&amp;quot;HTMLCanvasElement&amp;quot;,&amp;quot;HTMLElement&amp;quot;,&amp;quot;KeyboardEvent&amp;quot;,&amp;quot;MouseEvent&amp;quot;,&amp;quot;RegExp&amp;quot;,&amp;quot;TouchEvent&amp;quot;,&amp;quot;UIEvent&amp;quot;,&amp;quot;WheelEvent&amp;quot;];function l(m){return m.reduce((g,v)=&amp;gt;(g[v]=lf(w=&amp;gt;w instanceof globalThis[v],{message:`Expected a ${v}`}),g),{})}let c=l(h);Object.assign(u,c);let p=[&amp;quot;first&amp;quot;,&amp;quot;second&amp;quot;,&amp;quot;third&amp;quot;,&amp;quot;fourth&amp;quot;,&amp;quot;fifth&amp;quot;,&amp;quot;sixth&amp;quot;,&amp;quot;seventh&amp;quot;,&amp;quot;eighth&amp;quot;,&amp;quot;ninth&amp;quot;,&amp;quot;tenth&amp;quot;];function f(m){let g=m.lastIndexOf(&amp;quot;.&amp;quot;),v=m.slice(g+1),w=m.slice(0,g!==-1?g:0)||&amp;quot;p5&amp;quot;;return{funcName:v,funcClass:w}}function d(m){let g=0;for(let v=0;v&amp;lt;m.length;v++)if(m[v]===&amp;quot;[&amp;quot;)g++;else if(m[v]===&amp;quot;]&amp;quot;&amp;amp;&amp;amp;(g--,g&amp;lt;0))return!1;return g===0}t.generateZodSchemasForFunc=function(m){let{funcName:g,funcClass:v}=f(m),w=Y_[v][g];if(!w)return;let y=[];w.hasOwnProperty(&amp;quot;overloads&amp;quot;)&amp;amp;&amp;amp;(y=w.overloads);let S=E=&amp;gt;{if(!E)return wl();let A;if(E in o)A=gf(o[E]);else if(E.match(/^[A-Z][A-Z0-9]*$/)&amp;amp;&amp;amp;E in t)A=gf(t[E]);else if(E.startsWith(&amp;quot;function&amp;quot;))A=mf();else if(/^p5\.[a-zA-Z0-9]+$/.exec(E)||E===&amp;quot;p5&amp;quot;){let C=E.substring(E.indexOf(&amp;quot;.&amp;quot;)+1);A=hf(s[C])}else if(u[E])A=u[E];else if(E.startsWith(&amp;quot;[&amp;quot;)&amp;amp;&amp;amp;E.endsWith(&amp;quot;]&amp;quot;)&amp;amp;&amp;amp;d(E.slice(1,-1)))A=df(E.slice(1,-1).split(/, */g).map(C=&amp;gt;S(C)));else if(E.match(/^[A-Z]/)&amp;amp;&amp;amp;E in window)A=hf(window[E]);else if(E.includes(&amp;quot;|&amp;quot;)&amp;amp;&amp;amp;E.split(&amp;quot;|&amp;quot;).every(C=&amp;gt;d(C))){let C=E.split(&amp;quot;|&amp;quot;);A=pf(C.map(T=&amp;gt;S(T)).filter(T=&amp;gt;T!==void 0))}else if(E.endsWith(&amp;quot;[]&amp;quot;))A=ff(S(E.slice(0,-2)));else throw new Error(`Unsupported type &amp;#39;${E}&amp;#39; in parameter validation. Please report this issue.`);return A},_=E=&amp;gt;{let A=E?.endsWith(&amp;quot;?&amp;quot;);E=E?.replace(/\?$/,&amp;quot;&amp;quot;);let C=E?.startsWith(&amp;quot;...&amp;quot;)&amp;amp;&amp;amp;E?.endsWith(&amp;quot;[]&amp;quot;);E=E?.replace(/^\.\.\.(.+)\[\]$/,&amp;quot;$1&amp;quot;);let T=S(E);return A&amp;amp;&amp;amp;(T=T.optional()),{schema:T,rest:C}},b=E=&amp;gt;{if(!E.some(T=&amp;gt;T?.endsWith(&amp;quot;?&amp;quot;)))return[E];let A=E.filter(T=&amp;gt;T===null||!T.endsWith(&amp;quot;?&amp;quot;)).length,C=[];for(let T=A;T&amp;lt;=E.length;T++)C.push(E.slice(0,T));return C},I=y.flatMap(E=&amp;gt;b(E).map(C=&amp;gt;{let T=C.map(N=&amp;gt;_(N)).filter(N=&amp;gt;N.schema!==void 0),D;T.at(-1)?.rest&amp;amp;&amp;amp;(D=T.pop());let F=df(T.map(N=&amp;gt;N.schema));return D&amp;amp;&amp;amp;(F=F.rest(D.schema)),F}));return I.length===1?I[0]:pf(I)},t.findClosestSchema=function(m,g){if(!(m instanceof Ji))return m;let v=_=&amp;gt;{let b=1/0;if(!(_ instanceof $r))return console.warn(&amp;quot;Schema below is not a tuple: &amp;quot;),printZodSchema(_),b;let I=g.length,E=_.items,A=E.length,C=E.filter(T=&amp;gt;!T.isOptional()).length;I&amp;gt;=C&amp;amp;&amp;amp;I&amp;lt;=A?b=0:b=Math.abs(I&amp;lt;C?C-I:I-A)*4;for(let T=0;T&amp;lt;Math.min(E.length,g.length);T++){let D=E[T],F=g[T];D.safeParse(F).success||b++}return b},w=m._def.options[0],y=1/0;return m._def.options.forEach(_=&amp;gt;{let b=v(_);b&amp;lt;y&amp;amp;&amp;amp;(w=_,y=b)}),w},t.friendlyParamError=function(m,g,v){let w=&amp;quot;\u{1F338} p5.js says: &amp;quot;,y=!1,S=m.errors[0],_=(E,A,C)=&amp;gt;{let T=C?`at the ${p[C]} parameter`:&amp;quot;&amp;quot;,D=E?`, but received ${E}`:&amp;quot;&amp;quot;;return`Expected ${A} ${T}${D}`},b=E=&amp;gt;{let A=new Set,C;if(E.unionErrors.forEach(T=&amp;gt;{let D=T.issues[0];if(D){if(C||(C=D.received),D.code===&amp;quot;invalid_type&amp;quot;)A.add(D.expected);else if(D.code===&amp;quot;invalid_literal&amp;quot;)A.add(&amp;quot;constant (please refer to documentation for allowed values)&amp;quot;);else if(D.code===&amp;quot;custom&amp;quot;){let F=D.message.match(/Input not instance of (\w+)/);F&amp;amp;&amp;amp;A.add(F[1])}}}),A.size&amp;gt;0){E.path?.length&amp;gt;0&amp;amp;&amp;amp;v[E.path[0]]instanceof Promise&amp;amp;&amp;amp;(w+=&amp;quot;Did you mean to put `await` before a loading function? An unexpected Promise was found. &amp;quot;,y=!0);let T=Array.from(A).join(&amp;quot; or &amp;quot;),D=E.path.join(&amp;quot;.&amp;quot;);w+=_(C,T,D)}return w};switch(S.code){case&amp;quot;invalid_union&amp;quot;:{b(S);break}case&amp;quot;too_small&amp;quot;:{let E=S.minimum;w+=`Expected at least ${E} argument${E&amp;gt;1?&amp;quot;s&amp;quot;:&amp;quot;&amp;quot;}, but received fewer`;break}case&amp;quot;invalid_type&amp;quot;:{w+=_(S.received,S.expected,S.path.join(&amp;quot;.&amp;quot;));break}case&amp;quot;too_big&amp;quot;:{let E=S.maximum;w+=`Expected at most ${E} argument${E&amp;gt;1?&amp;quot;s&amp;quot;:&amp;quot;&amp;quot;}, but received more`;break}default:console.log(&amp;quot;Zod error object&amp;quot;,S)}w+=` in ${g}().`;let I=E=&amp;gt;{let{funcName:A,funcClass:C}=f(E);return`https://p5js.org/reference/${C}/${A}`};if(S.code===&amp;quot;too_big&amp;quot;||S.code===&amp;quot;too_small&amp;quot;){let E=I(g);w+=` For more information, see ${E}.`}return y?i._error(this,w):console.log(w),w},t.validate=function(m,g){if(i.disableFriendlyErrors)return;if(Array.isArray(g)||(g=Array.from(g)),Array.isArray(g)&amp;amp;&amp;amp;g.length&amp;gt;0&amp;amp;&amp;amp;g.every(w=&amp;gt;w===void 0))return{success:!1,error:`\u{1F338} p5.js says: All arguments for ${m}() are undefined. There is likely an error in the code.`};let v=n.get(m);if(!v){if(v=t.generateZodSchemasForFunc(m),!v)return;n.set(m,v)}try{return{success:!0,data:v.parse(g)}}catch{let S=t.findClosestSchema(v,g).safeParse(g).error;return{success:!1,error:t.friendlyParamError(S,m,g)}}},r.presetup=function(){a();let m=[&amp;quot;validate&amp;quot;];for(let g in this)if(!m.includes(g)&amp;amp;&amp;amp;!g.startsWith(&amp;quot;_&amp;quot;)&amp;amp;&amp;amp;typeof this[g]==&amp;quot;function&amp;quot;){let v=this[g];this[g]=function(...w){return this.validate(g,w),v.call(this,...w)}}}}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;yf(p5,p5.prototype);var X_=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,7,9,32,4,318,1,80,3,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,68,8,2,0,3,0,2,3,2,4,2,0,15,1,83,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,7,19,58,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,343,9,54,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,10,5350,0,7,14,11465,27,2343,9,87,9,39,4,60,6,26,9,535,9,470,0,2,54,8,3,82,0,12,1,19628,1,4178,9,519,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,245,1,2,9,726,6,110,6,6,9,4759,9,787719,239],G0=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,4,51,13,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,39,27,10,22,251,41,7,1,17,2,60,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,31,9,2,0,3,0,2,37,2,0,26,0,2,0,45,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,200,32,32,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,26,3994,6,582,6842,29,1763,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,433,44,212,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,42,9,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,229,29,3,0,496,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],K_=&amp;quot;\u200C\u200D\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0897-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u200C\u200D\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\u30FB\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F\uFF65&amp;quot;,z0=&amp;quot;\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC&amp;quot;,vf={3:&amp;quot;abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile&amp;quot;,5:&amp;quot;class enum extends super const export import&amp;quot;,6:&amp;quot;enum&amp;quot;,strict:&amp;quot;implements interface let package private protected public static yield&amp;quot;,strictBind:&amp;quot;eval arguments&amp;quot;},xf=&amp;quot;break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this&amp;quot;,J_={5:xf,&amp;quot;5module&amp;quot;:xf+&amp;quot; export import&amp;quot;,6:xf+&amp;quot; const class extends export import super&amp;quot;},Q_=/^in(stanceof)?$/,e2=new RegExp(&amp;quot;[&amp;quot;+z0+&amp;quot;]&amp;quot;),t2=new RegExp(&amp;quot;[&amp;quot;+z0+K_+&amp;quot;]&amp;quot;);function _f(i,t){for(var r=65536,n=0;n&amp;lt;t.length;n+=2){if(r+=t[n],r&amp;gt;i)return!1;if(r+=t[n+1],r&amp;gt;=i)return!0}return!1}function ni(i,t){return i&amp;lt;65?i===36:i&amp;lt;91?!0:i&amp;lt;97?i===95:i&amp;lt;123?!0:i&amp;lt;=65535?i&amp;gt;=170&amp;amp;&amp;amp;e2.test(String.fromCharCode(i)):t===!1?!1:_f(i,G0)}function en(i,t){return i&amp;lt;48?i===36:i&amp;lt;58?!0:i&amp;lt;65?!1:i&amp;lt;91?!0:i&amp;lt;97?i===95:i&amp;lt;123?!0:i&amp;lt;=65535?i&amp;gt;=170&amp;amp;&amp;amp;t2.test(String.fromCharCode(i)):t===!1?!1:_f(i,G0)||_f(i,X_)}var Ke=function(t,r){r===void 0&amp;amp;&amp;amp;(r={}),this.label=t,this.keyword=r.keyword,this.beforeExpr=!!r.beforeExpr,this.startsExpr=!!r.startsExpr,this.isLoop=!!r.isLoop,this.isAssign=!!r.isAssign,this.prefix=!!r.prefix,this.postfix=!!r.postfix,this.binop=r.binop||null,this.updateContext=null};function Sr(i,t){return new Ke(i,{beforeExpr:!0,binop:t})}var Ar={beforeExpr:!0},Jt={startsExpr:!0},Sf={};function Ze(i,t){return t===void 0&amp;amp;&amp;amp;(t={}),t.keyword=i,Sf[i]=new Ke(i,t)}var R={num:new Ke(&amp;quot;num&amp;quot;,Jt),regexp:new Ke(&amp;quot;regexp&amp;quot;,Jt),string:new Ke(&amp;quot;string&amp;quot;,Jt),name:new Ke(&amp;quot;name&amp;quot;,Jt),privateId:new Ke(&amp;quot;privateId&amp;quot;,Jt),eof:new Ke(&amp;quot;eof&amp;quot;),bracketL:new Ke(&amp;quot;[&amp;quot;,{beforeExpr:!0,startsExpr:!0}),bracketR:new Ke(&amp;quot;]&amp;quot;),braceL:new Ke(&amp;quot;{&amp;quot;,{beforeExpr:!0,startsExpr:!0}),braceR:new Ke(&amp;quot;}&amp;quot;),parenL:new Ke(&amp;quot;(&amp;quot;,{beforeExpr:!0,startsExpr:!0}),parenR:new Ke(&amp;quot;)&amp;quot;),comma:new Ke(&amp;quot;,&amp;quot;,Ar),semi:new Ke(&amp;quot;;&amp;quot;,Ar),colon:new Ke(&amp;quot;:&amp;quot;,Ar),dot:new Ke(&amp;quot;.&amp;quot;),question:new Ke(&amp;quot;?&amp;quot;,Ar),questionDot:new Ke(&amp;quot;?.&amp;quot;),arrow:new Ke(&amp;quot;=&amp;gt;&amp;quot;,Ar),template:new Ke(&amp;quot;template&amp;quot;),invalidTemplate:new Ke(&amp;quot;invalidTemplate&amp;quot;),ellipsis:new Ke(&amp;quot;...&amp;quot;,Ar),backQuote:new Ke(&amp;quot;`&amp;quot;,Jt),dollarBraceL:new Ke(&amp;quot;${&amp;quot;,{beforeExpr:!0,startsExpr:!0}),eq:new Ke(&amp;quot;=&amp;quot;,{beforeExpr:!0,isAssign:!0}),assign:new Ke(&amp;quot;_=&amp;quot;,{beforeExpr:!0,isAssign:!0}),incDec:new Ke(&amp;quot;++/--&amp;quot;,{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new Ke(&amp;quot;!/~&amp;quot;,{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:Sr(&amp;quot;||&amp;quot;,1),logicalAND:Sr(&amp;quot;&amp;amp;&amp;amp;&amp;quot;,2),bitwiseOR:Sr(&amp;quot;|&amp;quot;,3),bitwiseXOR:Sr(&amp;quot;^&amp;quot;,4),bitwiseAND:Sr(&amp;quot;&amp;amp;&amp;quot;,5),equality:Sr(&amp;quot;==/!=/===/!==&amp;quot;,6),relational:Sr(&amp;quot;&amp;lt;/&amp;gt;/&amp;lt;=/&amp;gt;=&amp;quot;,7),bitShift:Sr(&amp;quot;&amp;lt;&amp;lt;/&amp;gt;&amp;gt;/&amp;gt;&amp;gt;&amp;gt;&amp;quot;,8),plusMin:new Ke(&amp;quot;+/-&amp;quot;,{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:Sr(&amp;quot;%&amp;quot;,10),star:Sr(&amp;quot;*&amp;quot;,10),slash:Sr(&amp;quot;/&amp;quot;,10),starstar:new Ke(&amp;quot;**&amp;quot;,{beforeExpr:!0}),coalesce:Sr(&amp;quot;??&amp;quot;,1),_break:Ze(&amp;quot;break&amp;quot;),_case:Ze(&amp;quot;case&amp;quot;,Ar),_catch:Ze(&amp;quot;catch&amp;quot;),_continue:Ze(&amp;quot;continue&amp;quot;),_debugger:Ze(&amp;quot;debugger&amp;quot;),_default:Ze(&amp;quot;default&amp;quot;,Ar),_do:Ze(&amp;quot;do&amp;quot;,{isLoop:!0,beforeExpr:!0}),_else:Ze(&amp;quot;else&amp;quot;,Ar),_finally:Ze(&amp;quot;finally&amp;quot;),_for:Ze(&amp;quot;for&amp;quot;,{isLoop:!0}),_function:Ze(&amp;quot;function&amp;quot;,Jt),_if:Ze(&amp;quot;if&amp;quot;),_return:Ze(&amp;quot;return&amp;quot;,Ar),_switch:Ze(&amp;quot;switch&amp;quot;),_throw:Ze(&amp;quot;throw&amp;quot;,Ar),_try:Ze(&amp;quot;try&amp;quot;),_var:Ze(&amp;quot;var&amp;quot;),_const:Ze(&amp;quot;const&amp;quot;),_while:Ze(&amp;quot;while&amp;quot;,{isLoop:!0}),_with:Ze(&amp;quot;with&amp;quot;),_new:Ze(&amp;quot;new&amp;quot;,{beforeExpr:!0,startsExpr:!0}),_this:Ze(&amp;quot;this&amp;quot;,Jt),_super:Ze(&amp;quot;super&amp;quot;,Jt),_class:Ze(&amp;quot;class&amp;quot;,Jt),_extends:Ze(&amp;quot;extends&amp;quot;,Ar),_export:Ze(&amp;quot;export&amp;quot;),_import:Ze(&amp;quot;import&amp;quot;,Jt),_null:Ze(&amp;quot;null&amp;quot;,Jt),_true:Ze(&amp;quot;true&amp;quot;,Jt),_false:Ze(&amp;quot;false&amp;quot;,Jt),_in:Ze(&amp;quot;in&amp;quot;,{beforeExpr:!0,binop:7}),_instanceof:Ze(&amp;quot;instanceof&amp;quot;,{beforeExpr:!0,binop:7}),_typeof:Ze(&amp;quot;typeof&amp;quot;,{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:Ze(&amp;quot;void&amp;quot;,{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:Ze(&amp;quot;delete&amp;quot;,{beforeExpr:!0,prefix:!0,startsExpr:!0})},Qt=/\r\n?|\n|\u2028|\u2029/,r2=new RegExp(Qt.source,&amp;quot;g&amp;quot;);function Ws(i){return i===10||i===13||i===8232||i===8233}function j0(i,t,r){r===void 0&amp;amp;&amp;amp;(r=i.length);for(var n=t;n&amp;lt;r;n++){var s=i.charCodeAt(n);if(Ws(s))return n&amp;lt;r-1&amp;amp;&amp;amp;s===13&amp;amp;&amp;amp;i.charCodeAt(n+1)===10?n+2:n+1}return-1}var $0=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Vt=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,H0=Object.prototype,i2=H0.hasOwnProperty,n2=H0.toString,qs=Object.hasOwn||function(i,t){return i2.call(i,t)},B0=Array.isArray||function(i){return n2.call(i)===&amp;quot;[object Array]&amp;quot;},P0=Object.create(null);function Qi(i){return P0[i]||(P0[i]=new RegExp(&amp;quot;^(?:&amp;quot;+i.replace(/ /g,&amp;quot;|&amp;quot;)+&amp;quot;)$&amp;quot;))}function Di(i){return i&amp;lt;=65535?String.fromCharCode(i):(i-=65536,String.fromCharCode((i&amp;gt;&amp;gt;10)+55296,(i&amp;amp;1023)+56320))}var s2=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,wo=function(t,r){this.line=t,this.column=r};wo.prototype.offset=function(t){return new wo(this.line,this.column+t)};var Fl=function(t,r,n){this.start=r,this.end=n,t.sourceFile!==null&amp;amp;&amp;amp;(this.source=t.sourceFile)};function W0(i,t){for(var r=1,n=0;;){var s=j0(i,n,t);if(s&amp;lt;0)return new wo(r,t-n);++r,n=s}}var wf={ecmaVersion:null,sourceType:&amp;quot;script&amp;quot;,onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},O0=!1;function a2(i){var t={};for(var r in wf)t[r]=i&amp;amp;&amp;amp;qs(i,r)?i[r]:wf[r];if(t.ecmaVersion===&amp;quot;latest&amp;quot;?t.ecmaVersion=1e8:t.ecmaVersion==null?(!O0&amp;amp;&amp;amp;typeof console==&amp;quot;object&amp;quot;&amp;amp;&amp;amp;console.warn&amp;amp;&amp;amp;(O0=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
<a href="#l2315" class="line" id="l2315">   2315</a> &lt;a href=&quot;#l2296&quot; class=&quot;line&quot; id=&quot;l2296&quot;&gt;   2296&lt;/a&gt; Defaulting to 2020, but this will stop working in the future.`)),t.ecmaVersion=11):t.ecmaVersion&amp;gt;=2015&amp;amp;&amp;amp;(t.ecmaVersion-=2009),t.allowReserved==null&amp;amp;&amp;amp;(t.allowReserved=t.ecmaVersion&amp;lt;5),(!i||i.allowHashBang==null)&amp;amp;&amp;amp;(t.allowHashBang=t.ecmaVersion&amp;gt;=14),B0(t.onToken)){var n=t.onToken;t.onToken=function(s){return n.push(s)}}return B0(t.onComment)&amp;amp;&amp;amp;(t.onComment=o2(t,t.onComment)),t}function o2(i,t){return function(r,n,s,a,o,u){var h={type:r?&amp;quot;Block&amp;quot;:&amp;quot;Line&amp;quot;,value:n,start:s,end:a};i.locations&amp;amp;&amp;amp;(h.loc=new Fl(this,o,u)),i.ranges&amp;amp;&amp;amp;(h.range=[s,a]),t.push(h)}}var Co=1,Zs=2,Af=4,q0=8,Df=16,Z0=32,Tl=64,Y0=128,Vn=256,Eo=512,Nl=Co|Zs|Vn;function Ff(i,t){return Zs|(i?Af:0)|(t?q0:0)}var El=0,Tf=1,Ti=2,X0=3,K0=4,J0=5,Dt=function(t,r,n){this.options=t=a2(t),this.sourceFile=t.sourceFile,this.keywords=Qi(J_[t.ecmaVersion&amp;gt;=6?6:t.sourceType===&amp;quot;module&amp;quot;?&amp;quot;5module&amp;quot;:5]);var s=&amp;quot;&amp;quot;;t.allowReserved!==!0&amp;amp;&amp;amp;(s=vf[t.ecmaVersion&amp;gt;=6?6:t.ecmaVersion===5?5:3],t.sourceType===&amp;quot;module&amp;quot;&amp;amp;&amp;amp;(s+=&amp;quot; await&amp;quot;)),this.reservedWords=Qi(s);var a=(s?s+&amp;quot; &amp;quot;:&amp;quot;&amp;quot;)+vf.strict;this.reservedWordsStrict=Qi(a),this.reservedWordsStrictBind=Qi(a+&amp;quot; &amp;quot;+vf.strictBind),this.input=String(r),this.containsEsc=!1,n?(this.pos=n,this.lineStart=this.input.lastIndexOf(`
<a href="#l2316" class="line" id="l2316">   2316</a> &lt;a href=&quot;#l2297&quot; class=&quot;line&quot; id=&quot;l2297&quot;&gt;   2297&lt;/a&gt; `,n-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(Qt).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=R.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=t.sourceType===&amp;quot;module&amp;quot;,this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&amp;amp;&amp;amp;t.allowHashBang&amp;amp;&amp;amp;this.input.slice(0,2)===&amp;quot;#!&amp;quot;&amp;amp;&amp;amp;this.skipLineComment(2),this.scopeStack=[],this.enterScope(Co),this.regexpState=null,this.privateNameStack=[]},si={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};Dt.prototype.parse=function(){var t=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(t)};si.inFunction.get=function(){return(this.currentVarScope().flags&amp;amp;Zs)&amp;gt;0};si.inGenerator.get=function(){return(this.currentVarScope().flags&amp;amp;q0)&amp;gt;0};si.inAsync.get=function(){return(this.currentVarScope().flags&amp;amp;Af)&amp;gt;0};si.canAwait.get=function(){for(var i=this.scopeStack.length-1;i&amp;gt;=0;i--){var t=this.scopeStack[i],r=t.flags;if(r&amp;amp;(Vn|Eo))return!1;if(r&amp;amp;Zs)return(r&amp;amp;Af)&amp;gt;0}return this.inModule&amp;amp;&amp;amp;this.options.ecmaVersion&amp;gt;=13||this.options.allowAwaitOutsideFunction};si.allowSuper.get=function(){var i=this.currentThisScope(),t=i.flags;return(t&amp;amp;Tl)&amp;gt;0||this.options.allowSuperOutsideMethod};si.allowDirectSuper.get=function(){return(this.currentThisScope().flags&amp;amp;Y0)&amp;gt;0};si.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};si.allowNewDotTarget.get=function(){for(var i=this.scopeStack.length-1;i&amp;gt;=0;i--){var t=this.scopeStack[i],r=t.flags;if(r&amp;amp;(Vn|Eo)||r&amp;amp;Zs&amp;amp;&amp;amp;!(r&amp;amp;Df))return!0}return!1};si.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&amp;amp;Vn)&amp;gt;0};Dt.extend=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];for(var n=this,s=0;s&amp;lt;t.length;s++)n=t[s](n);return n};Dt.parse=function(t,r){return new this(r,t).parse()};Dt.parseExpressionAt=function(t,r,n){var s=new this(n,t,r);return s.nextToken(),s.parseExpression()};Dt.tokenizer=function(t,r){return new this(r,t)};Object.defineProperties(Dt.prototype,si);var Wt=Dt.prototype,u2=/^(?:&amp;#39;((?:\\[^]|[^&amp;#39;\\])*?)&amp;#39;|&amp;quot;((?:\\[^]|[^&amp;quot;\\])*?)&amp;quot;)/;Wt.strictDirective=function(i){if(this.options.ecmaVersion&amp;lt;5)return!1;for(;;){Vt.lastIndex=i,i+=Vt.exec(this.input)[0].length;var t=u2.exec(this.input.slice(i));if(!t)return!1;if((t[1]||t[2])===&amp;quot;use strict&amp;quot;){Vt.lastIndex=i+t[0].length;var r=Vt.exec(this.input),n=r.index+r[0].length,s=this.input.charAt(n);return s===&amp;quot;;&amp;quot;||s===&amp;quot;}&amp;quot;||Qt.test(r[0])&amp;amp;&amp;amp;!(/[(`.[+\-/*%&amp;lt;&amp;gt;=,?^&amp;amp;]/.test(s)||s===&amp;quot;!&amp;quot;&amp;amp;&amp;amp;this.input.charAt(n+1)===&amp;quot;=&amp;quot;)}i+=t[0].length,Vt.lastIndex=i,i+=Vt.exec(this.input)[0].length,this.input[i]===&amp;quot;;&amp;quot;&amp;amp;&amp;amp;i++}};Wt.eat=function(i){return this.type===i?(this.next(),!0):!1};Wt.isContextual=function(i){return this.type===R.name&amp;amp;&amp;amp;this.value===i&amp;amp;&amp;amp;!this.containsEsc};Wt.eatContextual=function(i){return this.isContextual(i)?(this.next(),!0):!1};Wt.expectContextual=function(i){this.eatContextual(i)||this.unexpected()};Wt.canInsertSemicolon=function(){return this.type===R.eof||this.type===R.braceR||Qt.test(this.input.slice(this.lastTokEnd,this.start))};Wt.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&amp;amp;&amp;amp;this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};Wt.semicolon=function(){!this.eat(R.semi)&amp;amp;&amp;amp;!this.insertSemicolon()&amp;amp;&amp;amp;this.unexpected()};Wt.afterTrailingComma=function(i,t){if(this.type===i)return this.options.onTrailingComma&amp;amp;&amp;amp;this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0};Wt.expect=function(i){this.eat(i)||this.unexpected()};Wt.unexpected=function(i){this.raise(i??this.start,&amp;quot;Unexpected token&amp;quot;)};var Il=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};Wt.checkPatternErrors=function(i,t){if(i){i.trailingComma&amp;gt;-1&amp;amp;&amp;amp;this.raiseRecoverable(i.trailingComma,&amp;quot;Comma is not permitted after the rest element&amp;quot;);var r=t?i.parenthesizedAssign:i.parenthesizedBind;r&amp;gt;-1&amp;amp;&amp;amp;this.raiseRecoverable(r,t?&amp;quot;Assigning to rvalue&amp;quot;:&amp;quot;Parenthesized pattern&amp;quot;)}};Wt.checkExpressionErrors=function(i,t){if(!i)return!1;var r=i.shorthandAssign,n=i.doubleProto;if(!t)return r&amp;gt;=0||n&amp;gt;=0;r&amp;gt;=0&amp;amp;&amp;amp;this.raise(r,&amp;quot;Shorthand property assignments are valid only in destructuring patterns&amp;quot;),n&amp;gt;=0&amp;amp;&amp;amp;this.raiseRecoverable(n,&amp;quot;Redefinition of __proto__ property&amp;quot;)};Wt.checkYieldAwaitInDefaultParams=function(){this.yieldPos&amp;amp;&amp;amp;(!this.awaitPos||this.yieldPos&amp;lt;this.awaitPos)&amp;amp;&amp;amp;this.raise(this.yieldPos,&amp;quot;Yield expression cannot be a default value&amp;quot;),this.awaitPos&amp;amp;&amp;amp;this.raise(this.awaitPos,&amp;quot;Await expression cannot be a default value&amp;quot;)};Wt.isSimpleAssignTarget=function(i){return i.type===&amp;quot;ParenthesizedExpression&amp;quot;?this.isSimpleAssignTarget(i.expression):i.type===&amp;quot;Identifier&amp;quot;||i.type===&amp;quot;MemberExpression&amp;quot;};var De=Dt.prototype;De.parseTopLevel=function(i){var t=Object.create(null);for(i.body||(i.body=[]);this.type!==R.eof;){var r=this.parseStatement(null,!0,t);i.body.push(r)}if(this.inModule)for(var n=0,s=Object.keys(this.undefinedExports);n&amp;lt;s.length;n+=1){var a=s[n];this.raiseRecoverable(this.undefinedExports[a].start,&amp;quot;Export &amp;#39;&amp;quot;+a+&amp;quot;&amp;#39; is not defined&amp;quot;)}return this.adaptDirectivePrologue(i.body),this.next(),i.sourceType=this.options.sourceType,this.finishNode(i,&amp;quot;Program&amp;quot;)};var Nf={kind:&amp;quot;loop&amp;quot;},l2={kind:&amp;quot;switch&amp;quot;};De.isLet=function(i){if(this.options.ecmaVersion&amp;lt;6||!this.isContextual(&amp;quot;let&amp;quot;))return!1;Vt.lastIndex=this.pos;var t=Vt.exec(this.input),r=this.pos+t[0].length,n=this.input.charCodeAt(r);if(n===91||n===92)return!0;if(i)return!1;if(n===123||n&amp;gt;55295&amp;amp;&amp;amp;n&amp;lt;56320)return!0;if(ni(n,!0)){for(var s=r+1;en(n=this.input.charCodeAt(s),!0);)++s;if(n===92||n&amp;gt;55295&amp;amp;&amp;amp;n&amp;lt;56320)return!0;var a=this.input.slice(r,s);if(!Q_.test(a))return!0}return!1};De.isAsyncFunction=function(){if(this.options.ecmaVersion&amp;lt;8||!this.isContextual(&amp;quot;async&amp;quot;))return!1;Vt.lastIndex=this.pos;var i=Vt.exec(this.input),t=this.pos+i[0].length,r;return!Qt.test(this.input.slice(this.pos,t))&amp;amp;&amp;amp;this.input.slice(t,t+8)===&amp;quot;function&amp;quot;&amp;amp;&amp;amp;(t+8===this.input.length||!(en(r=this.input.charCodeAt(t+8))||r&amp;gt;55295&amp;amp;&amp;amp;r&amp;lt;56320))};De.isUsingKeyword=function(i,t){if(this.options.ecmaVersion&amp;lt;17||!this.isContextual(i?&amp;quot;await&amp;quot;:&amp;quot;using&amp;quot;))return!1;Vt.lastIndex=this.pos;var r=Vt.exec(this.input),n=this.pos+r[0].length;if(Qt.test(this.input.slice(this.pos,n)))return!1;if(i){var s=n+5,a;if(this.input.slice(n,s)!==&amp;quot;using&amp;quot;||s===this.input.length||en(a=this.input.charCodeAt(s))||a&amp;gt;55295&amp;amp;&amp;amp;a&amp;lt;56320)return!1;Vt.lastIndex=s;var o=Vt.exec(this.input);if(o&amp;amp;&amp;amp;Qt.test(this.input.slice(s,s+o[0].length)))return!1}if(t){var u=n+2,h;if(this.input.slice(n,u)===&amp;quot;of&amp;quot;&amp;amp;&amp;amp;(u===this.input.length||!en(h=this.input.charCodeAt(u))&amp;amp;&amp;amp;!(h&amp;gt;55295&amp;amp;&amp;amp;h&amp;lt;56320)))return!1}var l=this.input.charCodeAt(n);return ni(l,!0)||l===92};De.isAwaitUsing=function(i){return this.isUsingKeyword(!0,i)};De.isUsing=function(i){return this.isUsingKeyword(!1,i)};De.parseStatement=function(i,t,r){var n=this.type,s=this.startNode(),a;switch(this.isLet(i)&amp;amp;&amp;amp;(n=R._var,a=&amp;quot;let&amp;quot;),n){case R._break:case R._continue:return this.parseBreakContinueStatement(s,n.keyword);case R._debugger:return this.parseDebuggerStatement(s);case R._do:return this.parseDoStatement(s);case R._for:return this.parseForStatement(s);case R._function:return i&amp;amp;&amp;amp;(this.strict||i!==&amp;quot;if&amp;quot;&amp;amp;&amp;amp;i!==&amp;quot;label&amp;quot;)&amp;amp;&amp;amp;this.options.ecmaVersion&amp;gt;=6&amp;amp;&amp;amp;this.unexpected(),this.parseFunctionStatement(s,!1,!i);case R._class:return i&amp;amp;&amp;amp;this.unexpected(),this.parseClass(s,!0);case R._if:return this.parseIfStatement(s);case R._return:return this.parseReturnStatement(s);case R._switch:return this.parseSwitchStatement(s);case R._throw:return this.parseThrowStatement(s);case R._try:return this.parseTryStatement(s);case R._const:case R._var:return a=a||this.value,i&amp;amp;&amp;amp;a!==&amp;quot;var&amp;quot;&amp;amp;&amp;amp;this.unexpected(),this.parseVarStatement(s,a);case R._while:return this.parseWhileStatement(s);case R._with:return this.parseWithStatement(s);case R.braceL:return this.parseBlock(!0,s);case R.semi:return this.parseEmptyStatement(s);case R._export:case R._import:if(this.options.ecmaVersion&amp;gt;10&amp;amp;&amp;amp;n===R._import){Vt.lastIndex=this.pos;var o=Vt.exec(this.input),u=this.pos+o[0].length,h=this.input.charCodeAt(u);if(h===40||h===46)return this.parseExpressionStatement(s,this.parseExpression())}return this.options.allowImportExportEverywhere||(t||this.raise(this.start,&amp;quot;&amp;#39;import&amp;#39; and &amp;#39;export&amp;#39; may only appear at the top level&amp;quot;),this.inModule||this.raise(this.start,&amp;quot;&amp;#39;import&amp;#39; and &amp;#39;export&amp;#39; may appear only with &amp;#39;sourceType: module&amp;#39;&amp;quot;)),n===R._import?this.parseImport(s):this.parseExport(s,r);default:if(this.isAsyncFunction())return i&amp;amp;&amp;amp;this.unexpected(),this.next(),this.parseFunctionStatement(s,!0,!i);var l=this.isAwaitUsing(!1)?&amp;quot;await using&amp;quot;:this.isUsing(!1)?&amp;quot;using&amp;quot;:null;if(l)return t&amp;amp;&amp;amp;this.options.sourceType===&amp;quot;script&amp;quot;&amp;amp;&amp;amp;this.raise(this.start,&amp;quot;Using declaration cannot appear in the top level when source type is `script`&amp;quot;),l===&amp;quot;await using&amp;quot;&amp;amp;&amp;amp;(this.canAwait||this.raise(this.start,&amp;quot;Await using cannot appear outside of async function&amp;quot;),this.next()),this.next(),this.parseVar(s,!1,l),this.semicolon(),this.finishNode(s,&amp;quot;VariableDeclaration&amp;quot;);var c=this.value,p=this.parseExpression();return n===R.name&amp;amp;&amp;amp;p.type===&amp;quot;Identifier&amp;quot;&amp;amp;&amp;amp;this.eat(R.colon)?this.parseLabeledStatement(s,c,p,i):this.parseExpressionStatement(s,p)}};De.parseBreakContinueStatement=function(i,t){var r=t===&amp;quot;break&amp;quot;;this.next(),this.eat(R.semi)||this.insertSemicolon()?i.label=null:this.type!==R.name?this.unexpected():(i.label=this.parseIdent(),this.semicolon());for(var n=0;n&amp;lt;this.labels.length;++n){var s=this.labels[n];if((i.label==null||s.name===i.label.name)&amp;amp;&amp;amp;(s.kind!=null&amp;amp;&amp;amp;(r||s.kind===&amp;quot;loop&amp;quot;)||i.label&amp;amp;&amp;amp;r))break}return n===this.labels.length&amp;amp;&amp;amp;this.raise(i.start,&amp;quot;Unsyntactic &amp;quot;+t),this.finishNode(i,r?&amp;quot;BreakStatement&amp;quot;:&amp;quot;ContinueStatement&amp;quot;)};De.parseDebuggerStatement=function(i){return this.next(),this.semicolon(),this.finishNode(i,&amp;quot;DebuggerStatement&amp;quot;)};De.parseDoStatement=function(i){return this.next(),this.labels.push(Nf),i.body=this.parseStatement(&amp;quot;do&amp;quot;),this.labels.pop(),this.expect(R._while),i.test=this.parseParenExpression(),this.options.ecmaVersion&amp;gt;=6?this.eat(R.semi):this.semicolon(),this.finishNode(i,&amp;quot;DoWhileStatement&amp;quot;)};De.parseForStatement=function(i){this.next();var t=this.options.ecmaVersion&amp;gt;=9&amp;amp;&amp;amp;this.canAwait&amp;amp;&amp;amp;this.eatContextual(&amp;quot;await&amp;quot;)?this.lastTokStart:-1;if(this.labels.push(Nf),this.enterScope(0),this.expect(R.parenL),this.type===R.semi)return t&amp;gt;-1&amp;amp;&amp;amp;this.unexpected(t),this.parseFor(i,null);var r=this.isLet();if(this.type===R._var||this.type===R._const||r){var n=this.startNode(),s=r?&amp;quot;let&amp;quot;:this.value;return this.next(),this.parseVar(n,!0,s),this.finishNode(n,&amp;quot;VariableDeclaration&amp;quot;),this.parseForAfterInit(i,n,t)}var a=this.isContextual(&amp;quot;let&amp;quot;),o=!1,u=this.isUsing(!0)?&amp;quot;using&amp;quot;:this.isAwaitUsing(!0)?&amp;quot;await using&amp;quot;:null;if(u){var h=this.startNode();return this.next(),u===&amp;quot;await using&amp;quot;&amp;amp;&amp;amp;this.next(),this.parseVar(h,!0,u),this.finishNode(h,&amp;quot;VariableDeclaration&amp;quot;),this.parseForAfterInit(i,h,t)}var l=this.containsEsc,c=new Il,p=this.start,f=t&amp;gt;-1?this.parseExprSubscripts(c,&amp;quot;await&amp;quot;):this.parseExpression(!0,c);return this.type===R._in||(o=this.options.ecmaVersion&amp;gt;=6&amp;amp;&amp;amp;this.isContextual(&amp;quot;of&amp;quot;))?(t&amp;gt;-1?(this.type===R._in&amp;amp;&amp;amp;this.unexpected(t),i.await=!0):o&amp;amp;&amp;amp;this.options.ecmaVersion&amp;gt;=8&amp;amp;&amp;amp;(f.start===p&amp;amp;&amp;amp;!l&amp;amp;&amp;amp;f.type===&amp;quot;Identifier&amp;quot;&amp;amp;&amp;amp;f.name===&amp;quot;async&amp;quot;?this.unexpected():this.options.ecmaVersion&amp;gt;=9&amp;amp;&amp;amp;(i.await=!1)),a&amp;amp;&amp;amp;o&amp;amp;&amp;amp;this.raise(f.start,&amp;quot;The left-hand side of a for-of loop may not start with &amp;#39;let&amp;#39;.&amp;quot;),this.toAssignable(f,!1,c),this.checkLValPattern(f),this.parseForIn(i,f)):(this.checkExpressionErrors(c,!0),t&amp;gt;-1&amp;amp;&amp;amp;this.unexpected(t),this.parseFor(i,f))};De.parseForAfterInit=function(i,t,r){return(this.type===R._in||this.options.ecmaVersion&amp;gt;=6&amp;amp;&amp;amp;this.isContextual(&amp;quot;of&amp;quot;))&amp;amp;&amp;amp;t.declarations.length===1?(this.options.ecmaVersion&amp;gt;=9&amp;amp;&amp;amp;(this.type===R._in?r&amp;gt;-1&amp;amp;&amp;amp;this.unexpected(r):i.await=r&amp;gt;-1),this.parseForIn(i,t)):(r&amp;gt;-1&amp;amp;&amp;amp;this.unexpected(r),this.parseFor(i,t))};De.parseFunctionStatement=function(i,t,r){return this.next(),this.parseFunction(i,_o|(r?0:Cf),!1,t)};De.parseIfStatement=function(i){return this.next(),i.test=this.parseParenExpression(),i.consequent=this.parseStatement(&amp;quot;if&amp;quot;),i.alternate=this.eat(R._else)?this.parseStatement(&amp;quot;if&amp;quot;):null,this.finishNode(i,&amp;quot;IfStatement&amp;quot;)};De.parseReturnStatement=function(i){return!this.inFunction&amp;amp;&amp;amp;!this.options.allowReturnOutsideFunction&amp;amp;&amp;amp;this.raise(this.start,&amp;quot;&amp;#39;return&amp;#39; outside of function&amp;quot;),this.next(),this.eat(R.semi)||this.insertSemicolon()?i.argument=null:(i.argument=this.parseExpression(),this.semicolon()),this.finishNode(i,&amp;quot;ReturnStatement&amp;quot;)};De.parseSwitchStatement=function(i){this.next(),i.discriminant=this.parseParenExpression(),i.cases=[],this.expect(R.braceL),this.labels.push(l2),this.enterScope(0);for(var t,r=!1;this.type!==R.braceR;)if(this.type===R._case||this.type===R._default){var n=this.type===R._case;t&amp;amp;&amp;amp;this.finishNode(t,&amp;quot;SwitchCase&amp;quot;),i.cases.push(t=this.startNode()),t.consequent=[],this.next(),n?t.test=this.parseExpression():(r&amp;amp;&amp;amp;this.raiseRecoverable(this.lastTokStart,&amp;quot;Multiple default clauses&amp;quot;),r=!0,t.test=null),this.expect(R.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(null));return this.exitScope(),t&amp;amp;&amp;amp;this.finishNode(t,&amp;quot;SwitchCase&amp;quot;),this.next(),this.labels.pop(),this.finishNode(i,&amp;quot;SwitchStatement&amp;quot;)};De.parseThrowStatement=function(i){return this.next(),Qt.test(this.input.slice(this.lastTokEnd,this.start))&amp;amp;&amp;amp;this.raise(this.lastTokEnd,&amp;quot;Illegal newline after throw&amp;quot;),i.argument=this.parseExpression(),this.semicolon(),this.finishNode(i,&amp;quot;ThrowStatement&amp;quot;)};var h2=[];De.parseCatchClauseParam=function(){var i=this.parseBindingAtom(),t=i.type===&amp;quot;Identifier&amp;quot;;return this.enterScope(t?Z0:0),this.checkLValPattern(i,t?K0:Ti),this.expect(R.parenR),i};De.parseTryStatement=function(i){if(this.next(),i.block=this.parseBlock(),i.handler=null,this.type===R._catch){var t=this.startNode();this.next(),this.eat(R.parenL)?t.param=this.parseCatchClauseParam():(this.options.ecmaVersion&amp;lt;10&amp;amp;&amp;amp;this.unexpected(),t.param=null,this.enterScope(0)),t.body=this.parseBlock(!1),this.exitScope(),i.handler=this.finishNode(t,&amp;quot;CatchClause&amp;quot;)}return i.finalizer=this.eat(R._finally)?this.parseBlock():null,!i.handler&amp;amp;&amp;amp;!i.finalizer&amp;amp;&amp;amp;this.raise(i.start,&amp;quot;Missing catch or finally clause&amp;quot;),this.finishNode(i,&amp;quot;TryStatement&amp;quot;)};De.parseVarStatement=function(i,t,r){return this.next(),this.parseVar(i,!1,t,r),this.semicolon(),this.finishNode(i,&amp;quot;VariableDeclaration&amp;quot;)};De.parseWhileStatement=function(i){return this.next(),i.test=this.parseParenExpression(),this.labels.push(Nf),i.body=this.parseStatement(&amp;quot;while&amp;quot;),this.labels.pop(),this.finishNode(i,&amp;quot;WhileStatement&amp;quot;)};De.parseWithStatement=function(i){return this.strict&amp;amp;&amp;amp;this.raise(this.start,&amp;quot;&amp;#39;with&amp;#39; in strict mode&amp;quot;),this.next(),i.object=this.parseParenExpression(),i.body=this.parseStatement(&amp;quot;with&amp;quot;),this.finishNode(i,&amp;quot;WithStatement&amp;quot;)};De.parseEmptyStatement=function(i){return this.next(),this.finishNode(i,&amp;quot;EmptyStatement&amp;quot;)};De.parseLabeledStatement=function(i,t,r,n){for(var s=0,a=this.labels;s&amp;lt;a.length;s+=1){var o=a[s];o.name===t&amp;amp;&amp;amp;this.raise(r.start,&amp;quot;Label &amp;#39;&amp;quot;+t+&amp;quot;&amp;#39; is already declared&amp;quot;)}for(var u=this.type.isLoop?&amp;quot;loop&amp;quot;:this.type===R._switch?&amp;quot;switch&amp;quot;:null,h=this.labels.length-1;h&amp;gt;=0;h--){var l=this.labels[h];if(l.statementStart===i.start)l.statementStart=this.start,l.kind=u;else break}return this.labels.push({name:t,kind:u,statementStart:this.start}),i.body=this.parseStatement(n?n.indexOf(&amp;quot;label&amp;quot;)===-1?n+&amp;quot;label&amp;quot;:n:&amp;quot;label&amp;quot;),this.labels.pop(),i.label=r,this.finishNode(i,&amp;quot;LabeledStatement&amp;quot;)};De.parseExpressionStatement=function(i,t){return i.expression=t,this.semicolon(),this.finishNode(i,&amp;quot;ExpressionStatement&amp;quot;)};De.parseBlock=function(i,t,r){for(i===void 0&amp;amp;&amp;amp;(i=!0),t===void 0&amp;amp;&amp;amp;(t=this.startNode()),t.body=[],this.expect(R.braceL),i&amp;amp;&amp;amp;this.enterScope(0);this.type!==R.braceR;){var n=this.parseStatement(null);t.body.push(n)}return r&amp;amp;&amp;amp;(this.strict=!1),this.next(),i&amp;amp;&amp;amp;this.exitScope(),this.finishNode(t,&amp;quot;BlockStatement&amp;quot;)};De.parseFor=function(i,t){return i.init=t,this.expect(R.semi),i.test=this.type===R.semi?null:this.parseExpression(),this.expect(R.semi),i.update=this.type===R.parenR?null:this.parseExpression(),this.expect(R.parenR),i.body=this.parseStatement(&amp;quot;for&amp;quot;),this.exitScope(),this.labels.pop(),this.finishNode(i,&amp;quot;ForStatement&amp;quot;)};De.parseForIn=function(i,t){var r=this.type===R._in;return this.next(),t.type===&amp;quot;VariableDeclaration&amp;quot;&amp;amp;&amp;amp;t.declarations[0].init!=null&amp;amp;&amp;amp;(!r||this.options.ecmaVersion&amp;lt;8||this.strict||t.kind!==&amp;quot;var&amp;quot;||t.declarations[0].id.type!==&amp;quot;Identifier&amp;quot;)&amp;amp;&amp;amp;this.raise(t.start,(r?&amp;quot;for-in&amp;quot;:&amp;quot;for-of&amp;quot;)+&amp;quot; loop variable declaration may not have an initializer&amp;quot;),i.left=t,i.right=r?this.parseExpression():this.parseMaybeAssign(),this.expect(R.parenR),i.body=this.parseStatement(&amp;quot;for&amp;quot;),this.exitScope(),this.labels.pop(),this.finishNode(i,r?&amp;quot;ForInStatement&amp;quot;:&amp;quot;ForOfStatement&amp;quot;)};De.parseVar=function(i,t,r,n){for(i.declarations=[],i.kind=r;;){var s=this.startNode();if(this.parseVarId(s,r),this.eat(R.eq)?s.init=this.parseMaybeAssign(t):!n&amp;amp;&amp;amp;r===&amp;quot;const&amp;quot;&amp;amp;&amp;amp;!(this.type===R._in||this.options.ecmaVersion&amp;gt;=6&amp;amp;&amp;amp;this.isContextual(&amp;quot;of&amp;quot;))?this.unexpected():!n&amp;amp;&amp;amp;(r===&amp;quot;using&amp;quot;||r===&amp;quot;await using&amp;quot;)&amp;amp;&amp;amp;this.options.ecmaVersion&amp;gt;=17&amp;amp;&amp;amp;this.type!==R._in&amp;amp;&amp;amp;!this.isContextual(&amp;quot;of&amp;quot;)?this.raise(this.lastTokEnd,&amp;quot;Missing initializer in &amp;quot;+r+&amp;quot; declaration&amp;quot;):!n&amp;amp;&amp;amp;s.id.type!==&amp;quot;Identifier&amp;quot;&amp;amp;&amp;amp;!(t&amp;amp;&amp;amp;(this.type===R._in||this.isContextual(&amp;quot;of&amp;quot;)))?this.raise(this.lastTokEnd,&amp;quot;Complex binding patterns require an initialization value&amp;quot;):s.init=null,i.declarations.push(this.finishNode(s,&amp;quot;VariableDeclarator&amp;quot;)),!this.eat(R.comma))break}return i};De.parseVarId=function(i,t){i.id=t===&amp;quot;using&amp;quot;||t===&amp;quot;await using&amp;quot;?this.parseIdent():this.parseBindingAtom(),this.checkLValPattern(i.id,t===&amp;quot;var&amp;quot;?Tf:Ti,!1)};var _o=1,Cf=2,Q0=4;De.parseFunction=function(i,t,r,n,s){this.initFunction(i),(this.options.ecmaVersion&amp;gt;=9||this.options.ecmaVersion&amp;gt;=6&amp;amp;&amp;amp;!n)&amp;amp;&amp;amp;(this.type===R.star&amp;amp;&amp;amp;t&amp;amp;Cf&amp;amp;&amp;amp;this.unexpected(),i.generator=this.eat(R.star)),this.options.ecmaVersion&amp;gt;=8&amp;amp;&amp;amp;(i.async=!!n),t&amp;amp;_o&amp;amp;&amp;amp;(i.id=t&amp;amp;Q0&amp;amp;&amp;amp;this.type!==R.name?null:this.parseIdent(),i.id&amp;amp;&amp;amp;!(t&amp;amp;Cf)&amp;amp;&amp;amp;this.checkLValSimple(i.id,this.strict||i.generator||i.async?this.treatFunctionsAsVar?Tf:Ti:X0));var a=this.yieldPos,o=this.awaitPos,u=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Ff(i.async,i.generator)),t&amp;amp;_o||(i.id=this.type===R.name?this.parseIdent():null),this.parseFunctionParams(i),this.parseFunctionBody(i,r,!1,s),this.yieldPos=a,this.awaitPos=o,this.awaitIdentPos=u,this.finishNode(i,t&amp;amp;_o?&amp;quot;FunctionDeclaration&amp;quot;:&amp;quot;FunctionExpression&amp;quot;)};De.parseFunctionParams=function(i){this.expect(R.parenL),i.params=this.parseBindingList(R.parenR,!1,this.options.ecmaVersion&amp;gt;=8),this.checkYieldAwaitInDefaultParams()};De.parseClass=function(i,t){this.next();var r=this.strict;this.strict=!0,this.parseClassId(i,t),this.parseClassSuper(i);var n=this.enterClassBody(),s=this.startNode(),a=!1;for(s.body=[],this.expect(R.braceL);this.type!==R.braceR;){var o=this.parseClassElement(i.superClass!==null);o&amp;amp;&amp;amp;(s.body.push(o),o.type===&amp;quot;MethodDefinition&amp;quot;&amp;amp;&amp;amp;o.kind===&amp;quot;constructor&amp;quot;?(a&amp;amp;&amp;amp;this.raiseRecoverable(o.start,&amp;quot;Duplicate constructor in the same class&amp;quot;),a=!0):o.key&amp;amp;&amp;amp;o.key.type===&amp;quot;PrivateIdentifier&amp;quot;&amp;amp;&amp;amp;c2(n,o)&amp;amp;&amp;amp;this.raiseRecoverable(o.key.start,&amp;quot;Identifier &amp;#39;#&amp;quot;+o.key.name+&amp;quot;&amp;#39; has already been declared&amp;quot;))}return this.strict=r,this.next(),i.body=this.finishNode(s,&amp;quot;ClassBody&amp;quot;),this.exitClassBody(),this.finishNode(i,t?&amp;quot;ClassDeclaration&amp;quot;:&amp;quot;ClassExpression&amp;quot;)};De.parseClassElement=function(i){if(this.eat(R.semi))return null;var t=this.options.ecmaVersion,r=this.startNode(),n=&amp;quot;&amp;quot;,s=!1,a=!1,o=&amp;quot;method&amp;quot;,u=!1;if(this.eatContextual(&amp;quot;static&amp;quot;)){if(t&amp;gt;=13&amp;amp;&amp;amp;this.eat(R.braceL))return this.parseClassStaticBlock(r),r;this.isClassElementNameStart()||this.type===R.star?u=!0:n=&amp;quot;static&amp;quot;}if(r.static=u,!n&amp;amp;&amp;amp;t&amp;gt;=8&amp;amp;&amp;amp;this.eatContextual(&amp;quot;async&amp;quot;)&amp;amp;&amp;amp;((this.isClassElementNameStart()||this.type===R.star)&amp;amp;&amp;amp;!this.canInsertSemicolon()?a=!0:n=&amp;quot;async&amp;quot;),!n&amp;amp;&amp;amp;(t&amp;gt;=9||!a)&amp;amp;&amp;amp;this.eat(R.star)&amp;amp;&amp;amp;(s=!0),!n&amp;amp;&amp;amp;!a&amp;amp;&amp;amp;!s){var h=this.value;(this.eatContextual(&amp;quot;get&amp;quot;)||this.eatContextual(&amp;quot;set&amp;quot;))&amp;amp;&amp;amp;(this.isClassElementNameStart()?o=h:n=h)}if(n?(r.computed=!1,r.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),r.key.name=n,this.finishNode(r.key,&amp;quot;Identifier&amp;quot;)):this.parseClassElementName(r),t&amp;lt;13||this.type===R.parenL||o!==&amp;quot;method&amp;quot;||s||a){var l=!r.static&amp;amp;&amp;amp;Sl(r,&amp;quot;constructor&amp;quot;),c=l&amp;amp;&amp;amp;i;l&amp;amp;&amp;amp;o!==&amp;quot;method&amp;quot;&amp;amp;&amp;amp;this.raise(r.key.start,&amp;quot;Constructor can&amp;#39;t have get/set modifier&amp;quot;),r.kind=l?&amp;quot;constructor&amp;quot;:o,this.parseClassMethod(r,s,a,c)}else this.parseClassField(r);return r};De.isClassElementNameStart=function(){return this.type===R.name||this.type===R.privateId||this.type===R.num||this.type===R.string||this.type===R.bracketL||this.type.keyword};De.parseClassElementName=function(i){this.type===R.privateId?(this.value===&amp;quot;constructor&amp;quot;&amp;amp;&amp;amp;this.raise(this.start,&amp;quot;Classes can&amp;#39;t have an element named &amp;#39;#constructor&amp;#39;&amp;quot;),i.computed=!1,i.key=this.parsePrivateIdent()):this.parsePropertyName(i)};De.parseClassMethod=function(i,t,r,n){var s=i.key;i.kind===&amp;quot;constructor&amp;quot;?(t&amp;amp;&amp;amp;this.raise(s.start,&amp;quot;Constructor can&amp;#39;t be a generator&amp;quot;),r&amp;amp;&amp;amp;this.raise(s.start,&amp;quot;Constructor can&amp;#39;t be an async method&amp;quot;)):i.static&amp;amp;&amp;amp;Sl(i,&amp;quot;prototype&amp;quot;)&amp;amp;&amp;amp;this.raise(s.start,&amp;quot;Classes may not have a static property named prototype&amp;quot;);var a=i.value=this.parseMethod(t,r,n);return i.kind===&amp;quot;get&amp;quot;&amp;amp;&amp;amp;a.params.length!==0&amp;amp;&amp;amp;this.raiseRecoverable(a.start,&amp;quot;getter should have no params&amp;quot;),i.kind===&amp;quot;set&amp;quot;&amp;amp;&amp;amp;a.params.length!==1&amp;amp;&amp;amp;this.raiseRecoverable(a.start,&amp;quot;setter should have exactly one param&amp;quot;),i.kind===&amp;quot;set&amp;quot;&amp;amp;&amp;amp;a.params[0].type===&amp;quot;RestElement&amp;quot;&amp;amp;&amp;amp;this.raiseRecoverable(a.params[0].start,&amp;quot;Setter cannot use rest params&amp;quot;),this.finishNode(i,&amp;quot;MethodDefinition&amp;quot;)};De.parseClassField=function(i){return Sl(i,&amp;quot;constructor&amp;quot;)?this.raise(i.key.start,&amp;quot;Classes can&amp;#39;t have a field named &amp;#39;constructor&amp;#39;&amp;quot;):i.static&amp;amp;&amp;amp;Sl(i,&amp;quot;prototype&amp;quot;)&amp;amp;&amp;amp;this.raise(i.key.start,&amp;quot;Classes can&amp;#39;t have a static field named &amp;#39;prototype&amp;#39;&amp;quot;),this.eat(R.eq)?(this.enterScope(Eo|Tl),i.value=this.parseMaybeAssign(),this.exitScope()):i.value=null,this.semicolon(),this.finishNode(i,&amp;quot;PropertyDefinition&amp;quot;)};De.parseClassStaticBlock=function(i){i.body=[];var t=this.labels;for(this.labels=[],this.enterScope(Vn|Tl);this.type!==R.braceR;){var r=this.parseStatement(null);i.body.push(r)}return this.next(),this.exitScope(),this.labels=t,this.finishNode(i,&amp;quot;StaticBlock&amp;quot;)};De.parseClassId=function(i,t){this.type===R.name?(i.id=this.parseIdent(),t&amp;amp;&amp;amp;this.checkLValSimple(i.id,Ti,!1)):(t===!0&amp;amp;&amp;amp;this.unexpected(),i.id=null)};De.parseClassSuper=function(i){i.superClass=this.eat(R._extends)?this.parseExprSubscripts(null,!1):null};De.enterClassBody=function(){var i={declared:Object.create(null),used:[]};return this.privateNameStack.push(i),i.declared};De.exitClassBody=function(){var i=this.privateNameStack.pop(),t=i.declared,r=i.used;if(this.options.checkPrivateFields)for(var n=this.privateNameStack.length,s=n===0?null:this.privateNameStack[n-1],a=0;a&amp;lt;r.length;++a){var o=r[a];qs(t,o.name)||(s?s.used.push(o):this.raiseRecoverable(o.start,&amp;quot;Private field &amp;#39;#&amp;quot;+o.name+&amp;quot;&amp;#39; must be declared in an enclosing class&amp;quot;))}};function c2(i,t){var r=t.key.name,n=i[r],s=&amp;quot;true&amp;quot;;return t.type===&amp;quot;MethodDefinition&amp;quot;&amp;amp;&amp;amp;(t.kind===&amp;quot;get&amp;quot;||t.kind===&amp;quot;set&amp;quot;)&amp;amp;&amp;amp;(s=(t.static?&amp;quot;s&amp;quot;:&amp;quot;i&amp;quot;)+t.kind),n===&amp;quot;iget&amp;quot;&amp;amp;&amp;amp;s===&amp;quot;iset&amp;quot;||n===&amp;quot;iset&amp;quot;&amp;amp;&amp;amp;s===&amp;quot;iget&amp;quot;||n===&amp;quot;sget&amp;quot;&amp;amp;&amp;amp;s===&amp;quot;sset&amp;quot;||n===&amp;quot;sset&amp;quot;&amp;amp;&amp;amp;s===&amp;quot;sget&amp;quot;?(i[r]=&amp;quot;true&amp;quot;,!1):n?!0:(i[r]=s,!1)}function Sl(i,t){var r=i.computed,n=i.key;return!r&amp;amp;&amp;amp;(n.type===&amp;quot;Identifier&amp;quot;&amp;amp;&amp;amp;n.name===t||n.type===&amp;quot;Literal&amp;quot;&amp;amp;&amp;amp;n.value===t)}De.parseExportAllDeclaration=function(i,t){return this.options.ecmaVersion&amp;gt;=11&amp;amp;&amp;amp;(this.eatContextual(&amp;quot;as&amp;quot;)?(i.exported=this.parseModuleExportName(),this.checkExport(t,i.exported,this.lastTokStart)):i.exported=null),this.expectContextual(&amp;quot;from&amp;quot;),this.type!==R.string&amp;amp;&amp;amp;this.unexpected(),i.source=this.parseExprAtom(),this.options.ecmaVersion&amp;gt;=16&amp;amp;&amp;amp;(i.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(i,&amp;quot;ExportAllDeclaration&amp;quot;)};De.parseExport=function(i,t){if(this.next(),this.eat(R.star))return this.parseExportAllDeclaration(i,t);if(this.eat(R._default))return this.checkExport(t,&amp;quot;default&amp;quot;,this.lastTokStart),i.declaration=this.parseExportDefaultDeclaration(),this.finishNode(i,&amp;quot;ExportDefaultDeclaration&amp;quot;);if(this.shouldParseExportStatement())i.declaration=this.parseExportDeclaration(i),i.declaration.type===&amp;quot;VariableDeclaration&amp;quot;?this.checkVariableExport(t,i.declaration.declarations):this.checkExport(t,i.declaration.id,i.declaration.id.start),i.specifiers=[],i.source=null,this.options.ecmaVersion&amp;gt;=16&amp;amp;&amp;amp;(i.attributes=[]);else{if(i.declaration=null,i.specifiers=this.parseExportSpecifiers(t),this.eatContextual(&amp;quot;from&amp;quot;))this.type!==R.string&amp;amp;&amp;amp;this.unexpected(),i.source=this.parseExprAtom(),this.options.ecmaVersion&amp;gt;=16&amp;amp;&amp;amp;(i.attributes=this.parseWithClause());else{for(var r=0,n=i.specifiers;r&amp;lt;n.length;r+=1){var s=n[r];this.checkUnreserved(s.local),this.checkLocalExport(s.local),s.local.type===&amp;quot;Literal&amp;quot;&amp;amp;&amp;amp;this.raise(s.local.start,&amp;quot;A string literal cannot be used as an exported binding without `from`.&amp;quot;)}i.source=null,this.options.ecmaVersion&amp;gt;=16&amp;amp;&amp;amp;(i.attributes=[])}this.semicolon()}return this.finishNode(i,&amp;quot;ExportNamedDeclaration&amp;quot;)};De.parseExportDeclaration=function(i){return this.parseStatement(null)};De.parseExportDefaultDeclaration=function(){var i;if(this.type===R._function||(i=this.isAsyncFunction())){var t=this.startNode();return this.next(),i&amp;amp;&amp;amp;this.next(),this.parseFunction(t,_o|Q0,!1,i)}else if(this.type===R._class){var r=this.startNode();return this.parseClass(r,&amp;quot;nullableID&amp;quot;)}else{var n=this.parseMaybeAssign();return this.semicolon(),n}};De.checkExport=function(i,t,r){i&amp;amp;&amp;amp;(typeof t!=&amp;quot;string&amp;quot;&amp;amp;&amp;amp;(t=t.type===&amp;quot;Identifier&amp;quot;?t.name:t.value),qs(i,t)&amp;amp;&amp;amp;this.raiseRecoverable(r,&amp;quot;Duplicate export &amp;#39;&amp;quot;+t+&amp;quot;&amp;#39;&amp;quot;),i[t]=!0)};De.checkPatternExport=function(i,t){var r=t.type;if(r===&amp;quot;Identifier&amp;quot;)this.checkExport(i,t,t.start);else if(r===&amp;quot;ObjectPattern&amp;quot;)for(var n=0,s=t.properties;n&amp;lt;s.length;n+=1){var a=s[n];this.checkPatternExport(i,a)}else if(r===&amp;quot;ArrayPattern&amp;quot;)for(var o=0,u=t.elements;o&amp;lt;u.length;o+=1){var h=u[o];h&amp;amp;&amp;amp;this.checkPatternExport(i,h)}else r===&amp;quot;Property&amp;quot;?this.checkPatternExport(i,t.value):r===&amp;quot;AssignmentPattern&amp;quot;?this.checkPatternExport(i,t.left):r===&amp;quot;RestElement&amp;quot;&amp;amp;&amp;amp;this.checkPatternExport(i,t.argument)};De.checkVariableExport=function(i,t){if(i)for(var r=0,n=t;r&amp;lt;n.length;r+=1){var s=n[r];this.checkPatternExport(i,s.id)}};De.shouldParseExportStatement=function(){return this.type.keyword===&amp;quot;var&amp;quot;||this.type.keyword===&amp;quot;const&amp;quot;||this.type.keyword===&amp;quot;class&amp;quot;||this.type.keyword===&amp;quot;function&amp;quot;||this.isLet()||this.isAsyncFunction()};De.parseExportSpecifier=function(i){var t=this.startNode();return t.local=this.parseModuleExportName(),t.exported=this.eatContextual(&amp;quot;as&amp;quot;)?this.parseModuleExportName():t.local,this.checkExport(i,t.exported,t.exported.start),this.finishNode(t,&amp;quot;ExportSpecifier&amp;quot;)};De.parseExportSpecifiers=function(i){var t=[],r=!0;for(this.expect(R.braceL);!this.eat(R.braceR);){if(r)r=!1;else if(this.expect(R.comma),this.afterTrailingComma(R.braceR))break;t.push(this.parseExportSpecifier(i))}return t};De.parseImport=function(i){return this.next(),this.type===R.string?(i.specifiers=h2,i.source=this.parseExprAtom()):(i.specifiers=this.parseImportSpecifiers(),this.expectContextual(&amp;quot;from&amp;quot;),i.source=this.type===R.string?this.parseExprAtom():this.unexpected()),this.options.ecmaVersion&amp;gt;=16&amp;amp;&amp;amp;(i.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(i,&amp;quot;ImportDeclaration&amp;quot;)};De.parseImportSpecifier=function(){var i=this.startNode();return i.imported=this.parseModuleExportName(),this.eatContextual(&amp;quot;as&amp;quot;)?i.local=this.parseIdent():(this.checkUnreserved(i.imported),i.local=i.imported),this.checkLValSimple(i.local,Ti),this.finishNode(i,&amp;quot;ImportSpecifier&amp;quot;)};De.parseImportDefaultSpecifier=function(){var i=this.startNode();return i.local=this.parseIdent(),this.checkLValSimple(i.local,Ti),this.finishNode(i,&amp;quot;ImportDefaultSpecifier&amp;quot;)};De.parseImportNamespaceSpecifier=function(){var i=this.startNode();return this.next(),this.expectContextual(&amp;quot;as&amp;quot;),i.local=this.parseIdent(),this.checkLValSimple(i.local,Ti),this.finishNode(i,&amp;quot;ImportNamespaceSpecifier&amp;quot;)};De.parseImportSpecifiers=function(){var i=[],t=!0;if(this.type===R.name&amp;amp;&amp;amp;(i.push(this.parseImportDefaultSpecifier()),!this.eat(R.comma)))return i;if(this.type===R.star)return i.push(this.parseImportNamespaceSpecifier()),i;for(this.expect(R.braceL);!this.eat(R.braceR);){if(t)t=!1;else if(this.expect(R.comma),this.afterTrailingComma(R.braceR))break;i.push(this.parseImportSpecifier())}return i};De.parseWithClause=function(){var i=[];if(!this.eat(R._with))return i;this.expect(R.braceL);for(var t={},r=!0;!this.eat(R.braceR);){if(r)r=!1;else if(this.expect(R.comma),this.afterTrailingComma(R.braceR))break;var n=this.parseImportAttribute(),s=n.key.type===&amp;quot;Identifier&amp;quot;?n.key.name:n.key.value;qs(t,s)&amp;amp;&amp;amp;this.raiseRecoverable(n.key.start,&amp;quot;Duplicate attribute key &amp;#39;&amp;quot;+s+&amp;quot;&amp;#39;&amp;quot;),t[s]=!0,i.push(n)}return i};De.parseImportAttribute=function(){var i=this.startNode();return i.key=this.type===R.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!==&amp;quot;never&amp;quot;),this.expect(R.colon),this.type!==R.string&amp;amp;&amp;amp;this.unexpected(),i.value=this.parseExprAtom(),this.finishNode(i,&amp;quot;ImportAttribute&amp;quot;)};De.parseModuleExportName=function(){if(this.options.ecmaVersion&amp;gt;=13&amp;amp;&amp;amp;this.type===R.string){var i=this.parseLiteral(this.value);return s2.test(i.value)&amp;amp;&amp;amp;this.raise(i.start,&amp;quot;An export name cannot include a lone surrogate.&amp;quot;),i}return this.parseIdent(!0)};De.adaptDirectivePrologue=function(i){for(var t=0;t&amp;lt;i.length&amp;amp;&amp;amp;this.isDirectiveCandidate(i[t]);++t)i[t].directive=i[t].expression.raw.slice(1,-1)};De.isDirectiveCandidate=function(i){return this.options.ecmaVersion&amp;gt;=5&amp;amp;&amp;amp;i.type===&amp;quot;ExpressionStatement&amp;quot;&amp;amp;&amp;amp;i.expression.type===&amp;quot;Literal&amp;quot;&amp;amp;&amp;amp;typeof i.expression.value==&amp;quot;string&amp;quot;&amp;amp;&amp;amp;(this.input[i.start]===&amp;#39;&amp;quot;&amp;#39;||this.input[i.start]===&amp;quot;&amp;#39;&amp;quot;)};var Fr=Dt.prototype;Fr.toAssignable=function(i,t,r){if(this.options.ecmaVersion&amp;gt;=6&amp;amp;&amp;amp;i)switch(i.type){case&amp;quot;Identifier&amp;quot;:this.inAsync&amp;amp;&amp;amp;i.name===&amp;quot;await&amp;quot;&amp;amp;&amp;amp;this.raise(i.start,&amp;quot;Cannot use &amp;#39;await&amp;#39; as identifier inside an async function&amp;quot;);break;case&amp;quot;ObjectPattern&amp;quot;:case&amp;quot;ArrayPattern&amp;quot;:case&amp;quot;AssignmentPattern&amp;quot;:case&amp;quot;RestElement&amp;quot;:break;case&amp;quot;ObjectExpression&amp;quot;:i.type=&amp;quot;ObjectPattern&amp;quot;,r&amp;amp;&amp;amp;this.checkPatternErrors(r,!0);for(var n=0,s=i.properties;n&amp;lt;s.length;n+=1){var a=s[n];this.toAssignable(a,t),a.type===&amp;quot;RestElement&amp;quot;&amp;amp;&amp;amp;(a.argument.type===&amp;quot;ArrayPattern&amp;quot;||a.argument.type===&amp;quot;ObjectPattern&amp;quot;)&amp;amp;&amp;amp;this.raise(a.argument.start,&amp;quot;Unexpected token&amp;quot;)}break;case&amp;quot;Property&amp;quot;:i.kind!==&amp;quot;init&amp;quot;&amp;amp;&amp;amp;this.raise(i.key.start,&amp;quot;Object pattern can&amp;#39;t contain getter or setter&amp;quot;),this.toAssignable(i.value,t);break;case&amp;quot;ArrayExpression&amp;quot;:i.type=&amp;quot;ArrayPattern&amp;quot;,r&amp;amp;&amp;amp;this.checkPatternErrors(r,!0),this.toAssignableList(i.elements,t);break;case&amp;quot;SpreadElement&amp;quot;:i.type=&amp;quot;RestElement&amp;quot;,this.toAssignable(i.argument,t),i.argument.type===&amp;quot;AssignmentPattern&amp;quot;&amp;amp;&amp;amp;this.raise(i.argument.start,&amp;quot;Rest elements cannot have a default value&amp;quot;);break;case&amp;quot;AssignmentExpression&amp;quot;:i.operator!==&amp;quot;=&amp;quot;&amp;amp;&amp;amp;this.raise(i.left.end,&amp;quot;Only &amp;#39;=&amp;#39; operator can be used for specifying default value.&amp;quot;),i.type=&amp;quot;AssignmentPattern&amp;quot;,delete i.operator,this.toAssignable(i.left,t);break;case&amp;quot;ParenthesizedExpression&amp;quot;:this.toAssignable(i.expression,t,r);break;case&amp;quot;ChainExpression&amp;quot;:this.raiseRecoverable(i.start,&amp;quot;Optional chaining cannot appear in left-hand side&amp;quot;);break;case&amp;quot;MemberExpression&amp;quot;:if(!t)break;default:this.raise(i.start,&amp;quot;Assigning to rvalue&amp;quot;)}else r&amp;amp;&amp;amp;this.checkPatternErrors(r,!0);return i};Fr.toAssignableList=function(i,t){for(var r=i.length,n=0;n&amp;lt;r;n++){var s=i[n];s&amp;amp;&amp;amp;this.toAssignable(s,t)}if(r){var a=i[r-1];this.options.ecmaVersion===6&amp;amp;&amp;amp;t&amp;amp;&amp;amp;a&amp;amp;&amp;amp;a.type===&amp;quot;RestElement&amp;quot;&amp;amp;&amp;amp;a.argument.type!==&amp;quot;Identifier&amp;quot;&amp;amp;&amp;amp;this.unexpected(a.argument.start)}return i};Fr.parseSpread=function(i){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,i),this.finishNode(t,&amp;quot;SpreadElement&amp;quot;)};Fr.parseRestBinding=function(){var i=this.startNode();return this.next(),this.options.ecmaVersion===6&amp;amp;&amp;amp;this.type!==R.name&amp;amp;&amp;amp;this.unexpected(),i.argument=this.parseBindingAtom(),this.finishNode(i,&amp;quot;RestElement&amp;quot;)};Fr.parseBindingAtom=function(){if(this.options.ecmaVersion&amp;gt;=6)switch(this.type){case R.bracketL:var i=this.startNode();return this.next(),i.elements=this.parseBindingList(R.bracketR,!0,!0),this.finishNode(i,&amp;quot;ArrayPattern&amp;quot;);case R.braceL:return this.parseObj(!0)}return this.parseIdent()};Fr.parseBindingList=function(i,t,r,n){for(var s=[],a=!0;!this.eat(i);)if(a?a=!1:this.expect(R.comma),t&amp;amp;&amp;amp;this.type===R.comma)s.push(null);else{if(r&amp;amp;&amp;amp;this.afterTrailingComma(i))break;if(this.type===R.ellipsis){var o=this.parseRestBinding();this.parseBindingListItem(o),s.push(o),this.type===R.comma&amp;amp;&amp;amp;this.raiseRecoverable(this.start,&amp;quot;Comma is not permitted after the rest element&amp;quot;),this.expect(i);break}else s.push(this.parseAssignableListItem(n))}return s};Fr.parseAssignableListItem=function(i){var t=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(t),t};Fr.parseBindingListItem=function(i){return i};Fr.parseMaybeDefault=function(i,t,r){if(r=r||this.parseBindingAtom(),this.options.ecmaVersion&amp;lt;6||!this.eat(R.eq))return r;var n=this.startNodeAt(i,t);return n.left=r,n.right=this.parseMaybeAssign(),this.finishNode(n,&amp;quot;AssignmentPattern&amp;quot;)};Fr.checkLValSimple=function(i,t,r){t===void 0&amp;amp;&amp;amp;(t=El);var n=t!==El;switch(i.type){case&amp;quot;Identifier&amp;quot;:this.strict&amp;amp;&amp;amp;this.reservedWordsStrictBind.test(i.name)&amp;amp;&amp;amp;this.raiseRecoverable(i.start,(n?&amp;quot;Binding &amp;quot;:&amp;quot;Assigning to &amp;quot;)+i.name+&amp;quot; in strict mode&amp;quot;),n&amp;amp;&amp;amp;(t===Ti&amp;amp;&amp;amp;i.name===&amp;quot;let&amp;quot;&amp;amp;&amp;amp;this.raiseRecoverable(i.start,&amp;quot;let is disallowed as a lexically bound name&amp;quot;),r&amp;amp;&amp;amp;(qs(r,i.name)&amp;amp;&amp;amp;this.raiseRecoverable(i.start,&amp;quot;Argument name clash&amp;quot;),r[i.name]=!0),t!==J0&amp;amp;&amp;amp;this.declareName(i.name,t,i.start));break;case&amp;quot;ChainExpression&amp;quot;:this.raiseRecoverable(i.start,&amp;quot;Optional chaining cannot appear in left-hand side&amp;quot;);break;case&amp;quot;MemberExpression&amp;quot;:n&amp;amp;&amp;amp;this.raiseRecoverable(i.start,&amp;quot;Binding member expression&amp;quot;);break;case&amp;quot;ParenthesizedExpression&amp;quot;:return n&amp;amp;&amp;amp;this.raiseRecoverable(i.start,&amp;quot;Binding parenthesized expression&amp;quot;),this.checkLValSimple(i.expression,t,r);default:this.raise(i.start,(n?&amp;quot;Binding&amp;quot;:&amp;quot;Assigning to&amp;quot;)+&amp;quot; rvalue&amp;quot;)}};Fr.checkLValPattern=function(i,t,r){switch(t===void 0&amp;amp;&amp;amp;(t=El),i.type){case&amp;quot;ObjectPattern&amp;quot;:for(var n=0,s=i.properties;n&amp;lt;s.length;n+=1){var a=s[n];this.checkLValInnerPattern(a,t,r)}break;case&amp;quot;ArrayPattern&amp;quot;:for(var o=0,u=i.elements;o&amp;lt;u.length;o+=1){var h=u[o];h&amp;amp;&amp;amp;this.checkLValInnerPattern(h,t,r)}break;default:this.checkLValSimple(i,t,r)}};Fr.checkLValInnerPattern=function(i,t,r){switch(t===void 0&amp;amp;&amp;amp;(t=El),i.type){case&amp;quot;Property&amp;quot;:this.checkLValInnerPattern(i.value,t,r);break;case&amp;quot;AssignmentPattern&amp;quot;:this.checkLValPattern(i.left,t,r);break;case&amp;quot;RestElement&amp;quot;:this.checkLValPattern(i.argument,t,r);break;default:this.checkLValPattern(i,t,r)}};var Wr=function(t,r,n,s,a){this.token=t,this.isExpr=!!r,this.preserveSpace=!!n,this.override=s,this.generator=!!a},ht={b_stat:new Wr(&amp;quot;{&amp;quot;,!1),b_expr:new Wr(&amp;quot;{&amp;quot;,!0),b_tmpl:new Wr(&amp;quot;${&amp;quot;,!1),p_stat:new Wr(&amp;quot;(&amp;quot;,!1),p_expr:new Wr(&amp;quot;(&amp;quot;,!0),q_tmpl:new Wr(&amp;quot;`&amp;quot;,!0,!0,function(i){return i.tryReadTemplateToken()}),f_stat:new Wr(&amp;quot;function&amp;quot;,!1),f_expr:new Wr(&amp;quot;function&amp;quot;,!0),f_expr_gen:new Wr(&amp;quot;function&amp;quot;,!0,!1,null,!0),f_gen:new Wr(&amp;quot;function&amp;quot;,!1,!1,null,!0)},Ys=Dt.prototype;Ys.initialContext=function(){return[ht.b_stat]};Ys.curContext=function(){return this.context[this.context.length-1]};Ys.braceIsBlock=function(i){var t=this.curContext();return t===ht.f_expr||t===ht.f_stat?!0:i===R.colon&amp;amp;&amp;amp;(t===ht.b_stat||t===ht.b_expr)?!t.isExpr:i===R._return||i===R.name&amp;amp;&amp;amp;this.exprAllowed?Qt.test(this.input.slice(this.lastTokEnd,this.start)):i===R._else||i===R.semi||i===R.eof||i===R.parenR||i===R.arrow?!0:i===R.braceL?t===ht.b_stat:i===R._var||i===R._const||i===R.name?!1:!this.exprAllowed};Ys.inGeneratorContext=function(){for(var i=this.context.length-1;i&amp;gt;=1;i--){var t=this.context[i];if(t.token===&amp;quot;function&amp;quot;)return t.generator}return!1};Ys.updateContext=function(i){var t,r=this.type;r.keyword&amp;amp;&amp;amp;i===R.dot?this.exprAllowed=!1:(t=r.updateContext)?t.call(this,i):this.exprAllowed=r.beforeExpr};Ys.overrideContext=function(i){this.curContext()!==i&amp;amp;&amp;amp;(this.context[this.context.length-1]=i)};R.parenR.updateContext=R.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var i=this.context.pop();i===ht.b_stat&amp;amp;&amp;amp;this.curContext().token===&amp;quot;function&amp;quot;&amp;amp;&amp;amp;(i=this.context.pop()),this.exprAllowed=!i.isExpr};R.braceL.updateContext=function(i){this.context.push(this.braceIsBlock(i)?ht.b_stat:ht.b_expr),this.exprAllowed=!0};R.dollarBraceL.updateContext=function(){this.context.push(ht.b_tmpl),this.exprAllowed=!0};R.parenL.updateContext=function(i){var t=i===R._if||i===R._for||i===R._with||i===R._while;this.context.push(t?ht.p_stat:ht.p_expr),this.exprAllowed=!0};R.incDec.updateContext=function(){};R._function.updateContext=R._class.updateContext=function(i){i.beforeExpr&amp;amp;&amp;amp;i!==R._else&amp;amp;&amp;amp;!(i===R.semi&amp;amp;&amp;amp;this.curContext()!==ht.p_stat)&amp;amp;&amp;amp;!(i===R._return&amp;amp;&amp;amp;Qt.test(this.input.slice(this.lastTokEnd,this.start)))&amp;amp;&amp;amp;!((i===R.colon||i===R.braceL)&amp;amp;&amp;amp;this.curContext()===ht.b_stat)?this.context.push(ht.f_expr):this.context.push(ht.f_stat),this.exprAllowed=!1};R.colon.updateContext=function(){this.curContext().token===&amp;quot;function&amp;quot;&amp;amp;&amp;amp;this.context.pop(),this.exprAllowed=!0};R.backQuote.updateContext=function(){this.curContext()===ht.q_tmpl?this.context.pop():this.context.push(ht.q_tmpl),this.exprAllowed=!1};R.star.updateContext=function(i){if(i===R._function){var t=this.context.length-1;this.context[t]===ht.f_expr?this.context[t]=ht.f_expr_gen:this.context[t]=ht.f_gen}this.exprAllowed=!0};R.name.updateContext=function(i){var t=!1;this.options.ecmaVersion&amp;gt;=6&amp;amp;&amp;amp;i!==R.dot&amp;amp;&amp;amp;(this.value===&amp;quot;of&amp;quot;&amp;amp;&amp;amp;!this.exprAllowed||this.value===&amp;quot;yield&amp;quot;&amp;amp;&amp;amp;this.inGeneratorContext())&amp;amp;&amp;amp;(t=!0),this.exprAllowed=t};var Oe=Dt.prototype;Oe.checkPropClash=function(i,t,r){if(!(this.options.ecmaVersion&amp;gt;=9&amp;amp;&amp;amp;i.type===&amp;quot;SpreadElement&amp;quot;)&amp;amp;&amp;amp;!(this.options.ecmaVersion&amp;gt;=6&amp;amp;&amp;amp;(i.computed||i.method||i.shorthand))){var n=i.key,s;switch(n.type){case&amp;quot;Identifier&amp;quot;:s=n.name;break;case&amp;quot;Literal&amp;quot;:s=String(n.value);break;default:return}var a=i.kind;if(this.options.ecmaVersion&amp;gt;=6){s===&amp;quot;__proto__&amp;quot;&amp;amp;&amp;amp;a===&amp;quot;init&amp;quot;&amp;amp;&amp;amp;(t.proto&amp;amp;&amp;amp;(r?r.doubleProto&amp;lt;0&amp;amp;&amp;amp;(r.doubleProto=n.start):this.raiseRecoverable(n.start,&amp;quot;Redefinition of __proto__ property&amp;quot;)),t.proto=!0);return}s=&amp;quot;$&amp;quot;+s;var o=t[s];if(o){var u;a===&amp;quot;init&amp;quot;?u=this.strict&amp;amp;&amp;amp;o.init||o.get||o.set:u=o.init||o[a],u&amp;amp;&amp;amp;this.raiseRecoverable(n.start,&amp;quot;Redefinition of property&amp;quot;)}else o=t[s]={init:!1,get:!1,set:!1};o[a]=!0}};Oe.parseExpression=function(i,t){var r=this.start,n=this.startLoc,s=this.parseMaybeAssign(i,t);if(this.type===R.comma){var a=this.startNodeAt(r,n);for(a.expressions=[s];this.eat(R.comma);)a.expressions.push(this.parseMaybeAssign(i,t));return this.finishNode(a,&amp;quot;SequenceExpression&amp;quot;)}return s};Oe.parseMaybeAssign=function(i,t,r){if(this.isContextual(&amp;quot;yield&amp;quot;)){if(this.inGenerator)return this.parseYield(i);this.exprAllowed=!1}var n=!1,s=-1,a=-1,o=-1;t?(s=t.parenthesizedAssign,a=t.trailingComma,o=t.doubleProto,t.parenthesizedAssign=t.trailingComma=-1):(t=new Il,n=!0);var u=this.start,h=this.startLoc;(this.type===R.parenL||this.type===R.name)&amp;amp;&amp;amp;(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=i===&amp;quot;await&amp;quot;);var l=this.parseMaybeConditional(i,t);if(r&amp;amp;&amp;amp;(l=r.call(this,l,u,h)),this.type.isAssign){var c=this.startNodeAt(u,h);return c.operator=this.value,this.type===R.eq&amp;amp;&amp;amp;(l=this.toAssignable(l,!1,t)),n||(t.parenthesizedAssign=t.trailingComma=t.doubleProto=-1),t.shorthandAssign&amp;gt;=l.start&amp;amp;&amp;amp;(t.shorthandAssign=-1),this.type===R.eq?this.checkLValPattern(l):this.checkLValSimple(l),c.left=l,this.next(),c.right=this.parseMaybeAssign(i),o&amp;gt;-1&amp;amp;&amp;amp;(t.doubleProto=o),this.finishNode(c,&amp;quot;AssignmentExpression&amp;quot;)}else n&amp;amp;&amp;amp;this.checkExpressionErrors(t,!0);return s&amp;gt;-1&amp;amp;&amp;amp;(t.parenthesizedAssign=s),a&amp;gt;-1&amp;amp;&amp;amp;(t.trailingComma=a),l};Oe.parseMaybeConditional=function(i,t){var r=this.start,n=this.startLoc,s=this.parseExprOps(i,t);if(this.checkExpressionErrors(t))return s;if(this.eat(R.question)){var a=this.startNodeAt(r,n);return a.test=s,a.consequent=this.parseMaybeAssign(),this.expect(R.colon),a.alternate=this.parseMaybeAssign(i),this.finishNode(a,&amp;quot;ConditionalExpression&amp;quot;)}return s};Oe.parseExprOps=function(i,t){var r=this.start,n=this.startLoc,s=this.parseMaybeUnary(t,!1,!1,i);return this.checkExpressionErrors(t)||s.start===r&amp;amp;&amp;amp;s.type===&amp;quot;ArrowFunctionExpression&amp;quot;?s:this.parseExprOp(s,r,n,-1,i)};Oe.parseExprOp=function(i,t,r,n,s){var a=this.type.binop;if(a!=null&amp;amp;&amp;amp;(!s||this.type!==R._in)&amp;amp;&amp;amp;a&amp;gt;n){var o=this.type===R.logicalOR||this.type===R.logicalAND,u=this.type===R.coalesce;u&amp;amp;&amp;amp;(a=R.logicalAND.binop);var h=this.value;this.next();var l=this.start,c=this.startLoc,p=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,s),l,c,a,s),f=this.buildBinary(t,r,i,p,h,o||u);return(o&amp;amp;&amp;amp;this.type===R.coalesce||u&amp;amp;&amp;amp;(this.type===R.logicalOR||this.type===R.logicalAND))&amp;amp;&amp;amp;this.raiseRecoverable(this.start,&amp;quot;Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses&amp;quot;),this.parseExprOp(f,t,r,n,s)}return i};Oe.buildBinary=function(i,t,r,n,s,a){n.type===&amp;quot;PrivateIdentifier&amp;quot;&amp;amp;&amp;amp;this.raise(n.start,&amp;quot;Private identifier can only be left side of binary expression&amp;quot;);var o=this.startNodeAt(i,t);return o.left=r,o.operator=s,o.right=n,this.finishNode(o,a?&amp;quot;LogicalExpression&amp;quot;:&amp;quot;BinaryExpression&amp;quot;)};Oe.parseMaybeUnary=function(i,t,r,n){var s=this.start,a=this.startLoc,o;if(this.isContextual(&amp;quot;await&amp;quot;)&amp;amp;&amp;amp;this.canAwait)o=this.parseAwait(n),t=!0;else if(this.type.prefix){var u=this.startNode(),h=this.type===R.incDec;u.operator=this.value,u.prefix=!0,this.next(),u.argument=this.parseMaybeUnary(null,!0,h,n),this.checkExpressionErrors(i,!0),h?this.checkLValSimple(u.argument):this.strict&amp;amp;&amp;amp;u.operator===&amp;quot;delete&amp;quot;&amp;amp;&amp;amp;eg(u.argument)?this.raiseRecoverable(u.start,&amp;quot;Deleting local variable in strict mode&amp;quot;):u.operator===&amp;quot;delete&amp;quot;&amp;amp;&amp;amp;Ef(u.argument)?this.raiseRecoverable(u.start,&amp;quot;Private fields can not be deleted&amp;quot;):t=!0,o=this.finishNode(u,h?&amp;quot;UpdateExpression&amp;quot;:&amp;quot;UnaryExpression&amp;quot;)}else if(!t&amp;amp;&amp;amp;this.type===R.privateId)(n||this.privateNameStack.length===0)&amp;amp;&amp;amp;this.options.checkPrivateFields&amp;amp;&amp;amp;this.unexpected(),o=this.parsePrivateIdent(),this.type!==R._in&amp;amp;&amp;amp;this.unexpected();else{if(o=this.parseExprSubscripts(i,n),this.checkExpressionErrors(i))return o;for(;this.type.postfix&amp;amp;&amp;amp;!this.canInsertSemicolon();){var l=this.startNodeAt(s,a);l.operator=this.value,l.prefix=!1,l.argument=o,this.checkLValSimple(o),this.next(),o=this.finishNode(l,&amp;quot;UpdateExpression&amp;quot;)}}if(!r&amp;amp;&amp;amp;this.eat(R.starstar))if(t)this.unexpected(this.lastTokStart);else return this.buildBinary(s,a,o,this.parseMaybeUnary(null,!1,!1,n),&amp;quot;**&amp;quot;,!1);else return o};function eg(i){return i.type===&amp;quot;Identifier&amp;quot;||i.type===&amp;quot;ParenthesizedExpression&amp;quot;&amp;amp;&amp;amp;eg(i.expression)}function Ef(i){return i.type===&amp;quot;MemberExpression&amp;quot;&amp;amp;&amp;amp;i.property.type===&amp;quot;PrivateIdentifier&amp;quot;||i.type===&amp;quot;ChainExpression&amp;quot;&amp;amp;&amp;amp;Ef(i.expression)||i.type===&amp;quot;ParenthesizedExpression&amp;quot;&amp;amp;&amp;amp;Ef(i.expression)}Oe.parseExprSubscripts=function(i,t){var r=this.start,n=this.startLoc,s=this.parseExprAtom(i,t);if(s.type===&amp;quot;ArrowFunctionExpression&amp;quot;&amp;amp;&amp;amp;this.input.slice(this.lastTokStart,this.lastTokEnd)!==&amp;quot;)&amp;quot;)return s;var a=this.parseSubscripts(s,r,n,!1,t);return i&amp;amp;&amp;amp;a.type===&amp;quot;MemberExpression&amp;quot;&amp;amp;&amp;amp;(i.parenthesizedAssign&amp;gt;=a.start&amp;amp;&amp;amp;(i.parenthesizedAssign=-1),i.parenthesizedBind&amp;gt;=a.start&amp;amp;&amp;amp;(i.parenthesizedBind=-1),i.trailingComma&amp;gt;=a.start&amp;amp;&amp;amp;(i.trailingComma=-1)),a};Oe.parseSubscripts=function(i,t,r,n,s){for(var a=this.options.ecmaVersion&amp;gt;=8&amp;amp;&amp;amp;i.type===&amp;quot;Identifier&amp;quot;&amp;amp;&amp;amp;i.name===&amp;quot;async&amp;quot;&amp;amp;&amp;amp;this.lastTokEnd===i.end&amp;amp;&amp;amp;!this.canInsertSemicolon()&amp;amp;&amp;amp;i.end-i.start===5&amp;amp;&amp;amp;this.potentialArrowAt===i.start,o=!1;;){var u=this.parseSubscript(i,t,r,n,a,o,s);if(u.optional&amp;amp;&amp;amp;(o=!0),u===i||u.type===&amp;quot;ArrowFunctionExpression&amp;quot;){if(o){var h=this.startNodeAt(t,r);h.expression=u,u=this.finishNode(h,&amp;quot;ChainExpression&amp;quot;)}return u}i=u}};Oe.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&amp;amp;&amp;amp;this.eat(R.arrow)};Oe.parseSubscriptAsyncArrow=function(i,t,r,n){return this.parseArrowExpression(this.startNodeAt(i,t),r,!0,n)};Oe.parseSubscript=function(i,t,r,n,s,a,o){var u=this.options.ecmaVersion&amp;gt;=11,h=u&amp;amp;&amp;amp;this.eat(R.questionDot);n&amp;amp;&amp;amp;h&amp;amp;&amp;amp;this.raise(this.lastTokStart,&amp;quot;Optional chaining cannot appear in the callee of new expressions&amp;quot;);var l=this.eat(R.bracketL);if(l||h&amp;amp;&amp;amp;this.type!==R.parenL&amp;amp;&amp;amp;this.type!==R.backQuote||this.eat(R.dot)){var c=this.startNodeAt(t,r);c.object=i,l?(c.property=this.parseExpression(),this.expect(R.bracketR)):this.type===R.privateId&amp;amp;&amp;amp;i.type!==&amp;quot;Super&amp;quot;?c.property=this.parsePrivateIdent():c.property=this.parseIdent(this.options.allowReserved!==&amp;quot;never&amp;quot;),c.computed=!!l,u&amp;amp;&amp;amp;(c.optional=h),i=this.finishNode(c,&amp;quot;MemberExpression&amp;quot;)}else if(!n&amp;amp;&amp;amp;this.eat(R.parenL)){var p=new Il,f=this.yieldPos,d=this.awaitPos,m=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var g=this.parseExprList(R.parenR,this.options.ecmaVersion&amp;gt;=8,!1,p);if(s&amp;amp;&amp;amp;!h&amp;amp;&amp;amp;this.shouldParseAsyncArrow())return this.checkPatternErrors(p,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos&amp;gt;0&amp;amp;&amp;amp;this.raise(this.awaitIdentPos,&amp;quot;Cannot use &amp;#39;await&amp;#39; as identifier inside an async function&amp;quot;),this.yieldPos=f,this.awaitPos=d,this.awaitIdentPos=m,this.parseSubscriptAsyncArrow(t,r,g,o);this.checkExpressionErrors(p,!0),this.yieldPos=f||this.yieldPos,this.awaitPos=d||this.awaitPos,this.awaitIdentPos=m||this.awaitIdentPos;var v=this.startNodeAt(t,r);v.callee=i,v.arguments=g,u&amp;amp;&amp;amp;(v.optional=h),i=this.finishNode(v,&amp;quot;CallExpression&amp;quot;)}else if(this.type===R.backQuote){(h||a)&amp;amp;&amp;amp;this.raise(this.start,&amp;quot;Optional chaining cannot appear in the tag of tagged template expressions&amp;quot;);var w=this.startNodeAt(t,r);w.tag=i,w.quasi=this.parseTemplate({isTagged:!0}),i=this.finishNode(w,&amp;quot;TaggedTemplateExpression&amp;quot;)}return i};Oe.parseExprAtom=function(i,t,r){this.type===R.slash&amp;amp;&amp;amp;this.readRegexp();var n,s=this.potentialArrowAt===this.start;switch(this.type){case R._super:return this.allowSuper||this.raise(this.start,&amp;quot;&amp;#39;super&amp;#39; keyword outside a method&amp;quot;),n=this.startNode(),this.next(),this.type===R.parenL&amp;amp;&amp;amp;!this.allowDirectSuper&amp;amp;&amp;amp;this.raise(n.start,&amp;quot;super() call outside constructor of a subclass&amp;quot;),this.type!==R.dot&amp;amp;&amp;amp;this.type!==R.bracketL&amp;amp;&amp;amp;this.type!==R.parenL&amp;amp;&amp;amp;this.unexpected(),this.finishNode(n,&amp;quot;Super&amp;quot;);case R._this:return n=this.startNode(),this.next(),this.finishNode(n,&amp;quot;ThisExpression&amp;quot;);case R.name:var a=this.start,o=this.startLoc,u=this.containsEsc,h=this.parseIdent(!1);if(this.options.ecmaVersion&amp;gt;=8&amp;amp;&amp;amp;!u&amp;amp;&amp;amp;h.name===&amp;quot;async&amp;quot;&amp;amp;&amp;amp;!this.canInsertSemicolon()&amp;amp;&amp;amp;this.eat(R._function))return this.overrideContext(ht.f_expr),this.parseFunction(this.startNodeAt(a,o),0,!1,!0,t);if(s&amp;amp;&amp;amp;!this.canInsertSemicolon()){if(this.eat(R.arrow))return this.parseArrowExpression(this.startNodeAt(a,o),[h],!1,t);if(this.options.ecmaVersion&amp;gt;=8&amp;amp;&amp;amp;h.name===&amp;quot;async&amp;quot;&amp;amp;&amp;amp;this.type===R.name&amp;amp;&amp;amp;!u&amp;amp;&amp;amp;(!this.potentialArrowInForAwait||this.value!==&amp;quot;of&amp;quot;||this.containsEsc))return h=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(R.arrow))&amp;amp;&amp;amp;this.unexpected(),this.parseArrowExpression(this.startNodeAt(a,o),[h],!0,t)}return h;case R.regexp:var l=this.value;return n=this.parseLiteral(l.value),n.regex={pattern:l.pattern,flags:l.flags},n;case R.num:case R.string:return this.parseLiteral(this.value);case R._null:case R._true:case R._false:return n=this.startNode(),n.value=this.type===R._null?null:this.type===R._true,n.raw=this.type.keyword,this.next(),this.finishNode(n,&amp;quot;Literal&amp;quot;);case R.parenL:var c=this.start,p=this.parseParenAndDistinguishExpression(s,t);return i&amp;amp;&amp;amp;(i.parenthesizedAssign&amp;lt;0&amp;amp;&amp;amp;!this.isSimpleAssignTarget(p)&amp;amp;&amp;amp;(i.parenthesizedAssign=c),i.parenthesizedBind&amp;lt;0&amp;amp;&amp;amp;(i.parenthesizedBind=c)),p;case R.bracketL:return n=this.startNode(),this.next(),n.elements=this.parseExprList(R.bracketR,!0,!0,i),this.finishNode(n,&amp;quot;ArrayExpression&amp;quot;);case R.braceL:return this.overrideContext(ht.b_expr),this.parseObj(!1,i);case R._function:return n=this.startNode(),this.next(),this.parseFunction(n,0);case R._class:return this.parseClass(this.startNode(),!1);case R._new:return this.parseNew();case R.backQuote:return this.parseTemplate();case R._import:return this.options.ecmaVersion&amp;gt;=11?this.parseExprImport(r):this.unexpected();default:return this.parseExprAtomDefault()}};Oe.parseExprAtomDefault=function(){this.unexpected()};Oe.parseExprImport=function(i){var t=this.startNode();if(this.containsEsc&amp;amp;&amp;amp;this.raiseRecoverable(this.start,&amp;quot;Escape sequence in keyword import&amp;quot;),this.next(),this.type===R.parenL&amp;amp;&amp;amp;!i)return this.parseDynamicImport(t);if(this.type===R.dot){var r=this.startNodeAt(t.start,t.loc&amp;amp;&amp;amp;t.loc.start);return r.name=&amp;quot;import&amp;quot;,t.meta=this.finishNode(r,&amp;quot;Identifier&amp;quot;),this.parseImportMeta(t)}else this.unexpected()};Oe.parseDynamicImport=function(i){if(this.next(),i.source=this.parseMaybeAssign(),this.options.ecmaVersion&amp;gt;=16)this.eat(R.parenR)?i.options=null:(this.expect(R.comma),this.afterTrailingComma(R.parenR)?i.options=null:(i.options=this.parseMaybeAssign(),this.eat(R.parenR)||(this.expect(R.comma),this.afterTrailingComma(R.parenR)||this.unexpected())));else if(!this.eat(R.parenR)){var t=this.start;this.eat(R.comma)&amp;amp;&amp;amp;this.eat(R.parenR)?this.raiseRecoverable(t,&amp;quot;Trailing comma is not allowed in import()&amp;quot;):this.unexpected(t)}return this.finishNode(i,&amp;quot;ImportExpression&amp;quot;)};Oe.parseImportMeta=function(i){this.next();var t=this.containsEsc;return i.property=this.parseIdent(!0),i.property.name!==&amp;quot;meta&amp;quot;&amp;amp;&amp;amp;this.raiseRecoverable(i.property.start,&amp;quot;The only valid meta property for import is &amp;#39;import.meta&amp;#39;&amp;quot;),t&amp;amp;&amp;amp;this.raiseRecoverable(i.start,&amp;quot;&amp;#39;import.meta&amp;#39; must not contain escaped characters&amp;quot;),this.options.sourceType!==&amp;quot;module&amp;quot;&amp;amp;&amp;amp;!this.options.allowImportExportEverywhere&amp;amp;&amp;amp;this.raiseRecoverable(i.start,&amp;quot;Cannot use &amp;#39;import.meta&amp;#39; outside a module&amp;quot;),this.finishNode(i,&amp;quot;MetaProperty&amp;quot;)};Oe.parseLiteral=function(i){var t=this.startNode();return t.value=i,t.raw=this.input.slice(this.start,this.end),t.raw.charCodeAt(t.raw.length-1)===110&amp;amp;&amp;amp;(t.bigint=t.value!=null?t.value.toString():t.raw.slice(0,-1).replace(/_/g,&amp;quot;&amp;quot;)),this.next(),this.finishNode(t,&amp;quot;Literal&amp;quot;)};Oe.parseParenExpression=function(){this.expect(R.parenL);var i=this.parseExpression();return this.expect(R.parenR),i};Oe.shouldParseArrow=function(i){return!this.canInsertSemicolon()};Oe.parseParenAndDistinguishExpression=function(i,t){var r=this.start,n=this.startLoc,s,a=this.options.ecmaVersion&amp;gt;=8;if(this.options.ecmaVersion&amp;gt;=6){this.next();var o=this.start,u=this.startLoc,h=[],l=!0,c=!1,p=new Il,f=this.yieldPos,d=this.awaitPos,m;for(this.yieldPos=0,this.awaitPos=0;this.type!==R.parenR;)if(l?l=!1:this.expect(R.comma),a&amp;amp;&amp;amp;this.afterTrailingComma(R.parenR,!0)){c=!0;break}else if(this.type===R.ellipsis){m=this.start,h.push(this.parseParenItem(this.parseRestBinding())),this.type===R.comma&amp;amp;&amp;amp;this.raiseRecoverable(this.start,&amp;quot;Comma is not permitted after the rest element&amp;quot;);break}else h.push(this.parseMaybeAssign(!1,p,this.parseParenItem));var g=this.lastTokEnd,v=this.lastTokEndLoc;if(this.expect(R.parenR),i&amp;amp;&amp;amp;this.shouldParseArrow(h)&amp;amp;&amp;amp;this.eat(R.arrow))return this.checkPatternErrors(p,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=f,this.awaitPos=d,this.parseParenArrowList(r,n,h,t);(!h.length||c)&amp;amp;&amp;amp;this.unexpected(this.lastTokStart),m&amp;amp;&amp;amp;this.unexpected(m),this.checkExpressionErrors(p,!0),this.yieldPos=f||this.yieldPos,this.awaitPos=d||this.awaitPos,h.length&amp;gt;1?(s=this.startNodeAt(o,u),s.expressions=h,this.finishNodeAt(s,&amp;quot;SequenceExpression&amp;quot;,g,v)):s=h[0]}else s=this.parseParenExpression();if(this.options.preserveParens){var w=this.startNodeAt(r,n);return w.expression=s,this.finishNode(w,&amp;quot;ParenthesizedExpression&amp;quot;)}else return s};Oe.parseParenItem=function(i){return i};Oe.parseParenArrowList=function(i,t,r,n){return this.parseArrowExpression(this.startNodeAt(i,t),r,!1,n)};var f2=[];Oe.parseNew=function(){this.containsEsc&amp;amp;&amp;amp;this.raiseRecoverable(this.start,&amp;quot;Escape sequence in keyword new&amp;quot;);var i=this.startNode();if(this.next(),this.options.ecmaVersion&amp;gt;=6&amp;amp;&amp;amp;this.type===R.dot){var t=this.startNodeAt(i.start,i.loc&amp;amp;&amp;amp;i.loc.start);t.name=&amp;quot;new&amp;quot;,i.meta=this.finishNode(t,&amp;quot;Identifier&amp;quot;),this.next();var r=this.containsEsc;return i.property=this.parseIdent(!0),i.property.name!==&amp;quot;target&amp;quot;&amp;amp;&amp;amp;this.raiseRecoverable(i.property.start,&amp;quot;The only valid meta property for new is &amp;#39;new.target&amp;#39;&amp;quot;),r&amp;amp;&amp;amp;this.raiseRecoverable(i.start,&amp;quot;&amp;#39;new.target&amp;#39; must not contain escaped characters&amp;quot;),this.allowNewDotTarget||this.raiseRecoverable(i.start,&amp;quot;&amp;#39;new.target&amp;#39; can only be used in functions and class static block&amp;quot;),this.finishNode(i,&amp;quot;MetaProperty&amp;quot;)}var n=this.start,s=this.startLoc;return i.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),n,s,!0,!1),this.eat(R.parenL)?i.arguments=this.parseExprList(R.parenR,this.options.ecmaVersion&amp;gt;=8,!1):i.arguments=f2,this.finishNode(i,&amp;quot;NewExpression&amp;quot;)};Oe.parseTemplateElement=function(i){var t=i.isTagged,r=this.startNode();return this.type===R.invalidTemplate?(t||this.raiseRecoverable(this.start,&amp;quot;Bad escape sequence in untagged template literal&amp;quot;),r.value={raw:this.value.replace(/\r\n?/g,`
<a href="#l2317" class="line" id="l2317">   2317</a> &lt;a href=&quot;#l2298&quot; class=&quot;line&quot; id=&quot;l2298&quot;&gt;   2298&lt;/a&gt; `),cooked:null}):r.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
<a href="#l2318" class="line" id="l2318">   2318</a> &lt;a href=&quot;#l2299&quot; class=&quot;line&quot; id=&quot;l2299&quot;&gt;   2299&lt;/a&gt; `),cooked:this.value},this.next(),r.tail=this.type===R.backQuote,this.finishNode(r,&amp;quot;TemplateElement&amp;quot;)};Oe.parseTemplate=function(i){i===void 0&amp;amp;&amp;amp;(i={});var t=i.isTagged;t===void 0&amp;amp;&amp;amp;(t=!1);var r=this.startNode();this.next(),r.expressions=[];var n=this.parseTemplateElement({isTagged:t});for(r.quasis=[n];!n.tail;)this.type===R.eof&amp;amp;&amp;amp;this.raise(this.pos,&amp;quot;Unterminated template literal&amp;quot;),this.expect(R.dollarBraceL),r.expressions.push(this.parseExpression()),this.expect(R.braceR),r.quasis.push(n=this.parseTemplateElement({isTagged:t}));return this.next(),this.finishNode(r,&amp;quot;TemplateLiteral&amp;quot;)};Oe.isAsyncProp=function(i){return!i.computed&amp;amp;&amp;amp;i.key.type===&amp;quot;Identifier&amp;quot;&amp;amp;&amp;amp;i.key.name===&amp;quot;async&amp;quot;&amp;amp;&amp;amp;(this.type===R.name||this.type===R.num||this.type===R.string||this.type===R.bracketL||this.type.keyword||this.options.ecmaVersion&amp;gt;=9&amp;amp;&amp;amp;this.type===R.star)&amp;amp;&amp;amp;!Qt.test(this.input.slice(this.lastTokEnd,this.start))};Oe.parseObj=function(i,t){var r=this.startNode(),n=!0,s={};for(r.properties=[],this.next();!this.eat(R.braceR);){if(n)n=!1;else if(this.expect(R.comma),this.options.ecmaVersion&amp;gt;=5&amp;amp;&amp;amp;this.afterTrailingComma(R.braceR))break;var a=this.parseProperty(i,t);i||this.checkPropClash(a,s,t),r.properties.push(a)}return this.finishNode(r,i?&amp;quot;ObjectPattern&amp;quot;:&amp;quot;ObjectExpression&amp;quot;)};Oe.parseProperty=function(i,t){var r=this.startNode(),n,s,a,o;if(this.options.ecmaVersion&amp;gt;=9&amp;amp;&amp;amp;this.eat(R.ellipsis))return i?(r.argument=this.parseIdent(!1),this.type===R.comma&amp;amp;&amp;amp;this.raiseRecoverable(this.start,&amp;quot;Comma is not permitted after the rest element&amp;quot;),this.finishNode(r,&amp;quot;RestElement&amp;quot;)):(r.argument=this.parseMaybeAssign(!1,t),this.type===R.comma&amp;amp;&amp;amp;t&amp;amp;&amp;amp;t.trailingComma&amp;lt;0&amp;amp;&amp;amp;(t.trailingComma=this.start),this.finishNode(r,&amp;quot;SpreadElement&amp;quot;));this.options.ecmaVersion&amp;gt;=6&amp;amp;&amp;amp;(r.method=!1,r.shorthand=!1,(i||t)&amp;amp;&amp;amp;(a=this.start,o=this.startLoc),i||(n=this.eat(R.star)));var u=this.containsEsc;return this.parsePropertyName(r),!i&amp;amp;&amp;amp;!u&amp;amp;&amp;amp;this.options.ecmaVersion&amp;gt;=8&amp;amp;&amp;amp;!n&amp;amp;&amp;amp;this.isAsyncProp(r)?(s=!0,n=this.options.ecmaVersion&amp;gt;=9&amp;amp;&amp;amp;this.eat(R.star),this.parsePropertyName(r)):s=!1,this.parsePropertyValue(r,i,n,s,a,o,t,u),this.finishNode(r,&amp;quot;Property&amp;quot;)};Oe.parseGetterSetter=function(i){var t=i.key.name;this.parsePropertyName(i),i.value=this.parseMethod(!1),i.kind=t;var r=i.kind===&amp;quot;get&amp;quot;?0:1;if(i.value.params.length!==r){var n=i.value.start;i.kind===&amp;quot;get&amp;quot;?this.raiseRecoverable(n,&amp;quot;getter should have no params&amp;quot;):this.raiseRecoverable(n,&amp;quot;setter should have exactly one param&amp;quot;)}else i.kind===&amp;quot;set&amp;quot;&amp;amp;&amp;amp;i.value.params[0].type===&amp;quot;RestElement&amp;quot;&amp;amp;&amp;amp;this.raiseRecoverable(i.value.params[0].start,&amp;quot;Setter cannot use rest params&amp;quot;)};Oe.parsePropertyValue=function(i,t,r,n,s,a,o,u){(r||n)&amp;amp;&amp;amp;this.type===R.colon&amp;amp;&amp;amp;this.unexpected(),this.eat(R.colon)?(i.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,o),i.kind=&amp;quot;init&amp;quot;):this.options.ecmaVersion&amp;gt;=6&amp;amp;&amp;amp;this.type===R.parenL?(t&amp;amp;&amp;amp;this.unexpected(),i.method=!0,i.value=this.parseMethod(r,n),i.kind=&amp;quot;init&amp;quot;):!t&amp;amp;&amp;amp;!u&amp;amp;&amp;amp;this.options.ecmaVersion&amp;gt;=5&amp;amp;&amp;amp;!i.computed&amp;amp;&amp;amp;i.key.type===&amp;quot;Identifier&amp;quot;&amp;amp;&amp;amp;(i.key.name===&amp;quot;get&amp;quot;||i.key.name===&amp;quot;set&amp;quot;)&amp;amp;&amp;amp;this.type!==R.comma&amp;amp;&amp;amp;this.type!==R.braceR&amp;amp;&amp;amp;this.type!==R.eq?((r||n)&amp;amp;&amp;amp;this.unexpected(),this.parseGetterSetter(i)):this.options.ecmaVersion&amp;gt;=6&amp;amp;&amp;amp;!i.computed&amp;amp;&amp;amp;i.key.type===&amp;quot;Identifier&amp;quot;?((r||n)&amp;amp;&amp;amp;this.unexpected(),this.checkUnreserved(i.key),i.key.name===&amp;quot;await&amp;quot;&amp;amp;&amp;amp;!this.awaitIdentPos&amp;amp;&amp;amp;(this.awaitIdentPos=s),t?i.value=this.parseMaybeDefault(s,a,this.copyNode(i.key)):this.type===R.eq&amp;amp;&amp;amp;o?(o.shorthandAssign&amp;lt;0&amp;amp;&amp;amp;(o.shorthandAssign=this.start),i.value=this.parseMaybeDefault(s,a,this.copyNode(i.key))):i.value=this.copyNode(i.key),i.kind=&amp;quot;init&amp;quot;,i.shorthand=!0):this.unexpected()};Oe.parsePropertyName=function(i){if(this.options.ecmaVersion&amp;gt;=6){if(this.eat(R.bracketL))return i.computed=!0,i.key=this.parseMaybeAssign(),this.expect(R.bracketR),i.key;i.computed=!1}return i.key=this.type===R.num||this.type===R.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!==&amp;quot;never&amp;quot;)};Oe.initFunction=function(i){i.id=null,this.options.ecmaVersion&amp;gt;=6&amp;amp;&amp;amp;(i.generator=i.expression=!1),this.options.ecmaVersion&amp;gt;=8&amp;amp;&amp;amp;(i.async=!1)};Oe.parseMethod=function(i,t,r){var n=this.startNode(),s=this.yieldPos,a=this.awaitPos,o=this.awaitIdentPos;return this.initFunction(n),this.options.ecmaVersion&amp;gt;=6&amp;amp;&amp;amp;(n.generator=i),this.options.ecmaVersion&amp;gt;=8&amp;amp;&amp;amp;(n.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Ff(t,n.generator)|Tl|(r?Y0:0)),this.expect(R.parenL),n.params=this.parseBindingList(R.parenR,!1,this.options.ecmaVersion&amp;gt;=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(n,!1,!0,!1),this.yieldPos=s,this.awaitPos=a,this.awaitIdentPos=o,this.finishNode(n,&amp;quot;FunctionExpression&amp;quot;)};Oe.parseArrowExpression=function(i,t,r,n){var s=this.yieldPos,a=this.awaitPos,o=this.awaitIdentPos;return this.enterScope(Ff(r,!1)|Df),this.initFunction(i),this.options.ecmaVersion&amp;gt;=8&amp;amp;&amp;amp;(i.async=!!r),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,i.params=this.toAssignableList(t,!0),this.parseFunctionBody(i,!0,!1,n),this.yieldPos=s,this.awaitPos=a,this.awaitIdentPos=o,this.finishNode(i,&amp;quot;ArrowFunctionExpression&amp;quot;)};Oe.parseFunctionBody=function(i,t,r,n){var s=t&amp;amp;&amp;amp;this.type!==R.braceL,a=this.strict,o=!1;if(s)i.body=this.parseMaybeAssign(n),i.expression=!0,this.checkParams(i,!1);else{var u=this.options.ecmaVersion&amp;gt;=7&amp;amp;&amp;amp;!this.isSimpleParamList(i.params);(!a||u)&amp;amp;&amp;amp;(o=this.strictDirective(this.end),o&amp;amp;&amp;amp;u&amp;amp;&amp;amp;this.raiseRecoverable(i.start,&amp;quot;Illegal &amp;#39;use strict&amp;#39; directive in function with non-simple parameter list&amp;quot;));var h=this.labels;this.labels=[],o&amp;amp;&amp;amp;(this.strict=!0),this.checkParams(i,!a&amp;amp;&amp;amp;!o&amp;amp;&amp;amp;!t&amp;amp;&amp;amp;!r&amp;amp;&amp;amp;this.isSimpleParamList(i.params)),this.strict&amp;amp;&amp;amp;i.id&amp;amp;&amp;amp;this.checkLValSimple(i.id,J0),i.body=this.parseBlock(!1,void 0,o&amp;amp;&amp;amp;!a),i.expression=!1,this.adaptDirectivePrologue(i.body.body),this.labels=h}this.exitScope()};Oe.isSimpleParamList=function(i){for(var t=0,r=i;t&amp;lt;r.length;t+=1){var n=r[t];if(n.type!==&amp;quot;Identifier&amp;quot;)return!1}return!0};Oe.checkParams=function(i,t){for(var r=Object.create(null),n=0,s=i.params;n&amp;lt;s.length;n+=1){var a=s[n];this.checkLValInnerPattern(a,Tf,t?null:r)}};Oe.parseExprList=function(i,t,r,n){for(var s=[],a=!0;!this.eat(i);){if(a)a=!1;else if(this.expect(R.comma),t&amp;amp;&amp;amp;this.afterTrailingComma(i))break;var o=void 0;r&amp;amp;&amp;amp;this.type===R.comma?o=null:this.type===R.ellipsis?(o=this.parseSpread(n),n&amp;amp;&amp;amp;this.type===R.comma&amp;amp;&amp;amp;n.trailingComma&amp;lt;0&amp;amp;&amp;amp;(n.trailingComma=this.start)):o=this.parseMaybeAssign(!1,n),s.push(o)}return s};Oe.checkUnreserved=function(i){var t=i.start,r=i.end,n=i.name;if(this.inGenerator&amp;amp;&amp;amp;n===&amp;quot;yield&amp;quot;&amp;amp;&amp;amp;this.raiseRecoverable(t,&amp;quot;Cannot use &amp;#39;yield&amp;#39; as identifier inside a generator&amp;quot;),this.inAsync&amp;amp;&amp;amp;n===&amp;quot;await&amp;quot;&amp;amp;&amp;amp;this.raiseRecoverable(t,&amp;quot;Cannot use &amp;#39;await&amp;#39; as identifier inside an async function&amp;quot;),!(this.currentThisScope().flags&amp;amp;Nl)&amp;amp;&amp;amp;n===&amp;quot;arguments&amp;quot;&amp;amp;&amp;amp;this.raiseRecoverable(t,&amp;quot;Cannot use &amp;#39;arguments&amp;#39; in class field initializer&amp;quot;),this.inClassStaticBlock&amp;amp;&amp;amp;(n===&amp;quot;arguments&amp;quot;||n===&amp;quot;await&amp;quot;)&amp;amp;&amp;amp;this.raise(t,&amp;quot;Cannot use &amp;quot;+n+&amp;quot; in class static initialization block&amp;quot;),this.keywords.test(n)&amp;amp;&amp;amp;this.raise(t,&amp;quot;Unexpected keyword &amp;#39;&amp;quot;+n+&amp;quot;&amp;#39;&amp;quot;),!(this.options.ecmaVersion&amp;lt;6&amp;amp;&amp;amp;this.input.slice(t,r).indexOf(&amp;quot;\\&amp;quot;)!==-1)){var s=this.strict?this.reservedWordsStrict:this.reservedWords;s.test(n)&amp;amp;&amp;amp;(!this.inAsync&amp;amp;&amp;amp;n===&amp;quot;await&amp;quot;&amp;amp;&amp;amp;this.raiseRecoverable(t,&amp;quot;Cannot use keyword &amp;#39;await&amp;#39; outside an async function&amp;quot;),this.raiseRecoverable(t,&amp;quot;The keyword &amp;#39;&amp;quot;+n+&amp;quot;&amp;#39; is reserved&amp;quot;))}};Oe.parseIdent=function(i){var t=this.parseIdentNode();return this.next(!!i),this.finishNode(t,&amp;quot;Identifier&amp;quot;),i||(this.checkUnreserved(t),t.name===&amp;quot;await&amp;quot;&amp;amp;&amp;amp;!this.awaitIdentPos&amp;amp;&amp;amp;(this.awaitIdentPos=t.start)),t};Oe.parseIdentNode=function(){var i=this.startNode();return this.type===R.name?i.name=this.value:this.type.keyword?(i.name=this.type.keyword,(i.name===&amp;quot;class&amp;quot;||i.name===&amp;quot;function&amp;quot;)&amp;amp;&amp;amp;(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&amp;amp;&amp;amp;this.context.pop(),this.type=R.name):this.unexpected(),i};Oe.parsePrivateIdent=function(){var i=this.startNode();return this.type===R.privateId?i.name=this.value:this.unexpected(),this.next(),this.finishNode(i,&amp;quot;PrivateIdentifier&amp;quot;),this.options.checkPrivateFields&amp;amp;&amp;amp;(this.privateNameStack.length===0?this.raise(i.start,&amp;quot;Private field &amp;#39;#&amp;quot;+i.name+&amp;quot;&amp;#39; must be declared in an enclosing class&amp;quot;):this.privateNameStack[this.privateNameStack.length-1].used.push(i)),i};Oe.parseYield=function(i){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type===R.semi||this.canInsertSemicolon()||this.type!==R.star&amp;amp;&amp;amp;!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(R.star),t.argument=this.parseMaybeAssign(i)),this.finishNode(t,&amp;quot;YieldExpression&amp;quot;)};Oe.parseAwait=function(i){this.awaitPos||(this.awaitPos=this.start);var t=this.startNode();return this.next(),t.argument=this.parseMaybeUnary(null,!0,!1,i),this.finishNode(t,&amp;quot;AwaitExpression&amp;quot;)};var Al=Dt.prototype;Al.raise=function(i,t){var r=W0(this.input,i);t+=&amp;quot; (&amp;quot;+r.line+&amp;quot;:&amp;quot;+r.column+&amp;quot;)&amp;quot;,this.sourceFile&amp;amp;&amp;amp;(t+=&amp;quot; in &amp;quot;+this.sourceFile);var n=new SyntaxError(t);throw n.pos=i,n.loc=r,n.raisedAt=this.pos,n};Al.raiseRecoverable=Al.raise;Al.curPosition=function(){if(this.options.locations)return new wo(this.curLine,this.pos-this.lineStart)};var tn=Dt.prototype,p2=function(t){this.flags=t,this.var=[],this.lexical=[],this.functions=[]};tn.enterScope=function(i){this.scopeStack.push(new p2(i))};tn.exitScope=function(){this.scopeStack.pop()};tn.treatFunctionsAsVarInScope=function(i){return i.flags&amp;amp;Zs||!this.inModule&amp;amp;&amp;amp;i.flags&amp;amp;Co};tn.declareName=function(i,t,r){var n=!1;if(t===Ti){var s=this.currentScope();n=s.lexical.indexOf(i)&amp;gt;-1||s.functions.indexOf(i)&amp;gt;-1||s.var.indexOf(i)&amp;gt;-1,s.lexical.push(i),this.inModule&amp;amp;&amp;amp;s.flags&amp;amp;Co&amp;amp;&amp;amp;delete this.undefinedExports[i]}else if(t===K0){var a=this.currentScope();a.lexical.push(i)}else if(t===X0){var o=this.currentScope();this.treatFunctionsAsVar?n=o.lexical.indexOf(i)&amp;gt;-1:n=o.lexical.indexOf(i)&amp;gt;-1||o.var.indexOf(i)&amp;gt;-1,o.functions.push(i)}else for(var u=this.scopeStack.length-1;u&amp;gt;=0;--u){var h=this.scopeStack[u];if(h.lexical.indexOf(i)&amp;gt;-1&amp;amp;&amp;amp;!(h.flags&amp;amp;Z0&amp;amp;&amp;amp;h.lexical[0]===i)||!this.treatFunctionsAsVarInScope(h)&amp;amp;&amp;amp;h.functions.indexOf(i)&amp;gt;-1){n=!0;break}if(h.var.push(i),this.inModule&amp;amp;&amp;amp;h.flags&amp;amp;Co&amp;amp;&amp;amp;delete this.undefinedExports[i],h.flags&amp;amp;Nl)break}n&amp;amp;&amp;amp;this.raiseRecoverable(r,&amp;quot;Identifier &amp;#39;&amp;quot;+i+&amp;quot;&amp;#39; has already been declared&amp;quot;)};tn.checkLocalExport=function(i){this.scopeStack[0].lexical.indexOf(i.name)===-1&amp;amp;&amp;amp;this.scopeStack[0].var.indexOf(i.name)===-1&amp;amp;&amp;amp;(this.undefinedExports[i.name]=i)};tn.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};tn.currentVarScope=function(){for(var i=this.scopeStack.length-1;;i--){var t=this.scopeStack[i];if(t.flags&amp;amp;(Nl|Eo|Vn))return t}};tn.currentThisScope=function(){for(var i=this.scopeStack.length-1;;i--){var t=this.scopeStack[i];if(t.flags&amp;amp;(Nl|Eo|Vn)&amp;amp;&amp;amp;!(t.flags&amp;amp;Df))return t}};var kl=function(t,r,n){this.type=&amp;quot;&amp;quot;,this.start=r,this.end=0,t.options.locations&amp;amp;&amp;amp;(this.loc=new Fl(t,n)),t.options.directSourceFile&amp;amp;&amp;amp;(this.sourceFile=t.options.directSourceFile),t.options.ranges&amp;amp;&amp;amp;(this.range=[r,0])},So=Dt.prototype;So.startNode=function(){return new kl(this,this.start,this.startLoc)};So.startNodeAt=function(i,t){return new kl(this,i,t)};function tg(i,t,r,n){return i.type=t,i.end=r,this.options.locations&amp;amp;&amp;amp;(i.loc.end=n),this.options.ranges&amp;amp;&amp;amp;(i.range[1]=r),i}So.finishNode=function(i,t){return tg.call(this,i,t,this.lastTokEnd,this.lastTokEndLoc)};So.finishNodeAt=function(i,t,r,n){return tg.call(this,i,t,r,n)};So.copyNode=function(i){var t=new kl(this,i.start,this.startLoc);for(var r in i)t[r]=i[r];return t};var d2=&amp;quot;Gara Garay Gukh Gurung_Khema Hrkt Katakana_Or_Hiragana Kawi Kirat_Rai Krai Nag_Mundari Nagm Ol_Onal Onao Sunu Sunuwar Todhri Todr Tulu_Tigalari Tutg Unknown Zzzz&amp;quot;,rg=&amp;quot;ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS&amp;quot;,ig=rg+&amp;quot; Extended_Pictographic&amp;quot;,ng=ig,sg=ng+&amp;quot; EBase EComp EMod EPres ExtPict&amp;quot;,ag=sg,m2=ag,g2={9:rg,10:ig,11:ng,12:sg,13:ag,14:m2},y2=&amp;quot;Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji&amp;quot;,v2={9:&amp;quot;&amp;quot;,10:&amp;quot;&amp;quot;,11:&amp;quot;&amp;quot;,12:&amp;quot;&amp;quot;,13:&amp;quot;&amp;quot;,14:y2},V0=&amp;quot;Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu&amp;quot;,og=&amp;quot;Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb&amp;quot;,ug=og+&amp;quot; Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd&amp;quot;,lg=ug+&amp;quot; Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho&amp;quot;,hg=lg+&amp;quot; Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi&amp;quot;,cg=hg+&amp;quot; Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith&amp;quot;,x2=cg+&amp;quot; &amp;quot;+d2,b2={9:og,10:ug,11:lg,12:hg,13:cg,14:x2},fg={};function _2(i){var t=fg[i]={binary:Qi(g2[i]+&amp;quot; &amp;quot;+V0),binaryOfStrings:Qi(v2[i]),nonBinary:{General_Category:Qi(V0),Script:Qi(b2[i])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}for(Cl=0,bf=[9,10,11,12,13,14];Cl&amp;lt;bf.length;Cl+=1)U0=bf[Cl],_2(U0);var U0,Cl,bf,Ae=Dt.prototype,Dl=function(t,r){this.parent=t,this.base=r||this};Dl.prototype.separatedFrom=function(t){for(var r=this;r;r=r.parent)for(var n=t;n;n=n.parent)if(r.base===n.base&amp;amp;&amp;amp;r!==n)return!0;return!1};Dl.prototype.sibling=function(){return new Dl(this.parent,this.base)};var ai=function(t){this.parser=t,this.validFlags=&amp;quot;gim&amp;quot;+(t.options.ecmaVersion&amp;gt;=6?&amp;quot;uy&amp;quot;:&amp;quot;&amp;quot;)+(t.options.ecmaVersion&amp;gt;=9?&amp;quot;s&amp;quot;:&amp;quot;&amp;quot;)+(t.options.ecmaVersion&amp;gt;=13?&amp;quot;d&amp;quot;:&amp;quot;&amp;quot;)+(t.options.ecmaVersion&amp;gt;=15?&amp;quot;v&amp;quot;:&amp;quot;&amp;quot;),this.unicodeProperties=fg[t.options.ecmaVersion&amp;gt;=14?14:t.options.ecmaVersion],this.source=&amp;quot;&amp;quot;,this.flags=&amp;quot;&amp;quot;,this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue=&amp;quot;&amp;quot;,this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null};ai.prototype.reset=function(t,r,n){var s=n.indexOf(&amp;quot;v&amp;quot;)!==-1,a=n.indexOf(&amp;quot;u&amp;quot;)!==-1;this.start=t|0,this.source=r+&amp;quot;&amp;quot;,this.flags=n,s&amp;amp;&amp;amp;this.parser.options.ecmaVersion&amp;gt;=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=a&amp;amp;&amp;amp;this.parser.options.ecmaVersion&amp;gt;=6,this.switchV=!1,this.switchN=a&amp;amp;&amp;amp;this.parser.options.ecmaVersion&amp;gt;=9)};ai.prototype.raise=function(t){this.parser.raiseRecoverable(this.start,&amp;quot;Invalid regular expression: /&amp;quot;+this.source+&amp;quot;/: &amp;quot;+t)};ai.prototype.at=function(t,r){r===void 0&amp;amp;&amp;amp;(r=!1);var n=this.source,s=n.length;if(t&amp;gt;=s)return-1;var a=n.charCodeAt(t);if(!(r||this.switchU)||a&amp;lt;=55295||a&amp;gt;=57344||t+1&amp;gt;=s)return a;var o=n.charCodeAt(t+1);return o&amp;gt;=56320&amp;amp;&amp;amp;o&amp;lt;=57343?(a&amp;lt;&amp;lt;10)+o-56613888:a};ai.prototype.nextIndex=function(t,r){r===void 0&amp;amp;&amp;amp;(r=!1);var n=this.source,s=n.length;if(t&amp;gt;=s)return s;var a=n.charCodeAt(t),o;return!(r||this.switchU)||a&amp;lt;=55295||a&amp;gt;=57344||t+1&amp;gt;=s||(o=n.charCodeAt(t+1))&amp;lt;56320||o&amp;gt;57343?t+1:t+2};ai.prototype.current=function(t){return t===void 0&amp;amp;&amp;amp;(t=!1),this.at(this.pos,t)};ai.prototype.lookahead=function(t){return t===void 0&amp;amp;&amp;amp;(t=!1),this.at(this.nextIndex(this.pos,t),t)};ai.prototype.advance=function(t){t===void 0&amp;amp;&amp;amp;(t=!1),this.pos=this.nextIndex(this.pos,t)};ai.prototype.eat=function(t,r){return r===void 0&amp;amp;&amp;amp;(r=!1),this.current(r)===t?(this.advance(r),!0):!1};ai.prototype.eatChars=function(t,r){r===void 0&amp;amp;&amp;amp;(r=!1);for(var n=this.pos,s=0,a=t;s&amp;lt;a.length;s+=1){var o=a[s],u=this.at(n,r);if(u===-1||u!==o)return!1;n=this.nextIndex(n,r)}return this.pos=n,!0};Ae.validateRegExpFlags=function(i){for(var t=i.validFlags,r=i.flags,n=!1,s=!1,a=0;a&amp;lt;r.length;a++){var o=r.charAt(a);t.indexOf(o)===-1&amp;amp;&amp;amp;this.raise(i.start,&amp;quot;Invalid regular expression flag&amp;quot;),r.indexOf(o,a+1)&amp;gt;-1&amp;amp;&amp;amp;this.raise(i.start,&amp;quot;Duplicate regular expression flag&amp;quot;),o===&amp;quot;u&amp;quot;&amp;amp;&amp;amp;(n=!0),o===&amp;quot;v&amp;quot;&amp;amp;&amp;amp;(s=!0)}this.options.ecmaVersion&amp;gt;=15&amp;amp;&amp;amp;n&amp;amp;&amp;amp;s&amp;amp;&amp;amp;this.raise(i.start,&amp;quot;Invalid regular expression flag&amp;quot;)};function w2(i){for(var t in i)return!0;return!1}Ae.validateRegExpPattern=function(i){this.regexp_pattern(i),!i.switchN&amp;amp;&amp;amp;this.options.ecmaVersion&amp;gt;=9&amp;amp;&amp;amp;w2(i.groupNames)&amp;amp;&amp;amp;(i.switchN=!0,this.regexp_pattern(i))};Ae.regexp_pattern=function(i){i.pos=0,i.lastIntValue=0,i.lastStringValue=&amp;quot;&amp;quot;,i.lastAssertionIsQuantifiable=!1,i.numCapturingParens=0,i.maxBackReference=0,i.groupNames=Object.create(null),i.backReferenceNames.length=0,i.branchID=null,this.regexp_disjunction(i),i.pos!==i.source.length&amp;amp;&amp;amp;(i.eat(41)&amp;amp;&amp;amp;i.raise(&amp;quot;Unmatched &amp;#39;)&amp;#39;&amp;quot;),(i.eat(93)||i.eat(125))&amp;amp;&amp;amp;i.raise(&amp;quot;Lone quantifier brackets&amp;quot;)),i.maxBackReference&amp;gt;i.numCapturingParens&amp;amp;&amp;amp;i.raise(&amp;quot;Invalid escape&amp;quot;);for(var t=0,r=i.backReferenceNames;t&amp;lt;r.length;t+=1){var n=r[t];i.groupNames[n]||i.raise(&amp;quot;Invalid named capture referenced&amp;quot;)}};Ae.regexp_disjunction=function(i){var t=this.options.ecmaVersion&amp;gt;=16;for(t&amp;amp;&amp;amp;(i.branchID=new Dl(i.branchID,null)),this.regexp_alternative(i);i.eat(124);)t&amp;amp;&amp;amp;(i.branchID=i.branchID.sibling()),this.regexp_alternative(i);t&amp;amp;&amp;amp;(i.branchID=i.branchID.parent),this.regexp_eatQuantifier(i,!0)&amp;amp;&amp;amp;i.raise(&amp;quot;Nothing to repeat&amp;quot;),i.eat(123)&amp;amp;&amp;amp;i.raise(&amp;quot;Lone quantifier brackets&amp;quot;)};Ae.regexp_alternative=function(i){for(;i.pos&amp;lt;i.source.length&amp;amp;&amp;amp;this.regexp_eatTerm(i););};Ae.regexp_eatTerm=function(i){return this.regexp_eatAssertion(i)?(i.lastAssertionIsQuantifiable&amp;amp;&amp;amp;this.regexp_eatQuantifier(i)&amp;amp;&amp;amp;i.switchU&amp;amp;&amp;amp;i.raise(&amp;quot;Invalid quantifier&amp;quot;),!0):(i.switchU?this.regexp_eatAtom(i):this.regexp_eatExtendedAtom(i))?(this.regexp_eatQuantifier(i),!0):!1};Ae.regexp_eatAssertion=function(i){var t=i.pos;if(i.lastAssertionIsQuantifiable=!1,i.eat(94)||i.eat(36))return!0;if(i.eat(92)){if(i.eat(66)||i.eat(98))return!0;i.pos=t}if(i.eat(40)&amp;amp;&amp;amp;i.eat(63)){var r=!1;if(this.options.ecmaVersion&amp;gt;=9&amp;amp;&amp;amp;(r=i.eat(60)),i.eat(61)||i.eat(33))return this.regexp_disjunction(i),i.eat(41)||i.raise(&amp;quot;Unterminated group&amp;quot;),i.lastAssertionIsQuantifiable=!r,!0}return i.pos=t,!1};Ae.regexp_eatQuantifier=function(i,t){return t===void 0&amp;amp;&amp;amp;(t=!1),this.regexp_eatQuantifierPrefix(i,t)?(i.eat(63),!0):!1};Ae.regexp_eatQuantifierPrefix=function(i,t){return i.eat(42)||i.eat(43)||i.eat(63)||this.regexp_eatBracedQuantifier(i,t)};Ae.regexp_eatBracedQuantifier=function(i,t){var r=i.pos;if(i.eat(123)){var n=0,s=-1;if(this.regexp_eatDecimalDigits(i)&amp;amp;&amp;amp;(n=i.lastIntValue,i.eat(44)&amp;amp;&amp;amp;this.regexp_eatDecimalDigits(i)&amp;amp;&amp;amp;(s=i.lastIntValue),i.eat(125)))return s!==-1&amp;amp;&amp;amp;s&amp;lt;n&amp;amp;&amp;amp;!t&amp;amp;&amp;amp;i.raise(&amp;quot;numbers out of order in {} quantifier&amp;quot;),!0;i.switchU&amp;amp;&amp;amp;!t&amp;amp;&amp;amp;i.raise(&amp;quot;Incomplete quantifier&amp;quot;),i.pos=r}return!1};Ae.regexp_eatAtom=function(i){return this.regexp_eatPatternCharacters(i)||i.eat(46)||this.regexp_eatReverseSolidusAtomEscape(i)||this.regexp_eatCharacterClass(i)||this.regexp_eatUncapturingGroup(i)||this.regexp_eatCapturingGroup(i)};Ae.regexp_eatReverseSolidusAtomEscape=function(i){var t=i.pos;if(i.eat(92)){if(this.regexp_eatAtomEscape(i))return!0;i.pos=t}return!1};Ae.regexp_eatUncapturingGroup=function(i){var t=i.pos;if(i.eat(40)){if(i.eat(63)){if(this.options.ecmaVersion&amp;gt;=16){var r=this.regexp_eatModifiers(i),n=i.eat(45);if(r||n){for(var s=0;s&amp;lt;r.length;s++){var a=r.charAt(s);r.indexOf(a,s+1)&amp;gt;-1&amp;amp;&amp;amp;i.raise(&amp;quot;Duplicate regular expression modifiers&amp;quot;)}if(n){var o=this.regexp_eatModifiers(i);!r&amp;amp;&amp;amp;!o&amp;amp;&amp;amp;i.current()===58&amp;amp;&amp;amp;i.raise(&amp;quot;Invalid regular expression modifiers&amp;quot;);for(var u=0;u&amp;lt;o.length;u++){var h=o.charAt(u);(o.indexOf(h,u+1)&amp;gt;-1||r.indexOf(h)&amp;gt;-1)&amp;amp;&amp;amp;i.raise(&amp;quot;Duplicate regular expression modifiers&amp;quot;)}}}}if(i.eat(58)){if(this.regexp_disjunction(i),i.eat(41))return!0;i.raise(&amp;quot;Unterminated group&amp;quot;)}}i.pos=t}return!1};Ae.regexp_eatCapturingGroup=function(i){if(i.eat(40)){if(this.options.ecmaVersion&amp;gt;=9?this.regexp_groupSpecifier(i):i.current()===63&amp;amp;&amp;amp;i.raise(&amp;quot;Invalid group&amp;quot;),this.regexp_disjunction(i),i.eat(41))return i.numCapturingParens+=1,!0;i.raise(&amp;quot;Unterminated group&amp;quot;)}return!1};Ae.regexp_eatModifiers=function(i){for(var t=&amp;quot;&amp;quot;,r=0;(r=i.current())!==-1&amp;amp;&amp;amp;C2(r);)t+=Di(r),i.advance();return t};function C2(i){return i===105||i===109||i===115}Ae.regexp_eatExtendedAtom=function(i){return i.eat(46)||this.regexp_eatReverseSolidusAtomEscape(i)||this.regexp_eatCharacterClass(i)||this.regexp_eatUncapturingGroup(i)||this.regexp_eatCapturingGroup(i)||this.regexp_eatInvalidBracedQuantifier(i)||this.regexp_eatExtendedPatternCharacter(i)};Ae.regexp_eatInvalidBracedQuantifier=function(i){return this.regexp_eatBracedQuantifier(i,!0)&amp;amp;&amp;amp;i.raise(&amp;quot;Nothing to repeat&amp;quot;),!1};Ae.regexp_eatSyntaxCharacter=function(i){var t=i.current();return pg(t)?(i.lastIntValue=t,i.advance(),!0):!1};function pg(i){return i===36||i&amp;gt;=40&amp;amp;&amp;amp;i&amp;lt;=43||i===46||i===63||i&amp;gt;=91&amp;amp;&amp;amp;i&amp;lt;=94||i&amp;gt;=123&amp;amp;&amp;amp;i&amp;lt;=125}Ae.regexp_eatPatternCharacters=function(i){for(var t=i.pos,r=0;(r=i.current())!==-1&amp;amp;&amp;amp;!pg(r);)i.advance();return i.pos!==t};Ae.regexp_eatExtendedPatternCharacter=function(i){var t=i.current();return t!==-1&amp;amp;&amp;amp;t!==36&amp;amp;&amp;amp;!(t&amp;gt;=40&amp;amp;&amp;amp;t&amp;lt;=43)&amp;amp;&amp;amp;t!==46&amp;amp;&amp;amp;t!==63&amp;amp;&amp;amp;t!==91&amp;amp;&amp;amp;t!==94&amp;amp;&amp;amp;t!==124?(i.advance(),!0):!1};Ae.regexp_groupSpecifier=function(i){if(i.eat(63)){this.regexp_eatGroupName(i)||i.raise(&amp;quot;Invalid group&amp;quot;);var t=this.options.ecmaVersion&amp;gt;=16,r=i.groupNames[i.lastStringValue];if(r)if(t)for(var n=0,s=r;n&amp;lt;s.length;n+=1){var a=s[n];a.separatedFrom(i.branchID)||i.raise(&amp;quot;Duplicate capture group name&amp;quot;)}else i.raise(&amp;quot;Duplicate capture group name&amp;quot;);t?(r||(i.groupNames[i.lastStringValue]=[])).push(i.branchID):i.groupNames[i.lastStringValue]=!0}};Ae.regexp_eatGroupName=function(i){if(i.lastStringValue=&amp;quot;&amp;quot;,i.eat(60)){if(this.regexp_eatRegExpIdentifierName(i)&amp;amp;&amp;amp;i.eat(62))return!0;i.raise(&amp;quot;Invalid capture group name&amp;quot;)}return!1};Ae.regexp_eatRegExpIdentifierName=function(i){if(i.lastStringValue=&amp;quot;&amp;quot;,this.regexp_eatRegExpIdentifierStart(i)){for(i.lastStringValue+=Di(i.lastIntValue);this.regexp_eatRegExpIdentifierPart(i);)i.lastStringValue+=Di(i.lastIntValue);return!0}return!1};Ae.regexp_eatRegExpIdentifierStart=function(i){var t=i.pos,r=this.options.ecmaVersion&amp;gt;=11,n=i.current(r);return i.advance(r),n===92&amp;amp;&amp;amp;this.regexp_eatRegExpUnicodeEscapeSequence(i,r)&amp;amp;&amp;amp;(n=i.lastIntValue),E2(n)?(i.lastIntValue=n,!0):(i.pos=t,!1)};function E2(i){return ni(i,!0)||i===36||i===95}Ae.regexp_eatRegExpIdentifierPart=function(i){var t=i.pos,r=this.options.ecmaVersion&amp;gt;=11,n=i.current(r);return i.advance(r),n===92&amp;amp;&amp;amp;this.regexp_eatRegExpUnicodeEscapeSequence(i,r)&amp;amp;&amp;amp;(n=i.lastIntValue),S2(n)?(i.lastIntValue=n,!0):(i.pos=t,!1)};function S2(i){return en(i,!0)||i===36||i===95||i===8204||i===8205}Ae.regexp_eatAtomEscape=function(i){return this.regexp_eatBackReference(i)||this.regexp_eatCharacterClassEscape(i)||this.regexp_eatCharacterEscape(i)||i.switchN&amp;amp;&amp;amp;this.regexp_eatKGroupName(i)?!0:(i.switchU&amp;amp;&amp;amp;(i.current()===99&amp;amp;&amp;amp;i.raise(&amp;quot;Invalid unicode escape&amp;quot;),i.raise(&amp;quot;Invalid escape&amp;quot;)),!1)};Ae.regexp_eatBackReference=function(i){var t=i.pos;if(this.regexp_eatDecimalEscape(i)){var r=i.lastIntValue;if(i.switchU)return r&amp;gt;i.maxBackReference&amp;amp;&amp;amp;(i.maxBackReference=r),!0;if(r&amp;lt;=i.numCapturingParens)return!0;i.pos=t}return!1};Ae.regexp_eatKGroupName=function(i){if(i.eat(107)){if(this.regexp_eatGroupName(i))return i.backReferenceNames.push(i.lastStringValue),!0;i.raise(&amp;quot;Invalid named reference&amp;quot;)}return!1};Ae.regexp_eatCharacterEscape=function(i){return this.regexp_eatControlEscape(i)||this.regexp_eatCControlLetter(i)||this.regexp_eatZero(i)||this.regexp_eatHexEscapeSequence(i)||this.regexp_eatRegExpUnicodeEscapeSequence(i,!1)||!i.switchU&amp;amp;&amp;amp;this.regexp_eatLegacyOctalEscapeSequence(i)||this.regexp_eatIdentityEscape(i)};Ae.regexp_eatCControlLetter=function(i){var t=i.pos;if(i.eat(99)){if(this.regexp_eatControlLetter(i))return!0;i.pos=t}return!1};Ae.regexp_eatZero=function(i){return i.current()===48&amp;amp;&amp;amp;!Ml(i.lookahead())?(i.lastIntValue=0,i.advance(),!0):!1};Ae.regexp_eatControlEscape=function(i){var t=i.current();return t===116?(i.lastIntValue=9,i.advance(),!0):t===110?(i.lastIntValue=10,i.advance(),!0):t===118?(i.lastIntValue=11,i.advance(),!0):t===102?(i.lastIntValue=12,i.advance(),!0):t===114?(i.lastIntValue=13,i.advance(),!0):!1};Ae.regexp_eatControlLetter=function(i){var t=i.current();return dg(t)?(i.lastIntValue=t%32,i.advance(),!0):!1};function dg(i){return i&amp;gt;=65&amp;amp;&amp;amp;i&amp;lt;=90||i&amp;gt;=97&amp;amp;&amp;amp;i&amp;lt;=122}Ae.regexp_eatRegExpUnicodeEscapeSequence=function(i,t){t===void 0&amp;amp;&amp;amp;(t=!1);var r=i.pos,n=t||i.switchU;if(i.eat(117)){if(this.regexp_eatFixedHexDigits(i,4)){var s=i.lastIntValue;if(n&amp;amp;&amp;amp;s&amp;gt;=55296&amp;amp;&amp;amp;s&amp;lt;=56319){var a=i.pos;if(i.eat(92)&amp;amp;&amp;amp;i.eat(117)&amp;amp;&amp;amp;this.regexp_eatFixedHexDigits(i,4)){var o=i.lastIntValue;if(o&amp;gt;=56320&amp;amp;&amp;amp;o&amp;lt;=57343)return i.lastIntValue=(s-55296)*1024+(o-56320)+65536,!0}i.pos=a,i.lastIntValue=s}return!0}if(n&amp;amp;&amp;amp;i.eat(123)&amp;amp;&amp;amp;this.regexp_eatHexDigits(i)&amp;amp;&amp;amp;i.eat(125)&amp;amp;&amp;amp;A2(i.lastIntValue))return!0;n&amp;amp;&amp;amp;i.raise(&amp;quot;Invalid unicode escape&amp;quot;),i.pos=r}return!1};function A2(i){return i&amp;gt;=0&amp;amp;&amp;amp;i&amp;lt;=1114111}Ae.regexp_eatIdentityEscape=function(i){if(i.switchU)return this.regexp_eatSyntaxCharacter(i)?!0:i.eat(47)?(i.lastIntValue=47,!0):!1;var t=i.current();return t!==99&amp;amp;&amp;amp;(!i.switchN||t!==107)?(i.lastIntValue=t,i.advance(),!0):!1};Ae.regexp_eatDecimalEscape=function(i){i.lastIntValue=0;var t=i.current();if(t&amp;gt;=49&amp;amp;&amp;amp;t&amp;lt;=57){do i.lastIntValue=10*i.lastIntValue+(t-48),i.advance();while((t=i.current())&amp;gt;=48&amp;amp;&amp;amp;t&amp;lt;=57);return!0}return!1};var mg=0,Fi=1,Dr=2;Ae.regexp_eatCharacterClassEscape=function(i){var t=i.current();if(D2(t))return i.lastIntValue=-1,i.advance(),Fi;var r=!1;if(i.switchU&amp;amp;&amp;amp;this.options.ecmaVersion&amp;gt;=9&amp;amp;&amp;amp;((r=t===80)||t===112)){i.lastIntValue=-1,i.advance();var n;if(i.eat(123)&amp;amp;&amp;amp;(n=this.regexp_eatUnicodePropertyValueExpression(i))&amp;amp;&amp;amp;i.eat(125))return r&amp;amp;&amp;amp;n===Dr&amp;amp;&amp;amp;i.raise(&amp;quot;Invalid property name&amp;quot;),n;i.raise(&amp;quot;Invalid property name&amp;quot;)}return mg};function D2(i){return i===100||i===68||i===115||i===83||i===119||i===87}Ae.regexp_eatUnicodePropertyValueExpression=function(i){var t=i.pos;if(this.regexp_eatUnicodePropertyName(i)&amp;amp;&amp;amp;i.eat(61)){var r=i.lastStringValue;if(this.regexp_eatUnicodePropertyValue(i)){var n=i.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(i,r,n),Fi}}if(i.pos=t,this.regexp_eatLoneUnicodePropertyNameOrValue(i)){var s=i.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(i,s)}return mg};Ae.regexp_validateUnicodePropertyNameAndValue=function(i,t,r){qs(i.unicodeProperties.nonBinary,t)||i.raise(&amp;quot;Invalid property name&amp;quot;),i.unicodeProperties.nonBinary[t].test(r)||i.raise(&amp;quot;Invalid property value&amp;quot;)};Ae.regexp_validateUnicodePropertyNameOrValue=function(i,t){if(i.unicodeProperties.binary.test(t))return Fi;if(i.switchV&amp;amp;&amp;amp;i.unicodeProperties.binaryOfStrings.test(t))return Dr;i.raise(&amp;quot;Invalid property name&amp;quot;)};Ae.regexp_eatUnicodePropertyName=function(i){var t=0;for(i.lastStringValue=&amp;quot;&amp;quot;;gg(t=i.current());)i.lastStringValue+=Di(t),i.advance();return i.lastStringValue!==&amp;quot;&amp;quot;};function gg(i){return dg(i)||i===95}Ae.regexp_eatUnicodePropertyValue=function(i){var t=0;for(i.lastStringValue=&amp;quot;&amp;quot;;F2(t=i.current());)i.lastStringValue+=Di(t),i.advance();return i.lastStringValue!==&amp;quot;&amp;quot;};function F2(i){return gg(i)||Ml(i)}Ae.regexp_eatLoneUnicodePropertyNameOrValue=function(i){return this.regexp_eatUnicodePropertyValue(i)};Ae.regexp_eatCharacterClass=function(i){if(i.eat(91)){var t=i.eat(94),r=this.regexp_classContents(i);return i.eat(93)||i.raise(&amp;quot;Unterminated character class&amp;quot;),t&amp;amp;&amp;amp;r===Dr&amp;amp;&amp;amp;i.raise(&amp;quot;Negated character class may contain strings&amp;quot;),!0}return!1};Ae.regexp_classContents=function(i){return i.current()===93?Fi:i.switchV?this.regexp_classSetExpression(i):(this.regexp_nonEmptyClassRanges(i),Fi)};Ae.regexp_nonEmptyClassRanges=function(i){for(;this.regexp_eatClassAtom(i);){var t=i.lastIntValue;if(i.eat(45)&amp;amp;&amp;amp;this.regexp_eatClassAtom(i)){var r=i.lastIntValue;i.switchU&amp;amp;&amp;amp;(t===-1||r===-1)&amp;amp;&amp;amp;i.raise(&amp;quot;Invalid character class&amp;quot;),t!==-1&amp;amp;&amp;amp;r!==-1&amp;amp;&amp;amp;t&amp;gt;r&amp;amp;&amp;amp;i.raise(&amp;quot;Range out of order in character class&amp;quot;)}}};Ae.regexp_eatClassAtom=function(i){var t=i.pos;if(i.eat(92)){if(this.regexp_eatClassEscape(i))return!0;if(i.switchU){var r=i.current();(r===99||xg(r))&amp;amp;&amp;amp;i.raise(&amp;quot;Invalid class escape&amp;quot;),i.raise(&amp;quot;Invalid escape&amp;quot;)}i.pos=t}var n=i.current();return n!==93?(i.lastIntValue=n,i.advance(),!0):!1};Ae.regexp_eatClassEscape=function(i){var t=i.pos;if(i.eat(98))return i.lastIntValue=8,!0;if(i.switchU&amp;amp;&amp;amp;i.eat(45))return i.lastIntValue=45,!0;if(!i.switchU&amp;amp;&amp;amp;i.eat(99)){if(this.regexp_eatClassControlLetter(i))return!0;i.pos=t}return this.regexp_eatCharacterClassEscape(i)||this.regexp_eatCharacterEscape(i)};Ae.regexp_classSetExpression=function(i){var t=Fi,r;if(!this.regexp_eatClassSetRange(i))if(r=this.regexp_eatClassSetOperand(i)){r===Dr&amp;amp;&amp;amp;(t=Dr);for(var n=i.pos;i.eatChars([38,38]);){if(i.current()!==38&amp;amp;&amp;amp;(r=this.regexp_eatClassSetOperand(i))){r!==Dr&amp;amp;&amp;amp;(t=Fi);continue}i.raise(&amp;quot;Invalid character in character class&amp;quot;)}if(n!==i.pos)return t;for(;i.eatChars([45,45]);)this.regexp_eatClassSetOperand(i)||i.raise(&amp;quot;Invalid character in character class&amp;quot;);if(n!==i.pos)return t}else i.raise(&amp;quot;Invalid character in character class&amp;quot;);for(;;)if(!this.regexp_eatClassSetRange(i)){if(r=this.regexp_eatClassSetOperand(i),!r)return t;r===Dr&amp;amp;&amp;amp;(t=Dr)}};Ae.regexp_eatClassSetRange=function(i){var t=i.pos;if(this.regexp_eatClassSetCharacter(i)){var r=i.lastIntValue;if(i.eat(45)&amp;amp;&amp;amp;this.regexp_eatClassSetCharacter(i)){var n=i.lastIntValue;return r!==-1&amp;amp;&amp;amp;n!==-1&amp;amp;&amp;amp;r&amp;gt;n&amp;amp;&amp;amp;i.raise(&amp;quot;Range out of order in character class&amp;quot;),!0}i.pos=t}return!1};Ae.regexp_eatClassSetOperand=function(i){return this.regexp_eatClassSetCharacter(i)?Fi:this.regexp_eatClassStringDisjunction(i)||this.regexp_eatNestedClass(i)};Ae.regexp_eatNestedClass=function(i){var t=i.pos;if(i.eat(91)){var r=i.eat(94),n=this.regexp_classContents(i);if(i.eat(93))return r&amp;amp;&amp;amp;n===Dr&amp;amp;&amp;amp;i.raise(&amp;quot;Negated character class may contain strings&amp;quot;),n;i.pos=t}if(i.eat(92)){var s=this.regexp_eatCharacterClassEscape(i);if(s)return s;i.pos=t}return null};Ae.regexp_eatClassStringDisjunction=function(i){var t=i.pos;if(i.eatChars([92,113])){if(i.eat(123)){var r=this.regexp_classStringDisjunctionContents(i);if(i.eat(125))return r}else i.raise(&amp;quot;Invalid escape&amp;quot;);i.pos=t}return null};Ae.regexp_classStringDisjunctionContents=function(i){for(var t=this.regexp_classString(i);i.eat(124);)this.regexp_classString(i)===Dr&amp;amp;&amp;amp;(t=Dr);return t};Ae.regexp_classString=function(i){for(var t=0;this.regexp_eatClassSetCharacter(i);)t++;return t===1?Fi:Dr};Ae.regexp_eatClassSetCharacter=function(i){var t=i.pos;if(i.eat(92))return this.regexp_eatCharacterEscape(i)||this.regexp_eatClassSetReservedPunctuator(i)?!0:i.eat(98)?(i.lastIntValue=8,!0):(i.pos=t,!1);var r=i.current();return r&amp;lt;0||r===i.lookahead()&amp;amp;&amp;amp;T2(r)||N2(r)?!1:(i.advance(),i.lastIntValue=r,!0)};function T2(i){return i===33||i&amp;gt;=35&amp;amp;&amp;amp;i&amp;lt;=38||i&amp;gt;=42&amp;amp;&amp;amp;i&amp;lt;=44||i===46||i&amp;gt;=58&amp;amp;&amp;amp;i&amp;lt;=64||i===94||i===96||i===126}function N2(i){return i===40||i===41||i===45||i===47||i&amp;gt;=91&amp;amp;&amp;amp;i&amp;lt;=93||i&amp;gt;=123&amp;amp;&amp;amp;i&amp;lt;=125}Ae.regexp_eatClassSetReservedPunctuator=function(i){var t=i.current();return I2(t)?(i.lastIntValue=t,i.advance(),!0):!1};function I2(i){return i===33||i===35||i===37||i===38||i===44||i===45||i&amp;gt;=58&amp;amp;&amp;amp;i&amp;lt;=62||i===64||i===96||i===126}Ae.regexp_eatClassControlLetter=function(i){var t=i.current();return Ml(t)||t===95?(i.lastIntValue=t%32,i.advance(),!0):!1};Ae.regexp_eatHexEscapeSequence=function(i){var t=i.pos;if(i.eat(120)){if(this.regexp_eatFixedHexDigits(i,2))return!0;i.switchU&amp;amp;&amp;amp;i.raise(&amp;quot;Invalid escape&amp;quot;),i.pos=t}return!1};Ae.regexp_eatDecimalDigits=function(i){var t=i.pos,r=0;for(i.lastIntValue=0;Ml(r=i.current());)i.lastIntValue=10*i.lastIntValue+(r-48),i.advance();return i.pos!==t};function Ml(i){return i&amp;gt;=48&amp;amp;&amp;amp;i&amp;lt;=57}Ae.regexp_eatHexDigits=function(i){var t=i.pos,r=0;for(i.lastIntValue=0;yg(r=i.current());)i.lastIntValue=16*i.lastIntValue+vg(r),i.advance();return i.pos!==t};function yg(i){return i&amp;gt;=48&amp;amp;&amp;amp;i&amp;lt;=57||i&amp;gt;=65&amp;amp;&amp;amp;i&amp;lt;=70||i&amp;gt;=97&amp;amp;&amp;amp;i&amp;lt;=102}function vg(i){return i&amp;gt;=65&amp;amp;&amp;amp;i&amp;lt;=70?10+(i-65):i&amp;gt;=97&amp;amp;&amp;amp;i&amp;lt;=102?10+(i-97):i-48}Ae.regexp_eatLegacyOctalEscapeSequence=function(i){if(this.regexp_eatOctalDigit(i)){var t=i.lastIntValue;if(this.regexp_eatOctalDigit(i)){var r=i.lastIntValue;t&amp;lt;=3&amp;amp;&amp;amp;this.regexp_eatOctalDigit(i)?i.lastIntValue=t*64+r*8+i.lastIntValue:i.lastIntValue=t*8+r}else i.lastIntValue=t;return!0}return!1};Ae.regexp_eatOctalDigit=function(i){var t=i.current();return xg(t)?(i.lastIntValue=t-48,i.advance(),!0):(i.lastIntValue=0,!1)};function xg(i){return i&amp;gt;=48&amp;amp;&amp;amp;i&amp;lt;=55}Ae.regexp_eatFixedHexDigits=function(i,t){var r=i.pos;i.lastIntValue=0;for(var n=0;n&amp;lt;t;++n){var s=i.current();if(!yg(s))return i.pos=r,!1;i.lastIntValue=16*i.lastIntValue+vg(s),i.advance()}return!0};var If=function(t){this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,t.options.locations&amp;amp;&amp;amp;(this.loc=new Fl(t,t.startLoc,t.endLoc)),t.options.ranges&amp;amp;&amp;amp;(this.range=[t.start,t.end])},We=Dt.prototype;We.next=function(i){!i&amp;amp;&amp;amp;this.type.keyword&amp;amp;&amp;amp;this.containsEsc&amp;amp;&amp;amp;this.raiseRecoverable(this.start,&amp;quot;Escape sequence in keyword &amp;quot;+this.type.keyword),this.options.onToken&amp;amp;&amp;amp;this.options.onToken(new If(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};We.getToken=function(){return this.next(),new If(this)};typeof Symbol&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;(We[Symbol.iterator]=function(){var i=this;return{next:function(){var t=i.getToken();return{done:t.type===R.eof,value:t}}}});We.nextToken=function(){var i=this.curContext();if((!i||!i.preserveSpace)&amp;amp;&amp;amp;this.skipSpace(),this.start=this.pos,this.options.locations&amp;amp;&amp;amp;(this.startLoc=this.curPosition()),this.pos&amp;gt;=this.input.length)return this.finishToken(R.eof);if(i.override)return i.override(this);this.readToken(this.fullCharCodeAtPos())};We.readToken=function(i){return ni(i,this.options.ecmaVersion&amp;gt;=6)||i===92?this.readWord():this.getTokenFromCode(i)};We.fullCharCodeAtPos=function(){var i=this.input.charCodeAt(this.pos);if(i&amp;lt;=55295||i&amp;gt;=56320)return i;var t=this.input.charCodeAt(this.pos+1);return t&amp;lt;=56319||t&amp;gt;=57344?i:(i&amp;lt;&amp;lt;10)+t-56613888};We.skipBlockComment=function(){var i=this.options.onComment&amp;amp;&amp;amp;this.curPosition(),t=this.pos,r=this.input.indexOf(&amp;quot;*/&amp;quot;,this.pos+=2);if(r===-1&amp;amp;&amp;amp;this.raise(this.pos-2,&amp;quot;Unterminated comment&amp;quot;),this.pos=r+2,this.options.locations)for(var n=void 0,s=t;(n=j0(this.input,s,this.pos))&amp;gt;-1;)++this.curLine,s=this.lineStart=n;this.options.onComment&amp;amp;&amp;amp;this.options.onComment(!0,this.input.slice(t+2,r),t,this.pos,i,this.curPosition())};We.skipLineComment=function(i){for(var t=this.pos,r=this.options.onComment&amp;amp;&amp;amp;this.curPosition(),n=this.input.charCodeAt(this.pos+=i);this.pos&amp;lt;this.input.length&amp;amp;&amp;amp;!Ws(n);)n=this.input.charCodeAt(++this.pos);this.options.onComment&amp;amp;&amp;amp;this.options.onComment(!1,this.input.slice(t+i,this.pos),t,this.pos,r,this.curPosition())};We.skipSpace=function(){e:for(;this.pos&amp;lt;this.input.length;){var i=this.input.charCodeAt(this.pos);switch(i){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&amp;amp;&amp;amp;++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&amp;amp;&amp;amp;(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(i&amp;gt;8&amp;amp;&amp;amp;i&amp;lt;14||i&amp;gt;=5760&amp;amp;&amp;amp;$0.test(String.fromCharCode(i)))++this.pos;else break e}}};We.finishToken=function(i,t){this.end=this.pos,this.options.locations&amp;amp;&amp;amp;(this.endLoc=this.curPosition());var r=this.type;this.type=i,this.value=t,this.updateContext(r)};We.readToken_dot=function(){var i=this.input.charCodeAt(this.pos+1);if(i&amp;gt;=48&amp;amp;&amp;amp;i&amp;lt;=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion&amp;gt;=6&amp;amp;&amp;amp;i===46&amp;amp;&amp;amp;t===46?(this.pos+=3,this.finishToken(R.ellipsis)):(++this.pos,this.finishToken(R.dot))};We.readToken_slash=function(){var i=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):i===61?this.finishOp(R.assign,2):this.finishOp(R.slash,1)};We.readToken_mult_modulo_exp=function(i){var t=this.input.charCodeAt(this.pos+1),r=1,n=i===42?R.star:R.modulo;return this.options.ecmaVersion&amp;gt;=7&amp;amp;&amp;amp;i===42&amp;amp;&amp;amp;t===42&amp;amp;&amp;amp;(++r,n=R.starstar,t=this.input.charCodeAt(this.pos+2)),t===61?this.finishOp(R.assign,r+1):this.finishOp(n,r)};We.readToken_pipe_amp=function(i){var t=this.input.charCodeAt(this.pos+1);if(t===i){if(this.options.ecmaVersion&amp;gt;=12){var r=this.input.charCodeAt(this.pos+2);if(r===61)return this.finishOp(R.assign,3)}return this.finishOp(i===124?R.logicalOR:R.logicalAND,2)}return t===61?this.finishOp(R.assign,2):this.finishOp(i===124?R.bitwiseOR:R.bitwiseAND,1)};We.readToken_caret=function(){var i=this.input.charCodeAt(this.pos+1);return i===61?this.finishOp(R.assign,2):this.finishOp(R.bitwiseXOR,1)};We.readToken_plus_min=function(i){var t=this.input.charCodeAt(this.pos+1);return t===i?t===45&amp;amp;&amp;amp;!this.inModule&amp;amp;&amp;amp;this.input.charCodeAt(this.pos+2)===62&amp;amp;&amp;amp;(this.lastTokEnd===0||Qt.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(R.incDec,2):t===61?this.finishOp(R.assign,2):this.finishOp(R.plusMin,1)};We.readToken_lt_gt=function(i){var t=this.input.charCodeAt(this.pos+1),r=1;return t===i?(r=i===62&amp;amp;&amp;amp;this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+r)===61?this.finishOp(R.assign,r+1):this.finishOp(R.bitShift,r)):t===33&amp;amp;&amp;amp;i===60&amp;amp;&amp;amp;!this.inModule&amp;amp;&amp;amp;this.input.charCodeAt(this.pos+2)===45&amp;amp;&amp;amp;this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(t===61&amp;amp;&amp;amp;(r=2),this.finishOp(R.relational,r))};We.readToken_eq_excl=function(i){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(R.equality,this.input.charCodeAt(this.pos+2)===61?3:2):i===61&amp;amp;&amp;amp;t===62&amp;amp;&amp;amp;this.options.ecmaVersion&amp;gt;=6?(this.pos+=2,this.finishToken(R.arrow)):this.finishOp(i===61?R.eq:R.prefix,1)};We.readToken_question=function(){var i=this.options.ecmaVersion;if(i&amp;gt;=11){var t=this.input.charCodeAt(this.pos+1);if(t===46){var r=this.input.charCodeAt(this.pos+2);if(r&amp;lt;48||r&amp;gt;57)return this.finishOp(R.questionDot,2)}if(t===63){if(i&amp;gt;=12){var n=this.input.charCodeAt(this.pos+2);if(n===61)return this.finishOp(R.assign,3)}return this.finishOp(R.coalesce,2)}}return this.finishOp(R.question,1)};We.readToken_numberSign=function(){var i=this.options.ecmaVersion,t=35;if(i&amp;gt;=13&amp;amp;&amp;amp;(++this.pos,t=this.fullCharCodeAtPos(),ni(t,!0)||t===92))return this.finishToken(R.privateId,this.readWord1());this.raise(this.pos,&amp;quot;Unexpected character &amp;#39;&amp;quot;+Di(t)+&amp;quot;&amp;#39;&amp;quot;)};We.getTokenFromCode=function(i){switch(i){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(R.parenL);case 41:return++this.pos,this.finishToken(R.parenR);case 59:return++this.pos,this.finishToken(R.semi);case 44:return++this.pos,this.finishToken(R.comma);case 91:return++this.pos,this.finishToken(R.bracketL);case 93:return++this.pos,this.finishToken(R.bracketR);case 123:return++this.pos,this.finishToken(R.braceL);case 125:return++this.pos,this.finishToken(R.braceR);case 58:return++this.pos,this.finishToken(R.colon);case 96:if(this.options.ecmaVersion&amp;lt;6)break;return++this.pos,this.finishToken(R.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(t===120||t===88)return this.readRadixNumber(16);if(this.options.ecmaVersion&amp;gt;=6){if(t===111||t===79)return this.readRadixNumber(8);if(t===98||t===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(i);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(i);case 124:case 38:return this.readToken_pipe_amp(i);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(i);case 60:case 62:return this.readToken_lt_gt(i);case 61:case 33:return this.readToken_eq_excl(i);case 63:return this.readToken_question();case 126:return this.finishOp(R.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,&amp;quot;Unexpected character &amp;#39;&amp;quot;+Di(i)+&amp;quot;&amp;#39;&amp;quot;)};We.finishOp=function(i,t){var r=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(i,r)};We.readRegexp=function(){for(var i,t,r=this.pos;;){this.pos&amp;gt;=this.input.length&amp;amp;&amp;amp;this.raise(r,&amp;quot;Unterminated regular expression&amp;quot;);var n=this.input.charAt(this.pos);if(Qt.test(n)&amp;amp;&amp;amp;this.raise(r,&amp;quot;Unterminated regular expression&amp;quot;),i)i=!1;else{if(n===&amp;quot;[&amp;quot;)t=!0;else if(n===&amp;quot;]&amp;quot;&amp;amp;&amp;amp;t)t=!1;else if(n===&amp;quot;/&amp;quot;&amp;amp;&amp;amp;!t)break;i=n===&amp;quot;\\&amp;quot;}++this.pos}var s=this.input.slice(r,this.pos);++this.pos;var a=this.pos,o=this.readWord1();this.containsEsc&amp;amp;&amp;amp;this.unexpected(a);var u=this.regexpState||(this.regexpState=new ai(this));u.reset(r,s,o),this.validateRegExpFlags(u),this.validateRegExpPattern(u);var h=null;try{h=new RegExp(s,o)}catch{}return this.finishToken(R.regexp,{pattern:s,flags:o,value:h})};We.readInt=function(i,t,r){for(var n=this.options.ecmaVersion&amp;gt;=12&amp;amp;&amp;amp;t===void 0,s=r&amp;amp;&amp;amp;this.input.charCodeAt(this.pos)===48,a=this.pos,o=0,u=0,h=0,l=t??1/0;h&amp;lt;l;++h,++this.pos){var c=this.input.charCodeAt(this.pos),p=void 0;if(n&amp;amp;&amp;amp;c===95){s&amp;amp;&amp;amp;this.raiseRecoverable(this.pos,&amp;quot;Numeric separator is not allowed in legacy octal numeric literals&amp;quot;),u===95&amp;amp;&amp;amp;this.raiseRecoverable(this.pos,&amp;quot;Numeric separator must be exactly one underscore&amp;quot;),h===0&amp;amp;&amp;amp;this.raiseRecoverable(this.pos,&amp;quot;Numeric separator is not allowed at the first of digits&amp;quot;),u=c;continue}if(c&amp;gt;=97?p=c-97+10:c&amp;gt;=65?p=c-65+10:c&amp;gt;=48&amp;amp;&amp;amp;c&amp;lt;=57?p=c-48:p=1/0,p&amp;gt;=i)break;u=c,o=o*i+p}return n&amp;amp;&amp;amp;u===95&amp;amp;&amp;amp;this.raiseRecoverable(this.pos-1,&amp;quot;Numeric separator is not allowed at the last of digits&amp;quot;),this.pos===a||t!=null&amp;amp;&amp;amp;this.pos-a!==t?null:o};function k2(i,t){return t?parseInt(i,8):parseFloat(i.replace(/_/g,&amp;quot;&amp;quot;))}function bg(i){return typeof BigInt!=&amp;quot;function&amp;quot;?null:BigInt(i.replace(/_/g,&amp;quot;&amp;quot;))}We.readRadixNumber=function(i){var t=this.pos;this.pos+=2;var r=this.readInt(i);return r==null&amp;amp;&amp;amp;this.raise(this.start+2,&amp;quot;Expected number in radix &amp;quot;+i),this.options.ecmaVersion&amp;gt;=11&amp;amp;&amp;amp;this.input.charCodeAt(this.pos)===110?(r=bg(this.input.slice(t,this.pos)),++this.pos):ni(this.fullCharCodeAtPos())&amp;amp;&amp;amp;this.raise(this.pos,&amp;quot;Identifier directly after number&amp;quot;),this.finishToken(R.num,r)};We.readNumber=function(i){var t=this.pos;!i&amp;amp;&amp;amp;this.readInt(10,void 0,!0)===null&amp;amp;&amp;amp;this.raise(t,&amp;quot;Invalid number&amp;quot;);var r=this.pos-t&amp;gt;=2&amp;amp;&amp;amp;this.input.charCodeAt(t)===48;r&amp;amp;&amp;amp;this.strict&amp;amp;&amp;amp;this.raise(t,&amp;quot;Invalid number&amp;quot;);var n=this.input.charCodeAt(this.pos);if(!r&amp;amp;&amp;amp;!i&amp;amp;&amp;amp;this.options.ecmaVersion&amp;gt;=11&amp;amp;&amp;amp;n===110){var s=bg(this.input.slice(t,this.pos));return++this.pos,ni(this.fullCharCodeAtPos())&amp;amp;&amp;amp;this.raise(this.pos,&amp;quot;Identifier directly after number&amp;quot;),this.finishToken(R.num,s)}r&amp;amp;&amp;amp;/[89]/.test(this.input.slice(t,this.pos))&amp;amp;&amp;amp;(r=!1),n===46&amp;amp;&amp;amp;!r&amp;amp;&amp;amp;(++this.pos,this.readInt(10),n=this.input.charCodeAt(this.pos)),(n===69||n===101)&amp;amp;&amp;amp;!r&amp;amp;&amp;amp;(n=this.input.charCodeAt(++this.pos),(n===43||n===45)&amp;amp;&amp;amp;++this.pos,this.readInt(10)===null&amp;amp;&amp;amp;this.raise(t,&amp;quot;Invalid number&amp;quot;)),ni(this.fullCharCodeAtPos())&amp;amp;&amp;amp;this.raise(this.pos,&amp;quot;Identifier directly after number&amp;quot;);var a=k2(this.input.slice(t,this.pos),r);return this.finishToken(R.num,a)};We.readCodePoint=function(){var i=this.input.charCodeAt(this.pos),t;if(i===123){this.options.ecmaVersion&amp;lt;6&amp;amp;&amp;amp;this.unexpected();var r=++this.pos;t=this.readHexChar(this.input.indexOf(&amp;quot;}&amp;quot;,this.pos)-this.pos),++this.pos,t&amp;gt;1114111&amp;amp;&amp;amp;this.invalidStringToken(r,&amp;quot;Code point out of bounds&amp;quot;)}else t=this.readHexChar(4);return t};We.readString=function(i){for(var t=&amp;quot;&amp;quot;,r=++this.pos;;){this.pos&amp;gt;=this.input.length&amp;amp;&amp;amp;this.raise(this.start,&amp;quot;Unterminated string constant&amp;quot;);var n=this.input.charCodeAt(this.pos);if(n===i)break;n===92?(t+=this.input.slice(r,this.pos),t+=this.readEscapedChar(!1),r=this.pos):n===8232||n===8233?(this.options.ecmaVersion&amp;lt;10&amp;amp;&amp;amp;this.raise(this.start,&amp;quot;Unterminated string constant&amp;quot;),++this.pos,this.options.locations&amp;amp;&amp;amp;(this.curLine++,this.lineStart=this.pos)):(Ws(n)&amp;amp;&amp;amp;this.raise(this.start,&amp;quot;Unterminated string constant&amp;quot;),++this.pos)}return t+=this.input.slice(r,this.pos++),this.finishToken(R.string,t)};var _g={};We.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(i){if(i===_g)this.readInvalidTemplateToken();else throw i}this.inTemplateElement=!1};We.invalidStringToken=function(i,t){if(this.inTemplateElement&amp;amp;&amp;amp;this.options.ecmaVersion&amp;gt;=9)throw _g;this.raise(i,t)};We.readTmplToken=function(){for(var i=&amp;quot;&amp;quot;,t=this.pos;;){this.pos&amp;gt;=this.input.length&amp;amp;&amp;amp;this.raise(this.start,&amp;quot;Unterminated template&amp;quot;);var r=this.input.charCodeAt(this.pos);if(r===96||r===36&amp;amp;&amp;amp;this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&amp;amp;&amp;amp;(this.type===R.template||this.type===R.invalidTemplate)?r===36?(this.pos+=2,this.finishToken(R.dollarBraceL)):(++this.pos,this.finishToken(R.backQuote)):(i+=this.input.slice(t,this.pos),this.finishToken(R.template,i));if(r===92)i+=this.input.slice(t,this.pos),i+=this.readEscapedChar(!0),t=this.pos;else if(Ws(r)){switch(i+=this.input.slice(t,this.pos),++this.pos,r){case 13:this.input.charCodeAt(this.pos)===10&amp;amp;&amp;amp;++this.pos;case 10:i+=`
<a href="#l2319" class="line" id="l2319">   2319</a> &lt;a href=&quot;#l2300&quot; class=&quot;line&quot; id=&quot;l2300&quot;&gt;   2300&lt;/a&gt; `;break;default:i+=String.fromCharCode(r);break}this.options.locations&amp;amp;&amp;amp;(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}};We.readInvalidTemplateToken=function(){for(;this.pos&amp;lt;this.input.length;this.pos++)switch(this.input[this.pos]){case&amp;quot;\\&amp;quot;:++this.pos;break;case&amp;quot;$&amp;quot;:if(this.input[this.pos+1]!==&amp;quot;{&amp;quot;)break;case&amp;quot;`&amp;quot;:return this.finishToken(R.invalidTemplate,this.input.slice(this.start,this.pos));case&amp;quot;\r&amp;quot;:this.input[this.pos+1]===`
<a href="#l2320" class="line" id="l2320">   2320</a> &lt;a href=&quot;#l2301&quot; class=&quot;line&quot; id=&quot;l2301&quot;&gt;   2301&lt;/a&gt; `&amp;amp;&amp;amp;++this.pos;case`
<a href="#l2321" class="line" id="l2321">   2321</a> &lt;a href=&quot;#l2302&quot; class=&quot;line&quot; id=&quot;l2302&quot;&gt;   2302&lt;/a&gt; `:case&amp;quot;\u2028&amp;quot;:case&amp;quot;\u2029&amp;quot;:++this.curLine,this.lineStart=this.pos+1;break}this.raise(this.start,&amp;quot;Unterminated template&amp;quot;)};We.readEscapedChar=function(i){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return`
<a href="#l2322" class="line" id="l2322">   2322</a> &lt;a href=&quot;#l2303&quot; class=&quot;line&quot; id=&quot;l2303&quot;&gt;   2303&lt;/a&gt; `;case 114:return&amp;quot;\r&amp;quot;;case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Di(this.readCodePoint());case 116:return&amp;quot;	&amp;quot;;case 98:return&amp;quot;\b&amp;quot;;case 118:return&amp;quot;\v&amp;quot;;case 102:return&amp;quot;\f&amp;quot;;case 13:this.input.charCodeAt(this.pos)===10&amp;amp;&amp;amp;++this.pos;case 10:return this.options.locations&amp;amp;&amp;amp;(this.lineStart=this.pos,++this.curLine),&amp;quot;&amp;quot;;case 56:case 57:if(this.strict&amp;amp;&amp;amp;this.invalidStringToken(this.pos-1,&amp;quot;Invalid escape sequence&amp;quot;),i){var r=this.pos-1;this.invalidStringToken(r,&amp;quot;Invalid escape sequence in template string&amp;quot;)}default:if(t&amp;gt;=48&amp;amp;&amp;amp;t&amp;lt;=55){var n=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],s=parseInt(n,8);return s&amp;gt;255&amp;amp;&amp;amp;(n=n.slice(0,-1),s=parseInt(n,8)),this.pos+=n.length-1,t=this.input.charCodeAt(this.pos),(n!==&amp;quot;0&amp;quot;||t===56||t===57)&amp;amp;&amp;amp;(this.strict||i)&amp;amp;&amp;amp;this.invalidStringToken(this.pos-1-n.length,i?&amp;quot;Octal literal in template string&amp;quot;:&amp;quot;Octal literal in strict mode&amp;quot;),String.fromCharCode(s)}return Ws(t)?(this.options.locations&amp;amp;&amp;amp;(this.lineStart=this.pos,++this.curLine),&amp;quot;&amp;quot;):String.fromCharCode(t)}};We.readHexChar=function(i){var t=this.pos,r=this.readInt(16,i);return r===null&amp;amp;&amp;amp;this.invalidStringToken(t,&amp;quot;Bad character escape sequence&amp;quot;),r};We.readWord1=function(){this.containsEsc=!1;for(var i=&amp;quot;&amp;quot;,t=!0,r=this.pos,n=this.options.ecmaVersion&amp;gt;=6;this.pos&amp;lt;this.input.length;){var s=this.fullCharCodeAtPos();if(en(s,n))this.pos+=s&amp;lt;=65535?1:2;else if(s===92){this.containsEsc=!0,i+=this.input.slice(r,this.pos);var a=this.pos;this.input.charCodeAt(++this.pos)!==117&amp;amp;&amp;amp;this.invalidStringToken(this.pos,&amp;quot;Expecting Unicode escape sequence \\uXXXX&amp;quot;),++this.pos;var o=this.readCodePoint();(t?ni:en)(o,n)||this.invalidStringToken(a,&amp;quot;Invalid Unicode escape&amp;quot;),i+=Di(o),r=this.pos}else break;t=!1}return i+this.input.slice(r,this.pos)};We.readWord=function(){var i=this.readWord1(),t=R.name;return this.keywords.test(i)&amp;amp;&amp;amp;(t=Sf[i]),this.finishToken(t,i)};var M2=&amp;quot;8.15.0&amp;quot;;Dt.acorn={Parser:Dt,version:M2,defaultOptions:wf,Position:wo,SourceLocation:Fl,getLineInfo:W0,Node:kl,TokenType:Ke,tokTypes:R,keywordTypes:Sf,TokContext:Wr,tokContexts:ht,isIdentifierChar:en,isIdentifierStart:ni,Token:If,isNewLine:Ws,lineBreak:Qt,lineBreakG:r2,nonASCIIwhitespace:$0};function Ll(i,t){return Dt.parse(i,t)}function wg(i,t,r,n,s){r||(r=ye),function a(o,u,h){var l=h||o.type;r[l](o,u,a),t[l]&amp;amp;&amp;amp;t[l](o,u)}(i,n,s)}function Cg(i,t,r,n,s){var a=[];r||(r=ye),function o(u,h,l){var c=l||u.type,p=u!==a[a.length-1];p&amp;amp;&amp;amp;a.push(u),r[c](u,h,o),t[c]&amp;amp;&amp;amp;t[c](u,h||a,a),p&amp;amp;&amp;amp;a.pop()}(i,n,s)}function kf(i,t,r){r(i,t)}function Un(i,t,r){}var ye={};ye.Program=ye.BlockStatement=ye.StaticBlock=function(i,t,r){for(var n=0,s=i.body;n&amp;lt;s.length;n+=1){var a=s[n];r(a,t,&amp;quot;Statement&amp;quot;)}};ye.Statement=kf;ye.EmptyStatement=Un;ye.ExpressionStatement=ye.ParenthesizedExpression=ye.ChainExpression=function(i,t,r){return r(i.expression,t,&amp;quot;Expression&amp;quot;)};ye.IfStatement=function(i,t,r){r(i.test,t,&amp;quot;Expression&amp;quot;),r(i.consequent,t,&amp;quot;Statement&amp;quot;),i.alternate&amp;amp;&amp;amp;r(i.alternate,t,&amp;quot;Statement&amp;quot;)};ye.LabeledStatement=function(i,t,r){return r(i.body,t,&amp;quot;Statement&amp;quot;)};ye.BreakStatement=ye.ContinueStatement=Un;ye.WithStatement=function(i,t,r){r(i.object,t,&amp;quot;Expression&amp;quot;),r(i.body,t,&amp;quot;Statement&amp;quot;)};ye.SwitchStatement=function(i,t,r){r(i.discriminant,t,&amp;quot;Expression&amp;quot;);for(var n=0,s=i.cases;n&amp;lt;s.length;n+=1){var a=s[n];r(a,t)}};ye.SwitchCase=function(i,t,r){i.test&amp;amp;&amp;amp;r(i.test,t,&amp;quot;Expression&amp;quot;);for(var n=0,s=i.consequent;n&amp;lt;s.length;n+=1){var a=s[n];r(a,t,&amp;quot;Statement&amp;quot;)}};ye.ReturnStatement=ye.YieldExpression=ye.AwaitExpression=function(i,t,r){i.argument&amp;amp;&amp;amp;r(i.argument,t,&amp;quot;Expression&amp;quot;)};ye.ThrowStatement=ye.SpreadElement=function(i,t,r){return r(i.argument,t,&amp;quot;Expression&amp;quot;)};ye.TryStatement=function(i,t,r){r(i.block,t,&amp;quot;Statement&amp;quot;),i.handler&amp;amp;&amp;amp;r(i.handler,t),i.finalizer&amp;amp;&amp;amp;r(i.finalizer,t,&amp;quot;Statement&amp;quot;)};ye.CatchClause=function(i,t,r){i.param&amp;amp;&amp;amp;r(i.param,t,&amp;quot;Pattern&amp;quot;),r(i.body,t,&amp;quot;Statement&amp;quot;)};ye.WhileStatement=ye.DoWhileStatement=function(i,t,r){r(i.test,t,&amp;quot;Expression&amp;quot;),r(i.body,t,&amp;quot;Statement&amp;quot;)};ye.ForStatement=function(i,t,r){i.init&amp;amp;&amp;amp;r(i.init,t,&amp;quot;ForInit&amp;quot;),i.test&amp;amp;&amp;amp;r(i.test,t,&amp;quot;Expression&amp;quot;),i.update&amp;amp;&amp;amp;r(i.update,t,&amp;quot;Expression&amp;quot;),r(i.body,t,&amp;quot;Statement&amp;quot;)};ye.ForInStatement=ye.ForOfStatement=function(i,t,r){r(i.left,t,&amp;quot;ForInit&amp;quot;),r(i.right,t,&amp;quot;Expression&amp;quot;),r(i.body,t,&amp;quot;Statement&amp;quot;)};ye.ForInit=function(i,t,r){i.type===&amp;quot;VariableDeclaration&amp;quot;?r(i,t):r(i,t,&amp;quot;Expression&amp;quot;)};ye.DebuggerStatement=Un;ye.FunctionDeclaration=function(i,t,r){return r(i,t,&amp;quot;Function&amp;quot;)};ye.VariableDeclaration=function(i,t,r){for(var n=0,s=i.declarations;n&amp;lt;s.length;n+=1){var a=s[n];r(a,t)}};ye.VariableDeclarator=function(i,t,r){r(i.id,t,&amp;quot;Pattern&amp;quot;),i.init&amp;amp;&amp;amp;r(i.init,t,&amp;quot;Expression&amp;quot;)};ye.Function=function(i,t,r){i.id&amp;amp;&amp;amp;r(i.id,t,&amp;quot;Pattern&amp;quot;);for(var n=0,s=i.params;n&amp;lt;s.length;n+=1){var a=s[n];r(a,t,&amp;quot;Pattern&amp;quot;)}r(i.body,t,i.expression?&amp;quot;Expression&amp;quot;:&amp;quot;Statement&amp;quot;)};ye.Pattern=function(i,t,r){i.type===&amp;quot;Identifier&amp;quot;?r(i,t,&amp;quot;VariablePattern&amp;quot;):i.type===&amp;quot;MemberExpression&amp;quot;?r(i,t,&amp;quot;MemberPattern&amp;quot;):r(i,t)};ye.VariablePattern=Un;ye.MemberPattern=kf;ye.RestElement=function(i,t,r){return r(i.argument,t,&amp;quot;Pattern&amp;quot;)};ye.ArrayPattern=function(i,t,r){for(var n=0,s=i.elements;n&amp;lt;s.length;n+=1){var a=s[n];a&amp;amp;&amp;amp;r(a,t,&amp;quot;Pattern&amp;quot;)}};ye.ObjectPattern=function(i,t,r){for(var n=0,s=i.properties;n&amp;lt;s.length;n+=1){var a=s[n];a.type===&amp;quot;Property&amp;quot;?(a.computed&amp;amp;&amp;amp;r(a.key,t,&amp;quot;Expression&amp;quot;),r(a.value,t,&amp;quot;Pattern&amp;quot;)):a.type===&amp;quot;RestElement&amp;quot;&amp;amp;&amp;amp;r(a.argument,t,&amp;quot;Pattern&amp;quot;)}};ye.Expression=kf;ye.ThisExpression=ye.Super=ye.MetaProperty=Un;ye.ArrayExpression=function(i,t,r){for(var n=0,s=i.elements;n&amp;lt;s.length;n+=1){var a=s[n];a&amp;amp;&amp;amp;r(a,t,&amp;quot;Expression&amp;quot;)}};ye.ObjectExpression=function(i,t,r){for(var n=0,s=i.properties;n&amp;lt;s.length;n+=1){var a=s[n];r(a,t)}};ye.FunctionExpression=ye.ArrowFunctionExpression=ye.FunctionDeclaration;ye.SequenceExpression=function(i,t,r){for(var n=0,s=i.expressions;n&amp;lt;s.length;n+=1){var a=s[n];r(a,t,&amp;quot;Expression&amp;quot;)}};ye.TemplateLiteral=function(i,t,r){for(var n=0,s=i.quasis;n&amp;lt;s.length;n+=1){var a=s[n];r(a,t)}for(var o=0,u=i.expressions;o&amp;lt;u.length;o+=1){var h=u[o];r(h,t,&amp;quot;Expression&amp;quot;)}};ye.TemplateElement=Un;ye.UnaryExpression=ye.UpdateExpression=function(i,t,r){r(i.argument,t,&amp;quot;Expression&amp;quot;)};ye.BinaryExpression=ye.LogicalExpression=function(i,t,r){r(i.left,t,&amp;quot;Expression&amp;quot;),r(i.right,t,&amp;quot;Expression&amp;quot;)};ye.AssignmentExpression=ye.AssignmentPattern=function(i,t,r){r(i.left,t,&amp;quot;Pattern&amp;quot;),r(i.right,t,&amp;quot;Expression&amp;quot;)};ye.ConditionalExpression=function(i,t,r){r(i.test,t,&amp;quot;Expression&amp;quot;),r(i.consequent,t,&amp;quot;Expression&amp;quot;),r(i.alternate,t,&amp;quot;Expression&amp;quot;)};ye.NewExpression=ye.CallExpression=function(i,t,r){if(r(i.callee,t,&amp;quot;Expression&amp;quot;),i.arguments)for(var n=0,s=i.arguments;n&amp;lt;s.length;n+=1){var a=s[n];r(a,t,&amp;quot;Expression&amp;quot;)}};ye.MemberExpression=function(i,t,r){r(i.object,t,&amp;quot;Expression&amp;quot;),i.computed&amp;amp;&amp;amp;r(i.property,t,&amp;quot;Expression&amp;quot;)};ye.ExportNamedDeclaration=ye.ExportDefaultDeclaration=function(i,t,r){i.declaration&amp;amp;&amp;amp;r(i.declaration,t,i.type===&amp;quot;ExportNamedDeclaration&amp;quot;||i.declaration.id?&amp;quot;Statement&amp;quot;:&amp;quot;Expression&amp;quot;),i.source&amp;amp;&amp;amp;r(i.source,t,&amp;quot;Expression&amp;quot;)};ye.ExportAllDeclaration=function(i,t,r){i.exported&amp;amp;&amp;amp;r(i.exported,t),r(i.source,t,&amp;quot;Expression&amp;quot;)};ye.ImportDeclaration=function(i,t,r){for(var n=0,s=i.specifiers;n&amp;lt;s.length;n+=1){var a=s[n];r(a,t)}r(i.source,t,&amp;quot;Expression&amp;quot;)};ye.ImportExpression=function(i,t,r){r(i.source,t,&amp;quot;Expression&amp;quot;)};ye.ImportSpecifier=ye.ImportDefaultSpecifier=ye.ImportNamespaceSpecifier=ye.Identifier=ye.PrivateIdentifier=ye.Literal=Un;ye.TaggedTemplateExpression=function(i,t,r){r(i.tag,t,&amp;quot;Expression&amp;quot;),r(i.quasi,t,&amp;quot;Expression&amp;quot;)};ye.ClassDeclaration=ye.ClassExpression=function(i,t,r){return r(i,t,&amp;quot;Class&amp;quot;)};ye.Class=function(i,t,r){i.id&amp;amp;&amp;amp;r(i.id,t,&amp;quot;Pattern&amp;quot;),i.superClass&amp;amp;&amp;amp;r(i.superClass,t,&amp;quot;Expression&amp;quot;),r(i.body,t)};ye.ClassBody=function(i,t,r){for(var n=0,s=i.body;n&amp;lt;s.length;n+=1){var a=s[n];r(a,t)}};ye.MethodDefinition=ye.PropertyDefinition=ye.Property=function(i,t,r){i.computed&amp;amp;&amp;amp;r(i.key,t,&amp;quot;Expression&amp;quot;),i.value&amp;amp;&amp;amp;r(i.value,t,&amp;quot;Expression&amp;quot;)};var L2=[&amp;quot;setup&amp;quot;,&amp;quot;draw&amp;quot;,&amp;quot;preload&amp;quot;,&amp;quot;deviceMoved&amp;quot;,&amp;quot;deviceTurned&amp;quot;,&amp;quot;deviceShaken&amp;quot;,&amp;quot;doubleClicked&amp;quot;,&amp;quot;mousePressed&amp;quot;,&amp;quot;mouseReleased&amp;quot;,&amp;quot;mouseMoved&amp;quot;,&amp;quot;mouseDragged&amp;quot;,&amp;quot;mouseClicked&amp;quot;,&amp;quot;mouseWheel&amp;quot;,&amp;quot;touchStarted&amp;quot;,&amp;quot;touchMoved&amp;quot;,&amp;quot;touchEnded&amp;quot;,&amp;quot;keyPressed&amp;quot;,&amp;quot;keyReleased&amp;quot;,&amp;quot;keyTyped&amp;quot;,&amp;quot;windowResized&amp;quot;],Ao={fetchScript:async function(i){if(i.src)try{return await fetch(i.src).then(r=&amp;gt;r.text())}catch(t){return console.error(&amp;quot;Error fetching script:&amp;quot;,t),&amp;quot;&amp;quot;}else return i.textContent},extractUserDefinedVariablesAndFuncs:function(i){let t={variables:[],functions:[]},r=-1;try{let n=Ll(i,{ecmaVersion:2021,sourceType:&amp;quot;module&amp;quot;,locations:!0});wg(n,{VariableDeclarator(s){if(s.id.type===&amp;quot;Identifier&amp;quot;){let a=s.init&amp;amp;&amp;amp;[&amp;quot;ArrowFunctionExpression&amp;quot;,&amp;quot;FunctionExpression&amp;quot;].includes(s.init.type)?&amp;quot;functions&amp;quot;:&amp;quot;variables&amp;quot;;t[a].push({name:s.id.name,line:s.loc.start.line+r})}},FunctionDeclaration(s){s.id&amp;amp;&amp;amp;s.id.type===&amp;quot;Identifier&amp;quot;&amp;amp;&amp;amp;t.functions.push({name:s.id.name,line:s.loc.start.line+r})},ClassDeclaration(s){s.id&amp;amp;&amp;amp;s.id.type===&amp;quot;Identifier&amp;quot;&amp;amp;&amp;amp;t.variables.push({name:s.id.name,line:s.loc.start.line+r})}})}catch(n){console.error(&amp;quot;Error parsing code:&amp;quot;,n)}return t},checkForConstsAndFuncs:function(i,t){let r=[...i.variables,...i.functions];function n(a,o,u){let h=`https://p5js.org/reference/p5/${o}`;return`${a} &amp;quot;${o}&amp;quot; on line ${u} is being redeclared and conflicts with a p5.js ${a.toLowerCase()}. p5.js reference: ${h}`}for(let{name:a,line:o}of r)if(gr[a]!==void 0){let h=n(&amp;quot;Constant&amp;quot;,a,o);return console.log(h),!0}let s=new Set(Object.getOwnPropertyNames(t.prototype).filter(a=&amp;gt;!a.startsWith(&amp;quot;_&amp;quot;)&amp;amp;&amp;amp;a!==&amp;quot;constructor&amp;quot;));for(let{name:a,line:o}of r)if(!L2.includes(a)&amp;amp;&amp;amp;s.has(a)){let u=n(&amp;quot;Function&amp;quot;,a,o);return console.log(u),!0}return!1},getUserCode:async function(){let i=document.querySelectorAll(&amp;quot;script&amp;quot;),t=i[i.length-1];return await Ao.fetchScript(t)},runFES:async function(i){let t=await Ao.getUserCode(),r=Ao.extractUserDefinedVariablesAndFuncs(t);Ao.checkForConstsAndFuncs(r,i)}};function Mf(i,t,r){r.presetup=async function(){i.disableFriendlyErrors||Ao.runFES(i)}}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;Mf(p5,p5.prototype);function Lf(i,t){let r=(n,s)=&amp;gt;{let a=Pe(&amp;quot;fes.fileLoadError.suggestion&amp;quot;,{filePath:s,url:&amp;quot;https://github.com/processing/p5.js/wiki/Local-server&amp;quot;});switch(n){case 0:return{message:Pe(&amp;quot;fes.fileLoadError.image&amp;quot;,{suggestion:a}),method:&amp;quot;loadImage&amp;quot;};case 1:return{message:Pe(&amp;quot;fes.fileLoadError.xml&amp;quot;,{suggestion:a}),method:&amp;quot;loadXML&amp;quot;};case 2:return{message:Pe(&amp;quot;fes.fileLoadError.table&amp;quot;,{suggestion:a}),method:&amp;quot;loadTable&amp;quot;};case 3:return{message:Pe(&amp;quot;fes.fileLoadError.strings&amp;quot;,{suggestion:a}),method:&amp;quot;loadStrings&amp;quot;};case 4:return{message:Pe(&amp;quot;fes.fileLoadError.font&amp;quot;,{suggestion:a}),method:&amp;quot;loadFont&amp;quot;};case 5:return{message:Pe(&amp;quot;fes.fileLoadError.json&amp;quot;,{suggestion:a}),method:&amp;quot;loadJSON&amp;quot;};case 6:return{message:Pe(&amp;quot;fes.fileLoadError.bytes&amp;quot;,{suggestion:a}),method:&amp;quot;loadBytes&amp;quot;};case 7:return{message:Pe(&amp;quot;fes.fileLoadError.large&amp;quot;),method:&amp;quot;loadX&amp;quot;};case 8:return{message:Pe(&amp;quot;fes.fileLoadError.gif&amp;quot;),method:&amp;quot;loadImage&amp;quot;}}};i._friendlyFileLoadError=function(n,s){let{message:a,method:o}=r(n,s);i._friendlyError(a,o,3)}}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;Lf(p5,p5.prototype);function Eg(i){i.registerAddon(Qc),i.registerAddon(ef),i.registerAddon(yf),i.registerAddon(Mf),i.registerAddon(Lf)}function Rf(i,t){t.storeItem=function(r,n){typeof r!=&amp;quot;string&amp;quot;&amp;amp;&amp;amp;console.log(`The argument that you passed to storeItem() - ${r} is not a string.`),r.endsWith(&amp;quot;p5TypeID&amp;quot;)&amp;amp;&amp;amp;console.log(`The argument that you passed to storeItem() - ${r} must not end with &amp;#39;p5TypeID&amp;#39;.`),typeof n&amp;gt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;console.log(&amp;quot;You cannot store undefined variables using storeItem().&amp;quot;);let s=typeof n;switch(s){case&amp;quot;number&amp;quot;:case&amp;quot;boolean&amp;quot;:n=n.toString();break;case&amp;quot;object&amp;quot;:n instanceof i.Color?(s=&amp;quot;p5.Color&amp;quot;,n=n.toString()):n instanceof i.Vector&amp;amp;&amp;amp;(s=&amp;quot;p5.Vector&amp;quot;,n=[n.x,n.y,n.z]),n=JSON.stringify(n);break}localStorage.setItem(r,n);let a=`${r}p5TypeID`;localStorage.setItem(a,s)},t.getItem=function(r){let n=localStorage.getItem(r),s=localStorage.getItem(`${r}p5TypeID`);if(typeof s&amp;gt;&amp;quot;u&amp;quot;)console.log(`Unable to determine type of item stored under ${r}in local storage. Did you save the item with something other than setItem()?`);else if(n!==null)switch(s){case&amp;quot;number&amp;quot;:n=parseFloat(n);break;case&amp;quot;boolean&amp;quot;:n=n===&amp;quot;true&amp;quot;;break;case&amp;quot;object&amp;quot;:n=JSON.parse(n);break;case&amp;quot;p5.Color&amp;quot;:n=this.color(JSON.parse(n));break;case&amp;quot;p5.Vector&amp;quot;:n=JSON.parse(n),n=this.createVector(...n);break}return n},t.clearStorage=function(){Object.keys(localStorage).forEach(n=&amp;gt;{n.endsWith(&amp;quot;p5TypeID&amp;quot;)&amp;amp;&amp;amp;this.removeItem(n.replace(&amp;quot;p5TypeID&amp;quot;,&amp;quot;&amp;quot;))})},t.removeItem=function(r){typeof r!=&amp;quot;string&amp;quot;&amp;amp;&amp;amp;console.log(`The argument that you passed to removeItem() - ${r} is not a string.`),localStorage.removeItem(r),localStorage.removeItem(`${r}p5TypeID`)}}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;Rf(p5,p5.prototype);function Sg(i){i.registerAddon(Rf)}function Bf(i,t){t.select=function(s,a){let u=this._getContainer(a).querySelector(s);return u?this._wrapElement(u):null},t.selectAll=function(s,a){let o=[],h=this._getContainer(a).querySelectorAll(s);if(h)for(let l=0;l&amp;lt;h.length;l++){let c=this._wrapElement(h[l]);o.push(c)}return o},t._getContainer=function(s){let a=document;return typeof s==&amp;quot;string&amp;quot;?a=document.querySelector(s)||document:s instanceof st?a=s.elt:s instanceof HTMLElement&amp;amp;&amp;amp;(a=s),a},t._wrapElement=function(s){let a=Array.prototype.slice.call(s.children);if(s.tagName===&amp;quot;INPUT&amp;quot;&amp;amp;&amp;amp;s.type===&amp;quot;checkbox&amp;quot;){let o=new st(s,this);return o.checked=function(...u){return u.length===0?this.elt.checked:(u[0]?this.elt.checked=!0:this.elt.checked=!1,this)},o}else return s.tagName===&amp;quot;VIDEO&amp;quot;||s.tagName===&amp;quot;AUDIO&amp;quot;?new xi(s,this):s.tagName===&amp;quot;SELECT&amp;quot;?this.createSelect(new st(s,this)):a.length&amp;gt;0&amp;amp;&amp;amp;a.every(function(o){return o.tagName===&amp;quot;INPUT&amp;quot;||o.tagName===&amp;quot;LABEL&amp;quot;})&amp;amp;&amp;amp;(s.tagName===&amp;quot;DIV&amp;quot;||s.tagName===&amp;quot;SPAN&amp;quot;)?this.createRadio(new st(s,this)):new st(s,this)},t.createElement=function(s,a){let o=document.createElement(s);return typeof a&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;(o.innerHTML=a),r(o,this)},t.removeElements=function(s){let a=u=&amp;gt;!(u.elt instanceof HTMLCanvasElement);this._elements.filter(a).map(u=&amp;gt;u.remove())};function r(s,a,o){(a._userNode?a._userNode:document.body).appendChild(s);let h=o?new xi(s,a):new st(s,a);return a._elements.push(h),h}t.createDiv=function(s=&amp;quot;&amp;quot;){let a=document.createElement(&amp;quot;div&amp;quot;);return a.innerHTML=s,r(a,this)},t.createP=function(s=&amp;quot;&amp;quot;){let a=document.createElement(&amp;quot;p&amp;quot;);return a.innerHTML=s,r(a,this)},t.createSpan=function(s=&amp;quot;&amp;quot;){let a=document.createElement(&amp;quot;span&amp;quot;);return a.innerHTML=s,r(a,this)},t.createImg=function(){let s=document.createElement(&amp;quot;img&amp;quot;),a=arguments,o;return a.length&amp;gt;1&amp;amp;&amp;amp;typeof a[1]==&amp;quot;string&amp;quot;&amp;amp;&amp;amp;(s.alt=a[1]),a.length&amp;gt;2&amp;amp;&amp;amp;typeof a[2]==&amp;quot;string&amp;quot;&amp;amp;&amp;amp;(s.crossOrigin=a[2]),s.src=a[0],o=r(s,this),s.addEventListener(&amp;quot;load&amp;quot;,function(){o.width=s.offsetWidth||s.width,o.height=s.offsetHeight||s.height;let u=a[a.length-1];typeof u==&amp;quot;function&amp;quot;&amp;amp;&amp;amp;u(o)}),o},t.createA=function(s,a,o){let u=document.createElement(&amp;quot;a&amp;quot;);return u.href=s,u.innerHTML=a,o&amp;amp;&amp;amp;(u.target=o),r(u,this)},t.createSlider=function(s,a,o,u){let h=document.createElement(&amp;quot;input&amp;quot;);return h.type=&amp;quot;range&amp;quot;,h.min=s,h.max=a,u===0?h.step=1e-18:u&amp;amp;&amp;amp;(h.step=u),typeof o==&amp;quot;number&amp;quot;&amp;amp;&amp;amp;(h.value=o),r(h,this)},t.createButton=function(s,a){let o=document.createElement(&amp;quot;button&amp;quot;);return o.innerHTML=s,a&amp;amp;&amp;amp;(o.value=a),r(o,this)},t.createCheckbox=function(...s){let a=document.createElement(&amp;quot;div&amp;quot;),o=document.createElement(&amp;quot;input&amp;quot;);o.type=&amp;quot;checkbox&amp;quot;;let u=document.createElement(&amp;quot;label&amp;quot;);u.appendChild(o),a.appendChild(u);let h=r(a,this);if(h.checked=function(...l){let c=h.elt.firstElementChild.getElementsByTagName(&amp;quot;input&amp;quot;)[0];if(c){if(l.length===0)return c.checked;l[0]?c.checked=!0:c.checked=!1}return h},this.value=function(l){return h.value=l,this},s[0]){h.value(s[0]);let l=document.createElement(&amp;quot;span&amp;quot;);l.innerHTML=s[0],u.appendChild(l)}return s[1]&amp;amp;&amp;amp;(o.checked=!0),h},t.createSelect=function(...s){let a,o=s[0];if(o instanceof st&amp;amp;&amp;amp;o.elt instanceof HTMLSelectElement)a=o,this.elt=o.elt;else if(o instanceof HTMLSelectElement)a=r(o,this),this.elt=o;else{let u=document.createElement(&amp;quot;select&amp;quot;);o&amp;amp;&amp;amp;typeof o==&amp;quot;boolean&amp;quot;&amp;amp;&amp;amp;u.setAttribute(&amp;quot;multiple&amp;quot;,&amp;quot;true&amp;quot;),a=r(u,this),this.elt=u}return a.option=function(u,h){let l;if(u!==void 0){for(let c=0;c&amp;lt;this.elt.length;c+=1)if(this.elt[c].textContent===u){l=c;break}if(l!==void 0)h===!1?this.elt.remove(l):this.elt[l].value=h;else{let c=document.createElement(&amp;quot;option&amp;quot;);c.textContent=u,c.value=h===void 0?u:h,this.elt.appendChild(c),this._pInst._elements.push(c)}}},a.selected=function(u){if(u!==void 0){for(let h=0;h&amp;lt;this.elt.length;h+=1)this.elt[h].value.toString()===u.toString()&amp;amp;&amp;amp;(this.elt.selectedIndex=h);return this}else if(this.elt.getAttribute(&amp;quot;multiple&amp;quot;)){let h=[];for(let l of this.elt.selectedOptions)h.push(l.value);return h}else return this.elt.value},a.disable=function(u){if(typeof u==&amp;quot;string&amp;quot;)for(let h=0;h&amp;lt;this.elt.length;h++)this.elt[h].value.toString()===u&amp;amp;&amp;amp;(this.elt[h].disabled=!0,this.elt[h].selected=!1);else this.elt.disabled=!0;return this},a.enable=function(u){if(typeof u==&amp;quot;string&amp;quot;)for(let h=0;h&amp;lt;this.elt.length;h++)this.elt[h].value.toString()===u&amp;amp;&amp;amp;(this.elt[h].disabled=!1,this.elt[h].selected=!1);else{this.elt.disabled=!1;for(let h=0;h&amp;lt;this.elt.length;h++)this.elt[h].disabled=!1,this.elt[h].selected=!1}return this},a};let n=0;t.createRadio=function(...s){let a,o,u,h=s[0];h instanceof st&amp;amp;&amp;amp;(h.elt instanceof HTMLDivElement||h.elt instanceof HTMLSpanElement)?(a=h,this.elt=h.elt):h instanceof HTMLDivElement||h instanceof HTMLSpanElement?(a=r(h,this),this.elt=h,o=h,typeof s[1]==&amp;quot;string&amp;quot;&amp;amp;&amp;amp;(u=s[1])):(typeof h==&amp;quot;string&amp;quot;&amp;amp;&amp;amp;(u=h),o=document.createElement(&amp;quot;div&amp;quot;),a=r(o,this),this.elt=o),a._name=u||`radioOption_${n++}`;let l=f=&amp;gt;f instanceof HTMLInputElement&amp;amp;&amp;amp;f.type===&amp;quot;radio&amp;quot;,c=f=&amp;gt;f instanceof HTMLLabelElement,p=f=&amp;gt;f instanceof HTMLSpanElement;return a._getOptionsArray=function(){return Array.from(this.elt.children).filter(f=&amp;gt;l(f)||c(f)&amp;amp;&amp;amp;l(f.firstElementChild)).map(f=&amp;gt;l(f)?f:f.firstElementChild)},a.option=function(f,d){let m;for(let w of a._getOptionsArray())if(w.value===f){m=w;break}m===void 0&amp;amp;&amp;amp;(m=document.createElement(&amp;quot;input&amp;quot;),m.setAttribute(&amp;quot;type&amp;quot;,&amp;quot;radio&amp;quot;),m.setAttribute(&amp;quot;value&amp;quot;,f)),m.setAttribute(&amp;quot;name&amp;quot;,a._name);let g;c(m.parentElement)?g=m.parentElement:(g=document.createElement(&amp;quot;label&amp;quot;),g.insertAdjacentElement(&amp;quot;afterbegin&amp;quot;,m));let v;return p(g.lastElementChild)?v=g.lastElementChild:(v=document.createElement(&amp;quot;span&amp;quot;),m.insertAdjacentElement(&amp;quot;afterend&amp;quot;,v)),v.innerHTML=d===void 0?f:d,this.elt.appendChild(g),m},a.remove=function(f){for(let d of a._getOptionsArray())if(d.value===f){c(d.parentElement)?d.parentElement.remove():d.remove();return}},a.value=function(){let f=&amp;quot;&amp;quot;;for(let d of a._getOptionsArray())if(d.checked){f=d.value;break}return f},a.selected=function(f){let d=null;if(f===void 0){for(let m of a._getOptionsArray())if(m.checked){d=m;break}}else{a._getOptionsArray().forEach(m=&amp;gt;{m.checked=!1,m.removeAttribute(&amp;quot;checked&amp;quot;)});for(let m of a._getOptionsArray())m.value===f&amp;amp;&amp;amp;(m.setAttribute(&amp;quot;checked&amp;quot;,!0),m.checked=!0,d=m)}return d},a.disable=function(f=!0){for(let d of a._getOptionsArray())d.setAttribute(&amp;quot;disabled&amp;quot;,f)},a},t.createColorPicker=function(s){let a=document.createElement(&amp;quot;input&amp;quot;),o;a.type=&amp;quot;color&amp;quot;,s?s instanceof i.Color?a.value=s.toString(&amp;quot;#rrggbb&amp;quot;):(this.push(),this.colorMode(&amp;quot;rgb&amp;quot;),a.value=this.color(s).toString(&amp;quot;#rrggbb&amp;quot;),this.pop()):a.value=&amp;quot;#000000&amp;quot;,o=r(a,this);let u=this;return o.color=function(){u.push(),s&amp;amp;&amp;amp;s.mode&amp;amp;&amp;amp;u.colorMode(s.mode,...s?.maxes?s.maxes[s.mode]||[]:[]);let h=u.color(this.elt.value);return u.pop(),h},o},t.createInput=function(s=&amp;quot;&amp;quot;,a=&amp;quot;text&amp;quot;){let o=document.createElement(&amp;quot;input&amp;quot;);return o.setAttribute(&amp;quot;value&amp;quot;,s),o.setAttribute(&amp;quot;type&amp;quot;,a),r(o,this)},t.createFileInput=function(s,a=!1){let o=function(h){for(let l of h.target.files)Fn._load(l,s)};if(!(window.File&amp;amp;&amp;amp;window.FileReader&amp;amp;&amp;amp;window.FileList&amp;amp;&amp;amp;window.Blob)){console.log(&amp;quot;The File APIs are not fully supported in this browser. Cannot create element.&amp;quot;);return}let u=document.createElement(&amp;quot;input&amp;quot;);return u.setAttribute(&amp;quot;type&amp;quot;,&amp;quot;file&amp;quot;),a&amp;amp;&amp;amp;u.setAttribute(&amp;quot;multiple&amp;quot;,!0),u.addEventListener(&amp;quot;change&amp;quot;,o,!1),r(u,this)}}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;Bf(p5,p5.prototype);function Ag(i){i.registerAddon(Bf),i.registerAddon(Wh),i.registerAddon(Qh),i.registerAddon(Hh)}function Pf(i,t){t.deviceOrientation=window.innerWidth/window.innerHeight&amp;gt;1?&amp;quot;landscape&amp;quot;:&amp;quot;portrait&amp;quot;,t.accelerationX=0,t.accelerationY=0,t.accelerationZ=0,t.pAccelerationX=0,t.pAccelerationY=0,t.pAccelerationZ=0,t._updatePAccelerations=function(){this.pAccelerationX=this.accelerationX,this.pAccelerationY=this.accelerationY,this.pAccelerationZ=this.accelerationZ},t.rotationX=0,t.rotationY=0,t.rotationZ=0,t.pRotationX=0,t.pRotationY=0,t.pRotationZ=0;let r=0,n=0,s=0,a=&amp;quot;clockwise&amp;quot;,o=&amp;quot;clockwise&amp;quot;,u=&amp;quot;clockwise&amp;quot;;t.pRotateDirectionX=void 0,t.pRotateDirectionY=void 0,t.pRotateDirectionZ=void 0,t._updatePRotations=function(){this.pRotationX=this.rotationX,this.pRotationY=this.rotationY,this.pRotationZ=this.rotationZ},t.turnAxis=void 0;let h=.5,l=30;t.setMoveThreshold=function(c){h=c},t.setShakeThreshold=function(c){l=c},t._ondeviceorientation=function(c){this._updatePRotations(),this.rotationX=this._fromDegrees(c.beta),this.rotationY=this._fromDegrees(c.gamma),this.rotationZ=this._fromDegrees(c.alpha),this._handleMotion()},t._ondevicemotion=function(c){this._updatePAccelerations(),this.accelerationX=c.acceleration.x*2,this.accelerationY=c.acceleration.y*2,this.accelerationZ=c.acceleration.z*2,this._handleMotion()},t._handleMotion=function(){window.orientation===90||window.orientation===-90?this.deviceOrientation=&amp;quot;landscape&amp;quot;:window.orientation===0?this.deviceOrientation=&amp;quot;portrait&amp;quot;:window.orientation===void 0&amp;amp;&amp;amp;(this.deviceOrientation=&amp;quot;undefined&amp;quot;);let c=this._isGlobal?window:this;if(typeof c.deviceMoved==&amp;quot;function&amp;quot;&amp;amp;&amp;amp;(Math.abs(this.accelerationX-this.pAccelerationX)&amp;gt;h||Math.abs(this.accelerationY-this.pAccelerationY)&amp;gt;h||Math.abs(this.accelerationZ-this.pAccelerationZ)&amp;gt;h)&amp;amp;&amp;amp;c.deviceMoved(),typeof c.deviceTurned==&amp;quot;function&amp;quot;){let p=this._toDegrees(this.rotationX)+180,f=this._toDegrees(this.pRotationX)+180,d=r+180;p-f&amp;gt;0&amp;amp;&amp;amp;p-f&amp;lt;270||p-f&amp;lt;-270?a=&amp;quot;clockwise&amp;quot;:(p-f&amp;lt;0||p-f&amp;gt;270)&amp;amp;&amp;amp;(a=&amp;quot;counter-clockwise&amp;quot;),a!==this.pRotateDirectionX&amp;amp;&amp;amp;(d=p),Math.abs(p-d)&amp;gt;90&amp;amp;&amp;amp;Math.abs(p-d)&amp;lt;270&amp;amp;&amp;amp;(d=p,this.turnAxis=&amp;quot;X&amp;quot;,c.deviceTurned()),this.pRotateDirectionX=a,r=d-180;let m=this._toDegrees(this.rotationY)+180,g=this._toDegrees(this.pRotationY)+180,v=n+180;m-g&amp;gt;0&amp;amp;&amp;amp;m-g&amp;lt;270||m-g&amp;lt;-270?o=&amp;quot;clockwise&amp;quot;:(m-g&amp;lt;0||m-this.pRotationY&amp;gt;270)&amp;amp;&amp;amp;(o=&amp;quot;counter-clockwise&amp;quot;),o!==this.pRotateDirectionY&amp;amp;&amp;amp;(v=m),Math.abs(m-v)&amp;gt;90&amp;amp;&amp;amp;Math.abs(m-v)&amp;lt;270&amp;amp;&amp;amp;(v=m,this.turnAxis=&amp;quot;Y&amp;quot;,c.deviceTurned()),this.pRotateDirectionY=o,n=v-180;let w=this._toDegrees(this.rotationZ),y=this._toDegrees(this.pRotationZ);w-y&amp;gt;0&amp;amp;&amp;amp;w-y&amp;lt;270||w-y&amp;lt;-270?u=&amp;quot;clockwise&amp;quot;:(w-y&amp;lt;0||w-y&amp;gt;270)&amp;amp;&amp;amp;(u=&amp;quot;counter-clockwise&amp;quot;),u!==this.pRotateDirectionZ&amp;amp;&amp;amp;(s=w),Math.abs(w-s)&amp;gt;90&amp;amp;&amp;amp;Math.abs(w-s)&amp;lt;270&amp;amp;&amp;amp;(s=w,this.turnAxis=&amp;quot;Z&amp;quot;,c.deviceTurned()),this.pRotateDirectionZ=u,this.turnAxis=void 0}if(typeof c.deviceShaken==&amp;quot;function&amp;quot;){let p,f;this.pAccelerationX!==null&amp;amp;&amp;amp;(p=Math.abs(this.accelerationX-this.pAccelerationX),f=Math.abs(this.accelerationY-this.pAccelerationY)),p+f&amp;gt;l&amp;amp;&amp;amp;c.deviceShaken()}}}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;Pf(p5,p5.prototype);function R2(i){return[&amp;quot;Alt&amp;quot;,&amp;quot;Shift&amp;quot;,&amp;quot;Control&amp;quot;,&amp;quot;Meta&amp;quot;].includes(i)||typeof i!=&amp;quot;string&amp;quot;?!1:i.length&amp;gt;1}function Of(i,t){t.keyIsPressed=!1,t.code=null,t.key=&amp;quot;&amp;quot;,t.keyCode=0,t._onkeydown=function(r){if(this._downKeys[r.code])return;this.keyIsPressed=!0,this.keyCode=r.which,this.key=r.key,this.code=r.code,this._downKeyCodes[r.code]=!0,this._downKeys[r.key]=!0;let n=this._isGlobal?window:this;typeof n.keyPressed==&amp;quot;function&amp;quot;&amp;amp;&amp;amp;!r.charCode&amp;amp;&amp;amp;n.keyPressed(r)===!1&amp;amp;&amp;amp;r.preventDefault()},t._onkeyup=function(r){let n=this._isGlobal?window:this;if(typeof n.keyReleased==&amp;quot;function&amp;quot;&amp;amp;&amp;amp;n.keyReleased(r)===!1&amp;amp;&amp;amp;r.preventDefault(),delete this._downKeyCodes[r.code],delete this._downKeys[r.key],!this._areDownKeys())this.keyIsPressed=!1,this.key=&amp;quot;&amp;quot;,this.code=null;else{let s=Object.keys(this._downKeyCodes).pop();this.code=s;let a=Object.keys(this._downKeys).pop();this.key=a}},t._onkeypress=function(r){if(r.which===this._lastKeyCodeTyped&amp;amp;&amp;amp;r.repeat)return;this._lastKeyCodeTyped=r.which,this.key=r.key||String.fromCharCode(r.which)||r.which;let n=this._isGlobal?window:this;typeof n.keyTyped==&amp;quot;function&amp;quot;&amp;amp;&amp;amp;n.keyTyped(r)===!1&amp;amp;&amp;amp;r.preventDefault()},t._onblur=function(r){this._downKeys={}},t.keyIsDown=function(r){return R2(r)?this._downKeyCodes[r]||this._downKeys[r]||!1:this._downKeys[r]||this._downKeyCodes[r]||!1},t._areDownKeys=function(){for(let r in this._downKeys)if(this._downKeys.hasOwnProperty(r)&amp;amp;&amp;amp;this._downKeys[r]===!0)return!0;return!1}}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;Of(p5,p5.prototype);function Vf(i,t){t.movedX=0,t.movedY=0,t._hasMouseInteracted=!1,t.mouseX=0,t.mouseY=0,t.pmouseX=0,t.pmouseY=0,t.winMouseX=0,t.winMouseY=0,t.pwinMouseX=0,t.pwinMouseY=0,t.mouseButton={left:!1,right:!1,center:!1},t.touches=[],t._activePointers=new Map,t.mouseIsPressed=!1,t._updatePointerCoords=function(s){if(this._curElement!==null){let a=this._curElement.elt,o=a.scrollWidth/this.width||1,u=a.scrollHeight/this.height||1;if(s.pointerType==&amp;quot;touch&amp;quot;){let l=[];for(let c of this._activePointers.values())l.push(n(a,o,u,c));this.touches=l}let h=r(a,o,u,s);this.movedX=s.movementX||0,this.movedY=s.movementY||0,this.mouseX=h.x,this.mouseY=h.y,this.winMouseX=h.winX,this.winMouseY=h.winY,this._hasMouseInteracted||(this._updateMouseCoords(),this._hasMouseInteracted=!0)}},t._updateMouseCoords=function(){this.pmouseX=this.mouseX,this.pmouseY=this.mouseY,this.pwinMouseX=this.winMouseX,this.pwinMouseY=this.winMouseY,this._pmouseWheelDeltaY=this._mouseWheelDeltaY};function r(s,a,o,u){let h=s.getBoundingClientRect();return{x:(u.clientX-h.left)/a,y:(u.clientY-h.top)/o,winX:u.clientX,winY:u.clientY}}function n(s,a,o,u){let h=s.getBoundingClientRect();return{x:(u.clientX-h.left)/a,y:(u.clientY-h.top)/o,winX:u.clientX,winY:u.clientY,id:u.pointerId}}t._setMouseButton=function(s){this.mouseButton.left=Array.from(this._activePointers.values()).some(a=&amp;gt;(a.buttons&amp;amp;1)!==0),this.mouseButton.center=Array.from(this._activePointers.values()).some(a=&amp;gt;(a.buttons&amp;amp;4)!==0),this.mouseButton.right=Array.from(this._activePointers.values()).some(a=&amp;gt;(a.buttons&amp;amp;2)!==0)},t._onpointermove=function(s){let a=this._isGlobal?window:this,o;this._updatePointerCoords(s),this._activePointers.set(s.pointerId,s),this._setMouseButton(s),!this.mouseIsPressed&amp;amp;&amp;amp;typeof a.mouseMoved==&amp;quot;function&amp;quot;?(o=a.mouseMoved(s),o===!1&amp;amp;&amp;amp;s.preventDefault()):this.mouseIsPressed&amp;amp;&amp;amp;typeof a.mouseDragged==&amp;quot;function&amp;quot;&amp;amp;&amp;amp;(o=a.mouseDragged(s),o===!1&amp;amp;&amp;amp;s.preventDefault())},t._onpointerdown=function(s){let a=this._isGlobal?window:this,o;this.mouseIsPressed=!0,this._activePointers.set(s.pointerId,s),this._setMouseButton(s),this._updatePointerCoords(s),typeof a.mousePressed==&amp;quot;function&amp;quot;&amp;amp;&amp;amp;(o=a.mousePressed(s),o===!1&amp;amp;&amp;amp;s.preventDefault())},t._onpointerup=function(s){let a=this._isGlobal?window:this,o;this.mouseIsPressed=!1,this._activePointers.delete(s.pointerId),this._setMouseButton(s),this._updatePointerCoords(s),typeof a.mouseReleased==&amp;quot;function&amp;quot;&amp;amp;&amp;amp;(o=a.mouseReleased(s),o===!1&amp;amp;&amp;amp;s.preventDefault())},t._ondragend=t._onpointerup,t._ondragover=t._onpointermove,t._onclick=function(s){let a=this._isGlobal?window:this;typeof a.mouseClicked==&amp;quot;function&amp;quot;&amp;amp;&amp;amp;a.mouseClicked(s)===!1&amp;amp;&amp;amp;s.preventDefault()},t._ondblclick=function(s){let a=this._isGlobal?window:this;typeof a.doubleClicked==&amp;quot;function&amp;quot;&amp;amp;&amp;amp;a.doubleClicked(s)===!1&amp;amp;&amp;amp;s.preventDefault()},t._mouseWheelDeltaY=0,t._pmouseWheelDeltaY=0,t._onwheel=function(s){let a=this._isGlobal?window:this;this._mouseWheelDeltaY=s.deltaY,typeof a.mouseWheel==&amp;quot;function&amp;quot;&amp;amp;&amp;amp;(s.delta=s.deltaY,a.mouseWheel(s)===!1&amp;amp;&amp;amp;s.preventDefault())},t.requestPointerLock=function(){let s=this._curElement.elt;return s.requestPointerLock=s.requestPointerLock||s.mozRequestPointerLock,s.requestPointerLock?(s.requestPointerLock(),!0):(console.log(&amp;quot;requestPointerLock is not implemented in this browser&amp;quot;),!1)},t.exitPointerLock=function(){document.exitPointerLock()}}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;Vf(p5,p5.prototype);function Dg(i){i.registerAddon(Pf),i.registerAddon(Of),i.registerAddon(Vf)}var dR=Se(or());var yR=Se(Bt()),vR=Se(ur());var NR=Se(lr());function Fg(i){i.registerAddon(sl),i.registerAddon(al),i.registerAddon(Kh),i.registerAddon(Ya),i.registerAddon(io),i.registerAddon(no)}var Uf=class{constructor(t){this.columns=[],this.rows=[]}toString(t=&amp;quot;,&amp;quot;){let r=this.rows.map(n=&amp;gt;n.arr);return this.columns.some(n=&amp;gt;n===null)||(r=[this.columns,...r]),nm(r,{separator:t})}addRow(t){let r=t||new p5.TableRow;if(typeof r.arr&amp;gt;&amp;quot;u&amp;quot;||typeof r.obj&amp;gt;&amp;quot;u&amp;quot;)throw new Error(`invalid TableRow: ${r}`);return r.table=this,this.rows.push(r),r}removeRow(t){this.rows[t].table=null;let r=this.rows.splice(t+1,this.rows.length);this.rows.pop(),this.rows=this.rows.concat(r)}getRow(t){return this.rows[t]}getRows(){return this.rows}findRow(t,r){if(typeof r==&amp;quot;string&amp;quot;){for(let n=0;n&amp;lt;this.rows.length;n++)if(this.rows[n].obj[this.columns.indexOf(r)]===t)return this.rows[n]}else for(let n=0;n&amp;lt;this.rows.length;n++)if(this.rows[n].arr[r]===t)return this.rows[n];return null}findRows(t,r){let n=[];if(typeof r==&amp;quot;string&amp;quot;)for(let s=0;s&amp;lt;this.rows.length;s++)this.rows[s].obj[this.columns.indexOf(r)]===t&amp;amp;&amp;amp;n.push(this.rows[s]);else for(let s=0;s&amp;lt;this.rows.length;s++)this.rows[s].arr[r]===t&amp;amp;&amp;amp;n.push(this.rows[s]);return n}matchRow(t,r){if(typeof r==&amp;quot;number&amp;quot;){for(let n=0;n&amp;lt;this.rows.length;n++)if(this.rows[n].arr[r].match(t))return this.rows[n]}else for(let n=0;n&amp;lt;this.rows.length;n++)if(this.rows[n].obj[this.columns.indexOf(r)].match(t))return this.rows[n];return null}matchRows(t,r){let n=[];if(typeof r==&amp;quot;number&amp;quot;)for(let s=0;s&amp;lt;this.rows.length;s++)this.rows[s].arr[r].match(t)&amp;amp;&amp;amp;n.push(this.rows[s]);else for(let s=0;s&amp;lt;this.rows.length;s++)this.rows[s].obj[this.columns.indexOf(r)].match(t)&amp;amp;&amp;amp;n.push(this.rows[s]);return n}getColumn(t){let r=[];if(typeof t==&amp;quot;string&amp;quot;)for(let n=0;n&amp;lt;this.rows.length;n++)r.push(this.rows[n].obj[this.columns.indexOf(t)]);else for(let n=0;n&amp;lt;this.rows.length;n++)r.push(this.rows[n].arr[t]);return r}clearRows(){delete this.rows,this.rows=[]}addColumn(t){let r=t||null;this.columns.push(r)}getColumnCount(){return this.columns.length}getRowCount(){return this.rows.length}removeTokens(t,r){let n=o=&amp;gt;o.replace(/[-/\\^$*+?.()|[\]{}]/g,&amp;quot;\\$&amp;amp;&amp;quot;),s=[];for(let o=0;o&amp;lt;t.length;o++)s.push(n(t.charAt(o)));let a=new RegExp(s.join(&amp;quot;|&amp;quot;),&amp;quot;g&amp;quot;);if(typeof r&amp;gt;&amp;quot;u&amp;quot;)for(let o=0;o&amp;lt;this.columns.length;o++)for(let u=0;u&amp;lt;this.rows.length;u++){let h=this.rows[u].arr[o];h=h.replace(a,&amp;quot;&amp;quot;),this.rows[u].arr[o]=h,this.rows[u].obj[this.columns[o]]=h}else if(typeof r==&amp;quot;string&amp;quot;)for(let o=0;o&amp;lt;this.rows.length;o++){let u=this.rows[o].obj[r];u=u.replace(a,&amp;quot;&amp;quot;),this.rows[o].obj[r]=u;let h=this.columns.indexOf(r);this.rows[o].arr[h]=u}else for(let o=0;o&amp;lt;this.rows.length;o++){let u=this.rows[o].arr[r];u=u.replace(a,&amp;quot;&amp;quot;),this.rows[o].arr[r]=u,this.rows[o].obj[this.columns[r]]=u}}trim(t){let r=new RegExp(&amp;quot; &amp;quot;,&amp;quot;g&amp;quot;);if(typeof t&amp;gt;&amp;quot;u&amp;quot;)for(let n=0;n&amp;lt;this.columns.length;n++)for(let s=0;s&amp;lt;this.rows.length;s++){let a=this.rows[s].arr[n];a=a.replace(r,&amp;quot;&amp;quot;),this.rows[s].arr[n]=a,this.rows[s].obj[this.columns[n]]=a}else if(typeof t==&amp;quot;string&amp;quot;)for(let n=0;n&amp;lt;this.rows.length;n++){let s=this.rows[n].obj[t];s=s.replace(r,&amp;quot;&amp;quot;),this.rows[n].obj[t]=s;let a=this.columns.indexOf(t);this.rows[n].arr[a]=s}else for(let n=0;n&amp;lt;this.rows.length;n++){let s=this.rows[n].arr[t];s=s.replace(r,&amp;quot;&amp;quot;),this.rows[n].arr[t]=s,this.rows[n].obj[this.columns[t]]=s}}removeColumn(t){let r,n;typeof t==&amp;quot;string&amp;quot;?(r=t,n=this.columns.indexOf(t)):(n=t,r=this.columns[t]);let s=this.columns.splice(n+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(s);for(let a=0;a&amp;lt;this.rows.length;a++){let o=this.rows[a].arr,u=o.splice(n+1,o.length);o.pop(),this.rows[a].arr=o.concat(u),delete this.rows[a].obj[r]}}set(t,r,n){this.rows[t].set(r,n)}setNum(t,r,n){this.rows[t].setNum(r,n)}setString(t,r,n){this.rows[t].setString(r,n)}get(t,r){return typeof r==&amp;quot;string&amp;quot;?this.rows[t].get(this.columns.indexOf(r)):this.rows[t].get(r)}getNum(t,r){return this.rows[t].getNum(r)}getString(t,r){return this.rows[t].getString(r)}getObject(t){let r={},n,s,a;for(let o=0;o&amp;lt;this.rows.length;o++)if(n=this.rows[o].obj,typeof t==&amp;quot;string&amp;quot;)if(s=this.columns.indexOf(t),s&amp;gt;=0)a=n[t],r[a]=n;else throw new Error(`This table has no column named &amp;quot;${t}&amp;quot;`);else r[o]=this.rows[o].obj;return r}getArray(){let t=[];for(let r=0;r&amp;lt;this.rows.length;r++)t.push(this.rows[r].arr);return t}};function Gf(i,t){i.Table=Uf}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;Gf(p5,p5.prototype);var zf=class{constructor(t=[]){let r=t;this.arr=r,this.obj=Object.fromEntries(r.entries()),this.table=null}set(t,r){if(typeof t==&amp;quot;string&amp;quot;){let n=this.table.columns.indexOf(t);if(n&amp;gt;=0)this.obj[t]=r,this.arr[n]=r;else throw new Error(`This table has no column named &amp;quot;${t}&amp;quot;`)}else if(t&amp;lt;this.table.columns.length){this.arr[t]=r;let n=this.table.columns[t];this.obj[n]=r}else throw new Error(`Column #${t} is out of the range of this table`)}setNum(t,r){let n=parseFloat(r);this.set(t,n)}setString(t,r){let n=r.toString();this.set(t,n)}get(t){return typeof t==&amp;quot;string&amp;quot;?this.obj[this.table.columns.indexOf(t)]:this.arr[t]}getNum(t){let r;if(typeof t==&amp;quot;string&amp;quot;?r=parseFloat(this.obj[this.table.columns.indexOf(t)]):r=parseFloat(this.arr[t]),r.toString()===&amp;quot;NaN&amp;quot;)throw`Error: ${this.obj[t]} is NaN (Not a Number)`;return r}getString(t){return typeof t==&amp;quot;string&amp;quot;?this.obj[this.table.columns.indexOf(t)].toString():this.arr[t].toString()}};function jf(i,t){i.TableRow=zf}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;jf(p5,p5.prototype);var rB=Se(Bt());var hB=Se(or());var fB=Se(ur());var EB=Se(lr());function Tg(i){i.registerAddon(Ec),i.registerAddon(Gf),i.registerAddon(jf),i.registerAddon($h)}function $f(i,t){t.abs=Math.abs,t.ceil=Math.ceil,t.constrain=function(r,n,s){return Math.max(Math.min(r,s),n)},t.dist=function(...r){if(r.length===4)return Math.hypot(r[2]-r[0],r[3]-r[1]);if(r.length===6)return Math.hypot(r[3]-r[0],r[4]-r[1],r[5]-r[2])},t.exp=Math.exp,t.floor=Math.floor,t.lerp=function(r,n,s){return s*(n-r)+r},t.log=Math.log,t.mag=function(r,n){return Math.hypot(r,n)},t.map=function(r,n,s,a,o,u){let h=(r-n)/(s-n)*(o-a)+a;return u?a&amp;lt;o?this.constrain(h,a,o):this.constrain(h,o,a):h},t.max=function(...r){let n=s=&amp;gt;{let a=-1/0;for(let o of s)a=Math.max(a,o);return a};return r[0]instanceof Array?n(r[0]):n(r)},t.min=function(...r){let n=s=&amp;gt;{let a=1/0;for(let o of s)a=Math.min(a,o);return a};return r[0]instanceof Array?n(r[0]):n(r)},t.norm=function(r,n,s){return this.map(r,n,s,0,1)},t.pow=Math.pow,t.round=function(r,n){if(!n)return Math.round(r);let s=Math.pow(10,n);return Math.round(r*s)/s},t.sq=r=&amp;gt;r*r,t.sqrt=Math.sqrt,t.fract=function(r){let n=0,s=Number(r);if(isNaN(s)||Math.abs(s)===1/0)return s;if(s&amp;lt;0&amp;amp;&amp;amp;(s=-s,n=1),String(s).includes(&amp;quot;.&amp;quot;)&amp;amp;&amp;amp;!String(s).includes(&amp;quot;e&amp;quot;)){let a=String(s);return a=+(&amp;quot;0&amp;quot;+a.slice(a.indexOf(&amp;quot;.&amp;quot;))),Math.abs(n-a)}else return s&amp;lt;1?Math.abs(n-s):0}}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;$f(p5,p5.prototype);function Hf(i,t){let u=4,h=.5,l=p=&amp;gt;.5*(1-Math.cos(p*Math.PI)),c;t.noise=function(p,f=0,d=0){if(c==null){c=new Array(4096);for(let D=0;D&amp;lt;4096;D++)c[D]=Math.random()}p&amp;lt;0&amp;amp;&amp;amp;(p=-p),f&amp;lt;0&amp;amp;&amp;amp;(f=-f),d&amp;lt;0&amp;amp;&amp;amp;(d=-d);let m=Math.floor(p),g=Math.floor(f),v=Math.floor(d),w=p-m,y=f-g,S=d-v,_,b,I=0,E=.5,A,C,T;for(let D=0;D&amp;lt;u;D++){let F=m+(g&amp;lt;&amp;lt;4)+(v&amp;lt;&amp;lt;8);_=l(w),b=l(y),A=c[F&amp;amp;4095],A+=_*(c[F+1&amp;amp;4095]-A),C=c[F+16&amp;amp;4095],C+=_*(c[F+16+1&amp;amp;4095]-C),A+=b*(C-A),F+=256,C=c[F&amp;amp;4095],C+=_*(c[F+1&amp;amp;4095]-C),T=c[F+16&amp;amp;4095],T+=_*(c[F+16+1&amp;amp;4095]-T),C+=b*(T-C),A+=l(S)*(C-A),I+=A*E,E*=h,m&amp;lt;&amp;lt;=1,w*=2,g&amp;lt;&amp;lt;=1,y*=2,v&amp;lt;&amp;lt;=1,S*=2,w&amp;gt;=1&amp;amp;&amp;amp;(m++,w--),y&amp;gt;=1&amp;amp;&amp;amp;(g++,y--),S&amp;gt;=1&amp;amp;&amp;amp;(v++,S--)}return I},t.noiseDetail=function(p,f){p&amp;gt;0&amp;amp;&amp;amp;(u=p),f&amp;gt;0&amp;amp;&amp;amp;(h=f)},t.noiseSeed=function(p){let f=(()=&amp;gt;{let v,w;return{setSeed(y){w=v=(y??Math.random()*4294967296)&amp;gt;&amp;gt;&amp;gt;0},getSeed(){return v},rand(){return w=(1664525*w+1013904223)%4294967296,w/4294967296}}})();f.setSeed(p),c=new Array(4096);for(let d=0;d&amp;lt;4096;d++)c[d]=f.rand()}}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;Hf(p5,p5.prototype);function Wf(i,t){let r=&amp;quot;_lcg_random_state&amp;quot;,o=0;t._lcg=function(u){return this[u]=(1664525*this[u]+1013904223)%4294967296,this[u]/4294967296},t._lcgSetSeed=function(u,h){this[u]=(h??Math.random()*4294967296)&amp;gt;&amp;gt;&amp;gt;0},t.randomSeed=function(u){this._lcgSetSeed(r,u),this._gaussian_previous=!1},t.random=function(u,h){let l;if(this[r]!=null?l=this._lcg(r):l=Math.random(),typeof u&amp;gt;&amp;quot;u&amp;quot;)return l;if(typeof h&amp;gt;&amp;quot;u&amp;quot;)return u instanceof Array?u[Math.floor(l*u.length)]:l*u;if(u&amp;gt;h){let c=u;u=h,h=c}return l*(h-u)+u},t.randomGaussian=function(u,h=1){let l,c,p,f;if(this._gaussian_previous)l=o,this._gaussian_previous=!1;else{do c=this.random(2)-1,p=this.random(2)-1,f=c*c+p*p;while(f&amp;gt;=1);f=Math.sqrt(-2*Math.log(f)/f),l=c*f,o=p*f,this._gaussian_previous=!0}let d=u||0;return l*h+d}}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;Wf(p5,p5.prototype);function qf(i,t){t.createVector=function(r,n,s){return this instanceof i?new i.Vector(this._fromRadians.bind(this),this._toRadians.bind(this),...arguments):new i.Vector(r,n,s)},t.createMatrix=function(...r){return new i.Matrix(...r)}}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;qf(p5,p5.prototype);function Ng(i){i.registerAddon($f),i.registerAddon(Hf),i.registerAddon(Wf),i.registerAddon(ro),i.registerAddon(qf),i.registerAddon(Sh)}function Zf(i,t){t.float=function(r){return r instanceof Array?r.map(parseFloat):parseFloat(r)},t.int=function(r,n=10){if(r===1/0||r===&amp;quot;Infinity&amp;quot;)return 1/0;if(r===-1/0||r===&amp;quot;-Infinity&amp;quot;)return-1/0;if(typeof r==&amp;quot;string&amp;quot;)return parseInt(r,n);if(typeof r==&amp;quot;number&amp;quot;)return r|0;if(typeof r==&amp;quot;boolean&amp;quot;)return r?1:0;if(r instanceof Array)return r.map(s=&amp;gt;t.int(s,n))},t.str=function(r){return r instanceof Array?r.map(t.str):String(r)},t.boolean=function(r){if(typeof r==&amp;quot;number&amp;quot;)return r!==0;if(typeof r==&amp;quot;string&amp;quot;)return r.toLowerCase()===&amp;quot;true&amp;quot;;if(typeof r==&amp;quot;boolean&amp;quot;)return r;if(r instanceof Array)return r.map(t.boolean)},t.byte=function(r){let n=t.int(r,10);if(typeof n==&amp;quot;number&amp;quot;)return(n+128)%256-128;if(n instanceof Array)return n.map(t.byte)},t.char=function(r){if(typeof r==&amp;quot;number&amp;quot;&amp;amp;&amp;amp;!isNaN(r))return String.fromCharCode(r);if(r instanceof Array)return r.map(t.char);if(typeof r==&amp;quot;string&amp;quot;)return t.char(parseInt(r,10))},t.unchar=function(r){if(typeof r==&amp;quot;string&amp;quot;&amp;amp;&amp;amp;r.length===1)return r.charCodeAt(0);if(r instanceof Array)return r.map(t.unchar)},t.hex=function(r,n){if(n=n??(n=8),r instanceof Array)return r.map(s=&amp;gt;t.hex(s,n));if(r===1/0||r===-1/0)return(r===1/0?&amp;quot;F&amp;quot;:&amp;quot;0&amp;quot;).repeat(n);if(typeof r==&amp;quot;number&amp;quot;){r&amp;lt;0&amp;amp;&amp;amp;(r=4294967295+r+1);let s=Number(r).toString(16).toUpperCase();for(;s.length&amp;lt;n;)s=`0${s}`;return s.length&amp;gt;=n&amp;amp;&amp;amp;(s=s.substring(s.length-n,s.length)),s}},t.unhex=function(r){return r instanceof Array?r.map(t.unhex):parseInt(`0x${r}`,16)}}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;Zf(p5,p5.prototype);function Yf(i,t){t.nf=function(o,u,h){return o instanceof Array?o.map(l=&amp;gt;r(l,u,h)):Object.prototype.toString.call(o)===&amp;quot;[object Arguments]&amp;quot;?o.length===3?this.nf(o[0],o[1],o[2]):o.length===2?this.nf(o[0],o[1]):this.nf(o[0]):r(o,u,h)};function r(o,u,h){let l=o&amp;lt;0;o=Math.abs(o);let[c,p]=o.toString().split(&amp;quot;.&amp;quot;);if(typeof h&amp;gt;&amp;quot;u&amp;quot;){c=c.padStart(u,&amp;quot;0&amp;quot;);let f=p?c+&amp;quot;.&amp;quot;+p:c;return l?&amp;quot;-&amp;quot;+f:f}else{[c,p]=o.toFixed(h).toString().split(&amp;quot;.&amp;quot;),c=c.padStart(u,&amp;quot;0&amp;quot;);let d=typeof p&amp;gt;&amp;quot;u&amp;quot;?c:c+&amp;quot;.&amp;quot;+p;return l?&amp;quot;-&amp;quot;+d:d}}t.nfc=function(o,u){return o instanceof Array?o.map(h=&amp;gt;n(h,u)):n(o,u)};function n(o,u){o=o.toString();let h=o.indexOf(&amp;quot;.&amp;quot;),l=h!==-1?o.substring(h):&amp;quot;&amp;quot;,c=h!==-1?o.substring(0,h):o;if(c=c.toString().replace(/\B(?=(\d{3})+(?!\d))/g,&amp;quot;,&amp;quot;),u===0)l=&amp;quot;&amp;quot;;else if(typeof u&amp;lt;&amp;quot;u&amp;quot;)if(u&amp;gt;l.length){l+=h===-1?&amp;quot;.&amp;quot;:&amp;quot;&amp;quot;;let p=u-l.length+1;for(let f=0;f&amp;lt;p;f++)l+=&amp;quot;0&amp;quot;}else l=l.substring(0,u+1);return c+l}t.nfp=function(...o){let u=t.nf.apply(this,o);return u instanceof Array?u.map(s):s(u)};function s(o){return parseFloat(o)&amp;gt;0?`+${o.toString()}`:o.toString()}t.nfs=function(...o){let u=t.nf.apply(this,o);return u instanceof Array?u.map(a):a(u)};function a(o){return parseFloat(o)&amp;gt;=0?` ${o.toString()}`:o.toString()}t.splitTokens=function(o,u){let h;if(typeof u&amp;lt;&amp;quot;u&amp;quot;){let l=u,c=/\]/g.exec(l),p=/\[/g.exec(l);p&amp;amp;&amp;amp;c?(l=l.slice(0,c.index)+l.slice(c.index+1),p=/\[/g.exec(l),l=l.slice(0,p.index)+l.slice(p.index+1),h=new RegExp(`[\\[${l}\\]]`,&amp;quot;g&amp;quot;)):c?(l=l.slice(0,c.index)+l.slice(c.index+1),h=new RegExp(`[${l}\\]]`,&amp;quot;g&amp;quot;)):p?(l=l.slice(0,p.index)+l.slice(p.index+1),h=new RegExp(`[${l}\\[]`,&amp;quot;g&amp;quot;)):h=new RegExp(`[${l}]`,&amp;quot;g&amp;quot;)}else h=/\s/g;return o.split(h).filter(l=&amp;gt;l)},t.shuffle=function(o,u){let h=ArrayBuffer&amp;amp;&amp;amp;ArrayBuffer.isView&amp;amp;&amp;amp;ArrayBuffer.isView(o);o=u||h?o:o.slice();let l,c,p=o.length;for(;p&amp;gt;1;)l=this.random(0,1)*p|0,c=o[--p],o[p]=o[l],o[l]=c;return o}}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;Yf(p5,p5.prototype);function Xf(i,t){t.day=function(){return new Date().getDate()},t.hour=function(){return new Date().getHours()},t.minute=function(){return new Date().getMinutes()},t.millis=function(){return this._millisStart===-1?0:window.performance.now()-this._millisStart},t.month=function(){return new Date().getMonth()+1},t.second=function(){return new Date().getSeconds()},t.year=function(){return new Date().getFullYear()}}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;Xf(p5,p5.prototype);function Ig(i){i.registerAddon(Zf),i.registerAddon(Yf),i.registerAddon(Xf)}function Kf(i,t){t.orbitControl=function(r,n,s,a){this._assert3d(&amp;quot;orbitControl&amp;quot;);let o=this._renderer.states.curCamera;typeof r&amp;gt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;(r=1),typeof n&amp;gt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;(n=r),typeof s&amp;gt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;(s=1),typeof a!=&amp;quot;object&amp;quot;&amp;amp;&amp;amp;(a={}),this.contextMenuDisabled!==!0&amp;amp;&amp;amp;(this.canvas.oncontextmenu=()=&amp;gt;!1,this.contextMenuDisabled=!0),this.wheelDefaultDisabled!==!0&amp;amp;&amp;amp;(this.canvas.onwheel=()=&amp;gt;!1,this.wheelDefaultDisabled=!0);let{disableTouchActions:u=!0}=a;this.touchActionsDisabled!==!0&amp;amp;&amp;amp;u&amp;amp;&amp;amp;(this.canvas.style[&amp;quot;touch-action&amp;quot;]=&amp;quot;none&amp;quot;,this.touchActionsDisabled=!0);let{freeRotation:h=!1}=a,l=[];this.touches.forEach(I=&amp;gt;{this._renderer.prevTouches.forEach(E=&amp;gt;{if(I.id===E.id){let A={x:I.x,y:I.y,px:E.x,py:E.y};l.push(A)}})}),this._renderer.prevTouches=this.touches;let c=0,p=0,f=0,d=0,m=0,g=.85,v=.6,w=.15,y=.01,S=4e-4,_=this.height&amp;lt;this.width?this.height:this.width,b=!1;if(l.length&amp;gt;0){if(b=l[0].x&amp;gt;0&amp;amp;&amp;amp;l[0].x&amp;lt;this.width&amp;amp;&amp;amp;l[0].y&amp;gt;0&amp;amp;&amp;amp;l[0].y&amp;lt;this.height,l.length===1){let I=l[0];p=-r*(I.x-I.px)/_,f=n*(I.y-I.py)/_}else{let I=l[0],E=l[1],A=Math.hypot(I.x-E.x,I.y-E.y),C=Math.hypot(I.px-E.px,I.py-E.py);c=-(A-C)*s*S,d=.5*(I.x+E.x)-.5*(I.px+E.px),m=.5*(I.y+E.y)-.5*(I.py+E.py)}this.touches.length&amp;gt;0?b&amp;amp;&amp;amp;(this._renderer.executeRotateAndMove=!0,this._renderer.executeZoom=!0):(this._renderer.executeRotateAndMove=!1,this._renderer.executeZoom=!1)}else b=this.mouseX&amp;gt;0&amp;amp;&amp;amp;this.mouseX&amp;lt;this.width&amp;amp;&amp;amp;this.mouseY&amp;gt;0&amp;amp;&amp;amp;this.mouseY&amp;lt;this.height,this._mouseWheelDeltaY!==0?(c=Math.sign(this._mouseWheelDeltaY)*s,c*=y,this._mouseWheelDeltaY=0,b&amp;amp;&amp;amp;(this._renderer.executeZoom=!0)):this._renderer.executeZoom=!1,this.mouseIsPressed?(this.mouseButton.left?(p=-r*this.movedX/_,f=n*this.movedY/_):this.mouseButton.right&amp;amp;&amp;amp;(d=this.movedX,m=this.movedY*o.yScale),b&amp;amp;&amp;amp;(this._renderer.executeRotateAndMove=!0)):this._renderer.executeRotateAndMove=!1;if(c!==0&amp;amp;&amp;amp;this._renderer.executeZoom&amp;amp;&amp;amp;(this._renderer.zoomVelocity+=c),Math.abs(this._renderer.zoomVelocity)&amp;gt;.001?(h?o._orbitFree(0,0,this._renderer.zoomVelocity):o._orbit(0,0,this._renderer.zoomVelocity),o.projMatrix.mat4[15]!==0&amp;amp;&amp;amp;(o.projMatrix.mat4[0]*=Math.pow(10,-this._renderer.zoomVelocity),o.projMatrix.mat4[5]*=Math.pow(10,-this._renderer.zoomVelocity),this._renderer.states.setValue(&amp;quot;uPMatrix&amp;quot;,this._renderer.states.uPMatrix.clone()),this._renderer.states.uPMatrix.mat4[0]=o.projMatrix.mat4[0],this._renderer.states.uPMatrix.mat4[5]=o.projMatrix.mat4[5]),this._renderer.zoomVelocity*=g):this._renderer.zoomVelocity=0,(p!==0||f!==0)&amp;amp;&amp;amp;this._renderer.executeRotateAndMove&amp;amp;&amp;amp;this._renderer.rotateVelocity.add(p*v,f*v),this._renderer.rotateVelocity.magSq()&amp;gt;1e-6?(h?o._orbitFree(-this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0):o._orbit(this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0),this._renderer.rotateVelocity.mult(g)):this._renderer.rotateVelocity.set(0,0),(d!==0||m!==0)&amp;amp;&amp;amp;this._renderer.executeRotateAndMove){let I=d*2/this.width,E=-m*2/this.height;this._renderer.moveVelocity.add(I*w,E*w)}if(this._renderer.moveVelocity.magSq()&amp;gt;1e-6){let I=o._getLocalAxes(),E=o.eyeX-o.centerX,A=o.eyeY-o.centerY,C=o.eyeZ-o.centerZ,T=Math.sqrt(E*E+A*A+C*C),D=new H(o.centerX,o.centerY,o.centerZ);D=o.cameraMatrix.multiplyPoint(D),D=this._renderer.states.uPMatrix.multiplyAndNormalizePoint(D),D.x-=this._renderer.moveVelocity.x,D.y-=this._renderer.moveVelocity.y;let F,N,B=this._renderer.states.uPMatrix.mat4;B[15]===0?(F=(B[8]+D.x)/B[0]*T,N=(B[9]+D.y)/B[5]*T):(F=(D.x-B[12])/B[0],N=(D.y-B[13])/B[5]),o.setPosition(o.eyeX+F*I.x[0]+N*I.y[0],o.eyeY+F*I.x[1]+N*I.y[1],o.eyeZ+F*I.x[2]+N*I.y[2]),this._renderer.moveVelocity.mult(g)}else this._renderer.moveVelocity.set(0,0);return this},t.debugMode=function(...r){this._assert3d(&amp;quot;debugMode&amp;quot;);for(let n=i.lifecycleHooks.postdraw.length-1;n&amp;gt;=0;n--)(i.lifecycleHooks.postdraw[n].toString()===this._grid().toString()||i.lifecycleHooks.postdraw[n].toString()===this._axesIcon().toString())&amp;amp;&amp;amp;i.lifecycleHooks.postdraw.splice(n,1);r[0]===xh?i.lifecycleHooks.postdraw.push(this._grid(r[1],r[2],r[3],r[4],r[5])):r[0]===bh?i.lifecycleHooks.postdraw.push(this._axesIcon(r[1],r[2],r[3],r[4])):(i.lifecycleHooks.postdraw.push(this._grid(r[0],r[1],r[2],r[3],r[4])),i.lifecycleHooks.postdraw.push(this._axesIcon(r[5],r[6],r[7],r[8])))},t.noDebugMode=function(){this._assert3d(&amp;quot;noDebugMode&amp;quot;);for(let r=i.lifecycleHooks.postdraw.length-1;r&amp;gt;=0;r--)(i.lifecycleHooks.postdraw[r].toString()===this._grid().toString()||i.lifecycleHooks.postdraw[r].toString()===this._axesIcon().toString())&amp;amp;&amp;amp;i.lifecycleHooks.postdraw.splice(r,1)},t._grid=function(r,n,s,a,o){typeof r&amp;gt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;(r=this.width/2),typeof n&amp;gt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;(n=Math.round(r/30)&amp;lt;4?4:Math.round(r/30)),typeof s&amp;gt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;(s=0),typeof a&amp;gt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;(a=0),typeof o&amp;gt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;(o=0);let u=r/n,h=r/2;return function(){this.push(),this.stroke(this._renderer.states.curStrokeColor[0]*255,this._renderer.states.curStrokeColor[1]*255,this._renderer.states.curStrokeColor[2]*255),this._renderer.states.setValue(&amp;quot;uModelMatrix&amp;quot;,this._renderer.states.uModelMatrix.clone()),this._renderer.states.uModelMatrix.reset();for(let l=0;l&amp;lt;=n;l++)this.beginShape(this.LINES),this.vertex(-h+s,a,l*u-h+o),this.vertex(+h+s,a,l*u-h+o),this.endShape();for(let l=0;l&amp;lt;=n;l++)this.beginShape(this.LINES),this.vertex(l*u-h+s,a,-h+o),this.vertex(l*u-h+s,a,+h+o),this.endShape();this.pop()}},t._axesIcon=function(r,n,s,a){return typeof r&amp;gt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;(r=this.width/20&amp;gt;40?this.width/20:40),typeof n&amp;gt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;(n=-this.width/4),typeof s&amp;gt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;(s=n),typeof a&amp;gt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;(a=n),()=&amp;gt;{this.push(),this._renderer.states.setValue(&amp;quot;uModelMatrix&amp;quot;,this._renderer.states.uModelMatrix.clone()),this._renderer.states.uModelMatrix.reset(),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(n,s,a),this.vertex(n+r,s,a),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(n,s,a),this.vertex(n,s+r,a),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(n,s,a),this.vertex(n,s,a+r),this.endShape(),this.pop()}}}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;Kf(p5,p5.prototype);var f8=Se(Bt());var b8=Se(or());var w8=Se(ur());var k8=Se(lr());async function B2(i){try{return(await fetch(i,{method:&amp;quot;HEAD&amp;quot;})).ok}catch{return!1}}function Jf(i,t){t.loadModel=async function(c,p,f,d,m){let g=!1,v=!1;typeof p==&amp;quot;object&amp;quot;?(f=p.normalize||!1,d=p.successCallback,m=p.failureCallback,p=p.fileType||p,g=p.flipU||!1,v=p.flipV||!1):(typeof arguments[arguments.length-1]==&amp;quot;function&amp;quot;&amp;amp;&amp;amp;(typeof arguments[arguments.length-2]==&amp;quot;function&amp;quot;?(d=arguments[arguments.length-2],m=arguments[arguments.length-1]):d=arguments[arguments.length-1]),typeof p==&amp;quot;string&amp;quot;?typeof f!=&amp;quot;boolean&amp;quot;&amp;amp;&amp;amp;(f=!1):typeof p==&amp;quot;boolean&amp;quot;?(f=p,p=c.slice(-4)):(p=c.slice(-4),f=!1)),p.toLowerCase()!==&amp;quot;.obj&amp;quot;&amp;amp;&amp;amp;p.toLowerCase()!==&amp;quot;.stl&amp;quot;&amp;amp;&amp;amp;(p=&amp;quot;.obj&amp;quot;);let w=new dt(void 0,void 0,void 0,this._renderer);w.gid=`${c}|${f}`;async function y(S){let _=[];for(let b of S){let I=b.match(/^mtllib (.+)/);if(I){let E=&amp;quot;&amp;quot;,A=I[1],C=c.split(&amp;quot;/&amp;quot;);C.length&amp;gt;1?(C.pop(),E=C.join(&amp;quot;/&amp;quot;)+&amp;quot;/&amp;quot;+A):E=A,_.push(B2(E).then(T=&amp;gt;T?r(E):(console.warn(`MTL file not found or error in parsing; proceeding without materials: ${E}`),{})).catch(T=&amp;gt;(console.warn(`Error loading MTL file: ${E}`,T),{})))}}try{let b=await Promise.all(_);return Object.assign({},...b)}catch{return{}}}try{if(p.match(/\.stl$/i)){let{data:S}=await Kt(c,&amp;quot;arrayBuffer&amp;quot;);return s(w,S),f&amp;amp;&amp;amp;w.normalize(),g&amp;amp;&amp;amp;w.flipU(),v&amp;amp;&amp;amp;w.flipV(),w._makeTriangleEdges(),d?d(w):w}else if(p.match(/\.obj$/i)){let{data:S}=await Kt(c,&amp;quot;text&amp;quot;),_=S.split(`
<a href="#l2323" class="line" id="l2323">   2323</a> &lt;a href=&quot;#l2304&quot; class=&quot;line&quot; id=&quot;l2304&quot;&gt;   2304&lt;/a&gt; `),b=await y(_);return n(w,_,b),f&amp;amp;&amp;amp;w.normalize(),g&amp;amp;&amp;amp;w.flipU(),v&amp;amp;&amp;amp;w.flipV(),w._makeTriangleEdges(),d?d(w):w}}catch(S){if(i._friendlyFileLoadError(3,c),m)return m(S);throw S}};async function r(c){let p=null,f={},{data:d}=await Kt(c,&amp;quot;text&amp;quot;),m=d.split(`
<a href="#l2324" class="line" id="l2324">   2324</a> &lt;a href=&quot;#l2305&quot; class=&quot;line&quot; id=&quot;l2305&quot;&gt;   2305&lt;/a&gt; `);for(let g=0;g&amp;lt;m.length;++g){let v=m[g].trim().split(/\s+/);v[0]===&amp;quot;newmtl&amp;quot;?(p=v[1],f[p]={}):v[0]===&amp;quot;Kd&amp;quot;?f[p].diffuseColor=[parseFloat(v[1]),parseFloat(v[2]),parseFloat(v[3])]:v[0]===&amp;quot;Ka&amp;quot;?f[p].ambientColor=[parseFloat(v[1]),parseFloat(v[2]),parseFloat(v[3])]:v[0]===&amp;quot;Ks&amp;quot;?f[p].specularColor=[parseFloat(v[1]),parseFloat(v[2]),parseFloat(v[3])]:v[0]===&amp;quot;map_Kd&amp;quot;&amp;amp;&amp;amp;(f[p].texturePath=v[1])}return f}function n(c,p,f={}){let d={v:[],vt:[],vn:[]},m={},g=null,v=!1,w=!1;for(let y=0;y&amp;lt;p.length;++y){let S=p[y].trim().split(/\b\s+/);if(S.length&amp;gt;0){if(S[0]===&amp;quot;usemtl&amp;quot;)g=S[1];else if(S[0]===&amp;quot;v&amp;quot;||S[0]===&amp;quot;vn&amp;quot;){let _=new H(parseFloat(S[1]),parseFloat(S[2]),parseFloat(S[3]));d[S[0]].push(_)}else if(S[0]===&amp;quot;vt&amp;quot;){let _=[parseFloat(S[1]),1-parseFloat(S[2])];d[S[0]].push(_)}else if(S[0]===&amp;quot;f&amp;quot;)for(let _=3;_&amp;lt;S.length;++_){let b=[],I=[1,_-1,_];for(let E=0;E&amp;lt;I.length;++E){let A=S[I[E]],C=A.split(&amp;quot;/&amp;quot;);for(let T=0;T&amp;lt;C.length;T++)C[T]=parseInt(C[T])-1;if(m[A]||(m[A]={}),m[A][g]===void 0){let T=c.vertices.length;if(c.vertices.push(d.v[C[0]].copy()),c.uvs.push(d.vt[C[1]]?d.vt[C[1]].slice():[0,0]),c.vertexNormals.push(d.vn[C[2]]?d.vn[C[2]].copy():new H),m[A][g]=T,b.push(T),g&amp;amp;&amp;amp;f[g]&amp;amp;&amp;amp;f[g].diffuseColor){v=!0;let D=f[g].diffuseColor;c.vertexColors.push(D[0]),c.vertexColors.push(D[1]),c.vertexColors.push(D[2]),c.vertexColors.push(1)}else w=!0}else b.push(m[A][g])}b[0]!==b[1]&amp;amp;&amp;amp;b[0]!==b[2]&amp;amp;&amp;amp;b[1]!==b[2]&amp;amp;&amp;amp;c.faces.push(b)}}}if(c.vertexNormals.length===0&amp;amp;&amp;amp;c.computeNormals(),v===w)throw new Error(&amp;quot;Model coloring is inconsistent. Either all vertices should have colors or none should.&amp;quot;);return c}function s(c,p){if(a(p))u(c,p);else{let f=new DataView(p);if(!(&amp;quot;TextDecoder&amp;quot;in window))return console.warn(&amp;quot;Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)&amp;quot;),c;let g=new TextDecoder(&amp;quot;utf-8&amp;quot;).decode(f).split(`
<a href="#l2325" class="line" id="l2325">   2325</a> &lt;a href=&quot;#l2306&quot; class=&quot;line&quot; id=&quot;l2306&quot;&gt;   2306&lt;/a&gt; `);h(c,g)}return c}function a(c){let p=new DataView(c),f=[115,111,108,105,100];for(let d=0;d&amp;lt;5;d++)if(o(f,p,d))return!1;return!0}function o(c,p,f){for(let d=0,m=c.length;d&amp;lt;m;d++)if(c[d]!==p.getUint8(f+d,!1))return!1;return!0}function u(c,p){let f=new DataView(p),d=f.getUint32(80,!0),m,g,v,w=!1,y,S,_,b;for(let A=0;A&amp;lt;70;A++)f.getUint32(A,!1)===1129270351&amp;amp;&amp;amp;f.getUint8(A+4)===82&amp;amp;&amp;amp;f.getUint8(A+5)===61&amp;amp;&amp;amp;(w=!0,y=[],S=f.getUint8(A+6)/255,_=f.getUint8(A+7)/255,b=f.getUint8(A+8)/255);let I=84,E=50;for(let A=0;A&amp;lt;d;A++){let C=I+A*E,T=f.getFloat32(C,!0),D=f.getFloat32(C+4,!0),F=f.getFloat32(C+8,!0);if(w){let B=f.getUint16(C+48,!0);(B&amp;amp;32768)===0?(m=(B&amp;amp;31)/31,g=(B&amp;gt;&amp;gt;5&amp;amp;31)/31,v=(B&amp;gt;&amp;gt;10&amp;amp;31)/31):(m=S,g=_,v=b)}let N=new H(T,D,F);for(let B=1;B&amp;lt;=3;B++){let U=C+B*12,j=new H(f.getFloat32(U,!0),f.getFloat32(U+4,!0),f.getFloat32(U+8,!0));c.vertices.push(j),c.vertexNormals.push(N),w&amp;amp;&amp;amp;y.push(m,g,v)}c.faces.push([3*A,3*A+1,3*A+2]),c.uvs.push([0,0],[0,0],[0,0])}return c}function h(c,p){let f=&amp;quot;&amp;quot;,d=[],m,g;for(let v=0;v&amp;lt;p.length;++v){let w=p[v].trim(),y=w.split(&amp;quot; &amp;quot;);for(let S=0;S&amp;lt;y.length;++S)y[S]===&amp;quot;&amp;quot;&amp;amp;&amp;amp;y.splice(S,1);if(y.length!==0)switch(f){case&amp;quot;&amp;quot;:if(y[0]!==&amp;quot;solid&amp;quot;){console.error(w),console.error(`Invalid state &amp;quot;${y[0]}&amp;quot;, should be &amp;quot;solid&amp;quot;`);return}else f=&amp;quot;solid&amp;quot;;break;case&amp;quot;solid&amp;quot;:if(y[0]!==&amp;quot;facet&amp;quot;||y[1]!==&amp;quot;normal&amp;quot;){console.error(w),console.error(`Invalid state &amp;quot;${y[0]}&amp;quot;, should be &amp;quot;facet normal&amp;quot;`);return}else m=new H(parseFloat(y[2]),parseFloat(y[3]),parseFloat(y[4])),c.vertexNormals.push(m,m,m),f=&amp;quot;facet normal&amp;quot;;break;case&amp;quot;facet normal&amp;quot;:if(y[0]!==&amp;quot;outer&amp;quot;||y[1]!==&amp;quot;loop&amp;quot;){console.error(w),console.error(`Invalid state &amp;quot;${y[0]}&amp;quot;, should be &amp;quot;outer loop&amp;quot;`);return}else f=&amp;quot;vertex&amp;quot;;break;case&amp;quot;vertex&amp;quot;:if(y[0]===&amp;quot;vertex&amp;quot;)g=new H(parseFloat(y[1]),parseFloat(y[2]),parseFloat(y[3])),c.vertices.push(g),c.uvs.push([0,0]),d.push(c.vertices.indexOf(g));else if(y[0]===&amp;quot;endloop&amp;quot;)c.faces.push(d),d=[],f=&amp;quot;endloop&amp;quot;;else{console.error(w),console.error(`Invalid state &amp;quot;${y[0]}&amp;quot;, should be &amp;quot;vertex&amp;quot; or &amp;quot;endloop&amp;quot;`);return}break;case&amp;quot;endloop&amp;quot;:if(y[0]!==&amp;quot;endfacet&amp;quot;){console.error(w),console.error(`Invalid state &amp;quot;${y[0]}&amp;quot;, should be &amp;quot;endfacet&amp;quot;`);return}else f=&amp;quot;endfacet&amp;quot;;break;case&amp;quot;endfacet&amp;quot;:if(y[0]!==&amp;quot;endsolid&amp;quot;)if(y[0]===&amp;quot;facet&amp;quot;&amp;amp;&amp;amp;y[1]===&amp;quot;normal&amp;quot;)m=new H(parseFloat(y[2]),parseFloat(y[3]),parseFloat(y[4])),c.vertexNormals.push(m,m,m),f=&amp;quot;facet normal&amp;quot;;else{console.error(w),console.error(`Invalid state &amp;quot;${y[0]}&amp;quot;, should be &amp;quot;endsolid&amp;quot; or &amp;quot;facet normal&amp;quot;`);return}break;default:console.error(`Invalid state &amp;quot;${f}&amp;quot;`);break}}return c}t.model=function(c,p=1){this._assert3d(&amp;quot;model&amp;quot;),this._renderer.model(c,p)};let l=0;t.createModel=function(c,p=&amp;quot; &amp;quot;,f){let d=!1,m,g,v=!1,w=!1;f&amp;amp;&amp;amp;typeof f==&amp;quot;object&amp;quot;?(d=f.normalize||!1,m=f.successCallback,g=f.failureCallback,v=f.flipU||!1,w=f.flipV||!1):typeof f==&amp;quot;boolean&amp;quot;?(d=f,m=arguments[3],g=arguments[4]):(m=typeof arguments[2]==&amp;quot;function&amp;quot;?arguments[2]:void 0,g=arguments[3]);let y=new i.Geometry;if(y.gid=`${p}|${d}|${l++}`,p.match(/\.stl$/i))try{let _=new TextEncoder().encode(c).buffer;s(y,_)}catch(S){g?g(S):i._friendlyError(&amp;quot;Error during parsing: &amp;quot;+S.message);return}else if(p.match(/\.obj$/i))try{let S=c.split(`
<a href="#l2326" class="line" id="l2326">   2326</a> &lt;a href=&quot;#l2307&quot; class=&quot;line&quot; id=&quot;l2307&quot;&gt;   2307&lt;/a&gt; `);n(y,S)}catch(S){g?g(S):i._friendlyError(&amp;quot;Error during parsing: &amp;quot;+S.message);return}else i._friendlyFileLoadError(3,c),g?g():i._friendlyError(&amp;quot;Sorry, the file type is invalid. Only OBJ and STL files are supported.&amp;quot;);return d&amp;amp;&amp;amp;y.normalize(),v&amp;amp;&amp;amp;y.flipU(),w&amp;amp;&amp;amp;y.flipV(),y._makeTriangleEdges(),typeof m==&amp;quot;function&amp;quot;&amp;amp;&amp;amp;m(y),y}}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;Jf(p5,p5.prototype);var W8=Se(Bt()),qt={IDEOGRAPHIC:&amp;quot;ideographic&amp;quot;,RIGHT_TO_LEFT:&amp;quot;rtl&amp;quot;,LEFT_TO_RIGHT:&amp;quot;ltr&amp;quot;,_CTX_MIDDLE:&amp;quot;middle&amp;quot;,_TEXT_BOUNDS:&amp;quot;_textBoundsSingle&amp;quot;,_FONT_BOUNDS:&amp;quot;_fontBoundsSingle&amp;quot;,HANGING:&amp;quot;hanging&amp;quot;,START:&amp;quot;start&amp;quot;,END:&amp;quot;end&amp;quot;};function Qf(i,t){let n=&amp;quot;#000000&amp;quot;,s=/\r?\n/g,a=/,\s+/,o=/^&amp;quot;.*&amp;quot;$/,u=/\t/g,h=&amp;quot;fontVariationSettings&amp;quot;,l=[&amp;quot;wght&amp;quot;,&amp;quot;wdth&amp;quot;,&amp;quot;ital&amp;quot;,&amp;quot;slnt&amp;quot;,&amp;quot;opsz&amp;quot;],c=new RegExp(`(?:${l.join(&amp;quot;|&amp;quot;)})`);[&amp;quot;text&amp;quot;,&amp;quot;textAlign&amp;quot;,&amp;quot;textAscent&amp;quot;,&amp;quot;textDescent&amp;quot;,&amp;quot;textLeading&amp;quot;,&amp;quot;textMode&amp;quot;,&amp;quot;textFont&amp;quot;,&amp;quot;textSize&amp;quot;,&amp;quot;textStyle&amp;quot;,&amp;quot;textWidth&amp;quot;,&amp;quot;textWrap&amp;quot;,&amp;quot;textBounds&amp;quot;,&amp;quot;textDirection&amp;quot;,&amp;quot;textProperty&amp;quot;,&amp;quot;textProperties&amp;quot;,&amp;quot;fontBounds&amp;quot;,&amp;quot;fontWidth&amp;quot;,&amp;quot;fontAscent&amp;quot;,&amp;quot;fontDescent&amp;quot;,&amp;quot;textWeight&amp;quot;].forEach(y=&amp;gt;{t[y]=function(...S){if(!(y in ke.prototype))throw Error(`Renderer2D.prototype.${y} is not defined.`);return this._renderer[y](...S)},i.Graphics.prototype[y]=function(...S){return this._renderer[y](...S)}});let f={textAlign:{default:t.LEFT,type:&amp;quot;Context2d&amp;quot;},textBaseline:{default:t.BASELINE,type:&amp;quot;Context2d&amp;quot;},textFont:{default:{family:&amp;quot;sans-serif&amp;quot;}},textLeading:{default:15},textSize:{default:12},textWrap:{default:t.WORD},fontStretch:{default:t.NORMAL,isShorthand:!0},fontWeight:{default:t.NORMAL,isShorthand:!0},lineHeight:{default:t.NORMAL,isShorthand:!0},fontVariant:{default:t.NORMAL,isShorthand:!0},fontStyle:{default:t.NORMAL,isShorthand:!0},direction:{default:&amp;quot;inherit&amp;quot;}},d=[&amp;quot;font&amp;quot;,&amp;quot;direction&amp;quot;,&amp;quot;fontKerning&amp;quot;,&amp;quot;fontStretch&amp;quot;,&amp;quot;fontVariantCaps&amp;quot;,&amp;quot;letterSpacing&amp;quot;,&amp;quot;textAlign&amp;quot;,&amp;quot;textBaseline&amp;quot;,&amp;quot;textRendering&amp;quot;,&amp;quot;wordSpacing&amp;quot;],m=Object.keys(f).filter(y=&amp;gt;f[y].isShorthand),g=[&amp;quot;ultra-condensed&amp;quot;,&amp;quot;extra-condensed&amp;quot;,&amp;quot;condensed&amp;quot;,&amp;quot;semi-condensed&amp;quot;,&amp;quot;normal&amp;quot;,&amp;quot;semi-expanded&amp;quot;,&amp;quot;expanded&amp;quot;,&amp;quot;extra-expanded&amp;quot;,&amp;quot;ultra-expanded&amp;quot;],v,w;if(ke.prototype.text=function(y,S,_,b,I){let E=this.textDrawingContext().textBaseline;({x:S,y:_,width:b,height:I}=this._handleRectMode(S,_,b,I));let A=this._processLines(y,b,I);A=this._positionLines(S,_,b,I,A),A.forEach(C=&amp;gt;this._renderText(C.text,C.x,C.y)),this.textDrawingContext().textBaseline=E},ke.prototype.textBounds=function(y,S,_,b,I){return this._computeBounds(qt._TEXT_BOUNDS,y,S,_,b,I).bounds},ke.prototype.fontBounds=function(y,S,_,b,I){return this._computeBounds(qt._FONT_BOUNDS,y,S,_,b,I).bounds},ke.prototype.textWidth=function(y){let S=this._processLines(y);return Math.max(...S.map(_=&amp;gt;this._textWidthSingle(_)))},ke.prototype.fontWidth=function(y){let S=this._processLines(y);return Math.max(...S.map(_=&amp;gt;this._fontWidthSingle(_)))},ke.prototype.textAscent=function(y=&amp;quot;&amp;quot;){return y.length?this.textDrawingContext().measureText(y).actualBoundingBoxAscent:this.fontAscent()},ke.prototype.fontAscent=function(){return this.textDrawingContext().measureText(&amp;quot;_&amp;quot;).fontBoundingBoxAscent},ke.prototype.textDescent=function(y=&amp;quot;&amp;quot;){return y.length?this.textDrawingContext().measureText(y).actualBoundingBoxDescent:this.fontDescent()},ke.prototype.fontDescent=function(){return this.textDrawingContext().measureText(&amp;quot;_&amp;quot;).fontBoundingBoxDescent},ke.prototype.textAlign=function(y,S){return typeof y&amp;lt;&amp;quot;u&amp;quot;?(this.states.setValue(&amp;quot;textAlign&amp;quot;,y),typeof S&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;(S===t.CENTER&amp;amp;&amp;amp;(S=qt._CTX_MIDDLE),this.states.setValue(&amp;quot;textBaseline&amp;quot;,S)),this._applyTextProperties()):{horizontal:this.states.textAlign,vertical:this.states.textBaseline}},ke.prototype._currentTextFont=function(){return this.states.textFont.font||this.states.textFont.family},ke.prototype.textFont=function(y,S,_){if(arguments.length===0)return this._currentTextFont();let b=y;if(y instanceof i.Font?b=y.face.family:y.data instanceof Uint8Array?(b=y.name.fontFamily,y.name?.fontSubfamily&amp;amp;&amp;amp;(b+=&amp;quot;-&amp;quot;+y.name.fontSubfamily)):typeof y==&amp;quot;string&amp;quot;&amp;amp;&amp;amp;typeof S&amp;gt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;/[.0-9]+(%|em|p[xt])/.test(b)&amp;amp;&amp;amp;({family:b,size:S}=this._directSetFontString(b)),typeof b!=&amp;quot;string&amp;quot;)throw Error(&amp;quot;null font in textFont()&amp;quot;);return arguments.length===2&amp;amp;&amp;amp;typeof S==&amp;quot;object&amp;quot;&amp;amp;&amp;amp;(_=S,S=void 0),this.states.setValue(&amp;quot;textFont&amp;quot;,{font:y,family:b,size:S}),typeof S&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;this._setTextSize(S),typeof _==&amp;quot;object&amp;quot;&amp;amp;&amp;amp;this.textProperties(_),this._applyTextProperties()},ke.prototype._directSetFontString=function(y,S=0){S&amp;amp;&amp;amp;console.log(&amp;#39;_directSetFontString&amp;quot;&amp;#39;+y+&amp;#39;&amp;quot;&amp;#39;);let _=m.reduce((E,A)=&amp;gt;(E[A]=f[A].default,E),{}),b=this._cachedDiv(_);b.style.font=y;let I=getComputedStyle(b);return m.forEach(E=&amp;gt;{this.states[E]=I[E],S&amp;amp;&amp;amp;console.log(&amp;quot;  this.states.&amp;quot;+E+&amp;#39;=&amp;quot;&amp;#39;+I[E]+&amp;#39;&amp;quot;&amp;#39;)}),{family:I.fontFamily,size:I.fontSize}},ke.prototype.textLeading=function(y){return typeof y==&amp;quot;number&amp;quot;?(this.states.setValue(&amp;quot;leadingSet&amp;quot;,!0),this.states.setValue(&amp;quot;textLeading&amp;quot;,y),this._applyTextProperties()):this.states.textLeading},ke.prototype.textWeight=function(y){if(typeof y==&amp;quot;number&amp;quot;){this.states.setValue(&amp;quot;fontWeight&amp;quot;,y),this._applyTextProperties(),i.prototype._isSafari()||this._setCanvasStyleProperty(&amp;quot;font-variation-settings&amp;quot;,`&amp;quot;wght&amp;quot; ${y}`);return}return this.states.fontWeight},ke.prototype.textSize=function(y){return typeof y&amp;lt;&amp;quot;u&amp;quot;?(this._setTextSize(y),this._applyTextProperties()):this.states.textSize},ke.prototype.textStyle=function(y){return typeof y&amp;lt;&amp;quot;u&amp;quot;?(this.states.setValue(&amp;quot;fontStyle&amp;quot;,y),this._applyTextProperties()):this.states.fontStyle},ke.prototype.textWrap=function(y){return y===t.WORD||y===t.CHAR?(this.states.setValue(&amp;quot;textWrap&amp;quot;,y),this._pInst):this.states.textWrap},ke.prototype.textDirection=function(y){return typeof y&amp;lt;&amp;quot;u&amp;quot;?(this.states.setValue(&amp;quot;direction&amp;quot;,y),this._applyTextProperties()):this.states.direction},ke.prototype.textProperty=function(y,S,_){let b=!1,I=_?.debug||!1;if(typeof S&amp;gt;&amp;quot;u&amp;quot;){let E=this.textProperties();if(y in E)return E[y];throw Error(&amp;#39;Unknown text option &amp;quot;&amp;#39;+y+&amp;#39;&amp;quot;&amp;#39;)}return y in this.states&amp;amp;&amp;amp;this.states[y]!==S?(this.states[y]=S,b=!0,I&amp;amp;&amp;amp;console.log(&amp;quot;this.states.&amp;quot;+y+&amp;#39;=&amp;quot;&amp;#39;+options[y]+&amp;#39;&amp;quot;&amp;#39;)):y in this.textDrawingContext()?(this._setContextProperty(y,S,I),b=!0):y in this.textCanvas().style?(this._setCanvasStyleProperty(y,S,I),b=!0):console.warn(&amp;#39;Ignoring unknown text option: &amp;quot;&amp;#39;+y+`&amp;quot;
<a href="#l2327" class="line" id="l2327">   2327</a> &lt;a href=&quot;#l2308&quot; class=&quot;line&quot; id=&quot;l2308&quot;&gt;   2308&lt;/a&gt; `),b?this._applyTextProperties():this._pInst},ke.prototype.textProperties=function(y){if(typeof y&amp;lt;&amp;quot;u&amp;quot;)return Object.keys(y).forEach(_=&amp;gt;{this.textProperty(_,y[_])}),this._pInst;let S=this.textDrawingContext();return y=d.reduce((_,b)=&amp;gt;(_[b]=S[b],_),{}),Object.keys(f).forEach(_=&amp;gt;{if(f[_]?.type===&amp;quot;Context2d&amp;quot;)y[_]=S[_];else if(_===&amp;quot;textFont&amp;quot;){let b=this._currentTextFont();typeof b==&amp;quot;object&amp;quot;&amp;amp;&amp;amp;&amp;quot;_pInst&amp;quot;in b&amp;amp;&amp;amp;(b=Object.assign({},b),delete b._pInst),y[_]=b}else y[_]=this.states[_]}),y},ke.prototype.textMode=function(){},ke.prototype._currentTextFont=function(){return this.states.textFont.font||this.states.textFont.family},ke.prototype._computeBounds=function(y,S,_,b,I,E,A){let C=this.textDrawingContext(),T=C.textBaseline,{textLeading:D,textAlign:F}=this.states;({width:I,height:E}=this._rectModeAdjust(_,b,I,E));let N=this._processLines(S,I,E),B=N.map((j,W)=&amp;gt;this[y].bind(this)(j,_,b+W*D));N.length&amp;gt;1&amp;amp;&amp;amp;B.forEach(j=&amp;gt;j.x+=i.Renderer2D.prototype._xAlignOffset.call(this,F,I)),typeof E&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;i.Renderer2D.prototype._yAlignOffset.call(this,B,E);let U=B[0];return N.length&amp;gt;1&amp;amp;&amp;amp;(U=this._aggregateBounds(B),A?.ignoreRectMode||this._rectModeAlign(U,I||0,E||0)),C.textBaseline=T,{bounds:U,lines:N}},ke.prototype._rectModeAdjust=function(y,S,_,b){if(typeof _&amp;lt;&amp;quot;u&amp;quot;)switch(this.states.rectMode){case t.CENTER:break;case t.CORNERS:_-=y,b-=S;break;case t.RADIUS:_*=2,b*=2;break}return{x:y,y:S,width:_,height:b}},ke.prototype._setCanvasStyleProperty=function(y,S,_){let b=S.toString();_&amp;amp;&amp;amp;console.log(&amp;quot;canvas.style.&amp;quot;+y+&amp;#39;=&amp;quot;&amp;#39;+b+&amp;#39;&amp;quot;&amp;#39;),y===h&amp;amp;&amp;amp;this._handleFontVariationSettings(b),this.textCanvas().style[y]=b,this.textCanvas().style[y]},ke.prototype._handleFontVariationSettings=function(y,S=!1){typeof y==&amp;quot;object&amp;quot;&amp;amp;&amp;amp;(y=Object.keys(y).map(b=&amp;gt;b+&amp;quot; &amp;quot;+y[b]).join(&amp;quot;, &amp;quot;)),y.split(a).forEach(b=&amp;gt;{b=b.replace(/[&amp;quot;&amp;#39;]/g,&amp;quot;&amp;quot;);let I=c.exec(b);if(I&amp;amp;&amp;amp;I.length){let E=I[0],A=parseFloat(parseFloat(b.replace(E,&amp;quot;&amp;quot;).trim()).toFixed(3));switch(E){case&amp;quot;wght&amp;quot;:return S&amp;amp;&amp;amp;console.log(&amp;quot;setting font-weight=&amp;quot;+A),this.states.fontWeight!==A&amp;amp;&amp;amp;this.textWeight(A),A;case&amp;quot;wdth&amp;quot;:break;case&amp;quot;ital&amp;quot;:S&amp;amp;&amp;amp;console.log(&amp;quot;setting font-style=&amp;quot;+(A?&amp;quot;italic&amp;quot;:&amp;quot;normal&amp;quot;));break;case&amp;quot;slnt&amp;quot;:S&amp;amp;&amp;amp;console.log(&amp;quot;setting font-style=&amp;quot;+(A?&amp;quot;oblique&amp;quot;:&amp;quot;normal&amp;quot;));break;case&amp;quot;opsz&amp;quot;:S&amp;amp;&amp;amp;console.log(&amp;quot;setting font-optical-size=&amp;quot;+A);break}}})},ke.prototype._setContextProperty=function(y,S,_=!1){if(this.textDrawingContext()[y]===S)return this._pInst;(v??=[]).push([y,S]),_&amp;amp;&amp;amp;console.log(&amp;quot;queued context2d.&amp;quot;+y+&amp;#39;=&amp;quot;&amp;#39;+S+&amp;#39;&amp;quot;&amp;#39;)},ke.prototype._handleRectMode=function(y,S,_,b){let I=this.states.rectMode;if(typeof _&amp;lt;&amp;quot;u&amp;quot;)switch(I){case t.RADIUS:_*=2,y-=_/2,typeof b&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;(b*=2,S-=b/2);break;case t.CENTER:y-=_/2,typeof b&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;(S-=b/2);break;case t.CORNERS:_-=y,typeof b&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;(b-=S);break}return{x:y,y:S,width:_,height:b}},ke.prototype._fontSizePx=function(y,{family:S}=this.states.textFont){if((A=&amp;gt;!isNaN(A)&amp;amp;&amp;amp;A.trim()!==&amp;quot;&amp;quot;)(y))return parseFloat(y);let b=this._cachedDiv({fontSize:y});b.style.fontSize=y,b.style.fontFamily=S;let I=getComputedStyle(b).fontSize,E=parseFloat(I);if(typeof E!=&amp;quot;number&amp;quot;)throw Error(&amp;quot;textSize: invalid font-size&amp;quot;);return E},ke.prototype._cachedDiv=function(y){if(typeof w&amp;gt;&amp;quot;u&amp;quot;){let S=document.createElement(&amp;quot;div&amp;quot;);S.ariaHidden=&amp;quot;true&amp;quot;,S.style.display=&amp;quot;none&amp;quot;,Object.entries(y).forEach(([_,b])=&amp;gt;{S.style[_]=b}),this.textCanvas().appendChild(S),w=S}return w},ke.prototype._aggregateBounds=function(y){let S=Math.min(...y.map(E=&amp;gt;E.x)),_=Math.min(...y.map(E=&amp;gt;E.y)),b=Math.max(...y.map(E=&amp;gt;E.y+E.h)),I=Math.max(...y.map(E=&amp;gt;E.x+E.w));return{x:S,y:_,w:I-S,h:b-_}},ke.prototype._processLines=function(y,S,_){typeof S&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;this.textDrawingContext().textBaseline===t.BASELINE&amp;amp;&amp;amp;(this.drawingContext.textBaseline=t.TOP);let b=this._splitOnBreaks(y.toString()),I=b.length&amp;gt;1,E=typeof S&amp;lt;&amp;quot;u&amp;quot;,A=E&amp;amp;&amp;amp;b.some(D=&amp;gt;this._textWidthSingle(D)&amp;gt;S),{textLeading:C,textWrap:T}=this.states;if((I||A)&amp;amp;&amp;amp;E&amp;amp;&amp;amp;(b=this._lineate(T,b,S)),E&amp;amp;&amp;amp;typeof _&amp;lt;&amp;quot;u&amp;quot;){if(typeof C&amp;gt;&amp;quot;u&amp;quot;)throw Error(&amp;quot;leading is required if height is specified&amp;quot;);for(let D=0;D&amp;lt;b.length;D++)if(C*(D+1)&amp;gt;_){b=b.slice(0,D);break}}return b},ke.prototype._xAlignOffset=function(y,S){switch(y){case t.LEFT:return 0;case t.CENTER:return S/2;case t.RIGHT:return S;case qt.START:return 0;case qt.END:throw new Error(&amp;quot;textBounds: END not yet supported for textAlign&amp;quot;);default:return 0}},ke.prototype._rectModeAlign=function(y,S,_){if(typeof S&amp;lt;&amp;quot;u&amp;quot;){switch(this.states.rectMode){case t.CENTER:y.x-=(S-y.w)/2,y.y-=(_-y.h)/2;break;case t.CORNERS:y.w+=y.x,y.h+=y.y;break;case t.RADIUS:y.x-=(S-y.w)/2,y.y-=(_-y.h)/2,y.w/=2,y.h/=2;break}return y}},ke.prototype._rectModeAlignRevert=function(y,S,_){if(typeof S&amp;lt;&amp;quot;u&amp;quot;){switch(this.states.rectMode){case t.CENTER:y.x+=(S-y.w)/2,y.y+=(_-y.h)/2;break;case t.CORNERS:y.w-=y.x,y.h-=y.y;break;case t.RADIUS:y.x+=(S-y.w)/2,y.y+=(_-y.h)/2,y.w*=2,y.h*=2;break}return y}},ke.prototype._textWidthSingle=function(y){let S=this.textDrawingContext().measureText(y),_=S.actualBoundingBoxLeft;return S.actualBoundingBoxRight+_},ke.prototype._fontWidthSingle=function(y){return this.textDrawingContext().measureText(y).width},ke.prototype._textBoundsSingle=function(y,S=0,_=0){let b=this.textDrawingContext().measureText(y),I=b.actualBoundingBoxAscent,E=b.actualBoundingBoxDescent,A=b.actualBoundingBoxLeft,C=b.actualBoundingBoxRight;return{x:S-A,y:_-I,w:C+A,h:I+E}},ke.prototype._fontBoundsSingle=function(y,S=0,_=0){let b=this.textDrawingContext().measureText(y),I=b.fontBoundingBoxAscent,E=b.fontBoundingBoxDescent;return S-=this._xAlignOffset(this.states.textAlign,b.width),{x:S,y:_-I,w:b.width,h:I+E}},ke.prototype._setTextSize=function(y){if(typeof y==&amp;quot;string&amp;quot;&amp;amp;&amp;amp;(y=this._fontSizePx(y)),typeof y==&amp;quot;number&amp;quot;){if(this.states.textSize!==y)return this.states.setValue(&amp;quot;textSize&amp;quot;,y),this.states.leadingSet||this.states.setValue(&amp;quot;textLeading&amp;quot;,this.states.textSize*1.275),!0}else console.warn(&amp;quot;textSize: invalid size: &amp;quot;+y);return!1},ke.prototype._lineate=function(y,S,_=1/0,b={}){let I=b.splitChar??(y===t.WORD?&amp;quot; &amp;quot;:&amp;quot;&amp;quot;),E,A,C,T,D=[];for(let F=0;F&amp;lt;S.length;F++){E=&amp;quot;&amp;quot;,T=S[F].split(I);for(let N=0;N&amp;lt;T.length;N++)A=`${E+T[N]}`+I,C=this._textWidthSingle(A),E.length&amp;gt;0&amp;amp;&amp;amp;C&amp;gt;_?(D.push(E.trim()),E=`${T[N]}`+I):E=A;D.push(E.trim())}return D},ke.prototype._splitOnBreaks=function(y){return!y||y.length===0?[&amp;quot;&amp;quot;]:y.replace(u,&amp;quot;  &amp;quot;).split(s)},ke.prototype._parseFontFamily=function(y){return y.split(a).map(b=&amp;gt;(b=b.trim(),b.indexOf(&amp;quot; &amp;quot;)&amp;gt;-1&amp;amp;&amp;amp;!o.test(b)&amp;amp;&amp;amp;(b=`&amp;quot;${b}&amp;quot;`),b)).join(&amp;quot;, &amp;quot;)},ke.prototype._applyFontString=function(){let{textFont:y,textSize:S,lineHeight:_,fontStyle:b,fontWeight:I,fontVariant:E}=this.states,A=this.textDrawingContext(),C=this._parseFontFamily(y.family),T=b!==t.NORMAL?`${b} `:&amp;quot;&amp;quot;,D=I!==t.NORMAL?`${I} `:&amp;quot;&amp;quot;,F=E!==t.NORMAL?`${E} `:&amp;quot;&amp;quot;,N=`${S}px`+(_!==t.NORMAL?`/${_} `:&amp;quot; &amp;quot;),B=`${T}${F}${D}${N}${C}`.trim();if(A.font=B,A.font!==B){let U=B,j=A.font;if(U!==j)return!1}return!0},ke.prototype._applyTextProperties=function(y=!1){this._applyFontString();let S=this.textDrawingContext();S.direction=this.states.direction,S.textAlign=this.states.textAlign,S.textBaseline=this.states.textBaseline;let _=this.states.fontStretch;for(g.includes(_)&amp;amp;&amp;amp;S.fontStretch!==_&amp;amp;&amp;amp;(S.fontStretch=_);v?.length;){let[b,I]=v.shift();y&amp;amp;&amp;amp;console.log(&amp;#39;apply context property &amp;quot;&amp;#39;+b+&amp;#39;&amp;quot; = &amp;quot;&amp;#39;+I+&amp;#39;&amp;quot;&amp;#39;),S[b]=I,S[b]!==I&amp;amp;&amp;amp;(console.warn(`Unable to set &amp;#39;${b}&amp;#39; property on context2d. It may not be supported.`),console.log(&amp;#39;Expected &amp;quot;&amp;#39;+I+&amp;#39;&amp;quot; but got: &amp;quot;&amp;#39;+S[b]+&amp;#39;&amp;quot;&amp;#39;))}return this._pInst},i.Renderer2D&amp;amp;&amp;amp;(i.Renderer2D.prototype.textCanvas=function(){return this.canvas},i.Renderer2D.prototype.textDrawingContext=function(){return this.drawingContext},i.Renderer2D.prototype._renderText=function(y,S,_,b,I){let E=this.states,A=this.textDrawingContext();_&amp;lt;I||_&amp;gt;=b||(this.push(),E.strokeColor&amp;amp;&amp;amp;E.strokeSet&amp;amp;&amp;amp;A.strokeText(y,S,_),!this._clipping&amp;amp;&amp;amp;E.fillColor&amp;amp;&amp;amp;(E.fillSet||this._setFill(n),A.fillText(y,S,_)),this.pop())},i.Renderer2D.prototype._positionLines=function(y,S,_,b,I){let{textLeading:E,textAlign:A}=this.states,C,T=new Array(I.length),D=typeof _&amp;gt;&amp;quot;u&amp;quot;?0:_,F=typeof b&amp;gt;&amp;quot;u&amp;quot;?0:b;for(let N=0;N&amp;lt;I.length;N++){switch(A){case qt.START:throw new Error(&amp;quot;textBounds: START not yet supported for textAlign&amp;quot;);case t.LEFT:C=y;break;case t.CENTER:C=y+D/2;break;case t.RIGHT:C=y+D;break;case qt.END:throw new Error(&amp;quot;textBounds: END not yet supported for textAlign&amp;quot;)}T[N]={text:I[N],x:C,y:S+N*E}}return this._yAlignOffset(T,F)},i.Renderer2D.prototype._yAlignOffset=function(y,S){if(typeof S&amp;gt;&amp;quot;u&amp;quot;)throw Error(&amp;quot;_yAlignOffset: height is required&amp;quot;);let{textLeading:_,textBaseline:b}=this.states,I=0,E=y.length,A=S-_*(E-1);switch(b){case t.TOP:break;case t.BASELINE:break;case qt._CTX_MIDDLE:I=A/2;break;case t.BOTTOM:I=A;break;case qt.IDEOGRAPHIC:console.warn(&amp;quot;textBounds: IDEOGRAPHIC not yet supported for textBaseline&amp;quot;);break;case qt.HANGING:console.warn(&amp;quot;textBounds: HANGING not yet supported for textBaseline&amp;quot;);break}return y.forEach(C=&amp;gt;C.y+=I),y}),i.RendererGL){i.RendererGL.prototype.textCanvas=function(){return this._textCanvas||(this._textCanvas=document.createElement(&amp;quot;canvas&amp;quot;),this._textCanvas.width=1,this._textCanvas.height=1,this._textCanvas.style.display=&amp;quot;none&amp;quot;,this.canvas.parentElement.insertBefore(this._textCanvas,this.canvas)),this._textCanvas},i.RendererGL.prototype.textDrawingContext=function(){if(!this._textDrawingContext){let S=this.textCanvas();this._textDrawingContext=S.getContext(&amp;quot;2d&amp;quot;)}return this._textDrawingContext};let y=i.RendererGL.prototype.remove;i.RendererGL.prototype.remove=function(){this._textCanvas&amp;amp;&amp;amp;this._textCanvas.parentElement.removeChild(this._textCanvas),y.call(this)},i.RendererGL.prototype._positionLines=function(S,_,b,I,E){let{textLeading:A,textAlign:C}=this.states,T=E.map(U=&amp;gt;this._fontWidthSingle(U)),D,F=new Array(E.length),N=typeof b&amp;gt;&amp;quot;u&amp;quot;?Math.max(0,...T):b,B=typeof I&amp;gt;&amp;quot;u&amp;quot;?0:I;for(let U=0;U&amp;lt;E.length;U++){switch(C){case qt.START:throw new Error(&amp;quot;textBounds: START not yet supported for textAlign&amp;quot;);case t.LEFT:D=S;break;case t.CENTER:D=S+(N-T[U])/2-N/2+(b||0)/2;break;case t.RIGHT:D=S+N-T[U]-N+(b||0);break;case qt.END:throw new Error(&amp;quot;textBounds: END not yet supported for textAlign&amp;quot;)}F[U]={text:E[U],x:D,y:_+U*A}}return this._yAlignOffset(F,B)},i.RendererGL.prototype._yAlignOffset=function(S,_){if(typeof _&amp;gt;&amp;quot;u&amp;quot;)throw Error(&amp;quot;_yAlignOffset: height is required&amp;quot;);let{textLeading:b,textBaseline:I,textSize:E,textFont:A}=this.states,C=0,T=S.length,D=E*T+(b-E)*(T-1);switch(I){case t.TOP:C=E;break;case t.BASELINE:break;case qt._CTX_MIDDLE:C=-D/2+E+(_||0)/2;break;case t.BOTTOM:C=-(D-E)+(_||0);break;default:console.warn(`${I} is not supported in WebGL mode.`);break}return C+=this.states.textFont.font?._verticalAlign(E)||0,S.forEach(F=&amp;gt;F.y+=C),S}}}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;Qf(p5,p5.prototype);var kp=Se(Xs());var kg=[{category:&amp;quot;control character&amp;quot;,hexrange:[&amp;quot;0000&amp;quot;,&amp;quot;001f&amp;quot;]},{category:&amp;quot;basic latin&amp;quot;,hexrange:[&amp;quot;0000&amp;quot;,&amp;quot;007f&amp;quot;]},{category:&amp;quot;latin-1 supplement&amp;quot;,hexrange:[&amp;quot;0080&amp;quot;,&amp;quot;00ff&amp;quot;]},{category:&amp;quot;latin extended-a&amp;quot;,hexrange:[&amp;quot;0100&amp;quot;,&amp;quot;017f&amp;quot;]},{category:&amp;quot;latin extended-b&amp;quot;,hexrange:[&amp;quot;0180&amp;quot;,&amp;quot;024f&amp;quot;]},{category:&amp;quot;ipa extensions&amp;quot;,hexrange:[&amp;quot;0250&amp;quot;,&amp;quot;02af&amp;quot;]},{category:&amp;quot;spacing modifier letters&amp;quot;,hexrange:[&amp;quot;02b0&amp;quot;,&amp;quot;02ff&amp;quot;]},{category:&amp;quot;combining diacritical marks&amp;quot;,hexrange:[&amp;quot;0300&amp;quot;,&amp;quot;036f&amp;quot;]},{category:&amp;quot;greek and coptic&amp;quot;,hexrange:[&amp;quot;0370&amp;quot;,&amp;quot;03ff&amp;quot;]},{category:&amp;quot;cyrillic&amp;quot;,hexrange:[&amp;quot;0400&amp;quot;,&amp;quot;04ff&amp;quot;]},{category:&amp;quot;cyrillic supplement&amp;quot;,hexrange:[&amp;quot;0500&amp;quot;,&amp;quot;052f&amp;quot;]},{category:&amp;quot;armenian&amp;quot;,hexrange:[&amp;quot;0530&amp;quot;,&amp;quot;058f&amp;quot;]},{category:&amp;quot;hebrew&amp;quot;,hexrange:[&amp;quot;0590&amp;quot;,&amp;quot;05ff&amp;quot;]},{category:&amp;quot;arabic&amp;quot;,hexrange:[&amp;quot;0600&amp;quot;,&amp;quot;06ff&amp;quot;]},{category:&amp;quot;syriac&amp;quot;,hexrange:[&amp;quot;0700&amp;quot;,&amp;quot;074f&amp;quot;]},{category:&amp;quot;arabic supplement&amp;quot;,hexrange:[&amp;quot;0750&amp;quot;,&amp;quot;077f&amp;quot;]},{category:&amp;quot;thaana&amp;quot;,hexrange:[&amp;quot;0780&amp;quot;,&amp;quot;07bf&amp;quot;]},{category:&amp;quot;nko&amp;quot;,hexrange:[&amp;quot;07c0&amp;quot;,&amp;quot;07ff&amp;quot;]},{category:&amp;quot;samaritan&amp;quot;,hexrange:[&amp;quot;0800&amp;quot;,&amp;quot;083f&amp;quot;]},{category:&amp;quot;mandaic&amp;quot;,hexrange:[&amp;quot;0840&amp;quot;,&amp;quot;085f&amp;quot;]},{category:&amp;quot;syriac supplement&amp;quot;,hexrange:[&amp;quot;0860&amp;quot;,&amp;quot;086f&amp;quot;]},{category:&amp;quot;arabic extended-b&amp;quot;,hexrange:[&amp;quot;0870&amp;quot;,&amp;quot;089f&amp;quot;]},{category:&amp;quot;arabic extended-a&amp;quot;,hexrange:[&amp;quot;08a0&amp;quot;,&amp;quot;08ff&amp;quot;]},{category:&amp;quot;devanagari&amp;quot;,hexrange:[&amp;quot;0900&amp;quot;,&amp;quot;097f&amp;quot;]},{category:&amp;quot;bengali&amp;quot;,hexrange:[&amp;quot;0980&amp;quot;,&amp;quot;09ff&amp;quot;]},{category:&amp;quot;gurmukhi&amp;quot;,hexrange:[&amp;quot;0a00&amp;quot;,&amp;quot;0a7f&amp;quot;]},{category:&amp;quot;gujarati&amp;quot;,hexrange:[&amp;quot;0a80&amp;quot;,&amp;quot;0aff&amp;quot;]},{category:&amp;quot;oriya&amp;quot;,hexrange:[&amp;quot;0b00&amp;quot;,&amp;quot;0b7f&amp;quot;]},{category:&amp;quot;tamil&amp;quot;,hexrange:[&amp;quot;0b80&amp;quot;,&amp;quot;0bff&amp;quot;]},{category:&amp;quot;telugu&amp;quot;,hexrange:[&amp;quot;0c00&amp;quot;,&amp;quot;0c7f&amp;quot;]},{category:&amp;quot;kannada&amp;quot;,hexrange:[&amp;quot;0c80&amp;quot;,&amp;quot;0cff&amp;quot;]},{category:&amp;quot;malayalam&amp;quot;,hexrange:[&amp;quot;0d00&amp;quot;,&amp;quot;0d7f&amp;quot;]},{category:&amp;quot;sinhala&amp;quot;,hexrange:[&amp;quot;0d80&amp;quot;,&amp;quot;0dff&amp;quot;]},{category:&amp;quot;thai&amp;quot;,hexrange:[&amp;quot;0e00&amp;quot;,&amp;quot;0e7f&amp;quot;]},{category:&amp;quot;lao&amp;quot;,hexrange:[&amp;quot;0e80&amp;quot;,&amp;quot;0eff&amp;quot;]},{category:&amp;quot;tibetan&amp;quot;,hexrange:[&amp;quot;0f00&amp;quot;,&amp;quot;0fff&amp;quot;]},{category:&amp;quot;myanmar&amp;quot;,hexrange:[&amp;quot;1000&amp;quot;,&amp;quot;109f&amp;quot;]},{category:&amp;quot;georgian&amp;quot;,hexrange:[&amp;quot;10a0&amp;quot;,&amp;quot;10ff&amp;quot;]},{category:&amp;quot;hangul jamo&amp;quot;,hexrange:[&amp;quot;1100&amp;quot;,&amp;quot;11ff&amp;quot;]},{category:&amp;quot;ethiopic&amp;quot;,hexrange:[&amp;quot;1200&amp;quot;,&amp;quot;137f&amp;quot;]},{category:&amp;quot;ethiopic supplement&amp;quot;,hexrange:[&amp;quot;1380&amp;quot;,&amp;quot;139f&amp;quot;]},{category:&amp;quot;cherokee&amp;quot;,hexrange:[&amp;quot;13a0&amp;quot;,&amp;quot;13ff&amp;quot;]},{category:&amp;quot;unified canadian aboriginal syllabics&amp;quot;,hexrange:[&amp;quot;1400&amp;quot;,&amp;quot;167f&amp;quot;]},{category:&amp;quot;ogham&amp;quot;,hexrange:[&amp;quot;1680&amp;quot;,&amp;quot;169f&amp;quot;]},{category:&amp;quot;runic&amp;quot;,hexrange:[&amp;quot;16a0&amp;quot;,&amp;quot;16ff&amp;quot;]},{category:&amp;quot;tagalog&amp;quot;,hexrange:[&amp;quot;1700&amp;quot;,&amp;quot;171f&amp;quot;]},{category:&amp;quot;hanunoo&amp;quot;,hexrange:[&amp;quot;1720&amp;quot;,&amp;quot;173f&amp;quot;]},{category:&amp;quot;buhid&amp;quot;,hexrange:[&amp;quot;1740&amp;quot;,&amp;quot;175f&amp;quot;]},{category:&amp;quot;tagbanwa&amp;quot;,hexrange:[&amp;quot;1760&amp;quot;,&amp;quot;177f&amp;quot;]},{category:&amp;quot;khmer&amp;quot;,hexrange:[&amp;quot;1780&amp;quot;,&amp;quot;17ff&amp;quot;]},{category:&amp;quot;mongolian&amp;quot;,hexrange:[&amp;quot;1800&amp;quot;,&amp;quot;18af&amp;quot;]},{category:&amp;quot;unified canadian aboriginal syllabics extended&amp;quot;,hexrange:[&amp;quot;18b0&amp;quot;,&amp;quot;18ff&amp;quot;]},{category:&amp;quot;limbu&amp;quot;,hexrange:[&amp;quot;1900&amp;quot;,&amp;quot;194f&amp;quot;]},{category:&amp;quot;tai le&amp;quot;,hexrange:[&amp;quot;1950&amp;quot;,&amp;quot;197f&amp;quot;]},{category:&amp;quot;new tai lue&amp;quot;,hexrange:[&amp;quot;1980&amp;quot;,&amp;quot;19df&amp;quot;]},{category:&amp;quot;khmer symbols&amp;quot;,hexrange:[&amp;quot;19e0&amp;quot;,&amp;quot;19ff&amp;quot;]},{category:&amp;quot;buginese&amp;quot;,hexrange:[&amp;quot;1a00&amp;quot;,&amp;quot;1a1f&amp;quot;]},{category:&amp;quot;tai tham&amp;quot;,hexrange:[&amp;quot;1a20&amp;quot;,&amp;quot;1aaf&amp;quot;]},{category:&amp;quot;combining diacritical marks extended&amp;quot;,hexrange:[&amp;quot;1ab0&amp;quot;,&amp;quot;1aff&amp;quot;]},{category:&amp;quot;balinese&amp;quot;,hexrange:[&amp;quot;1b00&amp;quot;,&amp;quot;1b7f&amp;quot;]},{category:&amp;quot;sundanese&amp;quot;,hexrange:[&amp;quot;1b80&amp;quot;,&amp;quot;1bbf&amp;quot;]},{category:&amp;quot;batak&amp;quot;,hexrange:[&amp;quot;1bc0&amp;quot;,&amp;quot;1bff&amp;quot;]},{category:&amp;quot;lepcha&amp;quot;,hexrange:[&amp;quot;1c00&amp;quot;,&amp;quot;1c4f&amp;quot;]},{category:&amp;quot;ol chiki&amp;quot;,hexrange:[&amp;quot;1c50&amp;quot;,&amp;quot;1c7f&amp;quot;]},{category:&amp;quot;cyrillic extended-c&amp;quot;,hexrange:[&amp;quot;1c80&amp;quot;,&amp;quot;1c8f&amp;quot;]},{category:&amp;quot;georgian extended&amp;quot;,hexrange:[&amp;quot;1c90&amp;quot;,&amp;quot;1cbf&amp;quot;]},{category:&amp;quot;sundanese supplement&amp;quot;,hexrange:[&amp;quot;1cc0&amp;quot;,&amp;quot;1ccf&amp;quot;]},{category:&amp;quot;vedic extensions&amp;quot;,hexrange:[&amp;quot;1cd0&amp;quot;,&amp;quot;1cff&amp;quot;]},{category:&amp;quot;phonetic extensions&amp;quot;,hexrange:[&amp;quot;1d00&amp;quot;,&amp;quot;1d7f&amp;quot;]},{category:&amp;quot;phonetic extensions supplement&amp;quot;,hexrange:[&amp;quot;1d80&amp;quot;,&amp;quot;1dbf&amp;quot;]},{category:&amp;quot;combining diacritical marks supplement&amp;quot;,hexrange:[&amp;quot;1dc0&amp;quot;,&amp;quot;1dff&amp;quot;]},{category:&amp;quot;latin extended additional&amp;quot;,hexrange:[&amp;quot;1e00&amp;quot;,&amp;quot;1eff&amp;quot;]},{category:&amp;quot;greek extended&amp;quot;,hexrange:[&amp;quot;1f00&amp;quot;,&amp;quot;1fff&amp;quot;]},{category:&amp;quot;general punctuation&amp;quot;,hexrange:[&amp;quot;2000&amp;quot;,&amp;quot;206f&amp;quot;]},{category:&amp;quot;superscripts and subscripts&amp;quot;,hexrange:[&amp;quot;2070&amp;quot;,&amp;quot;209f&amp;quot;]},{category:&amp;quot;currency symbols&amp;quot;,hexrange:[&amp;quot;20a0&amp;quot;,&amp;quot;20cf&amp;quot;]},{category:&amp;quot;combining diacritical marks for symbols&amp;quot;,hexrange:[&amp;quot;20d0&amp;quot;,&amp;quot;20ff&amp;quot;]},{category:&amp;quot;letterlike symbols&amp;quot;,hexrange:[&amp;quot;2100&amp;quot;,&amp;quot;214f&amp;quot;]},{category:&amp;quot;number forms&amp;quot;,hexrange:[&amp;quot;2150&amp;quot;,&amp;quot;218f&amp;quot;]},{category:&amp;quot;arrows&amp;quot;,hexrange:[&amp;quot;2190&amp;quot;,&amp;quot;21ff&amp;quot;]},{category:&amp;quot;mathematical operators&amp;quot;,hexrange:[&amp;quot;2200&amp;quot;,&amp;quot;22ff&amp;quot;]},{category:&amp;quot;miscellaneous technical&amp;quot;,hexrange:[&amp;quot;2300&amp;quot;,&amp;quot;23ff&amp;quot;]},{category:&amp;quot;control pictures&amp;quot;,hexrange:[&amp;quot;2400&amp;quot;,&amp;quot;243f&amp;quot;]},{category:&amp;quot;optical character recognition&amp;quot;,hexrange:[&amp;quot;2440&amp;quot;,&amp;quot;245f&amp;quot;]},{category:&amp;quot;enclosed alphanumerics&amp;quot;,hexrange:[&amp;quot;2460&amp;quot;,&amp;quot;24ff&amp;quot;]},{category:&amp;quot;box drawing&amp;quot;,hexrange:[&amp;quot;2500&amp;quot;,&amp;quot;257f&amp;quot;]},{category:&amp;quot;block elements&amp;quot;,hexrange:[&amp;quot;2580&amp;quot;,&amp;quot;259f&amp;quot;]},{category:&amp;quot;geometric shapes&amp;quot;,hexrange:[&amp;quot;25a0&amp;quot;,&amp;quot;25ff&amp;quot;]},{category:&amp;quot;miscellaneous symbols&amp;quot;,hexrange:[&amp;quot;2600&amp;quot;,&amp;quot;26ff&amp;quot;]},{category:&amp;quot;dingbats&amp;quot;,hexrange:[&amp;quot;2700&amp;quot;,&amp;quot;27bf&amp;quot;]},{category:&amp;quot;miscellaneous mathematical symbols-a&amp;quot;,hexrange:[&amp;quot;27c0&amp;quot;,&amp;quot;27ef&amp;quot;]},{category:&amp;quot;supplemental arrows-a&amp;quot;,hexrange:[&amp;quot;27f0&amp;quot;,&amp;quot;27ff&amp;quot;]},{category:&amp;quot;braille patterns&amp;quot;,hexrange:[&amp;quot;2800&amp;quot;,&amp;quot;28ff&amp;quot;]},{category:&amp;quot;supplemental arrows-b&amp;quot;,hexrange:[&amp;quot;2900&amp;quot;,&amp;quot;297f&amp;quot;]},{category:&amp;quot;miscellaneous mathematical symbols-b&amp;quot;,hexrange:[&amp;quot;2980&amp;quot;,&amp;quot;29ff&amp;quot;]},{category:&amp;quot;supplemental mathematical operators&amp;quot;,hexrange:[&amp;quot;2a00&amp;quot;,&amp;quot;2aff&amp;quot;]},{category:&amp;quot;miscellaneous symbols and arrows&amp;quot;,hexrange:[&amp;quot;2b00&amp;quot;,&amp;quot;2bff&amp;quot;]},{category:&amp;quot;glagolitic&amp;quot;,hexrange:[&amp;quot;2c00&amp;quot;,&amp;quot;2c5f&amp;quot;]},{category:&amp;quot;latin extended-c&amp;quot;,hexrange:[&amp;quot;2c60&amp;quot;,&amp;quot;2c7f&amp;quot;]},{category:&amp;quot;coptic&amp;quot;,hexrange:[&amp;quot;2c80&amp;quot;,&amp;quot;2cff&amp;quot;]},{category:&amp;quot;georgian supplement&amp;quot;,hexrange:[&amp;quot;2d00&amp;quot;,&amp;quot;2d2f&amp;quot;]},{category:&amp;quot;tifinagh&amp;quot;,hexrange:[&amp;quot;2d30&amp;quot;,&amp;quot;2d7f&amp;quot;]},{category:&amp;quot;ethiopic extended&amp;quot;,hexrange:[&amp;quot;2d80&amp;quot;,&amp;quot;2ddf&amp;quot;]},{category:&amp;quot;cyrillic extended-a&amp;quot;,hexrange:[&amp;quot;2de0&amp;quot;,&amp;quot;2dff&amp;quot;]},{category:&amp;quot;supplemental punctuation&amp;quot;,hexrange:[&amp;quot;2e00&amp;quot;,&amp;quot;2e7f&amp;quot;]},{category:&amp;quot;cjk radicals supplement&amp;quot;,hexrange:[&amp;quot;2e80&amp;quot;,&amp;quot;2eff&amp;quot;]},{category:&amp;quot;kangxi radicals&amp;quot;,hexrange:[&amp;quot;2f00&amp;quot;,&amp;quot;2fdf&amp;quot;]},{category:&amp;quot;ideographic description characters&amp;quot;,hexrange:[&amp;quot;2ff0&amp;quot;,&amp;quot;2fff&amp;quot;]},{category:&amp;quot;cjk symbols and punctuation&amp;quot;,hexrange:[&amp;quot;3000&amp;quot;,&amp;quot;303f&amp;quot;]},{category:&amp;quot;hiragana&amp;quot;,hexrange:[&amp;quot;3040&amp;quot;,&amp;quot;309f&amp;quot;]},{category:&amp;quot;katakana&amp;quot;,hexrange:[&amp;quot;30a0&amp;quot;,&amp;quot;30ff&amp;quot;]},{category:&amp;quot;bopomofo&amp;quot;,hexrange:[&amp;quot;3100&amp;quot;,&amp;quot;312f&amp;quot;]},{category:&amp;quot;hangul compatibility jamo&amp;quot;,hexrange:[&amp;quot;3130&amp;quot;,&amp;quot;318f&amp;quot;]},{category:&amp;quot;kanbun&amp;quot;,hexrange:[&amp;quot;3190&amp;quot;,&amp;quot;319f&amp;quot;]},{category:&amp;quot;bopomofo extended&amp;quot;,hexrange:[&amp;quot;31a0&amp;quot;,&amp;quot;31bf&amp;quot;]},{category:&amp;quot;cjk strokes&amp;quot;,hexrange:[&amp;quot;31c0&amp;quot;,&amp;quot;31ef&amp;quot;]},{category:&amp;quot;katakana phonetic extensions&amp;quot;,hexrange:[&amp;quot;31f0&amp;quot;,&amp;quot;31ff&amp;quot;]},{category:&amp;quot;enclosed cjk letters and months&amp;quot;,hexrange:[&amp;quot;3200&amp;quot;,&amp;quot;32ff&amp;quot;]},{category:&amp;quot;cjk compatibility&amp;quot;,hexrange:[&amp;quot;3300&amp;quot;,&amp;quot;33ff&amp;quot;]},{category:&amp;quot;cjk unified ideographs extension a&amp;quot;,hexrange:[&amp;quot;3400&amp;quot;,&amp;quot;4dbf&amp;quot;]},{category:&amp;quot;yijing hexagram symbols&amp;quot;,hexrange:[&amp;quot;4dc0&amp;quot;,&amp;quot;4dff&amp;quot;]},{category:&amp;quot;cjk unified ideographs&amp;quot;,hexrange:[&amp;quot;4e00&amp;quot;,&amp;quot;9fff&amp;quot;]},{category:&amp;quot;yi syllables&amp;quot;,hexrange:[&amp;quot;a000&amp;quot;,&amp;quot;a48f&amp;quot;]},{category:&amp;quot;yi radicals&amp;quot;,hexrange:[&amp;quot;a490&amp;quot;,&amp;quot;a4cf&amp;quot;]},{category:&amp;quot;lisu&amp;quot;,hexrange:[&amp;quot;a4d0&amp;quot;,&amp;quot;a4ff&amp;quot;]},{category:&amp;quot;vai&amp;quot;,hexrange:[&amp;quot;a500&amp;quot;,&amp;quot;a63f&amp;quot;]},{category:&amp;quot;cyrillic extended-b&amp;quot;,hexrange:[&amp;quot;a640&amp;quot;,&amp;quot;a69f&amp;quot;]},{category:&amp;quot;bamum&amp;quot;,hexrange:[&amp;quot;a6a0&amp;quot;,&amp;quot;a6ff&amp;quot;]},{category:&amp;quot;modifier tone letters&amp;quot;,hexrange:[&amp;quot;a700&amp;quot;,&amp;quot;a71f&amp;quot;]},{category:&amp;quot;latin extended-d&amp;quot;,hexrange:[&amp;quot;a720&amp;quot;,&amp;quot;a7ff&amp;quot;]},{category:&amp;quot;syloti nagri&amp;quot;,hexrange:[&amp;quot;a800&amp;quot;,&amp;quot;a82f&amp;quot;]},{category:&amp;quot;common indic number forms&amp;quot;,hexrange:[&amp;quot;a830&amp;quot;,&amp;quot;a83f&amp;quot;]},{category:&amp;quot;phags-pa&amp;quot;,hexrange:[&amp;quot;a840&amp;quot;,&amp;quot;a87f&amp;quot;]},{category:&amp;quot;saurashtra&amp;quot;,hexrange:[&amp;quot;a880&amp;quot;,&amp;quot;a8df&amp;quot;]},{category:&amp;quot;devanagari extended&amp;quot;,hexrange:[&amp;quot;a8e0&amp;quot;,&amp;quot;a8ff&amp;quot;]},{category:&amp;quot;kayah li&amp;quot;,hexrange:[&amp;quot;a900&amp;quot;,&amp;quot;a92f&amp;quot;]},{category:&amp;quot;rejang&amp;quot;,hexrange:[&amp;quot;a930&amp;quot;,&amp;quot;a95f&amp;quot;]},{category:&amp;quot;hangul jamo extended-a&amp;quot;,hexrange:[&amp;quot;a960&amp;quot;,&amp;quot;a97f&amp;quot;]},{category:&amp;quot;javanese&amp;quot;,hexrange:[&amp;quot;a980&amp;quot;,&amp;quot;a9df&amp;quot;]},{category:&amp;quot;myanmar extended-b&amp;quot;,hexrange:[&amp;quot;a9e0&amp;quot;,&amp;quot;a9ff&amp;quot;]},{category:&amp;quot;cham&amp;quot;,hexrange:[&amp;quot;aa00&amp;quot;,&amp;quot;aa5f&amp;quot;]},{category:&amp;quot;myanmar extended-a&amp;quot;,hexrange:[&amp;quot;aa60&amp;quot;,&amp;quot;aa7f&amp;quot;]},{category:&amp;quot;tai viet&amp;quot;,hexrange:[&amp;quot;aa80&amp;quot;,&amp;quot;aadf&amp;quot;]},{category:&amp;quot;meetei mayek extensions&amp;quot;,hexrange:[&amp;quot;aae0&amp;quot;,&amp;quot;aaff&amp;quot;]},{category:&amp;quot;ethiopic extended-a&amp;quot;,hexrange:[&amp;quot;ab00&amp;quot;,&amp;quot;ab2f&amp;quot;]},{category:&amp;quot;latin extended-e&amp;quot;,hexrange:[&amp;quot;ab30&amp;quot;,&amp;quot;ab6f&amp;quot;]},{category:&amp;quot;cherokee supplement&amp;quot;,hexrange:[&amp;quot;ab70&amp;quot;,&amp;quot;abbf&amp;quot;]},{category:&amp;quot;meetei mayek&amp;quot;,hexrange:[&amp;quot;abc0&amp;quot;,&amp;quot;abff&amp;quot;]},{category:&amp;quot;hangul syllables&amp;quot;,hexrange:[&amp;quot;ac00&amp;quot;,&amp;quot;d7af&amp;quot;]},{category:&amp;quot;hangul jamo extended-b&amp;quot;,hexrange:[&amp;quot;d7b0&amp;quot;,&amp;quot;d7ff&amp;quot;]},{category:&amp;quot;high surrogates&amp;quot;,hexrange:[&amp;quot;d800&amp;quot;,&amp;quot;db7f&amp;quot;]},{category:&amp;quot;high private use surrogates&amp;quot;,hexrange:[&amp;quot;db80&amp;quot;,&amp;quot;dbff&amp;quot;]},{category:&amp;quot;low surrogates&amp;quot;,hexrange:[&amp;quot;dc00&amp;quot;,&amp;quot;dfff&amp;quot;]},{category:&amp;quot;private use area&amp;quot;,hexrange:[&amp;quot;e000&amp;quot;,&amp;quot;f8ff&amp;quot;]},{category:&amp;quot;cjk compatibility ideographs&amp;quot;,hexrange:[&amp;quot;f900&amp;quot;,&amp;quot;faff&amp;quot;]},{category:&amp;quot;alphabetic presentation forms&amp;quot;,hexrange:[&amp;quot;fb00&amp;quot;,&amp;quot;fb4f&amp;quot;]},{category:&amp;quot;arabic presentation forms-a&amp;quot;,hexrange:[&amp;quot;fb50&amp;quot;,&amp;quot;fdff&amp;quot;]},{category:&amp;quot;variation selectors&amp;quot;,hexrange:[&amp;quot;fe00&amp;quot;,&amp;quot;fe0f&amp;quot;]},{category:&amp;quot;vertical forms&amp;quot;,hexrange:[&amp;quot;fe10&amp;quot;,&amp;quot;fe1f&amp;quot;]},{category:&amp;quot;combining half marks&amp;quot;,hexrange:[&amp;quot;fe20&amp;quot;,&amp;quot;fe2f&amp;quot;]},{category:&amp;quot;cjk compatibility forms&amp;quot;,hexrange:[&amp;quot;fe30&amp;quot;,&amp;quot;fe4f&amp;quot;]},{category:&amp;quot;small form variants&amp;quot;,hexrange:[&amp;quot;fe50&amp;quot;,&amp;quot;fe6f&amp;quot;]},{category:&amp;quot;arabic presentation forms-b&amp;quot;,hexrange:[&amp;quot;fe70&amp;quot;,&amp;quot;feff&amp;quot;]},{category:&amp;quot;halfwidth and fullwidth forms&amp;quot;,hexrange:[&amp;quot;ff00&amp;quot;,&amp;quot;ffef&amp;quot;]},{category:&amp;quot;specials&amp;quot;,hexrange:[&amp;quot;fff0&amp;quot;,&amp;quot;ffff&amp;quot;]},{category:&amp;quot;linear b syllabary&amp;quot;,hexrange:[&amp;quot;10000&amp;quot;,&amp;quot;1007f&amp;quot;]},{category:&amp;quot;linear b ideograms&amp;quot;,hexrange:[&amp;quot;10080&amp;quot;,&amp;quot;100ff&amp;quot;]},{category:&amp;quot;aegean numbers&amp;quot;,hexrange:[&amp;quot;10100&amp;quot;,&amp;quot;1013f&amp;quot;]},{category:&amp;quot;ancient greek numbers&amp;quot;,hexrange:[&amp;quot;10140&amp;quot;,&amp;quot;1018f&amp;quot;]},{category:&amp;quot;ancient symbols&amp;quot;,hexrange:[&amp;quot;10190&amp;quot;,&amp;quot;101cf&amp;quot;]},{category:&amp;quot;phaistos disc&amp;quot;,hexrange:[&amp;quot;101d0&amp;quot;,&amp;quot;101ff&amp;quot;]},{category:&amp;quot;lycian&amp;quot;,hexrange:[&amp;quot;10280&amp;quot;,&amp;quot;1029f&amp;quot;]},{category:&amp;quot;carian&amp;quot;,hexrange:[&amp;quot;102a0&amp;quot;,&amp;quot;102df&amp;quot;]},{category:&amp;quot;coptic epact numbers&amp;quot;,hexrange:[&amp;quot;102e0&amp;quot;,&amp;quot;102ff&amp;quot;]},{category:&amp;quot;old italic&amp;quot;,hexrange:[&amp;quot;10300&amp;quot;,&amp;quot;1032f&amp;quot;]},{category:&amp;quot;gothic&amp;quot;,hexrange:[&amp;quot;10330&amp;quot;,&amp;quot;1034f&amp;quot;]},{category:&amp;quot;old permic&amp;quot;,hexrange:[&amp;quot;10350&amp;quot;,&amp;quot;1037f&amp;quot;]},{category:&amp;quot;ugaritic&amp;quot;,hexrange:[&amp;quot;10380&amp;quot;,&amp;quot;1039f&amp;quot;]},{category:&amp;quot;old persian&amp;quot;,hexrange:[&amp;quot;103a0&amp;quot;,&amp;quot;103df&amp;quot;]},{category:&amp;quot;deseret&amp;quot;,hexrange:[&amp;quot;10400&amp;quot;,&amp;quot;1044f&amp;quot;]},{category:&amp;quot;shavian&amp;quot;,hexrange:[&amp;quot;10450&amp;quot;,&amp;quot;1047f&amp;quot;]},{category:&amp;quot;osmanya&amp;quot;,hexrange:[&amp;quot;10480&amp;quot;,&amp;quot;104af&amp;quot;]},{category:&amp;quot;osage&amp;quot;,hexrange:[&amp;quot;104b0&amp;quot;,&amp;quot;104ff&amp;quot;]},{category:&amp;quot;elbasan&amp;quot;,hexrange:[&amp;quot;10500&amp;quot;,&amp;quot;1052f&amp;quot;]},{category:&amp;quot;caucasian albanian&amp;quot;,hexrange:[&amp;quot;10530&amp;quot;,&amp;quot;1056f&amp;quot;]},{category:&amp;quot;vithkuqi&amp;quot;,hexrange:[&amp;quot;10570&amp;quot;,&amp;quot;105bf&amp;quot;]},{category:&amp;quot;linear a&amp;quot;,hexrange:[&amp;quot;10600&amp;quot;,&amp;quot;1077f&amp;quot;]},{category:&amp;quot;latin extended-f&amp;quot;,hexrange:[&amp;quot;10780&amp;quot;,&amp;quot;107bf&amp;quot;]},{category:&amp;quot;cypriot syllabary&amp;quot;,hexrange:[&amp;quot;10800&amp;quot;,&amp;quot;1083f&amp;quot;]},{category:&amp;quot;imperial aramaic&amp;quot;,hexrange:[&amp;quot;10840&amp;quot;,&amp;quot;1085f&amp;quot;]},{category:&amp;quot;palmyrene&amp;quot;,hexrange:[&amp;quot;10860&amp;quot;,&amp;quot;1087f&amp;quot;]},{category:&amp;quot;nabataean&amp;quot;,hexrange:[&amp;quot;10880&amp;quot;,&amp;quot;108af&amp;quot;]},{category:&amp;quot;hatran&amp;quot;,hexrange:[&amp;quot;108e0&amp;quot;,&amp;quot;108ff&amp;quot;]},{category:&amp;quot;phoenician&amp;quot;,hexrange:[&amp;quot;10900&amp;quot;,&amp;quot;1091f&amp;quot;]},{category:&amp;quot;lydian&amp;quot;,hexrange:[&amp;quot;10920&amp;quot;,&amp;quot;1093f&amp;quot;]},{category:&amp;quot;meroitic hieroglyphs&amp;quot;,hexrange:[&amp;quot;10980&amp;quot;,&amp;quot;1099f&amp;quot;]},{category:&amp;quot;meroitic cursive&amp;quot;,hexrange:[&amp;quot;109a0&amp;quot;,&amp;quot;109ff&amp;quot;]},{category:&amp;quot;kharoshthi&amp;quot;,hexrange:[&amp;quot;10a00&amp;quot;,&amp;quot;10a5f&amp;quot;]},{category:&amp;quot;old south arabian&amp;quot;,hexrange:[&amp;quot;10a60&amp;quot;,&amp;quot;10a7f&amp;quot;]},{category:&amp;quot;old north arabian&amp;quot;,hexrange:[&amp;quot;10a80&amp;quot;,&amp;quot;10a9f&amp;quot;]},{category:&amp;quot;manichaean&amp;quot;,hexrange:[&amp;quot;10ac0&amp;quot;,&amp;quot;10aff&amp;quot;]},{category:&amp;quot;avestan&amp;quot;,hexrange:[&amp;quot;10b00&amp;quot;,&amp;quot;10b3f&amp;quot;]},{category:&amp;quot;inscriptional parthian&amp;quot;,hexrange:[&amp;quot;10b40&amp;quot;,&amp;quot;10b5f&amp;quot;]},{category:&amp;quot;inscriptional pahlavi&amp;quot;,hexrange:[&amp;quot;10b60&amp;quot;,&amp;quot;10b7f&amp;quot;]},{category:&amp;quot;psalter pahlavi&amp;quot;,hexrange:[&amp;quot;10b80&amp;quot;,&amp;quot;10baf&amp;quot;]},{category:&amp;quot;old turkic&amp;quot;,hexrange:[&amp;quot;10c00&amp;quot;,&amp;quot;10c4f&amp;quot;]},{category:&amp;quot;old hungarian&amp;quot;,hexrange:[&amp;quot;10c80&amp;quot;,&amp;quot;10cff&amp;quot;]},{category:&amp;quot;hanifi rohingya&amp;quot;,hexrange:[&amp;quot;10d00&amp;quot;,&amp;quot;10d3f&amp;quot;]},{category:&amp;quot;rumi numeral symbols&amp;quot;,hexrange:[&amp;quot;10e60&amp;quot;,&amp;quot;10e7f&amp;quot;]},{category:&amp;quot;yezidi&amp;quot;,hexrange:[&amp;quot;10e80&amp;quot;,&amp;quot;10ebf&amp;quot;]},{category:&amp;quot;arabic extended-c&amp;quot;,hexrange:[&amp;quot;10ec0&amp;quot;,&amp;quot;10eff&amp;quot;]},{category:&amp;quot;old sogdian&amp;quot;,hexrange:[&amp;quot;10f00&amp;quot;,&amp;quot;10f2f&amp;quot;]},{category:&amp;quot;sogdian&amp;quot;,hexrange:[&amp;quot;10f30&amp;quot;,&amp;quot;10f6f&amp;quot;]},{category:&amp;quot;old uyghur&amp;quot;,hexrange:[&amp;quot;10f70&amp;quot;,&amp;quot;10faf&amp;quot;]},{category:&amp;quot;chorasmian&amp;quot;,hexrange:[&amp;quot;10fb0&amp;quot;,&amp;quot;10fdf&amp;quot;]},{category:&amp;quot;elymaic&amp;quot;,hexrange:[&amp;quot;10fe0&amp;quot;,&amp;quot;10fff&amp;quot;]},{category:&amp;quot;brahmi&amp;quot;,hexrange:[&amp;quot;11000&amp;quot;,&amp;quot;1107f&amp;quot;]},{category:&amp;quot;kaithi&amp;quot;,hexrange:[&amp;quot;11080&amp;quot;,&amp;quot;110cf&amp;quot;]},{category:&amp;quot;sora sompeng&amp;quot;,hexrange:[&amp;quot;110d0&amp;quot;,&amp;quot;110ff&amp;quot;]},{category:&amp;quot;chakma&amp;quot;,hexrange:[&amp;quot;11100&amp;quot;,&amp;quot;1114f&amp;quot;]},{category:&amp;quot;mahajani&amp;quot;,hexrange:[&amp;quot;11150&amp;quot;,&amp;quot;1117f&amp;quot;]},{category:&amp;quot;sharada&amp;quot;,hexrange:[&amp;quot;11180&amp;quot;,&amp;quot;111df&amp;quot;]},{category:&amp;quot;sinhala archaic numbers&amp;quot;,hexrange:[&amp;quot;111e0&amp;quot;,&amp;quot;111ff&amp;quot;]},{category:&amp;quot;khojki&amp;quot;,hexrange:[&amp;quot;11200&amp;quot;,&amp;quot;1124f&amp;quot;]},{category:&amp;quot;multani&amp;quot;,hexrange:[&amp;quot;11280&amp;quot;,&amp;quot;112af&amp;quot;]},{category:&amp;quot;khudawadi&amp;quot;,hexrange:[&amp;quot;112b0&amp;quot;,&amp;quot;112ff&amp;quot;]},{category:&amp;quot;grantha&amp;quot;,hexrange:[&amp;quot;11300&amp;quot;,&amp;quot;1137f&amp;quot;]},{category:&amp;quot;newa&amp;quot;,hexrange:[&amp;quot;11400&amp;quot;,&amp;quot;1147f&amp;quot;]},{category:&amp;quot;tirhuta&amp;quot;,hexrange:[&amp;quot;11480&amp;quot;,&amp;quot;114df&amp;quot;]},{category:&amp;quot;siddham&amp;quot;,hexrange:[&amp;quot;11580&amp;quot;,&amp;quot;115ff&amp;quot;]},{category:&amp;quot;modi&amp;quot;,hexrange:[&amp;quot;11600&amp;quot;,&amp;quot;1165f&amp;quot;]},{category:&amp;quot;mongolian supplement&amp;quot;,hexrange:[&amp;quot;11660&amp;quot;,&amp;quot;1167f&amp;quot;]},{category:&amp;quot;takri&amp;quot;,hexrange:[&amp;quot;11680&amp;quot;,&amp;quot;116cf&amp;quot;]},{category:&amp;quot;ahom&amp;quot;,hexrange:[&amp;quot;11700&amp;quot;,&amp;quot;1174f&amp;quot;]},{category:&amp;quot;dogra&amp;quot;,hexrange:[&amp;quot;11800&amp;quot;,&amp;quot;1184f&amp;quot;]},{category:&amp;quot;warang citi&amp;quot;,hexrange:[&amp;quot;118a0&amp;quot;,&amp;quot;118ff&amp;quot;]},{category:&amp;quot;dives akuru&amp;quot;,hexrange:[&amp;quot;11900&amp;quot;,&amp;quot;1195f&amp;quot;]},{category:&amp;quot;nandinagari&amp;quot;,hexrange:[&amp;quot;119a0&amp;quot;,&amp;quot;119ff&amp;quot;]},{category:&amp;quot;zanabazar square&amp;quot;,hexrange:[&amp;quot;11a00&amp;quot;,&amp;quot;11a4f&amp;quot;]},{category:&amp;quot;soyombo&amp;quot;,hexrange:[&amp;quot;11a50&amp;quot;,&amp;quot;11aaf&amp;quot;]},{category:&amp;quot;unified canadian aboriginal syllabics extended-a&amp;quot;,hexrange:[&amp;quot;11ab0&amp;quot;,&amp;quot;11abf&amp;quot;]},{category:&amp;quot;pau cin hau&amp;quot;,hexrange:[&amp;quot;11ac0&amp;quot;,&amp;quot;11aff&amp;quot;]},{category:&amp;quot;devanagari extended-a&amp;quot;,hexrange:[&amp;quot;11b00&amp;quot;,&amp;quot;11b5f&amp;quot;]},{category:&amp;quot;bhaiksuki&amp;quot;,hexrange:[&amp;quot;11c00&amp;quot;,&amp;quot;11c6f&amp;quot;]},{category:&amp;quot;marchen&amp;quot;,hexrange:[&amp;quot;11c70&amp;quot;,&amp;quot;11cbf&amp;quot;]},{category:&amp;quot;masaram gondi&amp;quot;,hexrange:[&amp;quot;11d00&amp;quot;,&amp;quot;11d5f&amp;quot;]},{category:&amp;quot;gunjala gondi&amp;quot;,hexrange:[&amp;quot;11d60&amp;quot;,&amp;quot;11daf&amp;quot;]},{category:&amp;quot;makasar&amp;quot;,hexrange:[&amp;quot;11ee0&amp;quot;,&amp;quot;11eff&amp;quot;]},{category:&amp;quot;kawi&amp;quot;,hexrange:[&amp;quot;11f00&amp;quot;,&amp;quot;11f5f&amp;quot;]},{category:&amp;quot;lisu supplement&amp;quot;,hexrange:[&amp;quot;11fb0&amp;quot;,&amp;quot;11fbf&amp;quot;]},{category:&amp;quot;tamil supplement&amp;quot;,hexrange:[&amp;quot;11fc0&amp;quot;,&amp;quot;11fff&amp;quot;]},{category:&amp;quot;cuneiform&amp;quot;,hexrange:[&amp;quot;12000&amp;quot;,&amp;quot;123ff&amp;quot;]},{category:&amp;quot;cuneiform numbers and punctuation&amp;quot;,hexrange:[&amp;quot;12400&amp;quot;,&amp;quot;1247f&amp;quot;]},{category:&amp;quot;early dynastic cuneiform&amp;quot;,hexrange:[&amp;quot;12480&amp;quot;,&amp;quot;1254f&amp;quot;]},{category:&amp;quot;cypro-minoan&amp;quot;,hexrange:[&amp;quot;12f90&amp;quot;,&amp;quot;12fff&amp;quot;]},{category:&amp;quot;egyptian hieroglyphs&amp;quot;,hexrange:[&amp;quot;13000&amp;quot;,&amp;quot;1342f&amp;quot;]},{category:&amp;quot;egyptian hieroglyph format controls&amp;quot;,hexrange:[&amp;quot;13430&amp;quot;,&amp;quot;1345f&amp;quot;]},{category:&amp;quot;anatolian hieroglyphs&amp;quot;,hexrange:[&amp;quot;14400&amp;quot;,&amp;quot;1467f&amp;quot;]},{category:&amp;quot;bamum supplement&amp;quot;,hexrange:[&amp;quot;16800&amp;quot;,&amp;quot;16a3f&amp;quot;]},{category:&amp;quot;mro&amp;quot;,hexrange:[&amp;quot;16a40&amp;quot;,&amp;quot;16a6f&amp;quot;]},{category:&amp;quot;tangsa&amp;quot;,hexrange:[&amp;quot;16a70&amp;quot;,&amp;quot;16acf&amp;quot;]},{category:&amp;quot;bassa vah&amp;quot;,hexrange:[&amp;quot;16ad0&amp;quot;,&amp;quot;16aff&amp;quot;]},{category:&amp;quot;pahawh hmong&amp;quot;,hexrange:[&amp;quot;16b00&amp;quot;,&amp;quot;16b8f&amp;quot;]},{category:&amp;quot;medefaidrin&amp;quot;,hexrange:[&amp;quot;16e40&amp;quot;,&amp;quot;16e9f&amp;quot;]},{category:&amp;quot;miao&amp;quot;,hexrange:[&amp;quot;16f00&amp;quot;,&amp;quot;16f9f&amp;quot;]},{category:&amp;quot;ideographic symbols and punctuation&amp;quot;,hexrange:[&amp;quot;16fe0&amp;quot;,&amp;quot;16fff&amp;quot;]},{category:&amp;quot;tangut&amp;quot;,hexrange:[&amp;quot;17000&amp;quot;,&amp;quot;187ff&amp;quot;]},{category:&amp;quot;tangut components&amp;quot;,hexrange:[&amp;quot;18800&amp;quot;,&amp;quot;18aff&amp;quot;]},{category:&amp;quot;khitan small script&amp;quot;,hexrange:[&amp;quot;18b00&amp;quot;,&amp;quot;18cff&amp;quot;]},{category:&amp;quot;tangut supplement&amp;quot;,hexrange:[&amp;quot;18d00&amp;quot;,&amp;quot;18d7f&amp;quot;]},{category:&amp;quot;kana extended-b&amp;quot;,hexrange:[&amp;quot;1aff0&amp;quot;,&amp;quot;1afff&amp;quot;]},{category:&amp;quot;kana supplement&amp;quot;,hexrange:[&amp;quot;1b000&amp;quot;,&amp;quot;1b0ff&amp;quot;]},{category:&amp;quot;kana extended-a&amp;quot;,hexrange:[&amp;quot;1b100&amp;quot;,&amp;quot;1b12f&amp;quot;]},{category:&amp;quot;small kana extension&amp;quot;,hexrange:[&amp;quot;1b130&amp;quot;,&amp;quot;1b16f&amp;quot;]},{category:&amp;quot;nushu&amp;quot;,hexrange:[&amp;quot;1b170&amp;quot;,&amp;quot;1b2ff&amp;quot;]},{category:&amp;quot;duployan&amp;quot;,hexrange:[&amp;quot;1bc00&amp;quot;,&amp;quot;1bc9f&amp;quot;]},{category:&amp;quot;shorthand format controls&amp;quot;,hexrange:[&amp;quot;1bca0&amp;quot;,&amp;quot;1bcaf&amp;quot;]},{category:&amp;quot;znamenny musical notation&amp;quot;,hexrange:[&amp;quot;1cf00&amp;quot;,&amp;quot;1cfcf&amp;quot;]},{category:&amp;quot;byzantine musical symbols&amp;quot;,hexrange:[&amp;quot;1d000&amp;quot;,&amp;quot;1d0ff&amp;quot;]},{category:&amp;quot;musical symbols&amp;quot;,hexrange:[&amp;quot;1d100&amp;quot;,&amp;quot;1d1ff&amp;quot;]},{category:&amp;quot;ancient greek musical notation&amp;quot;,hexrange:[&amp;quot;1d200&amp;quot;,&amp;quot;1d24f&amp;quot;]},{category:&amp;quot;kaktovik numerals&amp;quot;,hexrange:[&amp;quot;1d2c0&amp;quot;,&amp;quot;1d2df&amp;quot;]},{category:&amp;quot;mayan numerals&amp;quot;,hexrange:[&amp;quot;1d2e0&amp;quot;,&amp;quot;1d2ff&amp;quot;]},{category:&amp;quot;tai xuan jing symbols&amp;quot;,hexrange:[&amp;quot;1d300&amp;quot;,&amp;quot;1d35f&amp;quot;]},{category:&amp;quot;counting rod numerals&amp;quot;,hexrange:[&amp;quot;1d360&amp;quot;,&amp;quot;1d37f&amp;quot;]},{category:&amp;quot;mathematical alphanumeric symbols&amp;quot;,hexrange:[&amp;quot;1d400&amp;quot;,&amp;quot;1d7ff&amp;quot;]},{category:&amp;quot;sutton signwriting&amp;quot;,hexrange:[&amp;quot;1d800&amp;quot;,&amp;quot;1daaf&amp;quot;]},{category:&amp;quot;latin extended-g&amp;quot;,hexrange:[&amp;quot;1df00&amp;quot;,&amp;quot;1dfff&amp;quot;]},{category:&amp;quot;glagolitic supplement&amp;quot;,hexrange:[&amp;quot;1e000&amp;quot;,&amp;quot;1e02f&amp;quot;]},{category:&amp;quot;cyrillic extended-d&amp;quot;,hexrange:[&amp;quot;1e030&amp;quot;,&amp;quot;1e08f&amp;quot;]},{category:&amp;quot;nyiakeng puachue hmong&amp;quot;,hexrange:[&amp;quot;1e100&amp;quot;,&amp;quot;1e14f&amp;quot;]},{category:&amp;quot;toto&amp;quot;,hexrange:[&amp;quot;1e290&amp;quot;,&amp;quot;1e2bf&amp;quot;]},{category:&amp;quot;wancho&amp;quot;,hexrange:[&amp;quot;1e2c0&amp;quot;,&amp;quot;1e2ff&amp;quot;]},{category:&amp;quot;nag mundari&amp;quot;,hexrange:[&amp;quot;1e4d0&amp;quot;,&amp;quot;1e4ff&amp;quot;]},{category:&amp;quot;ethiopic extended-b&amp;quot;,hexrange:[&amp;quot;1e7e0&amp;quot;,&amp;quot;1e7ff&amp;quot;]},{category:&amp;quot;mende kikakui&amp;quot;,hexrange:[&amp;quot;1e800&amp;quot;,&amp;quot;1e8df&amp;quot;]},{category:&amp;quot;adlam&amp;quot;,hexrange:[&amp;quot;1e900&amp;quot;,&amp;quot;1e95f&amp;quot;]},{category:&amp;quot;indic siyaq numbers&amp;quot;,hexrange:[&amp;quot;1ec70&amp;quot;,&amp;quot;1ecbf&amp;quot;]},{category:&amp;quot;ottoman siyaq numbers&amp;quot;,hexrange:[&amp;quot;1ed00&amp;quot;,&amp;quot;1ed4f&amp;quot;]},{category:&amp;quot;arabic mathematical alphabetic symbols&amp;quot;,hexrange:[&amp;quot;1ee00&amp;quot;,&amp;quot;1eeff&amp;quot;]},{category:&amp;quot;mahjong tiles&amp;quot;,hexrange:[&amp;quot;1f000&amp;quot;,&amp;quot;1f02f&amp;quot;]},{category:&amp;quot;domino tiles&amp;quot;,hexrange:[&amp;quot;1f030&amp;quot;,&amp;quot;1f09f&amp;quot;]},{category:&amp;quot;playing cards&amp;quot;,hexrange:[&amp;quot;1f0a0&amp;quot;,&amp;quot;1f0ff&amp;quot;]},{category:&amp;quot;enclosed alphanumeric supplement&amp;quot;,hexrange:[&amp;quot;1f100&amp;quot;,&amp;quot;1f1ff&amp;quot;]},{category:&amp;quot;enclosed ideographic supplement&amp;quot;,hexrange:[&amp;quot;1f200&amp;quot;,&amp;quot;1f2ff&amp;quot;]},{category:&amp;quot;miscellaneous symbols and pictographs&amp;quot;,hexrange:[&amp;quot;1f300&amp;quot;,&amp;quot;1f5ff&amp;quot;]},{category:&amp;quot;emoticons (emoji)&amp;quot;,hexrange:[&amp;quot;1f600&amp;quot;,&amp;quot;1f64f&amp;quot;]},{category:&amp;quot;ornamental dingbats&amp;quot;,hexrange:[&amp;quot;1f650&amp;quot;,&amp;quot;1f67f&amp;quot;]},{category:&amp;quot;transport and map symbols&amp;quot;,hexrange:[&amp;quot;1f680&amp;quot;,&amp;quot;1f6ff&amp;quot;]},{category:&amp;quot;alchemical symbols&amp;quot;,hexrange:[&amp;quot;1f700&amp;quot;,&amp;quot;1f77f&amp;quot;]},{category:&amp;quot;geometric shapes extended&amp;quot;,hexrange:[&amp;quot;1f780&amp;quot;,&amp;quot;1f7ff&amp;quot;]},{category:&amp;quot;supplemental arrows-c&amp;quot;,hexrange:[&amp;quot;1f800&amp;quot;,&amp;quot;1f8ff&amp;quot;]},{category:&amp;quot;supplemental symbols and pictographs&amp;quot;,hexrange:[&amp;quot;1f900&amp;quot;,&amp;quot;1f9ff&amp;quot;]},{category:&amp;quot;chess symbols&amp;quot;,hexrange:[&amp;quot;1fa00&amp;quot;,&amp;quot;1fa6f&amp;quot;]},{category:&amp;quot;symbols and pictographs extended-a&amp;quot;,hexrange:[&amp;quot;1fa70&amp;quot;,&amp;quot;1faff&amp;quot;]},{category:&amp;quot;symbols for legacy computing&amp;quot;,hexrange:[&amp;quot;1fb00&amp;quot;,&amp;quot;1fbff&amp;quot;]},{category:&amp;quot;cjk unified ideographs extension b&amp;quot;,hexrange:[&amp;quot;20000&amp;quot;,&amp;quot;2a6df&amp;quot;]},{category:&amp;quot;cjk unified ideographs extension c&amp;quot;,hexrange:[&amp;quot;2a700&amp;quot;,&amp;quot;2b73f&amp;quot;]},{category:&amp;quot;cjk unified ideographs extension d&amp;quot;,hexrange:[&amp;quot;2b740&amp;quot;,&amp;quot;2b81f&amp;quot;]},{category:&amp;quot;cjk unified ideographs extension e&amp;quot;,hexrange:[&amp;quot;2b820&amp;quot;,&amp;quot;2ceaf&amp;quot;]},{category:&amp;quot;cjk unified ideographs extension f&amp;quot;,hexrange:[&amp;quot;2ceb0&amp;quot;,&amp;quot;2ebef&amp;quot;]},{category:&amp;quot;cjk unified ideographs extension i&amp;quot;,hexrange:[&amp;quot;2ebf0&amp;quot;,&amp;quot;2ee5f&amp;quot;]},{category:&amp;quot;cjk compatibility ideographs supplement&amp;quot;,hexrange:[&amp;quot;2f800&amp;quot;,&amp;quot;2fa1f&amp;quot;]},{category:&amp;quot;cjk unified ideographs extension g&amp;quot;,hexrange:[&amp;quot;30000&amp;quot;,&amp;quot;3134f&amp;quot;]},{category:&amp;quot;cjk unified ideographs extension h&amp;quot;,hexrange:[&amp;quot;31350&amp;quot;,&amp;quot;323af&amp;quot;]},{category:&amp;quot;tags&amp;quot;,hexrange:[&amp;quot;e0000&amp;quot;,&amp;quot;e007f&amp;quot;]},{category:&amp;quot;variation selectors supplement&amp;quot;,hexrange:[&amp;quot;e0100&amp;quot;,&amp;quot;e01ef&amp;quot;]},{category:&amp;quot;supplementary private use area-a&amp;quot;,hexrange:[&amp;quot;f0000&amp;quot;,&amp;quot;fffff&amp;quot;]},{category:&amp;quot;supplementary private use area-b&amp;quot;,hexrange:[&amp;quot;100000&amp;quot;,&amp;quot;10ffff&amp;quot;]}];function ra(i){let t=i.length;for(;--t&amp;gt;=0;)i[t]=0}var O2=0,y1=1,V2=2,U2=3,G2=258,Ep=29,Go=256,Mo=Go+1+Ep,Qs=30,Sp=19,v1=2*Mo+1,Gn=15,tp=16,z2=7,Ap=256,x1=16,b1=17,_1=18,mp=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Ul=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),j2=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),w1=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),$2=512,Ii=new Array((Mo+2)*2);ra(Ii);var No=new Array(Qs*2);ra(No);var Lo=new Array($2);ra(Lo);var Ro=new Array(G2-U2+1);ra(Ro);var Dp=new Array(Ep);ra(Dp);var Gl=new Array(Qs);ra(Gl);function rp(i,t,r,n,s){this.static_tree=i,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=s,this.has_stree=i&amp;amp;&amp;amp;i.length}var C1,E1,S1;function ip(i,t){this.dyn_tree=i,this.max_code=0,this.stat_desc=t}var A1=i=&amp;gt;i&amp;lt;256?Lo[i]:Lo[256+(i&amp;gt;&amp;gt;&amp;gt;7)],Bo=(i,t)=&amp;gt;{i.pending_buf[i.pending++]=t&amp;amp;255,i.pending_buf[i.pending++]=t&amp;gt;&amp;gt;&amp;gt;8&amp;amp;255},er=(i,t,r)=&amp;gt;{i.bi_valid&amp;gt;tp-r?(i.bi_buf|=t&amp;lt;&amp;lt;i.bi_valid&amp;amp;65535,Bo(i,i.bi_buf),i.bi_buf=t&amp;gt;&amp;gt;tp-i.bi_valid,i.bi_valid+=r-tp):(i.bi_buf|=t&amp;lt;&amp;lt;i.bi_valid&amp;amp;65535,i.bi_valid+=r)},ui=(i,t,r)=&amp;gt;{er(i,r[t*2],r[t*2+1])},D1=(i,t)=&amp;gt;{let r=0;do r|=i&amp;amp;1,i&amp;gt;&amp;gt;&amp;gt;=1,r&amp;lt;&amp;lt;=1;while(--t&amp;gt;0);return r&amp;gt;&amp;gt;&amp;gt;1},H2=i=&amp;gt;{i.bi_valid===16?(Bo(i,i.bi_buf),i.bi_buf=0,i.bi_valid=0):i.bi_valid&amp;gt;=8&amp;amp;&amp;amp;(i.pending_buf[i.pending++]=i.bi_buf&amp;amp;255,i.bi_buf&amp;gt;&amp;gt;=8,i.bi_valid-=8)},W2=(i,t)=&amp;gt;{let r=t.dyn_tree,n=t.max_code,s=t.stat_desc.static_tree,a=t.stat_desc.has_stree,o=t.stat_desc.extra_bits,u=t.stat_desc.extra_base,h=t.stat_desc.max_length,l,c,p,f,d,m,g=0;for(f=0;f&amp;lt;=Gn;f++)i.bl_count[f]=0;for(r[i.heap[i.heap_max]*2+1]=0,l=i.heap_max+1;l&amp;lt;v1;l++)c=i.heap[l],f=r[r[c*2+1]*2+1]+1,f&amp;gt;h&amp;amp;&amp;amp;(f=h,g++),r[c*2+1]=f,!(c&amp;gt;n)&amp;amp;&amp;amp;(i.bl_count[f]++,d=0,c&amp;gt;=u&amp;amp;&amp;amp;(d=o[c-u]),m=r[c*2],i.opt_len+=m*(f+d),a&amp;amp;&amp;amp;(i.static_len+=m*(s[c*2+1]+d)));if(g!==0){do{for(f=h-1;i.bl_count[f]===0;)f--;i.bl_count[f]--,i.bl_count[f+1]+=2,i.bl_count[h]--,g-=2}while(g&amp;gt;0);for(f=h;f!==0;f--)for(c=i.bl_count[f];c!==0;)p=i.heap[--l],!(p&amp;gt;n)&amp;amp;&amp;amp;(r[p*2+1]!==f&amp;amp;&amp;amp;(i.opt_len+=(f-r[p*2+1])*r[p*2],r[p*2+1]=f),c--)}},F1=(i,t,r)=&amp;gt;{let n=new Array(Gn+1),s=0,a,o;for(a=1;a&amp;lt;=Gn;a++)s=s+r[a-1]&amp;lt;&amp;lt;1,n[a]=s;for(o=0;o&amp;lt;=t;o++){let u=i[o*2+1];u!==0&amp;amp;&amp;amp;(i[o*2]=D1(n[u]++,u))}},q2=()=&amp;gt;{let i,t,r,n,s,a=new Array(Gn+1);for(r=0,n=0;n&amp;lt;Ep-1;n++)for(Dp[n]=r,i=0;i&amp;lt;1&amp;lt;&amp;lt;mp[n];i++)Ro[r++]=n;for(Ro[r-1]=n,s=0,n=0;n&amp;lt;16;n++)for(Gl[n]=s,i=0;i&amp;lt;1&amp;lt;&amp;lt;Ul[n];i++)Lo[s++]=n;for(s&amp;gt;&amp;gt;=7;n&amp;lt;Qs;n++)for(Gl[n]=s&amp;lt;&amp;lt;7,i=0;i&amp;lt;1&amp;lt;&amp;lt;Ul[n]-7;i++)Lo[256+s++]=n;for(t=0;t&amp;lt;=Gn;t++)a[t]=0;for(i=0;i&amp;lt;=143;)Ii[i*2+1]=8,i++,a[8]++;for(;i&amp;lt;=255;)Ii[i*2+1]=9,i++,a[9]++;for(;i&amp;lt;=279;)Ii[i*2+1]=7,i++,a[7]++;for(;i&amp;lt;=287;)Ii[i*2+1]=8,i++,a[8]++;for(F1(Ii,Mo+1,a),i=0;i&amp;lt;Qs;i++)No[i*2+1]=5,No[i*2]=D1(i,5);C1=new rp(Ii,mp,Go+1,Mo,Gn),E1=new rp(No,Ul,0,Qs,Gn),S1=new rp(new Array(0),j2,0,Sp,z2)},T1=i=&amp;gt;{let t;for(t=0;t&amp;lt;Mo;t++)i.dyn_ltree[t*2]=0;for(t=0;t&amp;lt;Qs;t++)i.dyn_dtree[t*2]=0;for(t=0;t&amp;lt;Sp;t++)i.bl_tree[t*2]=0;i.dyn_ltree[Ap*2]=1,i.opt_len=i.static_len=0,i.sym_next=i.matches=0},N1=i=&amp;gt;{i.bi_valid&amp;gt;8?Bo(i,i.bi_buf):i.bi_valid&amp;gt;0&amp;amp;&amp;amp;(i.pending_buf[i.pending++]=i.bi_buf),i.bi_buf=0,i.bi_valid=0},Mg=(i,t,r,n)=&amp;gt;{let s=t*2,a=r*2;return i[s]&amp;lt;i[a]||i[s]===i[a]&amp;amp;&amp;amp;n[t]&amp;lt;=n[r]},np=(i,t,r)=&amp;gt;{let n=i.heap[r],s=r&amp;lt;&amp;lt;1;for(;s&amp;lt;=i.heap_len&amp;amp;&amp;amp;(s&amp;lt;i.heap_len&amp;amp;&amp;amp;Mg(t,i.heap[s+1],i.heap[s],i.depth)&amp;amp;&amp;amp;s++,!Mg(t,n,i.heap[s],i.depth));)i.heap[r]=i.heap[s],r=s,s&amp;lt;&amp;lt;=1;i.heap[r]=n},Lg=(i,t,r)=&amp;gt;{let n,s,a=0,o,u;if(i.sym_next!==0)do n=i.pending_buf[i.sym_buf+a++]&amp;amp;255,n+=(i.pending_buf[i.sym_buf+a++]&amp;amp;255)&amp;lt;&amp;lt;8,s=i.pending_buf[i.sym_buf+a++],n===0?ui(i,s,t):(o=Ro[s],ui(i,o+Go+1,t),u=mp[o],u!==0&amp;amp;&amp;amp;(s-=Dp[o],er(i,s,u)),n--,o=A1(n),ui(i,o,r),u=Ul[o],u!==0&amp;amp;&amp;amp;(n-=Gl[o],er(i,n,u)));while(a&amp;lt;i.sym_next);ui(i,Ap,t)},gp=(i,t)=&amp;gt;{let r=t.dyn_tree,n=t.stat_desc.static_tree,s=t.stat_desc.has_stree,a=t.stat_desc.elems,o,u,h=-1,l;for(i.heap_len=0,i.heap_max=v1,o=0;o&amp;lt;a;o++)r[o*2]!==0?(i.heap[++i.heap_len]=h=o,i.depth[o]=0):r[o*2+1]=0;for(;i.heap_len&amp;lt;2;)l=i.heap[++i.heap_len]=h&amp;lt;2?++h:0,r[l*2]=1,i.depth[l]=0,i.opt_len--,s&amp;amp;&amp;amp;(i.static_len-=n[l*2+1]);for(t.max_code=h,o=i.heap_len&amp;gt;&amp;gt;1;o&amp;gt;=1;o--)np(i,r,o);l=a;do o=i.heap[1],i.heap[1]=i.heap[i.heap_len--],np(i,r,1),u=i.heap[1],i.heap[--i.heap_max]=o,i.heap[--i.heap_max]=u,r[l*2]=r[o*2]+r[u*2],i.depth[l]=(i.depth[o]&amp;gt;=i.depth[u]?i.depth[o]:i.depth[u])+1,r[o*2+1]=r[u*2+1]=l,i.heap[1]=l++,np(i,r,1);while(i.heap_len&amp;gt;=2);i.heap[--i.heap_max]=i.heap[1],W2(i,t),F1(r,h,i.bl_count)},Rg=(i,t,r)=&amp;gt;{let n,s=-1,a,o=t[1],u=0,h=7,l=4;for(o===0&amp;amp;&amp;amp;(h=138,l=3),t[(r+1)*2+1]=65535,n=0;n&amp;lt;=r;n++)a=o,o=t[(n+1)*2+1],!(++u&amp;lt;h&amp;amp;&amp;amp;a===o)&amp;amp;&amp;amp;(u&amp;lt;l?i.bl_tree[a*2]+=u:a!==0?(a!==s&amp;amp;&amp;amp;i.bl_tree[a*2]++,i.bl_tree[x1*2]++):u&amp;lt;=10?i.bl_tree[b1*2]++:i.bl_tree[_1*2]++,u=0,s=a,o===0?(h=138,l=3):a===o?(h=6,l=3):(h=7,l=4))},Bg=(i,t,r)=&amp;gt;{let n,s=-1,a,o=t[1],u=0,h=7,l=4;for(o===0&amp;amp;&amp;amp;(h=138,l=3),n=0;n&amp;lt;=r;n++)if(a=o,o=t[(n+1)*2+1],!(++u&amp;lt;h&amp;amp;&amp;amp;a===o)){if(u&amp;lt;l)do ui(i,a,i.bl_tree);while(--u!==0);else a!==0?(a!==s&amp;amp;&amp;amp;(ui(i,a,i.bl_tree),u--),ui(i,x1,i.bl_tree),er(i,u-3,2)):u&amp;lt;=10?(ui(i,b1,i.bl_tree),er(i,u-3,3)):(ui(i,_1,i.bl_tree),er(i,u-11,7));u=0,s=a,o===0?(h=138,l=3):a===o?(h=6,l=3):(h=7,l=4)}},Z2=i=&amp;gt;{let t;for(Rg(i,i.dyn_ltree,i.l_desc.max_code),Rg(i,i.dyn_dtree,i.d_desc.max_code),gp(i,i.bl_desc),t=Sp-1;t&amp;gt;=3&amp;amp;&amp;amp;i.bl_tree[w1[t]*2+1]===0;t--);return i.opt_len+=3*(t+1)+5+5+4,t},Y2=(i,t,r,n)=&amp;gt;{let s;for(er(i,t-257,5),er(i,r-1,5),er(i,n-4,4),s=0;s&amp;lt;n;s++)er(i,i.bl_tree[w1[s]*2+1],3);Bg(i,i.dyn_ltree,t-1),Bg(i,i.dyn_dtree,r-1)},X2=i=&amp;gt;{let t=4093624447,r;for(r=0;r&amp;lt;=31;r++,t&amp;gt;&amp;gt;&amp;gt;=1)if(t&amp;amp;1&amp;amp;&amp;amp;i.dyn_ltree[r*2]!==0)return 0;if(i.dyn_ltree[18]!==0||i.dyn_ltree[20]!==0||i.dyn_ltree[26]!==0)return 1;for(r=32;r&amp;lt;Go;r++)if(i.dyn_ltree[r*2]!==0)return 1;return 0},Pg=!1,K2=i=&amp;gt;{Pg||(q2(),Pg=!0),i.l_desc=new ip(i.dyn_ltree,C1),i.d_desc=new ip(i.dyn_dtree,E1),i.bl_desc=new ip(i.bl_tree,S1),i.bi_buf=0,i.bi_valid=0,T1(i)},I1=(i,t,r,n)=&amp;gt;{er(i,(O2&amp;lt;&amp;lt;1)+(n?1:0),3),N1(i),Bo(i,r),Bo(i,~r),r&amp;amp;&amp;amp;i.pending_buf.set(i.window.subarray(t,t+r),i.pending),i.pending+=r},J2=i=&amp;gt;{er(i,y1&amp;lt;&amp;lt;1,3),ui(i,Ap,Ii),H2(i)},Q2=(i,t,r,n)=&amp;gt;{let s,a,o=0;i.level&amp;gt;0?(i.strm.data_type===2&amp;amp;&amp;amp;(i.strm.data_type=X2(i)),gp(i,i.l_desc),gp(i,i.d_desc),o=Z2(i),s=i.opt_len+3+7&amp;gt;&amp;gt;&amp;gt;3,a=i.static_len+3+7&amp;gt;&amp;gt;&amp;gt;3,a&amp;lt;=s&amp;amp;&amp;amp;(s=a)):s=a=r+5,r+4&amp;lt;=s&amp;amp;&amp;amp;t!==-1?I1(i,t,r,n):i.strategy===4||a===s?(er(i,(y1&amp;lt;&amp;lt;1)+(n?1:0),3),Lg(i,Ii,No)):(er(i,(V2&amp;lt;&amp;lt;1)+(n?1:0),3),Y2(i,i.l_desc.max_code+1,i.d_desc.max_code+1,o+1),Lg(i,i.dyn_ltree,i.dyn_dtree)),T1(i),n&amp;amp;&amp;amp;N1(i)},ew=(i,t,r)=&amp;gt;(i.pending_buf[i.sym_buf+i.sym_next++]=t,i.pending_buf[i.sym_buf+i.sym_next++]=t&amp;gt;&amp;gt;8,i.pending_buf[i.sym_buf+i.sym_next++]=r,t===0?i.dyn_ltree[r*2]++:(i.matches++,t--,i.dyn_ltree[(Ro[r]+Go+1)*2]++,i.dyn_dtree[A1(t)*2]++),i.sym_next===i.sym_end),tw=K2,rw=I1,iw=Q2,nw=ew,sw=J2,aw={_tr_init:tw,_tr_stored_block:rw,_tr_flush_block:iw,_tr_tally:nw,_tr_align:sw},ow=(i,t,r,n)=&amp;gt;{let s=i&amp;amp;65535|0,a=i&amp;gt;&amp;gt;&amp;gt;16&amp;amp;65535|0,o=0;for(;r!==0;){o=r&amp;gt;2e3?2e3:r,r-=o;do s=s+t[n++]|0,a=a+s|0;while(--o);s%=65521,a%=65521}return s|a&amp;lt;&amp;lt;16|0},Po=ow,uw=()=&amp;gt;{let i,t=[];for(var r=0;r&amp;lt;256;r++){i=r;for(var n=0;n&amp;lt;8;n++)i=i&amp;amp;1?3988292384^i&amp;gt;&amp;gt;&amp;gt;1:i&amp;gt;&amp;gt;&amp;gt;1;t[r]=i}return t},lw=new Uint32Array(uw()),hw=(i,t,r,n)=&amp;gt;{let s=lw,a=n+r;i^=-1;for(let o=n;o&amp;lt;a;o++)i=i&amp;gt;&amp;gt;&amp;gt;8^s[(i^t[o])&amp;amp;255];return i^-1},Nt=hw,$n={2:&amp;quot;need dictionary&amp;quot;,1:&amp;quot;stream end&amp;quot;,0:&amp;quot;&amp;quot;,&amp;quot;-1&amp;quot;:&amp;quot;file error&amp;quot;,&amp;quot;-2&amp;quot;:&amp;quot;stream error&amp;quot;,&amp;quot;-3&amp;quot;:&amp;quot;data error&amp;quot;,&amp;quot;-4&amp;quot;:&amp;quot;insufficient memory&amp;quot;,&amp;quot;-5&amp;quot;:&amp;quot;buffer error&amp;quot;,&amp;quot;-6&amp;quot;:&amp;quot;incompatible version&amp;quot;},ia={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},{_tr_init:cw,_tr_stored_block:yp,_tr_flush_block:fw,_tr_tally:sn,_tr_align:pw}=aw,{Z_NO_FLUSH:an,Z_PARTIAL_FLUSH:dw,Z_FULL_FLUSH:mw,Z_FINISH:Tr,Z_BLOCK:Og,Z_OK:Mt,Z_STREAM_END:Vg,Z_STREAM_ERROR:li,Z_DATA_ERROR:gw,Z_BUF_ERROR:sp,Z_DEFAULT_COMPRESSION:yw,Z_FILTERED:vw,Z_HUFFMAN_ONLY:Rl,Z_RLE:xw,Z_FIXED:bw,Z_DEFAULT_STRATEGY:_w,Z_UNKNOWN:ww,Z_DEFLATED:$l}=ia,Cw=9,Ew=15,Sw=8,Aw=29,Dw=256,vp=Dw+1+Aw,Fw=30,Tw=19,Nw=2*vp+1,Iw=15,Ye=3,nn=258,hi=nn+Ye+1,kw=32,ea=42,Fp=57,xp=69,bp=73,_p=91,wp=103,zn=113,Fo=666,Zt=1,na=2,Hn=3,sa=4,Mw=3,jn=(i,t)=&amp;gt;(i.msg=$n[t],t),Ug=i=&amp;gt;i*2-(i&amp;gt;4?9:0),rn=i=&amp;gt;{let t=i.length;for(;--t&amp;gt;=0;)i[t]=0},Lw=i=&amp;gt;{let t,r,n,s=i.w_size;t=i.hash_size,n=t;do r=i.head[--n],i.head[n]=r&amp;gt;=s?r-s:0;while(--t);t=s,n=t;do r=i.prev[--n],i.prev[n]=r&amp;gt;=s?r-s:0;while(--t)},Rw=(i,t,r)=&amp;gt;(t&amp;lt;&amp;lt;i.hash_shift^r)&amp;amp;i.hash_mask,on=Rw,pr=i=&amp;gt;{let t=i.state,r=t.pending;r&amp;gt;i.avail_out&amp;amp;&amp;amp;(r=i.avail_out),r!==0&amp;amp;&amp;amp;(i.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+r),i.next_out),i.next_out+=r,t.pending_out+=r,i.total_out+=r,i.avail_out-=r,t.pending-=r,t.pending===0&amp;amp;&amp;amp;(t.pending_out=0))},dr=(i,t)=&amp;gt;{fw(i,i.block_start&amp;gt;=0?i.block_start:-1,i.strstart-i.block_start,t),i.block_start=i.strstart,pr(i.strm)},Je=(i,t)=&amp;gt;{i.pending_buf[i.pending++]=t},Do=(i,t)=&amp;gt;{i.pending_buf[i.pending++]=t&amp;gt;&amp;gt;&amp;gt;8&amp;amp;255,i.pending_buf[i.pending++]=t&amp;amp;255},Cp=(i,t,r,n)=&amp;gt;{let s=i.avail_in;return s&amp;gt;n&amp;amp;&amp;amp;(s=n),s===0?0:(i.avail_in-=s,t.set(i.input.subarray(i.next_in,i.next_in+s),r),i.state.wrap===1?i.adler=Po(i.adler,t,s,r):i.state.wrap===2&amp;amp;&amp;amp;(i.adler=Nt(i.adler,t,s,r)),i.next_in+=s,i.total_in+=s,s)},k1=(i,t)=&amp;gt;{let r=i.max_chain_length,n=i.strstart,s,a,o=i.prev_length,u=i.nice_match,h=i.strstart&amp;gt;i.w_size-hi?i.strstart-(i.w_size-hi):0,l=i.window,c=i.w_mask,p=i.prev,f=i.strstart+nn,d=l[n+o-1],m=l[n+o];i.prev_length&amp;gt;=i.good_match&amp;amp;&amp;amp;(r&amp;gt;&amp;gt;=2),u&amp;gt;i.lookahead&amp;amp;&amp;amp;(u=i.lookahead);do if(s=t,!(l[s+o]!==m||l[s+o-1]!==d||l[s]!==l[n]||l[++s]!==l[n+1])){n+=2,s++;do;while(l[++n]===l[++s]&amp;amp;&amp;amp;l[++n]===l[++s]&amp;amp;&amp;amp;l[++n]===l[++s]&amp;amp;&amp;amp;l[++n]===l[++s]&amp;amp;&amp;amp;l[++n]===l[++s]&amp;amp;&amp;amp;l[++n]===l[++s]&amp;amp;&amp;amp;l[++n]===l[++s]&amp;amp;&amp;amp;l[++n]===l[++s]&amp;amp;&amp;amp;n&amp;lt;f);if(a=nn-(f-n),n=f-nn,a&amp;gt;o){if(i.match_start=t,o=a,a&amp;gt;=u)break;d=l[n+o-1],m=l[n+o]}}while((t=p[t&amp;amp;c])&amp;gt;h&amp;amp;&amp;amp;--r!==0);return o&amp;lt;=i.lookahead?o:i.lookahead},ta=i=&amp;gt;{let t=i.w_size,r,n,s;do{if(n=i.window_size-i.lookahead-i.strstart,i.strstart&amp;gt;=t+(t-hi)&amp;amp;&amp;amp;(i.window.set(i.window.subarray(t,t+t-n),0),i.match_start-=t,i.strstart-=t,i.block_start-=t,i.insert&amp;gt;i.strstart&amp;amp;&amp;amp;(i.insert=i.strstart),Lw(i),n+=t),i.strm.avail_in===0)break;if(r=Cp(i.strm,i.window,i.strstart+i.lookahead,n),i.lookahead+=r,i.lookahead+i.insert&amp;gt;=Ye)for(s=i.strstart-i.insert,i.ins_h=i.window[s],i.ins_h=on(i,i.ins_h,i.window[s+1]);i.insert&amp;amp;&amp;amp;(i.ins_h=on(i,i.ins_h,i.window[s+Ye-1]),i.prev[s&amp;amp;i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=s,s++,i.insert--,!(i.lookahead+i.insert&amp;lt;Ye)););}while(i.lookahead&amp;lt;hi&amp;amp;&amp;amp;i.strm.avail_in!==0)},M1=(i,t)=&amp;gt;{let r=i.pending_buf_size-5&amp;gt;i.w_size?i.w_size:i.pending_buf_size-5,n,s,a,o=0,u=i.strm.avail_in;do{if(n=65535,a=i.bi_valid+42&amp;gt;&amp;gt;3,i.strm.avail_out&amp;lt;a||(a=i.strm.avail_out-a,s=i.strstart-i.block_start,n&amp;gt;s+i.strm.avail_in&amp;amp;&amp;amp;(n=s+i.strm.avail_in),n&amp;gt;a&amp;amp;&amp;amp;(n=a),n&amp;lt;r&amp;amp;&amp;amp;(n===0&amp;amp;&amp;amp;t!==Tr||t===an||n!==s+i.strm.avail_in)))break;o=t===Tr&amp;amp;&amp;amp;n===s+i.strm.avail_in?1:0,yp(i,0,0,o),i.pending_buf[i.pending-4]=n,i.pending_buf[i.pending-3]=n&amp;gt;&amp;gt;8,i.pending_buf[i.pending-2]=~n,i.pending_buf[i.pending-1]=~n&amp;gt;&amp;gt;8,pr(i.strm),s&amp;amp;&amp;amp;(s&amp;gt;n&amp;amp;&amp;amp;(s=n),i.strm.output.set(i.window.subarray(i.block_start,i.block_start+s),i.strm.next_out),i.strm.next_out+=s,i.strm.avail_out-=s,i.strm.total_out+=s,i.block_start+=s,n-=s),n&amp;amp;&amp;amp;(Cp(i.strm,i.strm.output,i.strm.next_out,n),i.strm.next_out+=n,i.strm.avail_out-=n,i.strm.total_out+=n)}while(o===0);return u-=i.strm.avail_in,u&amp;amp;&amp;amp;(u&amp;gt;=i.w_size?(i.matches=2,i.window.set(i.strm.input.subarray(i.strm.next_in-i.w_size,i.strm.next_in),0),i.strstart=i.w_size,i.insert=i.strstart):(i.window_size-i.strstart&amp;lt;=u&amp;amp;&amp;amp;(i.strstart-=i.w_size,i.window.set(i.window.subarray(i.w_size,i.w_size+i.strstart),0),i.matches&amp;lt;2&amp;amp;&amp;amp;i.matches++,i.insert&amp;gt;i.strstart&amp;amp;&amp;amp;(i.insert=i.strstart)),i.window.set(i.strm.input.subarray(i.strm.next_in-u,i.strm.next_in),i.strstart),i.strstart+=u,i.insert+=u&amp;gt;i.w_size-i.insert?i.w_size-i.insert:u),i.block_start=i.strstart),i.high_water&amp;lt;i.strstart&amp;amp;&amp;amp;(i.high_water=i.strstart),o?sa:t!==an&amp;amp;&amp;amp;t!==Tr&amp;amp;&amp;amp;i.strm.avail_in===0&amp;amp;&amp;amp;i.strstart===i.block_start?na:(a=i.window_size-i.strstart,i.strm.avail_in&amp;gt;a&amp;amp;&amp;amp;i.block_start&amp;gt;=i.w_size&amp;amp;&amp;amp;(i.block_start-=i.w_size,i.strstart-=i.w_size,i.window.set(i.window.subarray(i.w_size,i.w_size+i.strstart),0),i.matches&amp;lt;2&amp;amp;&amp;amp;i.matches++,a+=i.w_size,i.insert&amp;gt;i.strstart&amp;amp;&amp;amp;(i.insert=i.strstart)),a&amp;gt;i.strm.avail_in&amp;amp;&amp;amp;(a=i.strm.avail_in),a&amp;amp;&amp;amp;(Cp(i.strm,i.window,i.strstart,a),i.strstart+=a,i.insert+=a&amp;gt;i.w_size-i.insert?i.w_size-i.insert:a),i.high_water&amp;lt;i.strstart&amp;amp;&amp;amp;(i.high_water=i.strstart),a=i.bi_valid+42&amp;gt;&amp;gt;3,a=i.pending_buf_size-a&amp;gt;65535?65535:i.pending_buf_size-a,r=a&amp;gt;i.w_size?i.w_size:a,s=i.strstart-i.block_start,(s&amp;gt;=r||(s||t===Tr)&amp;amp;&amp;amp;t!==an&amp;amp;&amp;amp;i.strm.avail_in===0&amp;amp;&amp;amp;s&amp;lt;=a)&amp;amp;&amp;amp;(n=s&amp;gt;a?a:s,o=t===Tr&amp;amp;&amp;amp;i.strm.avail_in===0&amp;amp;&amp;amp;n===s?1:0,yp(i,i.block_start,n,o),i.block_start+=n,pr(i.strm)),o?Hn:Zt)},ap=(i,t)=&amp;gt;{let r,n;for(;;){if(i.lookahead&amp;lt;hi){if(ta(i),i.lookahead&amp;lt;hi&amp;amp;&amp;amp;t===an)return Zt;if(i.lookahead===0)break}if(r=0,i.lookahead&amp;gt;=Ye&amp;amp;&amp;amp;(i.ins_h=on(i,i.ins_h,i.window[i.strstart+Ye-1]),r=i.prev[i.strstart&amp;amp;i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),r!==0&amp;amp;&amp;amp;i.strstart-r&amp;lt;=i.w_size-hi&amp;amp;&amp;amp;(i.match_length=k1(i,r)),i.match_length&amp;gt;=Ye)if(n=sn(i,i.strstart-i.match_start,i.match_length-Ye),i.lookahead-=i.match_length,i.match_length&amp;lt;=i.max_lazy_match&amp;amp;&amp;amp;i.lookahead&amp;gt;=Ye){i.match_length--;do i.strstart++,i.ins_h=on(i,i.ins_h,i.window[i.strstart+Ye-1]),r=i.prev[i.strstart&amp;amp;i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart;while(--i.match_length!==0);i.strstart++}else i.strstart+=i.match_length,i.match_length=0,i.ins_h=i.window[i.strstart],i.ins_h=on(i,i.ins_h,i.window[i.strstart+1]);else n=sn(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++;if(n&amp;amp;&amp;amp;(dr(i,!1),i.strm.avail_out===0))return Zt}return i.insert=i.strstart&amp;lt;Ye-1?i.strstart:Ye-1,t===Tr?(dr(i,!0),i.strm.avail_out===0?Hn:sa):i.sym_next&amp;amp;&amp;amp;(dr(i,!1),i.strm.avail_out===0)?Zt:na},Ks=(i,t)=&amp;gt;{let r,n,s;for(;;){if(i.lookahead&amp;lt;hi){if(ta(i),i.lookahead&amp;lt;hi&amp;amp;&amp;amp;t===an)return Zt;if(i.lookahead===0)break}if(r=0,i.lookahead&amp;gt;=Ye&amp;amp;&amp;amp;(i.ins_h=on(i,i.ins_h,i.window[i.strstart+Ye-1]),r=i.prev[i.strstart&amp;amp;i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),i.prev_length=i.match_length,i.prev_match=i.match_start,i.match_length=Ye-1,r!==0&amp;amp;&amp;amp;i.prev_length&amp;lt;i.max_lazy_match&amp;amp;&amp;amp;i.strstart-r&amp;lt;=i.w_size-hi&amp;amp;&amp;amp;(i.match_length=k1(i,r),i.match_length&amp;lt;=5&amp;amp;&amp;amp;(i.strategy===vw||i.match_length===Ye&amp;amp;&amp;amp;i.strstart-i.match_start&amp;gt;4096)&amp;amp;&amp;amp;(i.match_length=Ye-1)),i.prev_length&amp;gt;=Ye&amp;amp;&amp;amp;i.match_length&amp;lt;=i.prev_length){s=i.strstart+i.lookahead-Ye,n=sn(i,i.strstart-1-i.prev_match,i.prev_length-Ye),i.lookahead-=i.prev_length-1,i.prev_length-=2;do++i.strstart&amp;lt;=s&amp;amp;&amp;amp;(i.ins_h=on(i,i.ins_h,i.window[i.strstart+Ye-1]),r=i.prev[i.strstart&amp;amp;i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart);while(--i.prev_length!==0);if(i.match_available=0,i.match_length=Ye-1,i.strstart++,n&amp;amp;&amp;amp;(dr(i,!1),i.strm.avail_out===0))return Zt}else if(i.match_available){if(n=sn(i,0,i.window[i.strstart-1]),n&amp;amp;&amp;amp;dr(i,!1),i.strstart++,i.lookahead--,i.strm.avail_out===0)return Zt}else i.match_available=1,i.strstart++,i.lookahead--}return i.match_available&amp;amp;&amp;amp;(n=sn(i,0,i.window[i.strstart-1]),i.match_available=0),i.insert=i.strstart&amp;lt;Ye-1?i.strstart:Ye-1,t===Tr?(dr(i,!0),i.strm.avail_out===0?Hn:sa):i.sym_next&amp;amp;&amp;amp;(dr(i,!1),i.strm.avail_out===0)?Zt:na},Bw=(i,t)=&amp;gt;{let r,n,s,a,o=i.window;for(;;){if(i.lookahead&amp;lt;=nn){if(ta(i),i.lookahead&amp;lt;=nn&amp;amp;&amp;amp;t===an)return Zt;if(i.lookahead===0)break}if(i.match_length=0,i.lookahead&amp;gt;=Ye&amp;amp;&amp;amp;i.strstart&amp;gt;0&amp;amp;&amp;amp;(s=i.strstart-1,n=o[s],n===o[++s]&amp;amp;&amp;amp;n===o[++s]&amp;amp;&amp;amp;n===o[++s])){a=i.strstart+nn;do;while(n===o[++s]&amp;amp;&amp;amp;n===o[++s]&amp;amp;&amp;amp;n===o[++s]&amp;amp;&amp;amp;n===o[++s]&amp;amp;&amp;amp;n===o[++s]&amp;amp;&amp;amp;n===o[++s]&amp;amp;&amp;amp;n===o[++s]&amp;amp;&amp;amp;n===o[++s]&amp;amp;&amp;amp;s&amp;lt;a);i.match_length=nn-(a-s),i.match_length&amp;gt;i.lookahead&amp;amp;&amp;amp;(i.match_length=i.lookahead)}if(i.match_length&amp;gt;=Ye?(r=sn(i,1,i.match_length-Ye),i.lookahead-=i.match_length,i.strstart+=i.match_length,i.match_length=0):(r=sn(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++),r&amp;amp;&amp;amp;(dr(i,!1),i.strm.avail_out===0))return Zt}return i.insert=0,t===Tr?(dr(i,!0),i.strm.avail_out===0?Hn:sa):i.sym_next&amp;amp;&amp;amp;(dr(i,!1),i.strm.avail_out===0)?Zt:na},Pw=(i,t)=&amp;gt;{let r;for(;;){if(i.lookahead===0&amp;amp;&amp;amp;(ta(i),i.lookahead===0)){if(t===an)return Zt;break}if(i.match_length=0,r=sn(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++,r&amp;amp;&amp;amp;(dr(i,!1),i.strm.avail_out===0))return Zt}return i.insert=0,t===Tr?(dr(i,!0),i.strm.avail_out===0?Hn:sa):i.sym_next&amp;amp;&amp;amp;(dr(i,!1),i.strm.avail_out===0)?Zt:na};function oi(i,t,r,n,s){this.good_length=i,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=s}var To=[new oi(0,0,0,0,M1),new oi(4,4,8,4,ap),new oi(4,5,16,8,ap),new oi(4,6,32,32,ap),new oi(4,4,16,16,Ks),new oi(8,16,32,32,Ks),new oi(8,16,128,128,Ks),new oi(8,32,128,256,Ks),new oi(32,128,258,1024,Ks),new oi(32,258,258,4096,Ks)],Ow=i=&amp;gt;{i.window_size=2*i.w_size,rn(i.head),i.max_lazy_match=To[i.level].max_lazy,i.good_match=To[i.level].good_length,i.nice_match=To[i.level].nice_length,i.max_chain_length=To[i.level].max_chain,i.strstart=0,i.block_start=0,i.lookahead=0,i.insert=0,i.match_length=i.prev_length=Ye-1,i.match_available=0,i.ins_h=0};function Vw(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=$l,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Nw*2),this.dyn_dtree=new Uint16Array((2*Fw+1)*2),this.bl_tree=new Uint16Array((2*Tw+1)*2),rn(this.dyn_ltree),rn(this.dyn_dtree),rn(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Iw+1),this.heap=new Uint16Array(2*vp+1),rn(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*vp+1),rn(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var zo=i=&amp;gt;{if(!i)return 1;let t=i.state;return!t||t.strm!==i||t.status!==ea&amp;amp;&amp;amp;t.status!==Fp&amp;amp;&amp;amp;t.status!==xp&amp;amp;&amp;amp;t.status!==bp&amp;amp;&amp;amp;t.status!==_p&amp;amp;&amp;amp;t.status!==wp&amp;amp;&amp;amp;t.status!==zn&amp;amp;&amp;amp;t.status!==Fo?1:0},L1=i=&amp;gt;{if(zo(i))return jn(i,li);i.total_in=i.total_out=0,i.data_type=ww;let t=i.state;return t.pending=0,t.pending_out=0,t.wrap&amp;lt;0&amp;amp;&amp;amp;(t.wrap=-t.wrap),t.status=t.wrap===2?Fp:t.wrap?ea:zn,i.adler=t.wrap===2?0:1,t.last_flush=-2,cw(t),Mt},R1=i=&amp;gt;{let t=L1(i);return t===Mt&amp;amp;&amp;amp;Ow(i.state),t},Uw=(i,t)=&amp;gt;zo(i)||i.state.wrap!==2?li:(i.state.gzhead=t,Mt),B1=(i,t,r,n,s,a)=&amp;gt;{if(!i)return li;let o=1;if(t===yw&amp;amp;&amp;amp;(t=6),n&amp;lt;0?(o=0,n=-n):n&amp;gt;15&amp;amp;&amp;amp;(o=2,n-=16),s&amp;lt;1||s&amp;gt;Cw||r!==$l||n&amp;lt;8||n&amp;gt;15||t&amp;lt;0||t&amp;gt;9||a&amp;lt;0||a&amp;gt;bw||n===8&amp;amp;&amp;amp;o!==1)return jn(i,li);n===8&amp;amp;&amp;amp;(n=9);let u=new Vw;return i.state=u,u.strm=i,u.status=ea,u.wrap=o,u.gzhead=null,u.w_bits=n,u.w_size=1&amp;lt;&amp;lt;u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=s+7,u.hash_size=1&amp;lt;&amp;lt;u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+Ye-1)/Ye),u.window=new Uint8Array(u.w_size*2),u.head=new Uint16Array(u.hash_size),u.prev=new Uint16Array(u.w_size),u.lit_bufsize=1&amp;lt;&amp;lt;s+6,u.pending_buf_size=u.lit_bufsize*4,u.pending_buf=new Uint8Array(u.pending_buf_size),u.sym_buf=u.lit_bufsize,u.sym_end=(u.lit_bufsize-1)*3,u.level=t,u.strategy=a,u.method=r,R1(i)},Gw=(i,t)=&amp;gt;B1(i,t,$l,Ew,Sw,_w),zw=(i,t)=&amp;gt;{if(zo(i)||t&amp;gt;Og||t&amp;lt;0)return i?jn(i,li):li;let r=i.state;if(!i.output||i.avail_in!==0&amp;amp;&amp;amp;!i.input||r.status===Fo&amp;amp;&amp;amp;t!==Tr)return jn(i,i.avail_out===0?sp:li);let n=r.last_flush;if(r.last_flush=t,r.pending!==0){if(pr(i),i.avail_out===0)return r.last_flush=-1,Mt}else if(i.avail_in===0&amp;amp;&amp;amp;Ug(t)&amp;lt;=Ug(n)&amp;amp;&amp;amp;t!==Tr)return jn(i,sp);if(r.status===Fo&amp;amp;&amp;amp;i.avail_in!==0)return jn(i,sp);if(r.status===ea&amp;amp;&amp;amp;r.wrap===0&amp;amp;&amp;amp;(r.status=zn),r.status===ea){let s=$l+(r.w_bits-8&amp;lt;&amp;lt;4)&amp;lt;&amp;lt;8,a=-1;if(r.strategy&amp;gt;=Rl||r.level&amp;lt;2?a=0:r.level&amp;lt;6?a=1:r.level===6?a=2:a=3,s|=a&amp;lt;&amp;lt;6,r.strstart!==0&amp;amp;&amp;amp;(s|=kw),s+=31-s%31,Do(r,s),r.strstart!==0&amp;amp;&amp;amp;(Do(r,i.adler&amp;gt;&amp;gt;&amp;gt;16),Do(r,i.adler&amp;amp;65535)),i.adler=1,r.status=zn,pr(i),r.pending!==0)return r.last_flush=-1,Mt}if(r.status===Fp){if(i.adler=0,Je(r,31),Je(r,139),Je(r,8),r.gzhead)Je(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),Je(r,r.gzhead.time&amp;amp;255),Je(r,r.gzhead.time&amp;gt;&amp;gt;8&amp;amp;255),Je(r,r.gzhead.time&amp;gt;&amp;gt;16&amp;amp;255),Je(r,r.gzhead.time&amp;gt;&amp;gt;24&amp;amp;255),Je(r,r.level===9?2:r.strategy&amp;gt;=Rl||r.level&amp;lt;2?4:0),Je(r,r.gzhead.os&amp;amp;255),r.gzhead.extra&amp;amp;&amp;amp;r.gzhead.extra.length&amp;amp;&amp;amp;(Je(r,r.gzhead.extra.length&amp;amp;255),Je(r,r.gzhead.extra.length&amp;gt;&amp;gt;8&amp;amp;255)),r.gzhead.hcrc&amp;amp;&amp;amp;(i.adler=Nt(i.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=xp;else if(Je(r,0),Je(r,0),Je(r,0),Je(r,0),Je(r,0),Je(r,r.level===9?2:r.strategy&amp;gt;=Rl||r.level&amp;lt;2?4:0),Je(r,Mw),r.status=zn,pr(i),r.pending!==0)return r.last_flush=-1,Mt}if(r.status===xp){if(r.gzhead.extra){let s=r.pending,a=(r.gzhead.extra.length&amp;amp;65535)-r.gzindex;for(;r.pending+a&amp;gt;r.pending_buf_size;){let u=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+u),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&amp;amp;&amp;amp;r.pending&amp;gt;s&amp;amp;&amp;amp;(i.adler=Nt(i.adler,r.pending_buf,r.pending-s,s)),r.gzindex+=u,pr(i),r.pending!==0)return r.last_flush=-1,Mt;s=0,a-=u}let o=new Uint8Array(r.gzhead.extra);r.pending_buf.set(o.subarray(r.gzindex,r.gzindex+a),r.pending),r.pending+=a,r.gzhead.hcrc&amp;amp;&amp;amp;r.pending&amp;gt;s&amp;amp;&amp;amp;(i.adler=Nt(i.adler,r.pending_buf,r.pending-s,s)),r.gzindex=0}r.status=bp}if(r.status===bp){if(r.gzhead.name){let s=r.pending,a;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&amp;amp;&amp;amp;r.pending&amp;gt;s&amp;amp;&amp;amp;(i.adler=Nt(i.adler,r.pending_buf,r.pending-s,s)),pr(i),r.pending!==0)return r.last_flush=-1,Mt;s=0}r.gzindex&amp;lt;r.gzhead.name.length?a=r.gzhead.name.charCodeAt(r.gzindex++)&amp;amp;255:a=0,Je(r,a)}while(a!==0);r.gzhead.hcrc&amp;amp;&amp;amp;r.pending&amp;gt;s&amp;amp;&amp;amp;(i.adler=Nt(i.adler,r.pending_buf,r.pending-s,s)),r.gzindex=0}r.status=_p}if(r.status===_p){if(r.gzhead.comment){let s=r.pending,a;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&amp;amp;&amp;amp;r.pending&amp;gt;s&amp;amp;&amp;amp;(i.adler=Nt(i.adler,r.pending_buf,r.pending-s,s)),pr(i),r.pending!==0)return r.last_flush=-1,Mt;s=0}r.gzindex&amp;lt;r.gzhead.comment.length?a=r.gzhead.comment.charCodeAt(r.gzindex++)&amp;amp;255:a=0,Je(r,a)}while(a!==0);r.gzhead.hcrc&amp;amp;&amp;amp;r.pending&amp;gt;s&amp;amp;&amp;amp;(i.adler=Nt(i.adler,r.pending_buf,r.pending-s,s))}r.status=wp}if(r.status===wp){if(r.gzhead.hcrc){if(r.pending+2&amp;gt;r.pending_buf_size&amp;amp;&amp;amp;(pr(i),r.pending!==0))return r.last_flush=-1,Mt;Je(r,i.adler&amp;amp;255),Je(r,i.adler&amp;gt;&amp;gt;8&amp;amp;255),i.adler=0}if(r.status=zn,pr(i),r.pending!==0)return r.last_flush=-1,Mt}if(i.avail_in!==0||r.lookahead!==0||t!==an&amp;amp;&amp;amp;r.status!==Fo){let s=r.level===0?M1(r,t):r.strategy===Rl?Pw(r,t):r.strategy===xw?Bw(r,t):To[r.level].func(r,t);if((s===Hn||s===sa)&amp;amp;&amp;amp;(r.status=Fo),s===Zt||s===Hn)return i.avail_out===0&amp;amp;&amp;amp;(r.last_flush=-1),Mt;if(s===na&amp;amp;&amp;amp;(t===dw?pw(r):t!==Og&amp;amp;&amp;amp;(yp(r,0,0,!1),t===mw&amp;amp;&amp;amp;(rn(r.head),r.lookahead===0&amp;amp;&amp;amp;(r.strstart=0,r.block_start=0,r.insert=0))),pr(i),i.avail_out===0))return r.last_flush=-1,Mt}return t!==Tr?Mt:r.wrap&amp;lt;=0?Vg:(r.wrap===2?(Je(r,i.adler&amp;amp;255),Je(r,i.adler&amp;gt;&amp;gt;8&amp;amp;255),Je(r,i.adler&amp;gt;&amp;gt;16&amp;amp;255),Je(r,i.adler&amp;gt;&amp;gt;24&amp;amp;255),Je(r,i.total_in&amp;amp;255),Je(r,i.total_in&amp;gt;&amp;gt;8&amp;amp;255),Je(r,i.total_in&amp;gt;&amp;gt;16&amp;amp;255),Je(r,i.total_in&amp;gt;&amp;gt;24&amp;amp;255)):(Do(r,i.adler&amp;gt;&amp;gt;&amp;gt;16),Do(r,i.adler&amp;amp;65535)),pr(i),r.wrap&amp;gt;0&amp;amp;&amp;amp;(r.wrap=-r.wrap),r.pending!==0?Mt:Vg)},jw=i=&amp;gt;{if(zo(i))return li;let t=i.state.status;return i.state=null,t===zn?jn(i,gw):Mt},$w=(i,t)=&amp;gt;{let r=t.length;if(zo(i))return li;let n=i.state,s=n.wrap;if(s===2||s===1&amp;amp;&amp;amp;n.status!==ea||n.lookahead)return li;if(s===1&amp;amp;&amp;amp;(i.adler=Po(i.adler,t,r,0)),n.wrap=0,r&amp;gt;=n.w_size){s===0&amp;amp;&amp;amp;(rn(n.head),n.strstart=0,n.block_start=0,n.insert=0);let h=new Uint8Array(n.w_size);h.set(t.subarray(r-n.w_size,r),0),t=h,r=n.w_size}let a=i.avail_in,o=i.next_in,u=i.input;for(i.avail_in=r,i.next_in=0,i.input=t,ta(n);n.lookahead&amp;gt;=Ye;){let h=n.strstart,l=n.lookahead-(Ye-1);do n.ins_h=on(n,n.ins_h,n.window[h+Ye-1]),n.prev[h&amp;amp;n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=h,h++;while(--l);n.strstart=h,n.lookahead=Ye-1,ta(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=Ye-1,n.match_available=0,i.next_in=o,i.input=u,i.avail_in=a,n.wrap=s,Mt},Hw=Gw,Ww=B1,qw=R1,Zw=L1,Yw=Uw,Xw=zw,Kw=jw,Jw=$w,Qw=&amp;quot;pako deflate (from Nodeca project)&amp;quot;,Io={deflateInit:Hw,deflateInit2:Ww,deflateReset:qw,deflateResetKeep:Zw,deflateSetHeader:Yw,deflate:Xw,deflateEnd:Kw,deflateSetDictionary:Jw,deflateInfo:Qw},eC=(i,t)=&amp;gt;Object.prototype.hasOwnProperty.call(i,t),tC=function(i){let t=Array.prototype.slice.call(arguments,1);for(;t.length;){let r=t.shift();if(r){if(typeof r!=&amp;quot;object&amp;quot;)throw new TypeError(r+&amp;quot;must be non-object&amp;quot;);for(let n in r)eC(r,n)&amp;amp;&amp;amp;(i[n]=r[n])}}return i},rC=i=&amp;gt;{let t=0;for(let n=0,s=i.length;n&amp;lt;s;n++)t+=i[n].length;let r=new Uint8Array(t);for(let n=0,s=0,a=i.length;n&amp;lt;a;n++){let o=i[n];r.set(o,s),s+=o.length}return r},Hl={assign:tC,flattenChunks:rC},P1=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{P1=!1}var Oo=new Uint8Array(256);for(let i=0;i&amp;lt;256;i++)Oo[i]=i&amp;gt;=252?6:i&amp;gt;=248?5:i&amp;gt;=240?4:i&amp;gt;=224?3:i&amp;gt;=192?2:1;Oo[254]=Oo[254]=1;var iC=i=&amp;gt;{if(typeof TextEncoder==&amp;quot;function&amp;quot;&amp;amp;&amp;amp;TextEncoder.prototype.encode)return new TextEncoder().encode(i);let t,r,n,s,a,o=i.length,u=0;for(s=0;s&amp;lt;o;s++)r=i.charCodeAt(s),(r&amp;amp;64512)===55296&amp;amp;&amp;amp;s+1&amp;lt;o&amp;amp;&amp;amp;(n=i.charCodeAt(s+1),(n&amp;amp;64512)===56320&amp;amp;&amp;amp;(r=65536+(r-55296&amp;lt;&amp;lt;10)+(n-56320),s++)),u+=r&amp;lt;128?1:r&amp;lt;2048?2:r&amp;lt;65536?3:4;for(t=new Uint8Array(u),a=0,s=0;a&amp;lt;u;s++)r=i.charCodeAt(s),(r&amp;amp;64512)===55296&amp;amp;&amp;amp;s+1&amp;lt;o&amp;amp;&amp;amp;(n=i.charCodeAt(s+1),(n&amp;amp;64512)===56320&amp;amp;&amp;amp;(r=65536+(r-55296&amp;lt;&amp;lt;10)+(n-56320),s++)),r&amp;lt;128?t[a++]=r:r&amp;lt;2048?(t[a++]=192|r&amp;gt;&amp;gt;&amp;gt;6,t[a++]=128|r&amp;amp;63):r&amp;lt;65536?(t[a++]=224|r&amp;gt;&amp;gt;&amp;gt;12,t[a++]=128|r&amp;gt;&amp;gt;&amp;gt;6&amp;amp;63,t[a++]=128|r&amp;amp;63):(t[a++]=240|r&amp;gt;&amp;gt;&amp;gt;18,t[a++]=128|r&amp;gt;&amp;gt;&amp;gt;12&amp;amp;63,t[a++]=128|r&amp;gt;&amp;gt;&amp;gt;6&amp;amp;63,t[a++]=128|r&amp;amp;63);return t},nC=(i,t)=&amp;gt;{if(t&amp;lt;65534&amp;amp;&amp;amp;i.subarray&amp;amp;&amp;amp;P1)return String.fromCharCode.apply(null,i.length===t?i:i.subarray(0,t));let r=&amp;quot;&amp;quot;;for(let n=0;n&amp;lt;t;n++)r+=String.fromCharCode(i[n]);return r},sC=(i,t)=&amp;gt;{let r=t||i.length;if(typeof TextDecoder==&amp;quot;function&amp;quot;&amp;amp;&amp;amp;TextDecoder.prototype.decode)return new TextDecoder().decode(i.subarray(0,t));let n,s,a=new Array(r*2);for(s=0,n=0;n&amp;lt;r;){let o=i[n++];if(o&amp;lt;128){a[s++]=o;continue}let u=Oo[o];if(u&amp;gt;4){a[s++]=65533,n+=u-1;continue}for(o&amp;amp;=u===2?31:u===3?15:7;u&amp;gt;1&amp;amp;&amp;amp;n&amp;lt;r;)o=o&amp;lt;&amp;lt;6|i[n++]&amp;amp;63,u--;if(u&amp;gt;1){a[s++]=65533;continue}o&amp;lt;65536?a[s++]=o:(o-=65536,a[s++]=55296|o&amp;gt;&amp;gt;10&amp;amp;1023,a[s++]=56320|o&amp;amp;1023)}return nC(a,s)},aC=(i,t)=&amp;gt;{t=t||i.length,t&amp;gt;i.length&amp;amp;&amp;amp;(t=i.length);let r=t-1;for(;r&amp;gt;=0&amp;amp;&amp;amp;(i[r]&amp;amp;192)===128;)r--;return r&amp;lt;0||r===0?t:r+Oo[i[r]]&amp;gt;t?r:t},Vo={string2buf:iC,buf2string:sC,utf8border:aC};function oC(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg=&amp;quot;&amp;quot;,this.state=null,this.data_type=2,this.adler=0}var O1=oC,V1=Object.prototype.toString,{Z_NO_FLUSH:uC,Z_SYNC_FLUSH:lC,Z_FULL_FLUSH:hC,Z_FINISH:cC,Z_OK:zl,Z_STREAM_END:fC,Z_DEFAULT_COMPRESSION:pC,Z_DEFAULT_STRATEGY:dC,Z_DEFLATED:mC}=ia;function jo(i){this.options=Hl.assign({level:pC,method:mC,chunkSize:16384,windowBits:15,memLevel:8,strategy:dC},i||{});let t=this.options;t.raw&amp;amp;&amp;amp;t.windowBits&amp;gt;0?t.windowBits=-t.windowBits:t.gzip&amp;amp;&amp;amp;t.windowBits&amp;gt;0&amp;amp;&amp;amp;t.windowBits&amp;lt;16&amp;amp;&amp;amp;(t.windowBits+=16),this.err=0,this.msg=&amp;quot;&amp;quot;,this.ended=!1,this.chunks=[],this.strm=new O1,this.strm.avail_out=0;let r=Io.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==zl)throw new Error($n[r]);if(t.header&amp;amp;&amp;amp;Io.deflateSetHeader(this.strm,t.header),t.dictionary){let n;if(typeof t.dictionary==&amp;quot;string&amp;quot;?n=Vo.string2buf(t.dictionary):V1.call(t.dictionary)===&amp;quot;[object ArrayBuffer]&amp;quot;?n=new Uint8Array(t.dictionary):n=t.dictionary,r=Io.deflateSetDictionary(this.strm,n),r!==zl)throw new Error($n[r]);this._dict_set=!0}}jo.prototype.push=function(i,t){let r=this.strm,n=this.options.chunkSize,s,a;if(this.ended)return!1;for(t===~~t?a=t:a=t===!0?cC:uC,typeof i==&amp;quot;string&amp;quot;?r.input=Vo.string2buf(i):V1.call(i)===&amp;quot;[object ArrayBuffer]&amp;quot;?r.input=new Uint8Array(i):r.input=i,r.next_in=0,r.avail_in=r.input.length;;){if(r.avail_out===0&amp;amp;&amp;amp;(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(a===lC||a===hC)&amp;amp;&amp;amp;r.avail_out&amp;lt;=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(s=Io.deflate(r,a),s===fC)return r.next_out&amp;gt;0&amp;amp;&amp;amp;this.onData(r.output.subarray(0,r.next_out)),s=Io.deflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===zl;if(r.avail_out===0){this.onData(r.output);continue}if(a&amp;gt;0&amp;amp;&amp;amp;r.next_out&amp;gt;0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0};jo.prototype.onData=function(i){this.chunks.push(i)};jo.prototype.onEnd=function(i){i===zl&amp;amp;&amp;amp;(this.result=Hl.flattenChunks(this.chunks)),this.chunks=[],this.err=i,this.msg=this.strm.msg};function Tp(i,t){let r=new jo(t);if(r.push(i,!0),r.err)throw r.msg||$n[r.err];return r.result}function gC(i,t){return t=t||{},t.raw=!0,Tp(i,t)}function yC(i,t){return t=t||{},t.gzip=!0,Tp(i,t)}var vC=jo,xC=Tp,bC=gC,_C=yC,wC=ia,CC={Deflate:vC,deflate:xC,deflateRaw:bC,gzip:_C,constants:wC},Bl=16209,EC=16191,SC=function(t,r){let n,s,a,o,u,h,l,c,p,f,d,m,g,v,w,y,S,_,b,I,E,A,C,T,D=t.state;n=t.next_in,C=t.input,s=n+(t.avail_in-5),a=t.next_out,T=t.output,o=a-(r-t.avail_out),u=a+(t.avail_out-257),h=D.dmax,l=D.wsize,c=D.whave,p=D.wnext,f=D.window,d=D.hold,m=D.bits,g=D.lencode,v=D.distcode,w=(1&amp;lt;&amp;lt;D.lenbits)-1,y=(1&amp;lt;&amp;lt;D.distbits)-1;e:do{m&amp;lt;15&amp;amp;&amp;amp;(d+=C[n++]&amp;lt;&amp;lt;m,m+=8,d+=C[n++]&amp;lt;&amp;lt;m,m+=8),S=g[d&amp;amp;w];t:for(;;){if(_=S&amp;gt;&amp;gt;&amp;gt;24,d&amp;gt;&amp;gt;&amp;gt;=_,m-=_,_=S&amp;gt;&amp;gt;&amp;gt;16&amp;amp;255,_===0)T[a++]=S&amp;amp;65535;else if(_&amp;amp;16){b=S&amp;amp;65535,_&amp;amp;=15,_&amp;amp;&amp;amp;(m&amp;lt;_&amp;amp;&amp;amp;(d+=C[n++]&amp;lt;&amp;lt;m,m+=8),b+=d&amp;amp;(1&amp;lt;&amp;lt;_)-1,d&amp;gt;&amp;gt;&amp;gt;=_,m-=_),m&amp;lt;15&amp;amp;&amp;amp;(d+=C[n++]&amp;lt;&amp;lt;m,m+=8,d+=C[n++]&amp;lt;&amp;lt;m,m+=8),S=v[d&amp;amp;y];r:for(;;){if(_=S&amp;gt;&amp;gt;&amp;gt;24,d&amp;gt;&amp;gt;&amp;gt;=_,m-=_,_=S&amp;gt;&amp;gt;&amp;gt;16&amp;amp;255,_&amp;amp;16){if(I=S&amp;amp;65535,_&amp;amp;=15,m&amp;lt;_&amp;amp;&amp;amp;(d+=C[n++]&amp;lt;&amp;lt;m,m+=8,m&amp;lt;_&amp;amp;&amp;amp;(d+=C[n++]&amp;lt;&amp;lt;m,m+=8)),I+=d&amp;amp;(1&amp;lt;&amp;lt;_)-1,I&amp;gt;h){t.msg=&amp;quot;invalid distance too far back&amp;quot;,D.mode=Bl;break e}if(d&amp;gt;&amp;gt;&amp;gt;=_,m-=_,_=a-o,I&amp;gt;_){if(_=I-_,_&amp;gt;c&amp;amp;&amp;amp;D.sane){t.msg=&amp;quot;invalid distance too far back&amp;quot;,D.mode=Bl;break e}if(E=0,A=f,p===0){if(E+=l-_,_&amp;lt;b){b-=_;do T[a++]=f[E++];while(--_);E=a-I,A=T}}else if(p&amp;lt;_){if(E+=l+p-_,_-=p,_&amp;lt;b){b-=_;do T[a++]=f[E++];while(--_);if(E=0,p&amp;lt;b){_=p,b-=_;do T[a++]=f[E++];while(--_);E=a-I,A=T}}}else if(E+=p-_,_&amp;lt;b){b-=_;do T[a++]=f[E++];while(--_);E=a-I,A=T}for(;b&amp;gt;2;)T[a++]=A[E++],T[a++]=A[E++],T[a++]=A[E++],b-=3;b&amp;amp;&amp;amp;(T[a++]=A[E++],b&amp;gt;1&amp;amp;&amp;amp;(T[a++]=A[E++]))}else{E=a-I;do T[a++]=T[E++],T[a++]=T[E++],T[a++]=T[E++],b-=3;while(b&amp;gt;2);b&amp;amp;&amp;amp;(T[a++]=T[E++],b&amp;gt;1&amp;amp;&amp;amp;(T[a++]=T[E++]))}}else if((_&amp;amp;64)===0){S=v[(S&amp;amp;65535)+(d&amp;amp;(1&amp;lt;&amp;lt;_)-1)];continue r}else{t.msg=&amp;quot;invalid distance code&amp;quot;,D.mode=Bl;break e}break}}else if((_&amp;amp;64)===0){S=g[(S&amp;amp;65535)+(d&amp;amp;(1&amp;lt;&amp;lt;_)-1)];continue t}else if(_&amp;amp;32){D.mode=EC;break e}else{t.msg=&amp;quot;invalid literal/length code&amp;quot;,D.mode=Bl;break e}break}}while(n&amp;lt;s&amp;amp;&amp;amp;a&amp;lt;u);b=m&amp;gt;&amp;gt;3,n-=b,m-=b&amp;lt;&amp;lt;3,d&amp;amp;=(1&amp;lt;&amp;lt;m)-1,t.next_in=n,t.next_out=a,t.avail_in=n&amp;lt;s?5+(s-n):5-(n-s),t.avail_out=a&amp;lt;u?257+(u-a):257-(a-u),D.hold=d,D.bits=m},Js=15,Gg=852,zg=592,jg=0,op=1,$g=2,AC=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),DC=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),FC=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),TC=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),NC=(i,t,r,n,s,a,o,u)=&amp;gt;{let h=u.bits,l=0,c=0,p=0,f=0,d=0,m=0,g=0,v=0,w=0,y=0,S,_,b,I,E,A=null,C,T=new Uint16Array(Js+1),D=new Uint16Array(Js+1),F=null,N,B,U;for(l=0;l&amp;lt;=Js;l++)T[l]=0;for(c=0;c&amp;lt;n;c++)T[t[r+c]]++;for(d=h,f=Js;f&amp;gt;=1&amp;amp;&amp;amp;T[f]===0;f--);if(d&amp;gt;f&amp;amp;&amp;amp;(d=f),f===0)return s[a++]=1&amp;lt;&amp;lt;24|64&amp;lt;&amp;lt;16|0,s[a++]=1&amp;lt;&amp;lt;24|64&amp;lt;&amp;lt;16|0,u.bits=1,0;for(p=1;p&amp;lt;f&amp;amp;&amp;amp;T[p]===0;p++);for(d&amp;lt;p&amp;amp;&amp;amp;(d=p),v=1,l=1;l&amp;lt;=Js;l++)if(v&amp;lt;&amp;lt;=1,v-=T[l],v&amp;lt;0)return-1;if(v&amp;gt;0&amp;amp;&amp;amp;(i===jg||f!==1))return-1;for(D[1]=0,l=1;l&amp;lt;Js;l++)D[l+1]=D[l]+T[l];for(c=0;c&amp;lt;n;c++)t[r+c]!==0&amp;amp;&amp;amp;(o[D[t[r+c]]++]=c);if(i===jg?(A=F=o,C=20):i===op?(A=AC,F=DC,C=257):(A=FC,F=TC,C=0),y=0,c=0,l=p,E=a,m=d,g=0,b=-1,w=1&amp;lt;&amp;lt;d,I=w-1,i===op&amp;amp;&amp;amp;w&amp;gt;Gg||i===$g&amp;amp;&amp;amp;w&amp;gt;zg)return 1;for(;;){N=l-g,o[c]+1&amp;lt;C?(B=0,U=o[c]):o[c]&amp;gt;=C?(B=F[o[c]-C],U=A[o[c]-C]):(B=96,U=0),S=1&amp;lt;&amp;lt;l-g,_=1&amp;lt;&amp;lt;m,p=_;do _-=S,s[E+(y&amp;gt;&amp;gt;g)+_]=N&amp;lt;&amp;lt;24|B&amp;lt;&amp;lt;16|U|0;while(_!==0);for(S=1&amp;lt;&amp;lt;l-1;y&amp;amp;S;)S&amp;gt;&amp;gt;=1;if(S!==0?(y&amp;amp;=S-1,y+=S):y=0,c++,--T[l]===0){if(l===f)break;l=t[r+o[c]]}if(l&amp;gt;d&amp;amp;&amp;amp;(y&amp;amp;I)!==b){for(g===0&amp;amp;&amp;amp;(g=d),E+=p,m=l-g,v=1&amp;lt;&amp;lt;m;m+g&amp;lt;f&amp;amp;&amp;amp;(v-=T[m+g],!(v&amp;lt;=0));)m++,v&amp;lt;&amp;lt;=1;if(w+=1&amp;lt;&amp;lt;m,i===op&amp;amp;&amp;amp;w&amp;gt;Gg||i===$g&amp;amp;&amp;amp;w&amp;gt;zg)return 1;b=y&amp;amp;I,s[b]=d&amp;lt;&amp;lt;24|m&amp;lt;&amp;lt;16|E-a|0}}return y!==0&amp;amp;&amp;amp;(s[E+y]=l-g&amp;lt;&amp;lt;24|64&amp;lt;&amp;lt;16|0),u.bits=d,0},ko=NC,IC=0,U1=1,G1=2,{Z_FINISH:Hg,Z_BLOCK:kC,Z_TREES:Pl,Z_OK:Wn,Z_STREAM_END:MC,Z_NEED_DICT:LC,Z_STREAM_ERROR:Nr,Z_DATA_ERROR:z1,Z_MEM_ERROR:j1,Z_BUF_ERROR:RC,Z_DEFLATED:Wg}=ia,Wl=16180,qg=16181,Zg=16182,Yg=16183,Xg=16184,Kg=16185,Jg=16186,Qg=16187,e1=16188,t1=16189,jl=16190,Ni=16191,up=16192,r1=16193,lp=16194,i1=16195,n1=16196,s1=16197,a1=16198,Ol=16199,Vl=16200,o1=16201,u1=16202,l1=16203,h1=16204,c1=16205,hp=16206,f1=16207,p1=16208,ct=16209,$1=16210,H1=16211,BC=852,PC=592,OC=15,VC=OC,d1=i=&amp;gt;(i&amp;gt;&amp;gt;&amp;gt;24&amp;amp;255)+(i&amp;gt;&amp;gt;&amp;gt;8&amp;amp;65280)+((i&amp;amp;65280)&amp;lt;&amp;lt;8)+((i&amp;amp;255)&amp;lt;&amp;lt;24);function UC(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var qn=i=&amp;gt;{if(!i)return 1;let t=i.state;return!t||t.strm!==i||t.mode&amp;lt;Wl||t.mode&amp;gt;H1?1:0},W1=i=&amp;gt;{if(qn(i))return Nr;let t=i.state;return i.total_in=i.total_out=t.total=0,i.msg=&amp;quot;&amp;quot;,t.wrap&amp;amp;&amp;amp;(i.adler=t.wrap&amp;amp;1),t.mode=Wl,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(BC),t.distcode=t.distdyn=new Int32Array(PC),t.sane=1,t.back=-1,Wn},q1=i=&amp;gt;{if(qn(i))return Nr;let t=i.state;return t.wsize=0,t.whave=0,t.wnext=0,W1(i)},Z1=(i,t)=&amp;gt;{let r;if(qn(i))return Nr;let n=i.state;return t&amp;lt;0?(r=0,t=-t):(r=(t&amp;gt;&amp;gt;4)+5,t&amp;lt;48&amp;amp;&amp;amp;(t&amp;amp;=15)),t&amp;amp;&amp;amp;(t&amp;lt;8||t&amp;gt;15)?Nr:(n.window!==null&amp;amp;&amp;amp;n.wbits!==t&amp;amp;&amp;amp;(n.window=null),n.wrap=r,n.wbits=t,q1(i))},Y1=(i,t)=&amp;gt;{if(!i)return Nr;let r=new UC;i.state=r,r.strm=i,r.window=null,r.mode=Wl;let n=Z1(i,t);return n!==Wn&amp;amp;&amp;amp;(i.state=null),n},GC=i=&amp;gt;Y1(i,VC),m1=!0,cp,fp,zC=i=&amp;gt;{if(m1){cp=new Int32Array(512),fp=new Int32Array(32);let t=0;for(;t&amp;lt;144;)i.lens[t++]=8;for(;t&amp;lt;256;)i.lens[t++]=9;for(;t&amp;lt;280;)i.lens[t++]=7;for(;t&amp;lt;288;)i.lens[t++]=8;for(ko(U1,i.lens,0,288,cp,0,i.work,{bits:9}),t=0;t&amp;lt;32;)i.lens[t++]=5;ko(G1,i.lens,0,32,fp,0,i.work,{bits:5}),m1=!1}i.lencode=cp,i.lenbits=9,i.distcode=fp,i.distbits=5},X1=(i,t,r,n)=&amp;gt;{let s,a=i.state;return a.window===null&amp;amp;&amp;amp;(a.wsize=1&amp;lt;&amp;lt;a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n&amp;gt;=a.wsize?(a.window.set(t.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):(s=a.wsize-a.wnext,s&amp;gt;n&amp;amp;&amp;amp;(s=n),a.window.set(t.subarray(r-n,r-n+s),a.wnext),n-=s,n?(a.window.set(t.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=s,a.wnext===a.wsize&amp;amp;&amp;amp;(a.wnext=0),a.whave&amp;lt;a.wsize&amp;amp;&amp;amp;(a.whave+=s))),0},jC=(i,t)=&amp;gt;{let r,n,s,a,o,u,h,l,c,p,f,d,m,g,v=0,w,y,S,_,b,I,E,A,C=new Uint8Array(4),T,D,F=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(qn(i)||!i.output||!i.input&amp;amp;&amp;amp;i.avail_in!==0)return Nr;r=i.state,r.mode===Ni&amp;amp;&amp;amp;(r.mode=up),o=i.next_out,s=i.output,h=i.avail_out,a=i.next_in,n=i.input,u=i.avail_in,l=r.hold,c=r.bits,p=u,f=h,A=Wn;e:for(;;)switch(r.mode){case Wl:if(r.wrap===0){r.mode=up;break}for(;c&amp;lt;16;){if(u===0)break e;u--,l+=n[a++]&amp;lt;&amp;lt;c,c+=8}if(r.wrap&amp;amp;2&amp;amp;&amp;amp;l===35615){r.wbits===0&amp;amp;&amp;amp;(r.wbits=15),r.check=0,C[0]=l&amp;amp;255,C[1]=l&amp;gt;&amp;gt;&amp;gt;8&amp;amp;255,r.check=Nt(r.check,C,2,0),l=0,c=0,r.mode=qg;break}if(r.head&amp;amp;&amp;amp;(r.head.done=!1),!(r.wrap&amp;amp;1)||(((l&amp;amp;255)&amp;lt;&amp;lt;8)+(l&amp;gt;&amp;gt;8))%31){i.msg=&amp;quot;incorrect header check&amp;quot;,r.mode=ct;break}if((l&amp;amp;15)!==Wg){i.msg=&amp;quot;unknown compression method&amp;quot;,r.mode=ct;break}if(l&amp;gt;&amp;gt;&amp;gt;=4,c-=4,E=(l&amp;amp;15)+8,r.wbits===0&amp;amp;&amp;amp;(r.wbits=E),E&amp;gt;15||E&amp;gt;r.wbits){i.msg=&amp;quot;invalid window size&amp;quot;,r.mode=ct;break}r.dmax=1&amp;lt;&amp;lt;r.wbits,r.flags=0,i.adler=r.check=1,r.mode=l&amp;amp;512?t1:Ni,l=0,c=0;break;case qg:for(;c&amp;lt;16;){if(u===0)break e;u--,l+=n[a++]&amp;lt;&amp;lt;c,c+=8}if(r.flags=l,(r.flags&amp;amp;255)!==Wg){i.msg=&amp;quot;unknown compression method&amp;quot;,r.mode=ct;break}if(r.flags&amp;amp;57344){i.msg=&amp;quot;unknown header flags set&amp;quot;,r.mode=ct;break}r.head&amp;amp;&amp;amp;(r.head.text=l&amp;gt;&amp;gt;8&amp;amp;1),r.flags&amp;amp;512&amp;amp;&amp;amp;r.wrap&amp;amp;4&amp;amp;&amp;amp;(C[0]=l&amp;amp;255,C[1]=l&amp;gt;&amp;gt;&amp;gt;8&amp;amp;255,r.check=Nt(r.check,C,2,0)),l=0,c=0,r.mode=Zg;case Zg:for(;c&amp;lt;32;){if(u===0)break e;u--,l+=n[a++]&amp;lt;&amp;lt;c,c+=8}r.head&amp;amp;&amp;amp;(r.head.time=l),r.flags&amp;amp;512&amp;amp;&amp;amp;r.wrap&amp;amp;4&amp;amp;&amp;amp;(C[0]=l&amp;amp;255,C[1]=l&amp;gt;&amp;gt;&amp;gt;8&amp;amp;255,C[2]=l&amp;gt;&amp;gt;&amp;gt;16&amp;amp;255,C[3]=l&amp;gt;&amp;gt;&amp;gt;24&amp;amp;255,r.check=Nt(r.check,C,4,0)),l=0,c=0,r.mode=Yg;case Yg:for(;c&amp;lt;16;){if(u===0)break e;u--,l+=n[a++]&amp;lt;&amp;lt;c,c+=8}r.head&amp;amp;&amp;amp;(r.head.xflags=l&amp;amp;255,r.head.os=l&amp;gt;&amp;gt;8),r.flags&amp;amp;512&amp;amp;&amp;amp;r.wrap&amp;amp;4&amp;amp;&amp;amp;(C[0]=l&amp;amp;255,C[1]=l&amp;gt;&amp;gt;&amp;gt;8&amp;amp;255,r.check=Nt(r.check,C,2,0)),l=0,c=0,r.mode=Xg;case Xg:if(r.flags&amp;amp;1024){for(;c&amp;lt;16;){if(u===0)break e;u--,l+=n[a++]&amp;lt;&amp;lt;c,c+=8}r.length=l,r.head&amp;amp;&amp;amp;(r.head.extra_len=l),r.flags&amp;amp;512&amp;amp;&amp;amp;r.wrap&amp;amp;4&amp;amp;&amp;amp;(C[0]=l&amp;amp;255,C[1]=l&amp;gt;&amp;gt;&amp;gt;8&amp;amp;255,r.check=Nt(r.check,C,2,0)),l=0,c=0}else r.head&amp;amp;&amp;amp;(r.head.extra=null);r.mode=Kg;case Kg:if(r.flags&amp;amp;1024&amp;amp;&amp;amp;(d=r.length,d&amp;gt;u&amp;amp;&amp;amp;(d=u),d&amp;amp;&amp;amp;(r.head&amp;amp;&amp;amp;(E=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+d),E)),r.flags&amp;amp;512&amp;amp;&amp;amp;r.wrap&amp;amp;4&amp;amp;&amp;amp;(r.check=Nt(r.check,n,d,a)),u-=d,a+=d,r.length-=d),r.length))break e;r.length=0,r.mode=Jg;case Jg:if(r.flags&amp;amp;2048){if(u===0)break e;d=0;do E=n[a+d++],r.head&amp;amp;&amp;amp;E&amp;amp;&amp;amp;r.length&amp;lt;65536&amp;amp;&amp;amp;(r.head.name+=String.fromCharCode(E));while(E&amp;amp;&amp;amp;d&amp;lt;u);if(r.flags&amp;amp;512&amp;amp;&amp;amp;r.wrap&amp;amp;4&amp;amp;&amp;amp;(r.check=Nt(r.check,n,d,a)),u-=d,a+=d,E)break e}else r.head&amp;amp;&amp;amp;(r.head.name=null);r.length=0,r.mode=Qg;case Qg:if(r.flags&amp;amp;4096){if(u===0)break e;d=0;do E=n[a+d++],r.head&amp;amp;&amp;amp;E&amp;amp;&amp;amp;r.length&amp;lt;65536&amp;amp;&amp;amp;(r.head.comment+=String.fromCharCode(E));while(E&amp;amp;&amp;amp;d&amp;lt;u);if(r.flags&amp;amp;512&amp;amp;&amp;amp;r.wrap&amp;amp;4&amp;amp;&amp;amp;(r.check=Nt(r.check,n,d,a)),u-=d,a+=d,E)break e}else r.head&amp;amp;&amp;amp;(r.head.comment=null);r.mode=e1;case e1:if(r.flags&amp;amp;512){for(;c&amp;lt;16;){if(u===0)break e;u--,l+=n[a++]&amp;lt;&amp;lt;c,c+=8}if(r.wrap&amp;amp;4&amp;amp;&amp;amp;l!==(r.check&amp;amp;65535)){i.msg=&amp;quot;header crc mismatch&amp;quot;,r.mode=ct;break}l=0,c=0}r.head&amp;amp;&amp;amp;(r.head.hcrc=r.flags&amp;gt;&amp;gt;9&amp;amp;1,r.head.done=!0),i.adler=r.check=0,r.mode=Ni;break;case t1:for(;c&amp;lt;32;){if(u===0)break e;u--,l+=n[a++]&amp;lt;&amp;lt;c,c+=8}i.adler=r.check=d1(l),l=0,c=0,r.mode=jl;case jl:if(r.havedict===0)return i.next_out=o,i.avail_out=h,i.next_in=a,i.avail_in=u,r.hold=l,r.bits=c,LC;i.adler=r.check=1,r.mode=Ni;case Ni:if(t===kC||t===Pl)break e;case up:if(r.last){l&amp;gt;&amp;gt;&amp;gt;=c&amp;amp;7,c-=c&amp;amp;7,r.mode=hp;break}for(;c&amp;lt;3;){if(u===0)break e;u--,l+=n[a++]&amp;lt;&amp;lt;c,c+=8}switch(r.last=l&amp;amp;1,l&amp;gt;&amp;gt;&amp;gt;=1,c-=1,l&amp;amp;3){case 0:r.mode=r1;break;case 1:if(zC(r),r.mode=Ol,t===Pl){l&amp;gt;&amp;gt;&amp;gt;=2,c-=2;break e}break;case 2:r.mode=n1;break;case 3:i.msg=&amp;quot;invalid block type&amp;quot;,r.mode=ct}l&amp;gt;&amp;gt;&amp;gt;=2,c-=2;break;case r1:for(l&amp;gt;&amp;gt;&amp;gt;=c&amp;amp;7,c-=c&amp;amp;7;c&amp;lt;32;){if(u===0)break e;u--,l+=n[a++]&amp;lt;&amp;lt;c,c+=8}if((l&amp;amp;65535)!==(l&amp;gt;&amp;gt;&amp;gt;16^65535)){i.msg=&amp;quot;invalid stored block lengths&amp;quot;,r.mode=ct;break}if(r.length=l&amp;amp;65535,l=0,c=0,r.mode=lp,t===Pl)break e;case lp:r.mode=i1;case i1:if(d=r.length,d){if(d&amp;gt;u&amp;amp;&amp;amp;(d=u),d&amp;gt;h&amp;amp;&amp;amp;(d=h),d===0)break e;s.set(n.subarray(a,a+d),o),u-=d,a+=d,h-=d,o+=d,r.length-=d;break}r.mode=Ni;break;case n1:for(;c&amp;lt;14;){if(u===0)break e;u--,l+=n[a++]&amp;lt;&amp;lt;c,c+=8}if(r.nlen=(l&amp;amp;31)+257,l&amp;gt;&amp;gt;&amp;gt;=5,c-=5,r.ndist=(l&amp;amp;31)+1,l&amp;gt;&amp;gt;&amp;gt;=5,c-=5,r.ncode=(l&amp;amp;15)+4,l&amp;gt;&amp;gt;&amp;gt;=4,c-=4,r.nlen&amp;gt;286||r.ndist&amp;gt;30){i.msg=&amp;quot;too many length or distance symbols&amp;quot;,r.mode=ct;break}r.have=0,r.mode=s1;case s1:for(;r.have&amp;lt;r.ncode;){for(;c&amp;lt;3;){if(u===0)break e;u--,l+=n[a++]&amp;lt;&amp;lt;c,c+=8}r.lens[F[r.have++]]=l&amp;amp;7,l&amp;gt;&amp;gt;&amp;gt;=3,c-=3}for(;r.have&amp;lt;19;)r.lens[F[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,T={bits:r.lenbits},A=ko(IC,r.lens,0,19,r.lencode,0,r.work,T),r.lenbits=T.bits,A){i.msg=&amp;quot;invalid code lengths set&amp;quot;,r.mode=ct;break}r.have=0,r.mode=a1;case a1:for(;r.have&amp;lt;r.nlen+r.ndist;){for(;v=r.lencode[l&amp;amp;(1&amp;lt;&amp;lt;r.lenbits)-1],w=v&amp;gt;&amp;gt;&amp;gt;24,y=v&amp;gt;&amp;gt;&amp;gt;16&amp;amp;255,S=v&amp;amp;65535,!(w&amp;lt;=c);){if(u===0)break e;u--,l+=n[a++]&amp;lt;&amp;lt;c,c+=8}if(S&amp;lt;16)l&amp;gt;&amp;gt;&amp;gt;=w,c-=w,r.lens[r.have++]=S;else{if(S===16){for(D=w+2;c&amp;lt;D;){if(u===0)break e;u--,l+=n[a++]&amp;lt;&amp;lt;c,c+=8}if(l&amp;gt;&amp;gt;&amp;gt;=w,c-=w,r.have===0){i.msg=&amp;quot;invalid bit length repeat&amp;quot;,r.mode=ct;break}E=r.lens[r.have-1],d=3+(l&amp;amp;3),l&amp;gt;&amp;gt;&amp;gt;=2,c-=2}else if(S===17){for(D=w+3;c&amp;lt;D;){if(u===0)break e;u--,l+=n[a++]&amp;lt;&amp;lt;c,c+=8}l&amp;gt;&amp;gt;&amp;gt;=w,c-=w,E=0,d=3+(l&amp;amp;7),l&amp;gt;&amp;gt;&amp;gt;=3,c-=3}else{for(D=w+7;c&amp;lt;D;){if(u===0)break e;u--,l+=n[a++]&amp;lt;&amp;lt;c,c+=8}l&amp;gt;&amp;gt;&amp;gt;=w,c-=w,E=0,d=11+(l&amp;amp;127),l&amp;gt;&amp;gt;&amp;gt;=7,c-=7}if(r.have+d&amp;gt;r.nlen+r.ndist){i.msg=&amp;quot;invalid bit length repeat&amp;quot;,r.mode=ct;break}for(;d--;)r.lens[r.have++]=E}}if(r.mode===ct)break;if(r.lens[256]===0){i.msg=&amp;quot;invalid code -- missing end-of-block&amp;quot;,r.mode=ct;break}if(r.lenbits=9,T={bits:r.lenbits},A=ko(U1,r.lens,0,r.nlen,r.lencode,0,r.work,T),r.lenbits=T.bits,A){i.msg=&amp;quot;invalid literal/lengths set&amp;quot;,r.mode=ct;break}if(r.distbits=6,r.distcode=r.distdyn,T={bits:r.distbits},A=ko(G1,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,T),r.distbits=T.bits,A){i.msg=&amp;quot;invalid distances set&amp;quot;,r.mode=ct;break}if(r.mode=Ol,t===Pl)break e;case Ol:r.mode=Vl;case Vl:if(u&amp;gt;=6&amp;amp;&amp;amp;h&amp;gt;=258){i.next_out=o,i.avail_out=h,i.next_in=a,i.avail_in=u,r.hold=l,r.bits=c,SC(i,f),o=i.next_out,s=i.output,h=i.avail_out,a=i.next_in,n=i.input,u=i.avail_in,l=r.hold,c=r.bits,r.mode===Ni&amp;amp;&amp;amp;(r.back=-1);break}for(r.back=0;v=r.lencode[l&amp;amp;(1&amp;lt;&amp;lt;r.lenbits)-1],w=v&amp;gt;&amp;gt;&amp;gt;24,y=v&amp;gt;&amp;gt;&amp;gt;16&amp;amp;255,S=v&amp;amp;65535,!(w&amp;lt;=c);){if(u===0)break e;u--,l+=n[a++]&amp;lt;&amp;lt;c,c+=8}if(y&amp;amp;&amp;amp;(y&amp;amp;240)===0){for(_=w,b=y,I=S;v=r.lencode[I+((l&amp;amp;(1&amp;lt;&amp;lt;_+b)-1)&amp;gt;&amp;gt;_)],w=v&amp;gt;&amp;gt;&amp;gt;24,y=v&amp;gt;&amp;gt;&amp;gt;16&amp;amp;255,S=v&amp;amp;65535,!(_+w&amp;lt;=c);){if(u===0)break e;u--,l+=n[a++]&amp;lt;&amp;lt;c,c+=8}l&amp;gt;&amp;gt;&amp;gt;=_,c-=_,r.back+=_}if(l&amp;gt;&amp;gt;&amp;gt;=w,c-=w,r.back+=w,r.length=S,y===0){r.mode=c1;break}if(y&amp;amp;32){r.back=-1,r.mode=Ni;break}if(y&amp;amp;64){i.msg=&amp;quot;invalid literal/length code&amp;quot;,r.mode=ct;break}r.extra=y&amp;amp;15,r.mode=o1;case o1:if(r.extra){for(D=r.extra;c&amp;lt;D;){if(u===0)break e;u--,l+=n[a++]&amp;lt;&amp;lt;c,c+=8}r.length+=l&amp;amp;(1&amp;lt;&amp;lt;r.extra)-1,l&amp;gt;&amp;gt;&amp;gt;=r.extra,c-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=u1;case u1:for(;v=r.distcode[l&amp;amp;(1&amp;lt;&amp;lt;r.distbits)-1],w=v&amp;gt;&amp;gt;&amp;gt;24,y=v&amp;gt;&amp;gt;&amp;gt;16&amp;amp;255,S=v&amp;amp;65535,!(w&amp;lt;=c);){if(u===0)break e;u--,l+=n[a++]&amp;lt;&amp;lt;c,c+=8}if((y&amp;amp;240)===0){for(_=w,b=y,I=S;v=r.distcode[I+((l&amp;amp;(1&amp;lt;&amp;lt;_+b)-1)&amp;gt;&amp;gt;_)],w=v&amp;gt;&amp;gt;&amp;gt;24,y=v&amp;gt;&amp;gt;&amp;gt;16&amp;amp;255,S=v&amp;amp;65535,!(_+w&amp;lt;=c);){if(u===0)break e;u--,l+=n[a++]&amp;lt;&amp;lt;c,c+=8}l&amp;gt;&amp;gt;&amp;gt;=_,c-=_,r.back+=_}if(l&amp;gt;&amp;gt;&amp;gt;=w,c-=w,r.back+=w,y&amp;amp;64){i.msg=&amp;quot;invalid distance code&amp;quot;,r.mode=ct;break}r.offset=S,r.extra=y&amp;amp;15,r.mode=l1;case l1:if(r.extra){for(D=r.extra;c&amp;lt;D;){if(u===0)break e;u--,l+=n[a++]&amp;lt;&amp;lt;c,c+=8}r.offset+=l&amp;amp;(1&amp;lt;&amp;lt;r.extra)-1,l&amp;gt;&amp;gt;&amp;gt;=r.extra,c-=r.extra,r.back+=r.extra}if(r.offset&amp;gt;r.dmax){i.msg=&amp;quot;invalid distance too far back&amp;quot;,r.mode=ct;break}r.mode=h1;case h1:if(h===0)break e;if(d=f-h,r.offset&amp;gt;d){if(d=r.offset-d,d&amp;gt;r.whave&amp;amp;&amp;amp;r.sane){i.msg=&amp;quot;invalid distance too far back&amp;quot;,r.mode=ct;break}d&amp;gt;r.wnext?(d-=r.wnext,m=r.wsize-d):m=r.wnext-d,d&amp;gt;r.length&amp;amp;&amp;amp;(d=r.length),g=r.window}else g=s,m=o-r.offset,d=r.length;d&amp;gt;h&amp;amp;&amp;amp;(d=h),h-=d,r.length-=d;do s[o++]=g[m++];while(--d);r.length===0&amp;amp;&amp;amp;(r.mode=Vl);break;case c1:if(h===0)break e;s[o++]=r.length,h--,r.mode=Vl;break;case hp:if(r.wrap){for(;c&amp;lt;32;){if(u===0)break e;u--,l|=n[a++]&amp;lt;&amp;lt;c,c+=8}if(f-=h,i.total_out+=f,r.total+=f,r.wrap&amp;amp;4&amp;amp;&amp;amp;f&amp;amp;&amp;amp;(i.adler=r.check=r.flags?Nt(r.check,s,f,o-f):Po(r.check,s,f,o-f)),f=h,r.wrap&amp;amp;4&amp;amp;&amp;amp;(r.flags?l:d1(l))!==r.check){i.msg=&amp;quot;incorrect data check&amp;quot;,r.mode=ct;break}l=0,c=0}r.mode=f1;case f1:if(r.wrap&amp;amp;&amp;amp;r.flags){for(;c&amp;lt;32;){if(u===0)break e;u--,l+=n[a++]&amp;lt;&amp;lt;c,c+=8}if(r.wrap&amp;amp;4&amp;amp;&amp;amp;l!==(r.total&amp;amp;4294967295)){i.msg=&amp;quot;incorrect length check&amp;quot;,r.mode=ct;break}l=0,c=0}r.mode=p1;case p1:A=MC;break e;case ct:A=z1;break e;case $1:return j1;case H1:default:return Nr}return i.next_out=o,i.avail_out=h,i.next_in=a,i.avail_in=u,r.hold=l,r.bits=c,(r.wsize||f!==i.avail_out&amp;amp;&amp;amp;r.mode&amp;lt;ct&amp;amp;&amp;amp;(r.mode&amp;lt;hp||t!==Hg))&amp;amp;&amp;amp;X1(i,i.output,i.next_out,f-i.avail_out),p-=i.avail_in,f-=i.avail_out,i.total_in+=p,i.total_out+=f,r.total+=f,r.wrap&amp;amp;4&amp;amp;&amp;amp;f&amp;amp;&amp;amp;(i.adler=r.check=r.flags?Nt(r.check,s,f,i.next_out-f):Po(r.check,s,f,i.next_out-f)),i.data_type=r.bits+(r.last?64:0)+(r.mode===Ni?128:0)+(r.mode===Ol||r.mode===lp?256:0),(p===0&amp;amp;&amp;amp;f===0||t===Hg)&amp;amp;&amp;amp;A===Wn&amp;amp;&amp;amp;(A=RC),A},$C=i=&amp;gt;{if(qn(i))return Nr;let t=i.state;return t.window&amp;amp;&amp;amp;(t.window=null),i.state=null,Wn},HC=(i,t)=&amp;gt;{if(qn(i))return Nr;let r=i.state;return(r.wrap&amp;amp;2)===0?Nr:(r.head=t,t.done=!1,Wn)},WC=(i,t)=&amp;gt;{let r=t.length,n,s,a;return qn(i)||(n=i.state,n.wrap!==0&amp;amp;&amp;amp;n.mode!==jl)?Nr:n.mode===jl&amp;amp;&amp;amp;(s=1,s=Po(s,t,r,0),s!==n.check)?z1:(a=X1(i,t,r,r),a?(n.mode=$1,j1):(n.havedict=1,Wn))},qC=q1,ZC=Z1,YC=W1,XC=GC,KC=Y1,JC=jC,QC=$C,eE=HC,tE=WC,rE=&amp;quot;pako inflate (from Nodeca project)&amp;quot;,ki={inflateReset:qC,inflateReset2:ZC,inflateResetKeep:YC,inflateInit:XC,inflateInit2:KC,inflate:JC,inflateEnd:QC,inflateGetHeader:eE,inflateSetDictionary:tE,inflateInfo:rE};function iE(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name=&amp;quot;&amp;quot;,this.comment=&amp;quot;&amp;quot;,this.hcrc=0,this.done=!1}var nE=iE,K1=Object.prototype.toString,{Z_NO_FLUSH:sE,Z_FINISH:aE,Z_OK:Uo,Z_STREAM_END:pp,Z_NEED_DICT:dp,Z_STREAM_ERROR:oE,Z_DATA_ERROR:g1,Z_MEM_ERROR:uE}=ia;function $o(i){this.options=Hl.assign({chunkSize:1024*64,windowBits:15,to:&amp;quot;&amp;quot;},i||{});let t=this.options;t.raw&amp;amp;&amp;amp;t.windowBits&amp;gt;=0&amp;amp;&amp;amp;t.windowBits&amp;lt;16&amp;amp;&amp;amp;(t.windowBits=-t.windowBits,t.windowBits===0&amp;amp;&amp;amp;(t.windowBits=-15)),t.windowBits&amp;gt;=0&amp;amp;&amp;amp;t.windowBits&amp;lt;16&amp;amp;&amp;amp;!(i&amp;amp;&amp;amp;i.windowBits)&amp;amp;&amp;amp;(t.windowBits+=32),t.windowBits&amp;gt;15&amp;amp;&amp;amp;t.windowBits&amp;lt;48&amp;amp;&amp;amp;(t.windowBits&amp;amp;15)===0&amp;amp;&amp;amp;(t.windowBits|=15),this.err=0,this.msg=&amp;quot;&amp;quot;,this.ended=!1,this.chunks=[],this.strm=new O1,this.strm.avail_out=0;let r=ki.inflateInit2(this.strm,t.windowBits);if(r!==Uo)throw new Error($n[r]);if(this.header=new nE,ki.inflateGetHeader(this.strm,this.header),t.dictionary&amp;amp;&amp;amp;(typeof t.dictionary==&amp;quot;string&amp;quot;?t.dictionary=Vo.string2buf(t.dictionary):K1.call(t.dictionary)===&amp;quot;[object ArrayBuffer]&amp;quot;&amp;amp;&amp;amp;(t.dictionary=new Uint8Array(t.dictionary)),t.raw&amp;amp;&amp;amp;(r=ki.inflateSetDictionary(this.strm,t.dictionary),r!==Uo)))throw new Error($n[r])}$o.prototype.push=function(i,t){let r=this.strm,n=this.options.chunkSize,s=this.options.dictionary,a,o,u;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?aE:sE,K1.call(i)===&amp;quot;[object ArrayBuffer]&amp;quot;?r.input=new Uint8Array(i):r.input=i,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&amp;amp;&amp;amp;(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),a=ki.inflate(r,o),a===dp&amp;amp;&amp;amp;s&amp;amp;&amp;amp;(a=ki.inflateSetDictionary(r,s),a===Uo?a=ki.inflate(r,o):a===g1&amp;amp;&amp;amp;(a=dp));r.avail_in&amp;gt;0&amp;amp;&amp;amp;a===pp&amp;amp;&amp;amp;r.state.wrap&amp;gt;0&amp;amp;&amp;amp;i[r.next_in]!==0;)ki.inflateReset(r),a=ki.inflate(r,o);switch(a){case oE:case g1:case dp:case uE:return this.onEnd(a),this.ended=!0,!1}if(u=r.avail_out,r.next_out&amp;amp;&amp;amp;(r.avail_out===0||a===pp))if(this.options.to===&amp;quot;string&amp;quot;){let h=Vo.utf8border(r.output,r.next_out),l=r.next_out-h,c=Vo.buf2string(r.output,h);r.next_out=l,r.avail_out=n-l,l&amp;amp;&amp;amp;r.output.set(r.output.subarray(h,h+l),0),this.onData(c)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(a===Uo&amp;amp;&amp;amp;u===0)){if(a===pp)return a=ki.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};$o.prototype.onData=function(i){this.chunks.push(i)};$o.prototype.onEnd=function(i){i===Uo&amp;amp;&amp;amp;(this.options.to===&amp;quot;string&amp;quot;?this.result=this.chunks.join(&amp;quot;&amp;quot;):this.result=Hl.flattenChunks(this.chunks)),this.chunks=[],this.err=i,this.msg=this.strm.msg};function Np(i,t){let r=new $o(t);if(r.push(i),r.err)throw r.msg||$n[r.err];return r.result}function lE(i,t){return t=t||{},t.raw=!0,Np(i,t)}var hE=$o,cE=Np,fE=lE,pE=Np,dE=ia,mE={Inflate:hE,inflate:cE,inflateRaw:fE,ungzip:pE,constants:dE},{Deflate:X8,deflate:K8,deflateRaw:J8,gzip:Q8}=CC,{Inflate:eP,inflate:gE,inflateRaw:tP,ungzip:rP}=mE;var J1=gE;var Q1={inflate:J1},oe={};oe.parse=function(i){var t=oe.B,r=function(_,b,I,E){var A=oe.T,C={cmap:A.cmap,head:A.head,hhea:A.hhea,maxp:A.maxp,hmtx:A.hmtx,name:A.name,&amp;quot;OS/2&amp;quot;:A.OS2,post:A.post,loca:A.loca,kern:A.kern,glyf:A.glyf,&amp;quot;CFF &amp;quot;:A.CFF,GSUB:A.GSUB,CBLC:A.CBLC,CBDT:A.CBDT,&amp;quot;SVG &amp;quot;:A.SVG,COLR:A.colr,CPAL:A.cpal,sbix:A.sbix,fvar:A.fvar,gvar:A.gvar,avar:A.avar,HVAR:A.HVAR},T={_data:_,_index:b,_offset:I};for(var D in C){var F=oe.findTable(_,D,I);if(F){var N=F[0],B=E[N];B==null&amp;amp;&amp;amp;(B=C[D].parseTab(_,N,F[1],T)),T[D]=E[N]=B}}return T};function n(_){var b=t.readUshort(_,12),I=t.readUint(_,16),E=new Uint8Array(I),A=12+b*16;t.writeASCII(E,0,&amp;quot;OTTO&amp;quot;),t.writeUshort(E,4,b);for(var C=44,T=0;T&amp;lt;b;T++){var D=t.readASCII(_,C,4),F=t.readUint(_,C+4),N=t.readUint(_,C+8),B=t.readUint(_,C+12);C+=20;var U=_.slice(F,F+N);N!=B&amp;amp;&amp;amp;(U=Q1.inflate(U));var j=12+T*16;t.writeASCII(E,j,D),t.writeUint(E,j+8,A),t.writeUint(E,j+12,B),E.set(U,A),A+=B}return E}var s=new Uint8Array(i);let a;s[0]==119&amp;amp;&amp;amp;(a=s,s=n(s));var o={},u=t.readASCII(s,0,4);if(u==&amp;quot;ttcf&amp;quot;){var h=4;t.readUshort(s,h),h+=2,t.readUshort(s,h),h+=2;var l=t.readUint(s,h);h+=4;for(var c=[],p=0;p&amp;lt;l;p++){var f=t.readUint(s,h);h+=4,c.push(r(s,p,f,o))}return c}var d=r(s,0,0,o);d._compressedData=a;var m=d.fvar;if(m){for(var g=[d],p=0;p&amp;lt;m[1].length;p++){var v=m[1][p],w={};g.push(w);for(var y in d)w[y]=d[y];w._index=p;var S=w.name=JSON.parse(JSON.stringify(w.name));S.fontSubfamily=v[0],v[3]==null&amp;amp;&amp;amp;(v[3]=(S.fontFamily+&amp;quot;-&amp;quot;+S.fontSubfamily).replaceAll(&amp;quot; &amp;quot;,&amp;quot;&amp;quot;)),S.postScriptName=v[3]}return g}return[d]};oe.findTable=function(i,t,r){for(var n=oe.B,s=n.readUshort(i,r+4),a=r+12,o=0;o&amp;lt;s;o++){var u=n.readASCII(i,a,4);n.readUint(i,a+4);var h=n.readUint(i,a+8),l=n.readUint(i,a+12);if(u==t)return[h,l];a+=16}return null};oe.T={};oe.B={readFixed:function(i,t){return(i[t]&amp;lt;&amp;lt;8|i[t+1])+(i[t+2]&amp;lt;&amp;lt;8|i[t+3])/(256*256+4)},readF2dot14:function(i,t){var r=oe.B.readShort(i,t);return r/16384},readInt:function(i,t){var r=oe.B.t.uint8;return r[0]=i[t+3],r[1]=i[t+2],r[2]=i[t+1],r[3]=i[t],oe.B.t.int32[0]},readInt8:function(i,t){var r=oe.B.t.uint8;return r[0]=i[t],oe.B.t.int8[0]},readShort:function(i,t){var r=oe.B.t.uint16;return r[0]=i[t]&amp;lt;&amp;lt;8|i[t+1],oe.B.t.int16[0]},readUshort:function(i,t){return i[t]&amp;lt;&amp;lt;8|i[t+1]},writeUshort:function(i,t,r){i[t]=r&amp;gt;&amp;gt;8&amp;amp;255,i[t+1]=r&amp;amp;255},readUshorts:function(i,t,r){for(var n=[],s=0;s&amp;lt;r;s++){var a=oe.B.readUshort(i,t+s*2);n.push(a)}return n},readUint:function(i,t){var r=oe.B.t.uint8;return r[3]=i[t],r[2]=i[t+1],r[1]=i[t+2],r[0]=i[t+3],oe.B.t.uint32[0]},writeUint:function(i,t,r){i[t]=r&amp;gt;&amp;gt;24&amp;amp;255,i[t+1]=r&amp;gt;&amp;gt;16&amp;amp;255,i[t+2]=r&amp;gt;&amp;gt;8&amp;amp;255,i[t+3]=r&amp;gt;&amp;gt;0&amp;amp;255},readUint64:function(i,t){return oe.B.readUint(i,t)*4294967296+oe.B.readUint(i,t+4)},readASCII:function(i,t,r){for(var n=&amp;quot;&amp;quot;,s=0;s&amp;lt;r;s++)n+=String.fromCharCode(i[t+s]);return n},writeASCII:function(i,t,r){for(var n=0;n&amp;lt;r.length;n++)i[t+n]=r.charCodeAt(n)},readUnicode:function(i,t,r){for(var n=&amp;quot;&amp;quot;,s=0;s&amp;lt;r;s++){var a=i[t++]&amp;lt;&amp;lt;8|i[t++];n+=String.fromCharCode(a)}return n},_tdec:window.TextDecoder?new window.TextDecoder:null,readUTF8:function(i,t,r){var n=oe.B._tdec;return n&amp;amp;&amp;amp;t==0&amp;amp;&amp;amp;r==i.length?n.decode(i):oe.B.readASCII(i,t,r)},readBytes:function(i,t,r){for(var n=[],s=0;s&amp;lt;r;s++)n.push(i[t+s]);return n},readASCIIArray:function(i,t,r){for(var n=[],s=0;s&amp;lt;r;s++)n.push(String.fromCharCode(i[t+s]));return n},t:function(){var i=new ArrayBuffer(8);return{buff:i,int8:new Int8Array(i),uint8:new Uint8Array(i),int16:new Int16Array(i),uint16:new Uint16Array(i),int32:new Int32Array(i),uint32:new Uint32Array(i)}}()};oe.T.CFF={parseTab:function(i,t,r){var n=oe.B,s=oe.T.CFF;i=new Uint8Array(i.buffer,t,r),t=0,i[t],t++,i[t],t++,i[t],t++,i[t],t++;var a=[];t=s.readIndex(i,t,a);for(var o=[],u=0;u&amp;lt;a.length-1;u++)o.push(n.readASCII(i,t+a[u],a[u+1]-a[u]));t+=a[a.length-1];var h=[];t=s.readIndex(i,t,h);for(var l=[],u=0;u&amp;lt;h.length-1;u++)l.push(s.readDict(i,t+h[u],t+h[u+1]));t+=h[h.length-1];var c=l[0],p=[];t=s.readIndex(i,t,p);for(var f=[],u=0;u&amp;lt;p.length-1;u++)f.push(n.readASCII(i,t+p[u],p[u+1]-p[u]));if(t+=p[p.length-1],s.readSubrs(i,t,c),c.CharStrings&amp;amp;&amp;amp;(c.CharStrings=s.readBytes(i,c.CharStrings)),c.ROS){t=c.FDArray;var d=[];t=s.readIndex(i,t,d),c.FDArray=[];for(var u=0;u&amp;lt;d.length-1;u++){var m=s.readDict(i,t+d[u],t+d[u+1]);s._readFDict(i,m,f),c.FDArray.push(m)}t+=d[d.length-1],t=c.FDSelect,c.FDSelect=[];var g=i[t];if(t++,g==3){var v=n.readUshort(i,t);t+=2;for(var u=0;u&amp;lt;v+1;u++)c.FDSelect.push(n.readUshort(i,t),i[t+2]),t+=3}else throw g}return c.charset&amp;amp;&amp;amp;(c.charset=s.readCharset(i,c.charset,c.CharStrings.length)),s._readFDict(i,c,f),c},_readFDict:function(i,t,r){var n=oe.T.CFF,s;t.Private&amp;amp;&amp;amp;(s=t.Private[1],t.Private=n.readDict(i,s,s+t.Private[0]),t.Private.Subrs&amp;amp;&amp;amp;n.readSubrs(i,s+t.Private.Subrs,t.Private));for(var a in t)[&amp;quot;FamilyName&amp;quot;,&amp;quot;FontName&amp;quot;,&amp;quot;FullName&amp;quot;,&amp;quot;Notice&amp;quot;,&amp;quot;version&amp;quot;,&amp;quot;Copyright&amp;quot;].indexOf(a)!=-1&amp;amp;&amp;amp;(t[a]=r[t[a]-426+35])},readSubrs:function(i,t,r){r.Subrs=oe.T.CFF.readBytes(i,t);var n,s=r.Subrs.length+1;s&amp;lt;1240?n=107:s&amp;lt;33900?n=1131:n=32768,r.Bias=n},readBytes:function(i,t){oe.B;var r=[];t=oe.T.CFF.readIndex(i,t,r);for(var n=[],s=r.length-1,a=i.byteOffset+t,o=0;o&amp;lt;s;o++){var u=r[o];n.push(new Uint8Array(i.buffer,a+u,r[o+1]-u))}return n},tableSE:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],glyphByUnicode:function(i,t){for(var r=0;r&amp;lt;i.charset.length;r++)if(i.charset[r]==t)return r;return-1},glyphBySE:function(i,t){return t&amp;lt;0||t&amp;gt;255?-1:oe.T.CFF.glyphByUnicode(i,oe.T.CFF.tableSE[t])},readCharset:function(i,t,r){var n=oe.B,s=[&amp;quot;.notdef&amp;quot;],a=i[t];if(t++,a==0)for(var o=0;o&amp;lt;r;o++){var u=n.readUshort(i,t);t+=2,s.push(u)}else if(a==1||a==2)for(;s.length&amp;lt;r;){var u=n.readUshort(i,t);t+=2;var h=0;a==1?(h=i[t],t++):(h=n.readUshort(i,t),t+=2);for(var o=0;o&amp;lt;=h;o++)s.push(u),u++}else throw&amp;quot;error: format: &amp;quot;+a;return s},readIndex:function(i,t,r){var n=oe.B,s=n.readUshort(i,t)+1;t+=2;var a=i[t];if(t++,a==1)for(var o=0;o&amp;lt;s;o++)r.push(i[t+o]);else if(a==2)for(var o=0;o&amp;lt;s;o++)r.push(n.readUshort(i,t+o*2));else if(a==3)for(var o=0;o&amp;lt;s;o++)r.push(n.readUint(i,t+o*3-1)&amp;amp;16777215);else if(a==4)for(var o=0;o&amp;lt;s;o++)r.push(n.readUint(i,t+o*4));else if(s!=1)throw&amp;quot;unsupported offset size: &amp;quot;+a+&amp;quot;, count: &amp;quot;+s;return t+=s*a,t-1},getCharString:function(i,t,r){var n=oe.B,s=i[t],a=i[t+1];i[t+2],i[t+3],i[t+4];var o=1,u=null,h=null;s&amp;lt;=20&amp;amp;&amp;amp;(u=s,o=1),s==12&amp;amp;&amp;amp;(u=s*100+a,o=2),21&amp;lt;=s&amp;amp;&amp;amp;s&amp;lt;=27&amp;amp;&amp;amp;(u=s,o=1),s==28&amp;amp;&amp;amp;(h=n.readShort(i,t+1),o=3),29&amp;lt;=s&amp;amp;&amp;amp;s&amp;lt;=31&amp;amp;&amp;amp;(u=s,o=1),32&amp;lt;=s&amp;amp;&amp;amp;s&amp;lt;=246&amp;amp;&amp;amp;(h=s-139,o=1),247&amp;lt;=s&amp;amp;&amp;amp;s&amp;lt;=250&amp;amp;&amp;amp;(h=(s-247)*256+a+108,o=2),251&amp;lt;=s&amp;amp;&amp;amp;s&amp;lt;=254&amp;amp;&amp;amp;(h=-(s-251)*256-a-108,o=2),s==255&amp;amp;&amp;amp;(h=n.readInt(i,t+1)/65535,o=5),r.val=h??&amp;quot;o&amp;quot;+u,r.size=o},readCharString:function(i,t,r){for(var n=t+r,s=oe.B,a=[];t&amp;lt;n;){var o=i[t],u=i[t+1];i[t+2],i[t+3],i[t+4];var h=1,l=null,c=null;o&amp;lt;=20&amp;amp;&amp;amp;(l=o,h=1),o==12&amp;amp;&amp;amp;(l=o*100+u,h=2),(o==19||o==20)&amp;amp;&amp;amp;(l=o,h=2),21&amp;lt;=o&amp;amp;&amp;amp;o&amp;lt;=27&amp;amp;&amp;amp;(l=o,h=1),o==28&amp;amp;&amp;amp;(c=s.readShort(i,t+1),h=3),29&amp;lt;=o&amp;amp;&amp;amp;o&amp;lt;=31&amp;amp;&amp;amp;(l=o,h=1),32&amp;lt;=o&amp;amp;&amp;amp;o&amp;lt;=246&amp;amp;&amp;amp;(c=o-139,h=1),247&amp;lt;=o&amp;amp;&amp;amp;o&amp;lt;=250&amp;amp;&amp;amp;(c=(o-247)*256+u+108,h=2),251&amp;lt;=o&amp;amp;&amp;amp;o&amp;lt;=254&amp;amp;&amp;amp;(c=-(o-251)*256-u-108,h=2),o==255&amp;amp;&amp;amp;(c=s.readInt(i,t+1)/65535,h=5),a.push(c??&amp;quot;o&amp;quot;+l),t+=h}return a},readDict:function(i,t,r){for(var n=oe.B,s={},a=[];t&amp;lt;r;){var o=i[t],u=i[t+1];i[t+2],i[t+3],i[t+4];var h=1,l=null,c=null;if(o==28&amp;amp;&amp;amp;(c=n.readShort(i,t+1),h=3),o==29&amp;amp;&amp;amp;(c=n.readInt(i,t+1),h=5),32&amp;lt;=o&amp;amp;&amp;amp;o&amp;lt;=246&amp;amp;&amp;amp;(c=o-139,h=1),247&amp;lt;=o&amp;amp;&amp;amp;o&amp;lt;=250&amp;amp;&amp;amp;(c=(o-247)*256+u+108,h=2),251&amp;lt;=o&amp;amp;&amp;amp;o&amp;lt;=254&amp;amp;&amp;amp;(c=-(o-251)*256-u-108,h=2),o==255)throw c=n.readInt(i,t+1)/65535,h=5,&amp;quot;unknown number&amp;quot;;if(o==30){var p=[];for(h=1;;){var f=i[t+h];h++;var d=f&amp;gt;&amp;gt;4,m=f&amp;amp;15;if(d!=15&amp;amp;&amp;amp;p.push(d),m!=15&amp;amp;&amp;amp;p.push(m),m==15)break}for(var g=&amp;quot;&amp;quot;,v=[0,1,2,3,4,5,6,7,8,9,&amp;quot;.&amp;quot;,&amp;quot;e&amp;quot;,&amp;quot;e-&amp;quot;,&amp;quot;reserved&amp;quot;,&amp;quot;-&amp;quot;,&amp;quot;endOfNumber&amp;quot;],w=0;w&amp;lt;p.length;w++)g+=v[p[w]];c=parseFloat(g)}if(o&amp;lt;=21){var y=[&amp;quot;version&amp;quot;,&amp;quot;Notice&amp;quot;,&amp;quot;FullName&amp;quot;,&amp;quot;FamilyName&amp;quot;,&amp;quot;Weight&amp;quot;,&amp;quot;FontBBox&amp;quot;,&amp;quot;BlueValues&amp;quot;,&amp;quot;OtherBlues&amp;quot;,&amp;quot;FamilyBlues&amp;quot;,&amp;quot;FamilyOtherBlues&amp;quot;,&amp;quot;StdHW&amp;quot;,&amp;quot;StdVW&amp;quot;,&amp;quot;escape&amp;quot;,&amp;quot;UniqueID&amp;quot;,&amp;quot;XUID&amp;quot;,&amp;quot;charset&amp;quot;,&amp;quot;Encoding&amp;quot;,&amp;quot;CharStrings&amp;quot;,&amp;quot;Private&amp;quot;,&amp;quot;Subrs&amp;quot;,&amp;quot;defaultWidthX&amp;quot;,&amp;quot;nominalWidthX&amp;quot;];if(l=y[o],h=1,o==12){var y=[&amp;quot;Copyright&amp;quot;,&amp;quot;isFixedPitch&amp;quot;,&amp;quot;ItalicAngle&amp;quot;,&amp;quot;UnderlinePosition&amp;quot;,&amp;quot;UnderlineThickness&amp;quot;,&amp;quot;PaintType&amp;quot;,&amp;quot;CharstringType&amp;quot;,&amp;quot;FontMatrix&amp;quot;,&amp;quot;StrokeWidth&amp;quot;,&amp;quot;BlueScale&amp;quot;,&amp;quot;BlueShift&amp;quot;,&amp;quot;BlueFuzz&amp;quot;,&amp;quot;StemSnapH&amp;quot;,&amp;quot;StemSnapV&amp;quot;,&amp;quot;ForceBold&amp;quot;,&amp;quot;&amp;quot;,&amp;quot;&amp;quot;,&amp;quot;LanguageGroup&amp;quot;,&amp;quot;ExpansionFactor&amp;quot;,&amp;quot;initialRandomSeed&amp;quot;,&amp;quot;SyntheticBase&amp;quot;,&amp;quot;PostScript&amp;quot;,&amp;quot;BaseFontName&amp;quot;,&amp;quot;BaseFontBlend&amp;quot;,&amp;quot;&amp;quot;,&amp;quot;&amp;quot;,&amp;quot;&amp;quot;,&amp;quot;&amp;quot;,&amp;quot;&amp;quot;,&amp;quot;&amp;quot;,&amp;quot;ROS&amp;quot;,&amp;quot;CIDFontVersion&amp;quot;,&amp;quot;CIDFontRevision&amp;quot;,&amp;quot;CIDFontType&amp;quot;,&amp;quot;CIDCount&amp;quot;,&amp;quot;UIDBase&amp;quot;,&amp;quot;FDArray&amp;quot;,&amp;quot;FDSelect&amp;quot;,&amp;quot;FontName&amp;quot;];l=y[u],h=2}}l!=null?(s[l]=a.length==1?a[0]:a,a=[]):a.push(c),t+=h}return s}};oe.T.cmap={parseTab:function(i,t,r){var n={tables:[],ids:{},off:t};i=new Uint8Array(i.buffer,t,r),t=0;var s=oe.B,a=s.readUshort,o=oe.T.cmap;a(i,t),t+=2;var u=a(i,t);t+=2;for(var h=[],l=0;l&amp;lt;u;l++){var c=a(i,t);t+=2;var p=a(i,t);t+=2;var f=s.readUint(i,t);t+=4;var d=&amp;quot;p&amp;quot;+c+&amp;quot;e&amp;quot;+p,m=h.indexOf(f);if(m==-1){m=n.tables.length;var g={};h.push(f);var v=g.format=a(i,f);v==0?g=o.parse0(i,f,g):v==4?g=o.parse4(i,f,g):v==6?g=o.parse6(i,f,g):v==12&amp;amp;&amp;amp;(g=o.parse12(i,f,g)),n.tables.push(g)}n.ids[d]!=null&amp;amp;&amp;amp;console.log(&amp;quot;multiple tables for one platform+encoding: &amp;quot;+d),n.ids[d]=m}return n},parse0:function(i,t,r){var n=oe.B;t+=2;var s=n.readUshort(i,t);t+=2,n.readUshort(i,t),t+=2,r.map=[];for(var a=0;a&amp;lt;s-6;a++)r.map.push(i[t+a]);return r},parse4:function(i,t,r){var n=oe.B,s=n.readUshort,a=n.readUshorts,o=t;t+=2;var u=s(i,t);t+=2,s(i,t),t+=2;var h=s(i,t);t+=2;var l=h&amp;gt;&amp;gt;&amp;gt;1;r.searchRange=s(i,t),t+=2,r.entrySelector=s(i,t),t+=2,r.rangeShift=s(i,t),t+=2,r.endCount=a(i,t,l),t+=l*2,t+=2,r.startCount=a(i,t,l),t+=l*2,r.idDelta=[];for(var c=0;c&amp;lt;l;c++)r.idDelta.push(n.readShort(i,t)),t+=2;return r.idRangeOffset=a(i,t,l),t+=l*2,r.glyphIdArray=a(i,t,o+u-t&amp;gt;&amp;gt;1),r},parse6:function(i,t,r){var n=oe.B;t+=2,n.readUshort(i,t),t+=2,n.readUshort(i,t),t+=2,r.firstCode=n.readUshort(i,t),t+=2;var s=n.readUshort(i,t);t+=2,r.glyphIdArray=[];for(var a=0;a&amp;lt;s;a++)r.glyphIdArray.push(n.readUshort(i,t)),t+=2;return r},parse12:function(i,t,r){var n=oe.B,s=n.readUint;t+=4,s(i,t),t+=4,s(i,t),t+=4;var a=s(i,t)*3;t+=4;for(var o=r.groups=new Uint32Array(a),u=0;u&amp;lt;a;u+=3)o[u]=s(i,t+(u&amp;lt;&amp;lt;2)),o[u+1]=s(i,t+(u&amp;lt;&amp;lt;2)+4),o[u+2]=s(i,t+(u&amp;lt;&amp;lt;2)+8);return r}};oe.T.CBLC={parseTab:function(i,t,r){var n=oe.B,s=t;n.readUshort(i,t),t+=2,n.readUshort(i,t),t+=2;var a=n.readUint(i,t);t+=4;for(var o=[],u=0;u&amp;lt;a;u++){var h=n.readUint(i,t);t+=4,n.readUint(i,t),t+=4,n.readUint(i,t),t+=4,t+=4,t+=24,n.readUshort(i,t),t+=2,n.readUshort(i,t),t+=2,t+=4;for(var l=s+h,c=0;c&amp;lt;3;c++){var p=n.readUshort(i,l);l+=2;var f=n.readUshort(i,l);l+=2;var d=n.readUint(i,l);l+=4;var m=f-p+1,g=s+h+d,v=n.readUshort(i,g);if(g+=2,v!=1)throw v;var w=n.readUshort(i,g);g+=2;var y=n.readUint(i,g);g+=4;for(var S=[],_=0;_&amp;lt;m;_++){var b=n.readUint(i,g+_*4);S.push(y+b)}o.push([p,f,w,S])}}return o}};oe.T.CBDT={parseTab:function(i,t,r){return oe.B,new Uint8Array(i.buffer,i.byteOffset+t,r)}};oe.T.glyf={parseTab:function(i,t,r,n){for(var s=[],a=n.maxp.numGlyphs,o=0;o&amp;lt;a;o++)s.push(null);return s},_parseGlyf:function(i,t){var r=oe.B,n=i._data,s=i.loca;if(s[t]==s[t+1])return null;var a=oe.findTable(n,&amp;quot;glyf&amp;quot;,i._offset)[0]+s[t],o={};if(o.noc=r.readShort(n,a),a+=2,o.xMin=r.readShort(n,a),a+=2,o.yMin=r.readShort(n,a),a+=2,o.xMax=r.readShort(n,a),a+=2,o.yMax=r.readShort(n,a),a+=2,o.xMin&amp;gt;=o.xMax||o.yMin&amp;gt;=o.yMax)return null;if(o.noc&amp;gt;0){o.endPts=[];for(var u=0;u&amp;lt;o.noc;u++)o.endPts.push(r.readUshort(n,a)),a+=2;var h=r.readUshort(n,a);if(a+=2,n.length-a&amp;lt;h)return null;o.instructions=r.readBytes(n,a,h),a+=h;var l=o.endPts[o.noc-1]+1;o.flags=[];for(var u=0;u&amp;lt;l;u++){var c=n[a];if(a++,o.flags.push(c),(c&amp;amp;8)!=0){var p=n[a];a++;for(var f=0;f&amp;lt;p;f++)o.flags.push(c),u++}}o.xs=[];for(var u=0;u&amp;lt;l;u++){var d=(o.flags[u]&amp;amp;2)!=0,m=(o.flags[u]&amp;amp;16)!=0;d?(o.xs.push(m?n[a]:-n[a]),a++):m?o.xs.push(0):(o.xs.push(r.readShort(n,a)),a+=2)}o.ys=[];for(var u=0;u&amp;lt;l;u++){var d=(o.flags[u]&amp;amp;4)!=0,m=(o.flags[u]&amp;amp;32)!=0;d?(o.ys.push(m?n[a]:-n[a]),a++):m?o.ys.push(0):(o.ys.push(r.readShort(n,a)),a+=2)}for(var g=0,v=0,u=0;u&amp;lt;l;u++)g+=o.xs[u],v+=o.ys[u],o.xs[u]=g,o.ys[u]=v}else{var w=1,y=2,S=8,_=32,b=64,I=128,E=256;o.parts=[];var A;do{A=r.readUshort(n,a),a+=2;var C={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(o.parts.push(C),C.glyphIndex=r.readUshort(n,a),a+=2,A&amp;amp;w){var T=r.readShort(n,a);a+=2;var D=r.readShort(n,a);a+=2}else{var T=r.readInt8(n,a);a++;var D=r.readInt8(n,a);a++}A&amp;amp;y?(C.m.tx=T,C.m.ty=D):(C.p1=T,C.p2=D),A&amp;amp;S?(C.m.a=C.m.d=r.readF2dot14(n,a),a+=2):A&amp;amp;b?(C.m.a=r.readF2dot14(n,a),a+=2,C.m.d=r.readF2dot14(n,a),a+=2):A&amp;amp;I&amp;amp;&amp;amp;(C.m.a=r.readF2dot14(n,a),a+=2,C.m.b=r.readF2dot14(n,a),a+=2,C.m.c=r.readF2dot14(n,a),a+=2,C.m.d=r.readF2dot14(n,a),a+=2)}while(A&amp;amp;_);if(A&amp;amp;E){var F=r.readUshort(n,a);a+=2,o.instr=[];for(var u=0;u&amp;lt;F;u++)o.instr.push(n[a]),a++}}return o}};oe.T.head={parseTab:function(i,t,r){var n=oe.B,s={};return n.readFixed(i,t),t+=4,s.fontRevision=n.readFixed(i,t),t+=4,n.readUint(i,t),t+=4,n.readUint(i,t),t+=4,s.flags=n.readUshort(i,t),t+=2,s.unitsPerEm=n.readUshort(i,t),t+=2,s.created=n.readUint64(i,t),t+=8,s.modified=n.readUint64(i,t),t+=8,s.xMin=n.readShort(i,t),t+=2,s.yMin=n.readShort(i,t),t+=2,s.xMax=n.readShort(i,t),t+=2,s.yMax=n.readShort(i,t),t+=2,s.macStyle=n.readUshort(i,t),t+=2,s.lowestRecPPEM=n.readUshort(i,t),t+=2,s.fontDirectionHint=n.readShort(i,t),t+=2,s.indexToLocFormat=n.readShort(i,t),t+=2,s.glyphDataFormat=n.readShort(i,t),t+=2,s}};oe.T.hhea={parseTab:function(i,t,r){var n=oe.B,s={};n.readFixed(i,t),t+=4;for(var a=[&amp;quot;ascender&amp;quot;,&amp;quot;descender&amp;quot;,&amp;quot;lineGap&amp;quot;,&amp;quot;advanceWidthMax&amp;quot;,&amp;quot;minLeftSideBearing&amp;quot;,&amp;quot;minRightSideBearing&amp;quot;,&amp;quot;xMaxExtent&amp;quot;,&amp;quot;caretSlopeRise&amp;quot;,&amp;quot;caretSlopeRun&amp;quot;,&amp;quot;caretOffset&amp;quot;,&amp;quot;res0&amp;quot;,&amp;quot;res1&amp;quot;,&amp;quot;res2&amp;quot;,&amp;quot;res3&amp;quot;,&amp;quot;metricDataFormat&amp;quot;,&amp;quot;numberOfHMetrics&amp;quot;],o=0;o&amp;lt;a.length;o++){var u=a[o],h=u==&amp;quot;advanceWidthMax&amp;quot;||u==&amp;quot;numberOfHMetrics&amp;quot;?n.readUshort:n.readShort;s[u]=h(i,t+o*2)}return s}};oe.T.hmtx={parseTab:function(i,t,r,n){for(var s=oe.B,a=[],o=[],u=n.maxp.numGlyphs,h=n.hhea.numberOfHMetrics,l=0,c=0,p=0;p&amp;lt;h;)l=s.readUshort(i,t+(p&amp;lt;&amp;lt;2)),c=s.readShort(i,t+(p&amp;lt;&amp;lt;2)+2),a.push(l),o.push(c),p++;for(;p&amp;lt;u;)a.push(l),o.push(c),p++;return{aWidth:a,lsBearing:o}}};oe.T.kern={parseTab:function(i,t,r,n){var s=oe.B,a=oe.T.kern,o=s.readUshort(i,t);if(o==1)return a.parseV1(i,t,r,n);var u=s.readUshort(i,t+2);t+=4;for(var h={glyph1:[],rval:[]},l=0;l&amp;lt;u;l++){t+=2;var r=s.readUshort(i,t);t+=2;var c=s.readUshort(i,t);t+=2;var p=c&amp;gt;&amp;gt;&amp;gt;8;p&amp;amp;=15,p==0&amp;amp;&amp;amp;(t=a.readFormat0(i,t,h))}return h},parseV1:function(i,t,r,n){var s=oe.B,a=oe.T.kern;s.readFixed(i,t);var o=s.readUint(i,t+4);t+=8;for(var u={glyph1:[],rval:[]},h=0;h&amp;lt;o;h++){s.readUint(i,t),t+=4;var l=s.readUshort(i,t);t+=2,s.readUshort(i,t),t+=2;var c=l&amp;amp;255;c==0&amp;amp;&amp;amp;(t=a.readFormat0(i,t,u))}return u},readFormat0:function(i,t,r){var n=oe.B,s=n.readUshort,a=-1,o=s(i,t);s(i,t+2),s(i,t+4),s(i,t+6),t+=8;for(var u=0;u&amp;lt;o;u++){var h=s(i,t);t+=2;var l=s(i,t);t+=2;var c=n.readShort(i,t);t+=2,h!=a&amp;amp;&amp;amp;(r.glyph1.push(h),r.rval.push({glyph2:[],vals:[]}));var p=r.rval[r.rval.length-1];p.glyph2.push(l),p.vals.push(c),a=h}return t}};oe.T.loca={parseTab:function(i,t,r,n){var s=oe.B,a=[],o=n.head.indexToLocFormat,u=n.maxp.numGlyphs+1;if(o==0)for(var h=0;h&amp;lt;u;h++)a.push(s.readUshort(i,t+(h&amp;lt;&amp;lt;1))&amp;lt;&amp;lt;1);if(o==1)for(var h=0;h&amp;lt;u;h++)a.push(s.readUint(i,t+(h&amp;lt;&amp;lt;2)));return a}};oe.T.maxp={parseTab:function(i,t,r){var n=oe.B,s=n.readUshort,a={};return n.readUint(i,t),t+=4,a.numGlyphs=s(i,t),t+=2,a}};oe.T.name={parseTab:function(i,t,r){var n=oe.B,s={};n.readUshort(i,t),t+=2;var a=n.readUshort(i,t);t+=2;var o=n.readUshort(i,t);t+=2;for(var u=t-6+o,h=[&amp;quot;copyright&amp;quot;,&amp;quot;fontFamily&amp;quot;,&amp;quot;fontSubfamily&amp;quot;,&amp;quot;ID&amp;quot;,&amp;quot;fullName&amp;quot;,&amp;quot;version&amp;quot;,&amp;quot;postScriptName&amp;quot;,&amp;quot;trademark&amp;quot;,&amp;quot;manufacturer&amp;quot;,&amp;quot;designer&amp;quot;,&amp;quot;description&amp;quot;,&amp;quot;urlVendor&amp;quot;,&amp;quot;urlDesigner&amp;quot;,&amp;quot;licence&amp;quot;,&amp;quot;licenceURL&amp;quot;,&amp;quot;---&amp;quot;,&amp;quot;typoFamilyName&amp;quot;,&amp;quot;typoSubfamilyName&amp;quot;,&amp;quot;compatibleFull&amp;quot;,&amp;quot;sampleText&amp;quot;,&amp;quot;postScriptCID&amp;quot;,&amp;quot;wwsFamilyName&amp;quot;,&amp;quot;wwsSubfamilyName&amp;quot;,&amp;quot;lightPalette&amp;quot;,&amp;quot;darkPalette&amp;quot;],l=n.readUshort,c=0;c&amp;lt;a;c++){var p=l(i,t);t+=2;var f=l(i,t);t+=2;var d=l(i,t);t+=2;var m=l(i,t);t+=2;var g=l(i,t);t+=2;var v=l(i,t);t+=2;var w=u+v,y;p==0||p==3&amp;amp;&amp;amp;f==0||p==1&amp;amp;&amp;amp;f==25?y=n.readUnicode(i,w,g/2):f==0?y=n.readASCII(i,w,g):f==1||f==3||f==4||f==5||f==10?y=n.readUnicode(i,w,g/2):p==1?(y=n.readASCII(i,w,g),console.log(&amp;quot;reading unknown MAC encoding &amp;quot;+f+&amp;quot; as ASCII&amp;quot;)):(console.log(&amp;quot;unknown encoding &amp;quot;+f+&amp;quot;, platformID: &amp;quot;+p),y=n.readASCII(i,w,g));var S=&amp;quot;p&amp;quot;+p+&amp;quot;,&amp;quot;+d.toString(16);s[S]==null&amp;amp;&amp;amp;(s[S]={});var _=h[m];_==null&amp;amp;&amp;amp;(_=&amp;quot;_&amp;quot;+m),s[S][_]=y,s[S]._lang=d}var b=oe.T.name.selectOne(s),I=&amp;quot;fontFamily&amp;quot;;if(b[I]==null)for(var E in s)s[E][I]!=null&amp;amp;&amp;amp;(b[I]=s[E][I]);return b},selectOne:function(i){var t=&amp;quot;postScriptName&amp;quot;;for(var r in i)if(i[r][t]!=null&amp;amp;&amp;amp;i[r]._lang==1033)return i[r];for(var r in i)if(i[r][t]!=null&amp;amp;&amp;amp;i[r]._lang==0)return i[r];for(var r in i)if(i[r][t]!=null&amp;amp;&amp;amp;i[r]._lang==3084)return i[r];for(var r in i)if(i[r][t]!=null)return i[r];var n;for(var r in i){n=i[r];break}return console.log(&amp;quot;returning name table with languageID &amp;quot;+n._lang),n[t]==null&amp;amp;&amp;amp;n.ID!=null&amp;amp;&amp;amp;(n[t]=n.ID),n}};oe.T.OS2={parseTab:function(i,t,r){var n=oe.B,s=n.readUshort(i,t);t+=2;var a=oe.T.OS2,o={};if(s==0)a.version0(i,t,o);else if(s==1)a.version1(i,t,o);else if(s==2||s==3||s==4)a.version2(i,t,o);else if(s==5)a.version5(i,t,o);else throw&amp;quot;unknown OS/2 table version: &amp;quot;+s;return o},version0:function(i,t,r){var n=oe.B;return r.xAvgCharWidth=n.readShort(i,t),t+=2,r.usWeightClass=n.readUshort(i,t),t+=2,r.usWidthClass=n.readUshort(i,t),t+=2,r.fsType=n.readUshort(i,t),t+=2,r.ySubscriptXSize=n.readShort(i,t),t+=2,r.ySubscriptYSize=n.readShort(i,t),t+=2,r.ySubscriptXOffset=n.readShort(i,t),t+=2,r.ySubscriptYOffset=n.readShort(i,t),t+=2,r.ySuperscriptXSize=n.readShort(i,t),t+=2,r.ySuperscriptYSize=n.readShort(i,t),t+=2,r.ySuperscriptXOffset=n.readShort(i,t),t+=2,r.ySuperscriptYOffset=n.readShort(i,t),t+=2,r.yStrikeoutSize=n.readShort(i,t),t+=2,r.yStrikeoutPosition=n.readShort(i,t),t+=2,r.sFamilyClass=n.readShort(i,t),t+=2,r.panose=n.readBytes(i,t,10),t+=10,r.ulUnicodeRange1=n.readUint(i,t),t+=4,r.ulUnicodeRange2=n.readUint(i,t),t+=4,r.ulUnicodeRange3=n.readUint(i,t),t+=4,r.ulUnicodeRange4=n.readUint(i,t),t+=4,r.achVendID=n.readASCII(i,t,4),t+=4,r.fsSelection=n.readUshort(i,t),t+=2,r.usFirstCharIndex=n.readUshort(i,t),t+=2,r.usLastCharIndex=n.readUshort(i,t),t+=2,r.sTypoAscender=n.readShort(i,t),t+=2,r.sTypoDescender=n.readShort(i,t),t+=2,r.sTypoLineGap=n.readShort(i,t),t+=2,r.usWinAscent=n.readUshort(i,t),t+=2,r.usWinDescent=n.readUshort(i,t),t+=2,t},version1:function(i,t,r){var n=oe.B;return t=oe.T.OS2.version0(i,t,r),r.ulCodePageRange1=n.readUint(i,t),t+=4,r.ulCodePageRange2=n.readUint(i,t),t+=4,t},version2:function(i,t,r){var n=oe.B,s=n.readUshort;return t=oe.T.OS2.version1(i,t,r),r.sxHeight=n.readShort(i,t),t+=2,r.sCapHeight=n.readShort(i,t),t+=2,r.usDefault=s(i,t),t+=2,r.usBreak=s(i,t),t+=2,r.usMaxContext=s(i,t),t+=2,t},version5:function(i,t,r){var n=oe.B.readUshort;return t=oe.T.OS2.version2(i,t,r),r.usLowerOpticalPointSize=n(i,t),t+=2,r.usUpperOpticalPointSize=n(i,t),t+=2,t}};oe.T.post={parseTab:function(i,t,r){var n=oe.B,s={};return s.version=n.readFixed(i,t),t+=4,s.italicAngle=n.readFixed(i,t),t+=4,s.underlinePosition=n.readShort(i,t),t+=2,s.underlineThickness=n.readShort(i,t),t+=2,s}};oe.T.SVG={parseTab:function(i,t,r){var n=oe.B,s={entries:[],svgs:[]},a=t;n.readUshort(i,t),t+=2;var o=n.readUint(i,t);t+=4,n.readUint(i,t),t+=4,t=o+a;var u=n.readUshort(i,t);t+=2;for(var h=0;h&amp;lt;u;h++){var l=n.readUshort(i,t);t+=2;var c=n.readUshort(i,t);t+=2;var p=n.readUint(i,t);t+=4;var f=n.readUint(i,t);t+=4;var d=new Uint8Array(i.buffer,a+p+o,f);d[0]==31&amp;amp;&amp;amp;d[1]==139&amp;amp;&amp;amp;d[2]==8&amp;amp;&amp;amp;(d=Q1.inflate(d));for(var m=n.readUTF8(d,0,d.length),g=l;g&amp;lt;=c;g++)s.entries[g]=s.svgs.length;s.svgs.push(m)}return s}};oe.T.sbix={parseTab:function(i,t,r,n){for(var s=n.maxp.numGlyphs,a=t,o=oe.B,u=o.readUint(i,t+4),h=[],l=u-1;l&amp;lt;u;l++)for(var c=a+o.readUint(i,t+8+l*4),p=0;p&amp;lt;s;p++){var f=o.readUint(i,c+4+p*4),d=o.readUint(i,c+4+p*4+4);if(f==d){h[p]=null;continue}var m=c+f,g=o.readASCII(i,m+4,4);if(g!=&amp;quot;png &amp;quot;)throw g;h[p]=new Uint8Array(i.buffer,i.byteOffset+m+8,d-f-8)}return h}};oe.T.colr={parseTab:function(i,t,r){var n=oe.B,s=t;t+=2;var a=n.readUshort(i,t);t+=2;var o=n.readUint(i,t);t+=4;var u=n.readUint(i,t);t+=4;var h=n.readUshort(i,t);t+=2;for(var l={},c=s+o,p=0;p&amp;lt;a;p++)l[&amp;quot;g&amp;quot;+n.readUshort(i,c)]=[n.readUshort(i,c+2),n.readUshort(i,c+4)],c+=6;var f=[];c=s+u;for(var p=0;p&amp;lt;h;p++)f.push(n.readUshort(i,c),n.readUshort(i,c+2)),c+=4;return[l,f]}};oe.T.cpal={parseTab:function(i,t,r){var n=oe.B,s=t,a=n.readUshort(i,t);if(t+=2,a==0){n.readUshort(i,t),t+=2,n.readUshort(i,t),t+=2;var o=n.readUshort(i,t);t+=2;var u=n.readUint(i,t);return t+=4,new Uint8Array(i.buffer,s+u,o*4)}else throw a}};oe.T.GSUB={parseTab:function(i,t,r,n){var s=oe.B,a=s.readUshort;s.readUint;var o=t;a(i,o),o+=2,a(i,o),o+=2,a(i,o),o+=2;var u=a(i,o);o+=2,a(i,o),o+=2,o=t+u;var h={},l=a(i,o);o+=2;for(var c=0;c&amp;lt;l;c++){var p=s.readASCII(i,o,4);o+=4,a(i,o),o+=2,h[p]=!0}return h}};oe.T.fvar={parseTab:function(i,t,r,n){var s=n.name,a=t,o=oe.B,u=[],h=[];a+=8;var l=o.readUshort(i,a);a+=2,a+=2;var c=o.readUshort(i,a);a+=2;var p=o.readUshort(i,a);a+=2;for(var f=0;f&amp;lt;l;f++){var d=o.readASCII(i,a,4),m=o.readFixed(i,a+4),g=o.readFixed(i,a+8),v=o.readFixed(i,a+12),w=o.readUshort(i,a+16),y=o.readUshort(i,a+18);u.push([d,m,g,v,w,s[&amp;quot;_&amp;quot;+y]]),a+=20}for(var f=0;f&amp;lt;c;f++){for(var S=o.readUshort(i,a),_=null,w=o.readUshort(i,a+2),b=[],I=0;I&amp;lt;l;I++)b.push(o.readFixed(i,a+4+I*4));a+=4+l*4,(p&amp;amp;3)==2&amp;amp;&amp;amp;(_=o.readUshort(i,a),a+=2),h.push([s[&amp;quot;_&amp;quot;+S],w,b,_])}return[u,h]}};oe.T.gvar=function(){var i=32768,t=16384,r=8192,n=128,s=64,a=128,o=32768,u=oe.B;function h(f,d,m){for(var g=[],v=0;v&amp;lt;m;v++)g.push(u.readF2dot14(f,d+v*2));return g}function l(f,d,m,g,v){for(var w=[],y=0;y&amp;lt;m;y++){var S=u.readUshort(f,d);d+=2;var _=u.readUshort(f,d),b=_&amp;amp;61440;_=_&amp;amp;4095,d+=2;var I=null,E=null,A=null;b&amp;amp;i&amp;amp;&amp;amp;(I=h(f,d,g),d+=g*2),b&amp;amp;t&amp;amp;&amp;amp;(E=h(f,d,g),d+=g*2),b&amp;amp;t&amp;amp;&amp;amp;(A=h(f,d,g),d+=g*2),w.push([S,_,b,E,I,A])}return w}function c(f,d,m){var g=f[d];if(d++,g==0)return[[],d];127&amp;lt;g&amp;amp;&amp;amp;(g=(g&amp;amp;127)&amp;lt;&amp;lt;8|f[d++]);for(var v=[],w=0;v.length&amp;lt;g;){var y=f[d];d++;var S=(y&amp;amp;a)!=0;y=(y&amp;amp;127)+1;for(var _=0;_&amp;lt;y;_++){var b=0;S?(b=u.readUshort(f,d),d+=2):(b=f[d],d++),w+=b,v.push(w)}}return[v,d]}function p(f,d,m,g){var v=d+4,w=u.readUshort(f,v);v+=2;var y=u.readUshort(f,v);v+=2;var S=u.readUint(f,v);v+=4;var _=u.readUshort(f,v);v+=2,u.readUshort(f,v),v+=2;var b=u.readUint(f,v);v+=4;for(var I=[],E=0;E&amp;lt;_+1;E++)I.push(u.readUint(f,v+E*4));var A=[],C=[],T=[];v=d+S;for(var E=0;E&amp;lt;y;E++){var D=h(f,v+E*w*2,w),F=[],N=[];A.push(D),C.push(F),T.push(N);for(var B=0;B&amp;lt;w;B++)F[B]=Math.min(D[B],0),N[B]=Math.max(D[B],0)}for(var U=new Int8Array(f.buffer),j=[],E=0;E&amp;lt;_;E++){v=d+b+I[E];var W=u.readUshort(f,v);v+=2;var te=W&amp;amp;o;W&amp;amp;=4095;var X=u.readUshort(f,v);v+=2;var Z=l(f,v,W,w),G=[];j.push(G),v=d+b+I[E]+X;var q=null;if(te){var J=c(f,v);q=J[0],v=J[1]}for(var Y=0;Y&amp;lt;W;Y++){var Q=Z[Y],fe=v+Q[0],de=q;if(Q[2]&amp;amp;r){var J=c(f,v);de=J[0],v=J[1]}for(var me=[];v&amp;lt;fe;){var ie=f[v++],ee=(ie&amp;amp;63)+1;if(ie&amp;amp;n)for(var B=0;B&amp;lt;ee;B++)me.push(0);else if(ie&amp;amp;s){for(var B=0;B&amp;lt;ee;B++)me.push(u.readShort(f,v+B*2));v+=ee*2}else{for(var B=0;B&amp;lt;ee;B++)me.push(U[v+B]);v+=ee}}var se=Q[1];if(G.push([[Q[3]?Q[3]:C[se],Q[4]?Q[4]:A[se],Q[5]?Q[5]:T[se]],me,de.length==0?null:de]),de.length!=0&amp;amp;&amp;amp;de.length*2!=me.length)throw&amp;quot;e&amp;quot;}}return j}return{parseTab:p}}();oe.T.avar={parseTab:function(i,t,r,n){var s=t,a=oe.B,o=[];s+=6;var u=a.readUshort(i,s);s+=2;for(var h=0;h&amp;lt;u;h++){var l=a.readUshort(i,s);s+=2;var c=[];o.push(c);for(var p=0;p&amp;lt;l;p++){var f=a.readF2dot14(i,s),d=a.readF2dot14(i,s+2);s+=4,c.push(f,d)}}return o}};oe.T.HVAR={parseTab:function(i,t,r,n){var s=t,a=t,o=oe.B;s+=4;var u=o.readUint(i,s);s+=4;var h=o.readUint(i,s);s+=4;var l=o.readUint(i,s);s+=4;var c=o.readUint(i,s);if(s+=4,l!=0||c!=0)throw l;s=a+u;var p=s,U=o.readUshort(i,s);if(s+=2,U!=1)throw&amp;quot;e&amp;quot;;var f=o.readUint(i,s);s+=4;var d=o.readUshort(i,s);s+=2;for(var m=[],g=0;g&amp;lt;d;g++)m.push(o.readUint(i,s+g*4));s+=d*4,s=p+f;var v=o.readUshort(i,s);s+=2;var w=o.readUshort(i,s);s+=2;for(var y=[],g=0;g&amp;lt;w;g++){var S=[[],[],[]];y.push(S);for(var _=0;_&amp;lt;v;_++)S[0].push(o.readF2dot14(i,s+0)),S[1].push(o.readF2dot14(i,s+2)),S[2].push(o.readF2dot14(i,s+4)),s+=6}for(var b=new Int8Array(i.buffer),I=[],g=0;g&amp;lt;m.length;g++){s=a+u+m[g];var E=[];I.push(E);var A=o.readUshort(i,s);s+=2;var C=o.readUshort(i,s);if(s+=2,C&amp;amp;32768)throw&amp;quot;e&amp;quot;;var w=o.readUshort(i,s);s+=2;for(var T=[],_=0;_&amp;lt;w;_++)T.push(o.readUshort(i,s+_*2));s+=w*2;for(var D=0;D&amp;lt;A;D++){for(var F=[],N=0;N&amp;lt;w;N++)F.push(N&amp;lt;C?o.readShort(i,s):b[s]),s+=N&amp;lt;C?2:1;var B=new Array(y.length);B.fill(0),E.push(B);for(var _=0;_&amp;lt;T.length;_++)B[T[_]]=F[_]}}s=a+h;var U=i[s++];if(U!=0)throw&amp;quot;e&amp;quot;;var j=i[s++],W=o.readUshort(i,s);s+=2;for(var te=15,X=48,Z=((j&amp;amp;X)&amp;gt;&amp;gt;4)+1,G=[],g=0;g&amp;lt;W;g++){var q=0;Z==1?q=i[s++]:(q=o.readUshort(i,s),s+=2);var J=q&amp;gt;&amp;gt;(j&amp;amp;te)+1,Y=q&amp;amp;(1&amp;lt;&amp;lt;(j&amp;amp;te)+1)-1;G.push(I[J][Y])}return[y,G]}};oe.U=function(){var i={MoveTo:function(A,C,T){A.cmds.push(&amp;quot;M&amp;quot;),A.crds.push(C,T)},LineTo:function(A,C,T){A.cmds.push(&amp;quot;L&amp;quot;),A.crds.push(C,T)},CurveTo:function(A,C,T,D,F,N,B){A.cmds.push(&amp;quot;C&amp;quot;),A.crds.push(C,T,D,F,N,B)},qCurveTo:function(A,C,T,D,F){A.cmds.push(&amp;quot;Q&amp;quot;),A.crds.push(C,T,D,F)},ClosePath:function(A){A.cmds.push(&amp;quot;Z&amp;quot;)}};function t(A,C,T,D){var F=C[T],N=C[T+1],B=A.kern;if(B){var U=B.glyph1.indexOf(F);if(U!=-1){var j=B.rval[U].glyph2.indexOf(N);if(j!=-1)return[0,0,B.rval[U].vals[j],0]}}return[0,0,0,0]}function r(A,C,T){T==null&amp;amp;&amp;amp;(T={}),T.ltr,T.fts;var D=T.axs;A.fvar&amp;amp;&amp;amp;D==null&amp;amp;&amp;amp;(D=A.fvar[1][A._index][2]);var F=A.HVAR;D&amp;amp;&amp;amp;F&amp;amp;&amp;amp;(D=f(A,D));for(var N=[],B=0;B&amp;lt;C.length;B++){var U=C.codePointAt(B);U&amp;gt;65535&amp;amp;&amp;amp;B++,N.push(h(A,U))}for(var j=[],B=0;B&amp;lt;N.length;B++){var W=t(A,N,B),te=N[B],X=A.hmtx.aWidth[te]+W[2];if(F&amp;amp;&amp;amp;F[1][te])for(var Z=F[1][te],G=0;G&amp;lt;F[0].length;G++)X+=p(F[0][G],D)*Z[G];j.push({g:te,cl:B,dx:0,dy:0,ax:X,ay:0})}return j}function n(A,C,T){var D={cmds:[],crds:[]},F=0,N=0,B,U;T&amp;amp;&amp;amp;(B=T.clr,U=T.axs);for(var j=0;j&amp;lt;C.length;j++){for(var W=C[j],te=l(A,W.g,!1,U),X=te.crds,Z=0;Z&amp;lt;X.length;Z+=2)D.crds.push(X[Z]+F+W.dx),D.crds.push(X[Z+1]+N+W.dy);B&amp;amp;&amp;amp;D.cmds.push(B);for(var Z=0;Z&amp;lt;te.cmds.length;Z++)D.cmds.push(te.cmds[Z]);var G=D.cmds.length;B&amp;amp;&amp;amp;G!=0&amp;amp;&amp;amp;D.cmds[G-1]!=&amp;quot;X&amp;quot;&amp;amp;&amp;amp;D.cmds.push(&amp;quot;X&amp;quot;),F+=W.ax,N+=W.ay}return{cmds:D.cmds,crds:D.crds}}function s(A,C,T){for(var D=0,F=~~(A.length/C);D+1!=F;){var N=D+(F-D&amp;gt;&amp;gt;&amp;gt;1);A[N*C]&amp;lt;=T?D=N:F=N}return D*C}for(var a=[9,10,11,12,13,32,133,160,5760,6158,8232,8233,8239,8288,12288,65279],o={},u=0;u&amp;lt;a.length;u++)o[a[u]]=1;for(var u=8192;u&amp;lt;=8205;u++)o[u]=1;function h(A,C){if(A._ctab==null){for(var T=A.cmap,D=-1,F=[&amp;quot;p3e10&amp;quot;,&amp;quot;p0e4&amp;quot;,&amp;quot;p3e1&amp;quot;,&amp;quot;p1e0&amp;quot;,&amp;quot;p0e3&amp;quot;,&amp;quot;p0e1&amp;quot;,&amp;quot;p3e0&amp;quot;,&amp;quot;p3e5&amp;quot;],N=0;N&amp;lt;F.length;N++)if(T.ids[F[N]]!=null){D=T.ids[F[N]];break}if(D==-1)throw&amp;quot;no familiar platform and encoding!&amp;quot;;A._ctab=T.tables[D]}var B=A._ctab,U=B.format,j=-1;if(U==0)C&amp;gt;=B.map.length?j=0:j=B.map[C];else if(U==4){var W=B.endCount;if(j=0,C&amp;lt;=W[W.length-1]){var te=s(W,1,C);if(W[te]&amp;lt;C&amp;amp;&amp;amp;te++,C&amp;gt;=B.startCount[te]){var X=0;B.idRangeOffset[te]!=0?X=B.glyphIdArray[C-B.startCount[te]+(B.idRangeOffset[te]&amp;gt;&amp;gt;1)-(B.idRangeOffset.length-te)]:X=C+B.idDelta[te],j=X&amp;amp;65535}}}else if(U==6){var Z=C-B.firstCode,G=B.glyphIdArray;Z&amp;lt;0||Z&amp;gt;=G.length?j=0:j=G[Z]}else if(U==12){var q=B.groups;if(j=0,C&amp;lt;=q[q.length-2]){var N=s(q,3,C);q[N]&amp;lt;=C&amp;amp;&amp;amp;C&amp;lt;=q[N+1]&amp;amp;&amp;amp;(j=q[N+2]+(C-q[N]))}}else throw&amp;quot;unknown cmap table format &amp;quot;+B.format;var J=A[&amp;quot;SVG &amp;quot;],Y=A.loca;return j!=0&amp;amp;&amp;amp;A[&amp;quot;CFF &amp;quot;]==null&amp;amp;&amp;amp;(J==null||J.entries[j]==null)&amp;amp;&amp;amp;Y&amp;amp;&amp;amp;Y[j]==Y[j+1]&amp;amp;&amp;amp;o[C]==null&amp;amp;&amp;amp;(j=0),j}function l(A,C,T,D){var F={cmds:[],crds:[]};A.fvar&amp;amp;&amp;amp;(D==null&amp;amp;&amp;amp;(D=A.fvar[1][A._index][2]),D=f(A,D));var N=A[&amp;quot;SVG &amp;quot;],B=A[&amp;quot;CFF &amp;quot;],U=A.COLR,j=A.CBLC,W=A.CBDT,te=A.sbix,X=window.UPNG,Z=null;if(j&amp;amp;&amp;amp;X)for(var G=0;G&amp;lt;j.length;G++)j[G][0]&amp;lt;=C&amp;amp;&amp;amp;C&amp;lt;=j[G][1]&amp;amp;&amp;amp;(Z=j[G]);if(Z||te&amp;amp;&amp;amp;te[C]){if(Z&amp;amp;&amp;amp;Z[2]!=17)throw&amp;quot;not a PNG&amp;quot;;A.__tmp==null&amp;amp;&amp;amp;(A.__tmp={});var q=A.__tmp[&amp;quot;g&amp;quot;+C];if(q==null){var J,Y;if(te)J=te[C],Y=J.length;else{var Q=Z[3][C-Z[0]]+5;Y=W[Q+1]&amp;lt;&amp;lt;16|W[Q+2]&amp;lt;&amp;lt;8|W[Q+3],Q+=4,J=new Uint8Array(W.buffer,W.byteOffset+Q,Y)}for(var fe=&amp;quot;&amp;quot;,G=0;G&amp;lt;Y;G++)fe+=String.fromCharCode(J[G]);q=A.__tmp[&amp;quot;g&amp;quot;+C]=&amp;quot;data:image/png;base64,&amp;quot;+btoa(fe)}F.cmds.push(q);var de=A.head.unitsPerEm*1.15,me=Math.round(de),ie=Math.round(de),ee=Math.round(-ie*.15);F.crds.push(0,ie+ee,me,ie+ee,me,ee,0,ee)}else if(N&amp;amp;&amp;amp;N.entries[C]){var se=N.entries[C];if(se!=null){if(typeof se==&amp;quot;number&amp;quot;){var ce=N.svgs[se];if(typeof ce==&amp;quot;string&amp;quot;){var ue=new DOMParser,pe=ue.parseFromString(ce,&amp;quot;image/svg+xml&amp;quot;);ce=N.svgs[se]=pe.getElementsByTagName(&amp;quot;svg&amp;quot;)[0]}se=oe.U.SVG.toPath(ce,C),N.entries[C]=se}F=se}}else if(T!=!0&amp;amp;&amp;amp;U&amp;amp;&amp;amp;U[0][&amp;quot;g&amp;quot;+C]&amp;amp;&amp;amp;U[0][&amp;quot;g&amp;quot;+C][1]&amp;gt;1){let Ie=function(Ce){var Ge=Ce.toString(16);return(Ge.length==1?&amp;quot;0&amp;quot;:&amp;quot;&amp;quot;)+Ge};for(var O=A.CPAL,P=U[0][&amp;quot;g&amp;quot;+C],G=0;G&amp;lt;P[1];G++){var z=P[0]+G,$=U[1][2*z],ne=U[1][2*z+1]*4,K=l(A,$,$==C),ve=&amp;quot;#&amp;quot;+Ie(O[ne+2])+Ie(O[ne+1])+Ie(O[ne+0]);F.cmds.push(ve),F.cmds=F.cmds.concat(K.cmds),F.crds=F.crds.concat(K.crds),F.cmds.push(&amp;quot;X&amp;quot;)}}else if(B){var ge=B.Private,Te={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:ge?ge.defaultWidthX:0,open:!1};if(B.ROS){for(var xe=0;B.FDSelect[xe+2]&amp;lt;=C;)xe+=2;ge=B.FDArray[B.FDSelect[xe+1]].Private}I(B.CharStrings[C],Te,B,ge,F)}else A.glyf&amp;amp;&amp;amp;c(C,A,F,D);return{cmds:F.cmds,crds:F.crds}}function c(A,C,T,D){var F=C.glyf[A];F==null&amp;amp;&amp;amp;(F=C.glyf[A]=oe.T.glyf._parseGlyf(C,A)),F!=null&amp;amp;&amp;amp;(F.noc&amp;gt;-1?m(F,C,A,T,D):g(F,C,A,T,D))}function p(A,C){C.length;for(var T=1,D=A[0],F=A[1],N=A[2],B=0;B&amp;lt;C.length;B++){var U=1;D[B]&amp;gt;F[B]||F[B]&amp;gt;N[B]||D[B]&amp;lt;0&amp;amp;&amp;amp;N[B]&amp;gt;0&amp;amp;&amp;amp;F[B]!=0||F[B]==0?U=1:C[B]&amp;lt;D[B]||C[B]&amp;gt;N[B]?U=0:C[B]==F[B]?U=1:C[B]&amp;lt;F[B]?U=(C[B]-D[B])/(F[B]-D[B]):U=(N[B]-C[B])/(N[B]-F[B]),T=T*U}return T}function f(A,C){for(var T=A.fvar,D=A.avar,F=T?T[0]:null,N=[],B=0;B&amp;lt;F.length;B++){var U=F[B][1],j=F[B][2],W=F[B][3],te=Math.max(U,Math.min(W,C[B]));if(te&amp;lt;j?N[B]=(j-te)/(U-j):te&amp;gt;j?N[B]=(te-j)/(W-j):N[B]=0,D&amp;amp;&amp;amp;N[B]!=-1){for(var X=D[B],Z=0;Z&amp;lt;X.length&amp;amp;&amp;amp;!(X[Z]&amp;gt;=N[B]);Z+=2);var G=(N[B]-X[Z-2])/(X[Z]-X[Z-2]);N[B]=G*X[Z+1]+(1-G)*X[Z-1]}}return N}function d(A,C,T,D,F){var N=T.length,B=new Array(N*2+8);B.fill(0);for(var U=0;U&amp;lt;N;U++){var j=0,W=0,te=C.indexOf(U);if(te!=-1)j=A[te],W=A[C.length+te];else{for(var X=0;F[X]&amp;lt;U;)X++;for(var Z=X==0?0:F[X-1]+1,G=F[X],q=-1,J=-1,Y=0;Y&amp;lt;C.length;Y++){var Q=C[Y];Q&amp;lt;Z||Q&amp;gt;G||Q&amp;gt;=N||(q=Y,J==-1&amp;amp;&amp;amp;(J=Y))}for(var Y=0;Y&amp;lt;C.length;Y++){var Q=C[Y];if(!(Q&amp;lt;Z||Q&amp;gt;G||Q&amp;gt;=N)&amp;amp;&amp;amp;(Q&amp;lt;U&amp;amp;&amp;amp;(q=Y),U&amp;lt;Q)){J=Y;break}}for(var fe=0;fe&amp;lt;2;fe++){var de=fe==0?T:D,me=fe*C.length,ie=0,ee=de[C[q]],se=de[C[J]],ce=de[U],ue=A[me+q],pe=A[me+J];if(ee==se)ue==pe?ie=ue:ie=0;else if(ce&amp;lt;=Math.min(ee,se))ee&amp;lt;se?ie=ue:ie=pe;else if(Math.max(ee,se)&amp;lt;=ce)ee&amp;lt;se?ie=pe:ie=ue;else{var O=(ce-ee)/(se-ee);ie=O*pe+(1-O)*ue}fe==0?j=ie:W=ie}}B[U]=j,B[N+4+U]=W}return B}function m(A,C,T,D,F){var N=A.xs,B=A.ys;if(C.fvar&amp;amp;&amp;amp;F){N=N.slice(0),B=B.slice(0);for(var U=C.gvar,j=U?U[T]:null,W=0;W&amp;lt;j.length;W++){var te=j[W][0],X=p(te,F);if(!(X&amp;lt;1e-9)){var Z=j[W][1],G=j[W][2];if(G&amp;amp;&amp;amp;(Z=j[W][1]=d(Z,G,N,B,A.endPts),j[W][2]=null),Z.length==N.length*2+8)for(var q=0;q&amp;lt;N.length;q++)N[q]+=X*Z[q],B[q]+=X*Z[q+N.length+4]}}}for(var J=0;J&amp;lt;A.noc;J++){for(var Y=J==0?0:A.endPts[J-1]+1,Q=A.endPts[J],q=Y;q&amp;lt;=Q;q++){var fe=q==Y?Q:q-1,de=q==Q?Y:q+1,me=A.flags[q]&amp;amp;1,ie=A.flags[fe]&amp;amp;1,ee=A.flags[de]&amp;amp;1,se=N[q],ce=B[q];if(q==Y)if(me)if(ie)i.MoveTo(D,N[fe],B[fe]);else{i.MoveTo(D,se,ce);continue}else ie?i.MoveTo(D,N[fe],B[fe]):i.MoveTo(D,Math.floor((N[fe]+se)*.5),Math.floor((B[fe]+ce)*.5));me?ie&amp;amp;&amp;amp;i.LineTo(D,se,ce):ee?i.qCurveTo(D,se,ce,N[de],B[de]):i.qCurveTo(D,se,ce,Math.floor((se+N[de])*.5),Math.floor((ce+B[de])*.5))}i.ClosePath(D)}}function g(A,C,T,D,F){var N=[0,0,0,0,0,0],B=[0,0,0,0,0,0],U=A.parts.length;if(C.fvar&amp;amp;&amp;amp;F)for(var j=C.gvar,W=j?j[T]:null,te=0;te&amp;lt;W.length;te++){var X=W[te][0],Z=p(X,F);if(!(Z&amp;lt;1e-6)){var G=W[te][1],q=W[te][2];if(q==null)for(var J=0;J&amp;lt;U;J++)N[J]+=Z*G[J],B[J]+=Z*G[J+U+4];else for(var Y=0;Y&amp;lt;q.length;Y++){var J=q[Y];N[J]+=Z*G[0],B[J]+=Z*G[0+U]}}}for(var Y=0;Y&amp;lt;U;Y++){var Q={cmds:[],crds:[]},fe=A.parts[Y];c(fe.glyphIndex,C,Q,F);for(var de=fe.m,me=de.tx+N[Y],ie=de.ty+B[Y],J=0;J&amp;lt;Q.crds.length;J+=2){var ee=Q.crds[J],se=Q.crds[J+1];D.crds.push(ee*de.a+se*de.c+me),D.crds.push(ee*de.b+se*de.d+ie)}for(var J=0;J&amp;lt;Q.cmds.length;J++)D.cmds.push(Q.cmds[J])}}function v(A,C){var T=A.cmds,D=A.crds;C==null&amp;amp;&amp;amp;(C=5);function F(ue){return parseFloat(ue.toFixed(C))}function N(ue){for(var pe=[],O=!1,P=&amp;quot;&amp;quot;,z=0;z&amp;lt;ue.length;z++){var $=ue[z],ne=typeof $==&amp;quot;number&amp;quot;;if(!ne){if($==P&amp;amp;&amp;amp;$.length==1&amp;amp;&amp;amp;$!=&amp;quot;m&amp;quot;)continue;P=$}O&amp;amp;&amp;amp;ne&amp;amp;&amp;amp;$&amp;gt;=0&amp;amp;&amp;amp;pe.push(&amp;quot; &amp;quot;),pe.push($),O=ne}return pe.join(&amp;quot;&amp;quot;)}for(var B=[],U=0,j={M:2,L:2,Q:4,C:6},W=0,te=0,X=0,Z=0,G=0,q=0,J=0;J&amp;lt;T.length;J++){var Y=T[J],Q=j[Y]?j[Y]:0,fe=[],de,me,ie,ee;if(Y==&amp;quot;L&amp;quot;)de=D[U]-W,me=D[U+1]-te,ie=F(de+X),ee=F(me+Z),T[J+1]==&amp;quot;Z&amp;quot;&amp;amp;&amp;amp;D[U]==G&amp;amp;&amp;amp;D[U+1]==q?(ie=de,ee=me):ie==0&amp;amp;&amp;amp;ee==0||(ie==0?fe.push(&amp;quot;v&amp;quot;,ee):ee==0?fe.push(&amp;quot;h&amp;quot;,ie):fe.push(&amp;quot;l&amp;quot;,ie,ee));else{fe.push(Y.toLowerCase());for(var se=0;se&amp;lt;Q;se+=2)de=D[U+se]-W,me=D[U+se+1]-te,ie=F(de+X),ee=F(me+Z),fe.push(ie,ee)}Q!=0&amp;amp;&amp;amp;(X+=de-ie,Z+=me-ee);for(var ce=fe,se=0;se&amp;lt;ce.length;se++)B.push(ce[se]);Q!=0&amp;amp;&amp;amp;(U+=Q,W=D[U-2],te=D[U-1]),Y==&amp;quot;M&amp;quot;&amp;amp;&amp;amp;(G=W,q=te),Y==&amp;quot;Z&amp;quot;&amp;amp;&amp;amp;(W=G,te=q)}return N(B)}function w(A){var C={cmds:[],crds:[]};return oe.U.SVG.svgToPath(A,C),{cmds:C.cmds,crds:C.crds}}function y(A,C,T,D){for(var F=C&amp;gt;&amp;gt;1,N=T&amp;gt;&amp;gt;1,B=new Uint8Array(F*N*4),U=new Uint32Array(A.buffer),j=new Uint32Array(B.buffer),W=0;W&amp;lt;N;W++)for(var te=0;te&amp;lt;F;te++){var X=W*F+te,Z=(W&amp;lt;&amp;lt;1)*C+(te&amp;lt;&amp;lt;1),G=U[Z],q=U[Z+1],J=U[Z+C],Y=U[Z+C+1],Q=G&amp;gt;&amp;gt;&amp;gt;24,fe=q&amp;gt;&amp;gt;&amp;gt;24,de=J&amp;gt;&amp;gt;&amp;gt;24,me=Y&amp;gt;&amp;gt;&amp;gt;24,ie=Q+fe+de+me;if(ie==1020){var ee=(G&amp;gt;&amp;gt;&amp;gt;0&amp;amp;255)+(q&amp;gt;&amp;gt;&amp;gt;0&amp;amp;255)+(J&amp;gt;&amp;gt;&amp;gt;0&amp;amp;255)+(Y&amp;gt;&amp;gt;&amp;gt;0&amp;amp;255)+2&amp;gt;&amp;gt;&amp;gt;2,se=(G&amp;gt;&amp;gt;&amp;gt;8&amp;amp;255)+(q&amp;gt;&amp;gt;&amp;gt;8&amp;amp;255)+(J&amp;gt;&amp;gt;&amp;gt;8&amp;amp;255)+(Y&amp;gt;&amp;gt;&amp;gt;8&amp;amp;255)+2&amp;gt;&amp;gt;&amp;gt;2,ce=(G&amp;gt;&amp;gt;&amp;gt;16&amp;amp;255)+(q&amp;gt;&amp;gt;&amp;gt;16&amp;amp;255)+(J&amp;gt;&amp;gt;&amp;gt;16&amp;amp;255)+(Y&amp;gt;&amp;gt;&amp;gt;16&amp;amp;255)+2&amp;gt;&amp;gt;&amp;gt;2;j[X]=255&amp;lt;&amp;lt;24|ce&amp;lt;&amp;lt;16|se&amp;lt;&amp;lt;8|ee}else if(ie==0)j[X]=0;else{var ee=(G&amp;gt;&amp;gt;&amp;gt;0&amp;amp;255)*Q+(q&amp;gt;&amp;gt;&amp;gt;0&amp;amp;255)*fe+(J&amp;gt;&amp;gt;&amp;gt;0&amp;amp;255)*de+(Y&amp;gt;&amp;gt;&amp;gt;0&amp;amp;255)*me,se=(G&amp;gt;&amp;gt;&amp;gt;8&amp;amp;255)*Q+(q&amp;gt;&amp;gt;&amp;gt;8&amp;amp;255)*fe+(J&amp;gt;&amp;gt;&amp;gt;8&amp;amp;255)*de+(Y&amp;gt;&amp;gt;&amp;gt;8&amp;amp;255)*me,ce=(G&amp;gt;&amp;gt;&amp;gt;16&amp;amp;255)*Q+(q&amp;gt;&amp;gt;&amp;gt;16&amp;amp;255)*fe+(J&amp;gt;&amp;gt;&amp;gt;16&amp;amp;255)*de+(Y&amp;gt;&amp;gt;&amp;gt;16&amp;amp;255)*me,ue=1/ie;ee=~~(ee*ue+.5),se=~~(se*ue+.5),ce=~~(ce*ue+.5),j[X]=ie+2&amp;gt;&amp;gt;&amp;gt;2&amp;lt;&amp;lt;24|ce&amp;lt;&amp;lt;16|se&amp;lt;&amp;lt;8|ee}}return{buff:B,w:F,h:N}}var S,_;function b(A,C){for(var T=0,D=A.cmds,F=A.crds,N=0;N&amp;lt;D.length;N++){var B=D[N];if(B==&amp;quot;M&amp;quot;)C.moveTo(F[T],F[T+1]),T+=2;else if(B==&amp;quot;L&amp;quot;)C.lineTo(F[T],F[T+1]),T+=2;else if(B==&amp;quot;C&amp;quot;)C.bezierCurveTo(F[T],F[T+1],F[T+2],F[T+3],F[T+4],F[T+5]),T+=6;else if(B==&amp;quot;Q&amp;quot;)C.quadraticCurveTo(F[T],F[T+1],F[T+2],F[T+3]),T+=4;else if(B[0]==&amp;quot;d&amp;quot;){var U=window.UPNG,j=F[T],W=F[T+1],te=F[T+2],X=F[T+3],Z=F[T+4],G=F[T+5],q=F[T+6],J=F[T+7];if(T+=8,U==null){C.moveTo(j,W),C.lineTo(te,X),C.lineTo(Z,G),C.lineTo(q,J),C.closePath();continue}for(var Y=te-j,Q=X-W,fe=q-j,de=J-W,me=atob(B.slice(22)),ie=new Uint8Array(me.length),ee=0;ee&amp;lt;me.length;ee++)ie[ee]=me.charCodeAt(ee);for(var se=U.decode(ie.buffer),ce=se.width,ue=se.height,pe=new Uint8Array(U.toRGBA8(se)[0]),O=C.getTransform(),P=Math.sqrt(Math.abs(O.a*O.d-O.b*O.c))*Math.sqrt(fe*fe+de*de)/ue;P&amp;lt;.5;){var z=y(pe,ce,ue);pe=z.buff,ce=z.w,ue=z.h,P*=2}S==null&amp;amp;&amp;amp;(S=document.createElement(&amp;quot;canvas&amp;quot;),_=S.getContext(&amp;quot;2d&amp;quot;)),(S.width!=ce||S.height!=ue)&amp;amp;&amp;amp;(S.width=ce,S.height=ue),_.putImageData(new ImageData(new Uint8ClampedArray(pe.buffer),ce,ue),0,0),C.save(),C.transform(Y,Q,fe,de,j,W),C.scale(1/ce,1/ue),C.drawImage(S,0,0),C.restore()}else if(B.charAt(0)==&amp;quot;#&amp;quot;||B.charAt(0)==&amp;quot;r&amp;quot;)C.beginPath(),C.fillStyle=B;else if(B.charAt(0)==&amp;quot;O&amp;quot;&amp;amp;&amp;amp;B!=&amp;quot;OX&amp;quot;){C.beginPath();var $=B.split(&amp;quot;-&amp;quot;);C.lineWidth=parseFloat($[2]),C.lineCap=[&amp;quot;butt&amp;quot;,&amp;quot;round&amp;quot;,&amp;quot;square&amp;quot;][parseFloat($[3])],C.lineJoin=[&amp;quot;miter&amp;quot;,&amp;quot;round&amp;quot;,&amp;quot;bevel&amp;quot;][parseFloat($[4])],C.miterLimit=parseFloat($[5]),C.lineDashOffset=parseFloat($[6]),C.setLineDash($[7].split(&amp;quot;,&amp;quot;).map(parseFloat)),C.strokeStyle=$[1]}else B==&amp;quot;Z&amp;quot;?C.closePath():B==&amp;quot;X&amp;quot;?C.fill():B==&amp;quot;OX&amp;quot;&amp;amp;&amp;amp;C.stroke()}}function I(A,C,T,D,F){for(var N=C.stack,B=C.nStems,U=C.haveWidth,j=C.width,W=C.open,te=0,X=C.x,Z=C.y,G=0,q=0,J=0,Y=0,Q=0,fe=0,de=0,me=0,ie=0,ee=0,se=oe.T.CFF,ce=D.nominalWidthX,ue={val:0,size:0};te&amp;lt;A.length;){se.getCharString(A,te,ue);var pe=ue.val;if(te+=ue.size,pe==&amp;quot;o1&amp;quot;||pe==&amp;quot;o18&amp;quot;){var O;O=N.length%2!==0,O&amp;amp;&amp;amp;!U&amp;amp;&amp;amp;(j=N.shift()+ce),B+=N.length&amp;gt;&amp;gt;1,N.length=0,U=!0}else if(pe==&amp;quot;o3&amp;quot;||pe==&amp;quot;o23&amp;quot;){var O;O=N.length%2!==0,O&amp;amp;&amp;amp;!U&amp;amp;&amp;amp;(j=N.shift()+ce),B+=N.length&amp;gt;&amp;gt;1,N.length=0,U=!0}else if(pe==&amp;quot;o4&amp;quot;)N.length&amp;gt;1&amp;amp;&amp;amp;!U&amp;amp;&amp;amp;(j=N.shift()+ce,U=!0),W&amp;amp;&amp;amp;i.ClosePath(F),Z+=N.pop(),i.MoveTo(F,X,Z),W=!0;else if(pe==&amp;quot;o5&amp;quot;)for(;N.length&amp;gt;0;)X+=N.shift(),Z+=N.shift(),i.LineTo(F,X,Z);else if(pe==&amp;quot;o6&amp;quot;||pe==&amp;quot;o7&amp;quot;)for(var P=N.length,z=pe==&amp;quot;o6&amp;quot;,$=0;$&amp;lt;P;$++){var ne=N.shift();z?X+=ne:Z+=ne,z=!z,i.LineTo(F,X,Z)}else if(pe==&amp;quot;o8&amp;quot;||pe==&amp;quot;o24&amp;quot;){for(var P=N.length,K=0;K+6&amp;lt;=P;)G=X+N.shift(),q=Z+N.shift(),J=G+N.shift(),Y=q+N.shift(),X=J+N.shift(),Z=Y+N.shift(),i.CurveTo(F,G,q,J,Y,X,Z),K+=6;pe==&amp;quot;o24&amp;quot;&amp;amp;&amp;amp;(X+=N.shift(),Z+=N.shift(),i.LineTo(F,X,Z))}else{if(pe==&amp;quot;o11&amp;quot;)break;if(pe==&amp;quot;o1234&amp;quot;||pe==&amp;quot;o1235&amp;quot;||pe==&amp;quot;o1236&amp;quot;||pe==&amp;quot;o1237&amp;quot;)pe==&amp;quot;o1234&amp;quot;&amp;amp;&amp;amp;(G=X+N.shift(),q=Z,J=G+N.shift(),Y=q+N.shift(),ie=J+N.shift(),ee=Y,Q=ie+N.shift(),fe=Y,de=Q+N.shift(),me=Z,X=de+N.shift(),i.CurveTo(F,G,q,J,Y,ie,ee),i.CurveTo(F,Q,fe,de,me,X,Z)),pe==&amp;quot;o1235&amp;quot;&amp;amp;&amp;amp;(G=X+N.shift(),q=Z+N.shift(),J=G+N.shift(),Y=q+N.shift(),ie=J+N.shift(),ee=Y+N.shift(),Q=ie+N.shift(),fe=ee+N.shift(),de=Q+N.shift(),me=fe+N.shift(),X=de+N.shift(),Z=me+N.shift(),N.shift(),i.CurveTo(F,G,q,J,Y,ie,ee),i.CurveTo(F,Q,fe,de,me,X,Z)),pe==&amp;quot;o1236&amp;quot;&amp;amp;&amp;amp;(G=X+N.shift(),q=Z+N.shift(),J=G+N.shift(),Y=q+N.shift(),ie=J+N.shift(),ee=Y,Q=ie+N.shift(),fe=Y,de=Q+N.shift(),me=fe+N.shift(),X=de+N.shift(),i.CurveTo(F,G,q,J,Y,ie,ee),i.CurveTo(F,Q,fe,de,me,X,Z)),pe==&amp;quot;o1237&amp;quot;&amp;amp;&amp;amp;(G=X+N.shift(),q=Z+N.shift(),J=G+N.shift(),Y=q+N.shift(),ie=J+N.shift(),ee=Y+N.shift(),Q=ie+N.shift(),fe=ee+N.shift(),de=Q+N.shift(),me=fe+N.shift(),Math.abs(de-X)&amp;gt;Math.abs(me-Z)?X=de+N.shift():Z=me+N.shift(),i.CurveTo(F,G,q,J,Y,ie,ee),i.CurveTo(F,Q,fe,de,me,X,Z));else if(pe==&amp;quot;o14&amp;quot;){if(N.length&amp;gt;0&amp;amp;&amp;amp;N.length!=4&amp;amp;&amp;amp;!U&amp;amp;&amp;amp;(j=N.shift()+T.nominalWidthX,U=!0),N.length==4){var ve=N.shift(),ge=N.shift(),Te=N.shift(),xe=N.shift(),Ie=se.glyphBySE(T,Te),Ce=se.glyphBySE(T,xe);I(T.CharStrings[Ie],C,T,D,F),C.x=ve,C.y=ge,I(T.CharStrings[Ce],C,T,D,F)}W&amp;amp;&amp;amp;(i.ClosePath(F),W=!1)}else if(pe==&amp;quot;o19&amp;quot;||pe==&amp;quot;o20&amp;quot;){var O;O=N.length%2!==0,O&amp;amp;&amp;amp;!U&amp;amp;&amp;amp;(j=N.shift()+ce),B+=N.length&amp;gt;&amp;gt;1,N.length=0,U=!0,te+=B+7&amp;gt;&amp;gt;3}else if(pe==&amp;quot;o21&amp;quot;)N.length&amp;gt;2&amp;amp;&amp;amp;!U&amp;amp;&amp;amp;(j=N.shift()+ce,U=!0),Z+=N.pop(),X+=N.pop(),W&amp;amp;&amp;amp;i.ClosePath(F),i.MoveTo(F,X,Z),W=!0;else if(pe==&amp;quot;o22&amp;quot;)N.length&amp;gt;1&amp;amp;&amp;amp;!U&amp;amp;&amp;amp;(j=N.shift()+ce,U=!0),X+=N.pop(),W&amp;amp;&amp;amp;i.ClosePath(F),i.MoveTo(F,X,Z),W=!0;else if(pe==&amp;quot;o25&amp;quot;){for(;N.length&amp;gt;6;)X+=N.shift(),Z+=N.shift(),i.LineTo(F,X,Z);G=X+N.shift(),q=Z+N.shift(),J=G+N.shift(),Y=q+N.shift(),X=J+N.shift(),Z=Y+N.shift(),i.CurveTo(F,G,q,J,Y,X,Z)}else if(pe==&amp;quot;o26&amp;quot;)for(N.length%2&amp;amp;&amp;amp;(X+=N.shift());N.length&amp;gt;0;)G=X,q=Z+N.shift(),J=G+N.shift(),Y=q+N.shift(),X=J,Z=Y+N.shift(),i.CurveTo(F,G,q,J,Y,X,Z);else if(pe==&amp;quot;o27&amp;quot;)for(N.length%2&amp;amp;&amp;amp;(Z+=N.shift());N.length&amp;gt;0;)G=X+N.shift(),q=Z,J=G+N.shift(),Y=q+N.shift(),X=J+N.shift(),Z=Y,i.CurveTo(F,G,q,J,Y,X,Z);else if(pe==&amp;quot;o10&amp;quot;||pe==&amp;quot;o29&amp;quot;){var Ge=pe==&amp;quot;o10&amp;quot;?D:T;if(N.length==0)console.log(&amp;quot;error: empty stack&amp;quot;);else{var Me=N.pop(),nt=Ge.Subrs[Me+Ge.Bias];C.x=X,C.y=Z,C.nStems=B,C.haveWidth=U,C.width=j,C.open=W,I(nt,C,T,D,F),X=C.x,Z=C.y,B=C.nStems,U=C.haveWidth,j=C.width,W=C.open}}else if(pe==&amp;quot;o30&amp;quot;||pe==&amp;quot;o31&amp;quot;){var P,Gt=N.length,K=0,ft=pe==&amp;quot;o31&amp;quot;;for(P=Gt&amp;amp;-3,K+=Gt-P;K&amp;lt;P;)ft?(G=X+N.shift(),q=Z,J=G+N.shift(),Y=q+N.shift(),Z=Y+N.shift(),P-K==5?(X=J+N.shift(),K++):X=J,ft=!1):(G=X,q=Z+N.shift(),J=G+N.shift(),Y=q+N.shift(),X=J+N.shift(),P-K==5?(Z=Y+N.shift(),K++):Z=Y,ft=!0),i.CurveTo(F,G,q,J,Y,X,Z),K+=4}else{if((pe+&amp;quot;&amp;quot;).charAt(0)==&amp;quot;o&amp;quot;)throw console.log(&amp;quot;Unknown operation: &amp;quot;+pe,A),pe;N.push(pe)}}}C.x=X,C.y=Z,C.nStems=B,C.haveWidth=U,C.width=j,C.open=W}function E(A,C){var T=function(D){var F=0;return(D&amp;amp;4294967168)==0?F=1:(D&amp;amp;4294965248)==0?F=2:(D&amp;amp;4294901760)==0?F=3:(D&amp;amp;4292870144)==0&amp;amp;&amp;amp;(F=4),F};fetch(A).then(function(D){return D.arrayBuffer()}).then(function(D){return WebAssembly.instantiate(D)}).then(function(D){console.log(&amp;quot;HB ready&amp;quot;);var F=D.instance.exports,N=F.memory,B,U,j,W,te,X,Z,G,q;oe.U.shapeHB=function(){var J=function(Q){for(var fe=F.hb_buffer_get_length(Q),de=[],me=F.hb_buffer_get_glyph_infos(Q,0)&amp;gt;&amp;gt;&amp;gt;2,ie=F.hb_buffer_get_glyph_positions(Q,0)&amp;gt;&amp;gt;&amp;gt;2,ee=0;ee&amp;lt;fe;++ee){var se=me+ee*5,ce=ie+ee*5;de.push({g:U[se+0],cl:U[se+2],ax:j[ce+0],ay:j[ce+1],dx:j[ce+2],dy:j[ce+3]})}return de},Y;return function(Q,fe,de){var me=Q._data,ie=Q.name.postScriptName,ee=de.ltr,se=de.fts,ce=de.axs;if(Q.fvar&amp;amp;&amp;amp;ce==null&amp;amp;&amp;amp;(ce=Q.fvar[1][Q._index][2]),B=new Uint8Array(N.buffer),U=new Uint32Array(N.buffer),j=new Int32Array(N.buffer),W=new Float32Array(N.buffer),te!=ie&amp;amp;&amp;amp;(X!=null&amp;amp;&amp;amp;(F.hb_blob_destroy(X),F.free(Z),F.hb_face_destroy(G),F.hb_font_destroy(q)),Z=F.malloc(me.byteLength),B.set(me,Z),X=F.hb_blob_create(Z,me.byteLength,2,0,0),G=F.hb_face_create(X,Q._index),q=F.hb_font_create(G),te=ie),window.TextEncoder==null){alert(&amp;quot;Your browser is too old. Please, update it.&amp;quot;);return}Y==null&amp;amp;&amp;amp;(Y=new window.TextEncoder(&amp;quot;utf8&amp;quot;));var ue=F.hb_buffer_create(),pe=Y.encode(fe),O=pe.length,P=F.malloc(O);B.set(pe,P),F.hb_buffer_add_utf8(ue,P,O,0,O),F.free(P);var z=oe.B,$=0;if(se){$=F.malloc(16*se.length);for(var ne=0;ne&amp;lt;se.length;ne++){var K=se[ne],ve=$+ne*16,ge=ve&amp;gt;&amp;gt;&amp;gt;2;z.writeASCII(B,ve,K[0].split(&amp;quot;&amp;quot;).reverse().join(&amp;quot;&amp;quot;)),U[ge+1]=K[1],U[ge+2]=K[2],U[ge+3]=K[3]}}var Te=0;if(ce&amp;amp;&amp;amp;Q.fvar){var xe=Q.fvar[0];Te=F.malloc(8*ce.length);for(var ne=0;ne&amp;lt;ce.length;ne++){var ve=Te+ne*8,ge=ve&amp;gt;&amp;gt;&amp;gt;2;z.writeASCII(B,ve,xe[ne][0].split(&amp;quot;&amp;quot;).reverse().join(&amp;quot;&amp;quot;)),W[ge+1]=ce[ne]}}ce&amp;amp;&amp;amp;F.hb_font_set_variations(q,Te,ce.length),F.hb_buffer_set_direction(ue,ee?4:5),F.hb_buffer_guess_segment_properties(ue),F.hb_shape(q,ue,$,se?se.length:0);var Ie=J(ue);F.hb_buffer_destroy(ue),se&amp;amp;&amp;amp;F.free($),ce&amp;amp;&amp;amp;F.free(Te);var Ce=Ie.slice(0);ee||Ce.reverse();for(var Ge=0,Me=0,ne=1;ne&amp;lt;Ce.length;ne++){for(var nt=Ce[ne],Gt=nt.cl;;){var ft=fe.codePointAt(Ge),Ri=T(ft);if(Me+Ri&amp;lt;=Gt)Me+=Ri,Ge+=ft&amp;lt;=65535?1:2;else break}nt.cl=Ge}return Ie}}(),C()})}return{shape:r,shapeToPath:n,codeToGlyph:h,glyphToPath:l,pathToSVG:v,SVGToPath:w,pathToContext:b,initHB:E}}();var ty=Se(aa());var xP=Se(Bt());var ey={M:2,L:2,C:6,Q:4},ry=[&amp;quot;ttf&amp;quot;,&amp;quot;otf&amp;quot;,&amp;quot;woff&amp;quot;],yE=new RegExp(`\\.(${ry.join(&amp;quot;|&amp;quot;)})`,&amp;quot;i&amp;quot;),vE=new RegExp(`([^/]+)(\\.(?:${ry.join(&amp;quot;|&amp;quot;)}))`,&amp;quot;i&amp;quot;),iy=&amp;quot;Sorry, only TTF, OTF and WOFF files are supported.&amp;quot;,xE=[&amp;quot;weight&amp;quot;,&amp;quot;stretch&amp;quot;,&amp;quot;style&amp;quot;],oa=class{constructor(t,r,n,s,a){if(!(r instanceof FontFace))throw Error(&amp;quot;FontFace is required&amp;quot;);this._pInst=t,this.name=n,this.path=s,this.data=a,this.face=r}static hasGlyphData(t){let{font:r}=t;return typeof r==&amp;quot;object&amp;quot;&amp;amp;&amp;amp;typeof r.data&amp;lt;&amp;quot;u&amp;quot;}fontBounds(t,r,n,s,a,o){({width:s,height:a,options:o}=this._parseArgs(s,a,o));let u=o?.graphics?._renderer||this._pInst._renderer;if(!u)throw Error(&amp;quot;p5 or graphics required for fontBounds()&amp;quot;);return u.fontBounds(t,r,n,s,a)}textBounds(t,r,n,s,a,o){({width:s,height:a,options:o}=this._parseArgs(s,a,o));let u=o?.graphics?._renderer||this._pInst._renderer;if(!u)throw Error(&amp;quot;p5 or graphics required for fontBounds()&amp;quot;);return u.textBounds(t,r,n,s,a)}textToPaths(t,r,n,s,a,o){if({width:s,height:a,options:o}=this._parseArgs(s,a,o),!this.data)throw Error(&amp;#39;No font data available for &amp;quot;&amp;#39;+this.name+`&amp;quot;
<a href="#l2328" class="line" id="l2328">   2328</a> &lt;a href=&quot;#l2309&quot; class=&quot;line&quot; id=&quot;l2309&quot;&gt;   2309&lt;/a&gt; Try downloading a local copy of the font file`);return this._lineateAndPathify(t,r,n,s,a,o).map(l=&amp;gt;l.glyphs).flat().map(l=&amp;gt;l.path.commands).flat()}textToPoints(t,r,n,s,a,o){return this.textToContours(t,r,n,s,a,o).reduce((h,l)=&amp;gt;(h.push(...l),h),[])}textToContours(t,r=0,n=0,s,a,o){({width:s,height:a,options:o}=this._parseArgs(s,a,o));let u=this.textToPaths(t,r,n,s,a,o),h=[];for(let l of u)l[0]===&amp;quot;M&amp;quot;&amp;amp;&amp;amp;h.push([]),h[h.length-1].push(l);return h.map(l=&amp;gt;wE(l,o,this))}textToModel(t,r,n,s,a,o){({width:s,height:a,options:o}=this._parseArgs(s,a,o));let u=o?.extrude||0,h=this.textToContours(t,r,n,s,a,o),l=this._pInst.buildGeometry(()=&amp;gt;{if(u===0){this._pInst.beginShape(),this._pInst.normal(0,0,1);for(let c of h){this._pInst.beginContour();for(let{x:p,y:f}of c)this._pInst.vertex(p,f);this._pInst.endContour(this._pInst.CLOSE)}this._pInst.endShape()}else{for(let c of[1,-1]){this._pInst.beginShape();for(let p of h){this._pInst.beginContour();for(let{x:f,y:d}of p)this._pInst.vertex(f,d,c*u*.5);this._pInst.endContour(this._pInst.CLOSE)}this._pInst.endShape(),this._pInst.beginShape()}for(let c of h){this._pInst.beginShape(this._pInst.QUAD_STRIP);for(let p of c)for(let f of[-1,1])this._pInst.vertex(p.x,p.y,f*u*.5);this._pInst.endShape()}}});if(u!==0){l.computeNormals();for(let c of l.faces)if(c.every(p=&amp;gt;l.vertices[p].z&amp;lt;=-u*.5+.1)){for(let p of c)l.vertexNormals[p].set(0,0,-1);c.reverse()}}return l}variations(){let t={};if(this.data){let r=this.face?.axes;r&amp;amp;&amp;amp;r.forEach(n=&amp;gt;{t[n.tag]=n.value})}return xE.forEach(r=&amp;gt;{let n=this.face[r];n!==&amp;quot;normal&amp;quot;&amp;amp;&amp;amp;(t[r]=t[r]||n)}),t}metadata(){let t=this.data?.name||{};for(let r in this.face)/^load/.test(r)||(t[r]=t[r]||this.face[r]);return t}static async list(t=!1){if(t){console.log(&amp;quot;There are&amp;quot;,document.fonts.size,`font-faces
<a href="#l2329" class="line" id="l2329">   2329</a> &lt;a href=&quot;#l2310&quot; class=&quot;line&quot; id=&quot;l2310&quot;&gt;   2310&lt;/a&gt; `);let r=0;for(let n of document.fonts.values()){console.log(&amp;quot;FontFace: {&amp;quot;);for(let s in n)console.log(&amp;quot;  &amp;quot;+s+&amp;quot;: &amp;quot;+n[s]);console.log(`}
<a href="#l2330" class="line" id="l2330">   2330</a> &lt;a href=&quot;#l2311&quot; class=&quot;line&quot; id=&quot;l2311&quot;&gt;   2311&lt;/a&gt; `),n.status===&amp;quot;loaded&amp;quot;&amp;amp;&amp;amp;r++}console.log(r+&amp;quot; loaded&amp;quot;)}return await Array.from(document.fonts)}_verticalAlign(t){let{sCapHeight:r}=this.data?.[&amp;quot;OS/2&amp;quot;]||{},{unitsPerEm:n=1e3}=this.data?.head||{},{ascender:s=0,descender:a=0}=this.data?.hhea||{},o=s/2;return((r||s+a)/2-o)*t/n}_lineateAndPathify(t,r,n,s,a,o={}){let u=o?.graphics?._renderer||this._pInst._renderer,h=u.drawingContext.textBaseline,{lines:l,bounds:c}=u._computeBounds(qt._FONT_BOUNDS,t,r,n,s,a,{ignoreRectMode:!0,...o});l=this._position(u,l,c,s,a);let p=this.data?.head?.unitsPerEm||1e3,f=u.states.textSize/p,d=this._currentAxes(u),m=l.map(g=&amp;gt;this._lineToGlyphs(g,{scale:f,axs:d}));return u.drawingContext.textBaseline=h,m}_currentAxes(t){let r;return(this.data?.fvar?.length??0)&amp;gt;0&amp;amp;&amp;amp;(r=this.data.fvar[0].map(([s,a,o,u,h,l])=&amp;gt;{if(!t)return o;if(s===&amp;quot;wght&amp;quot;)return t.states.fontWeight;if(s===&amp;quot;wdth&amp;quot;)return 100;if(t.textCanvas().style.fontVariationSettings){let c=new RegExp(`\\b${s}s+(d+)`).exec(t.textCanvas().style.fontVariationSettings);return c?parseInt(c[1]):o}else return o})),r}_textToPathPoints(t,r,n,s,a,o){({width:s,height:a,options:o}=this._parseArgs(s,a,o));let u=this.textToPaths(t,r,n,s,a,o),h=(f,d,m,g)=&amp;gt;{if(fn.dist(d.x,d.y,m.x,m.y)&amp;gt;g){let v={x:(d.x+m.x)/2,y:(d.y+m.y)/2};f.push(v),h(f,d,v,g),h(f,v,m,g)}},l=[],{textSize:c}=this._pInst._renderer.states,p=c/this.data.head.unitsPerEm*500;for(let f=0;f&amp;lt;u.length;f++){let{type:d,data:m}=u[f];if(d!==&amp;quot;Z&amp;quot;){let g={x:m[m.length-2],y:m[m.length-1]};d===&amp;quot;L&amp;quot;&amp;amp;&amp;amp;l.length&amp;amp;&amp;amp;!o?.nodivide&amp;gt;0&amp;amp;&amp;amp;h(l,l[l.length-1],g,p),l.push(g)}}return l}_parseArgs(t,r,n={}){return typeof t==&amp;quot;object&amp;quot;?(n=t,t=r=void 0):typeof r==&amp;quot;object&amp;quot;&amp;amp;&amp;amp;(n=r,r=void 0),{width:t,height:r,options:n}}_position(t,r,n,s,a){let{textAlign:o,textLeading:u}=t.states,l=this._measureTextDefault(t,&amp;quot;X&amp;quot;).fontBoundingBoxAscent,c=(p,f)=&amp;gt;{let d=n.x,m=n.y+f*u+l,g=t._fontWidthSingle(p);if(o===Et?d+=(n.w-g)/2:o===Kn&amp;amp;&amp;amp;(d+=n.w-g),typeof s&amp;lt;&amp;quot;u&amp;quot;)switch(t.states.rectMode){case Et:d-=s/2,m-=a/2;break;case Gi:d-=s,m-=a;break}return{text:p,x:d,y:m}};return r.map(c)}_lineToGlyphs(t,{scale:r=1,axs:n}={}){if(!this.data)throw Error(&amp;#39;No font data available for &amp;quot;&amp;#39;+this.name+`&amp;quot;
<a href="#l2331" class="line" id="l2331">   2331</a> &lt;a href=&quot;#l2312&quot; class=&quot;line&quot; id=&quot;l2312&quot;&gt;   2312&lt;/a&gt; Try downloading a local copy of the font file`);let s=oe.U.shape(this.data,t.text,{axs:n});return t.glyphShapes=s,t.glyphs=this._shapeToPaths(s,t,{scale:r,axs:n}),t}_positionGlyphs(t,r){let n=r?.graphics?._renderer||this._pInst._renderer,s=this._currentAxes(n),a=oe.U.shape(this.data,t,{axs:s}),o=[],u=0;for(let h of a)o.push({x:u,index:h.g,shape:h}),u+=h.ax;return o}_singleShapeToPath(t,{scale:r=1,x:n=0,y:s=0,lineX:a=0,lineY:o=0,axs:u}={}){let h=this.data,l=0,{g:c,ax:p,ay:f,dx:d,dy:m}=t,{crds:g,cmds:v}=oe.U.glyphToPath(h,c,!0,u),w={path:{commands:[]}};for(let y=0;y&amp;lt;v.length;y++){let S=v[y],_=[S];if(S in ey){let b=ey[S];for(let I=0;I&amp;lt;b;I+=2){let E=g[I+l]+n+d,A=g[I+l+1]+s+m,C=a+E*r,T=o+A*-r;_.push(C),_.push(T)}l+=b}w.path.commands.push(_)}return{glyph:w,ax:p,ay:f}}_shapeToPaths(t,r,{scale:n=1,axs:s}={}){let a=0,o=0,u=[];if(t.length!==r.text.length)throw Error(&amp;quot;Invalid shape data&amp;quot;);for(let h=0;h&amp;lt;t.length;h++){let{glyph:l,ax:c,ay:p}=this._singleShapeToPath(t[h],{scale:n,x:a,y:o,lineX:r.x,lineY:r.y,axs:s});u.push(l),a+=c,o+=p}return u}_measureTextDefault(t,r){let{textAlign:n,textBaseline:s}=t.states,a=t.textDrawingContext();a.textAlign=&amp;quot;left&amp;quot;,a.textBaseline=&amp;quot;alphabetic&amp;quot;;let o=a.measureText(r);return a.textAlign=n,a.textBaseline=s,o}drawPaths(t,r,n){t.strokeStyle=n?.stroke||t.strokeStyle,t.fillStyle=n?.fill||t.fillStyle,t.beginPath(),r.forEach(([s,...a])=&amp;gt;{s===&amp;quot;M&amp;quot;?t.moveTo(...a):s===&amp;quot;L&amp;quot;?t.lineTo(...a):s===&amp;quot;C&amp;quot;?t.bezierCurveTo(...a):s===&amp;quot;Q&amp;quot;?t.quadraticCurveTo(...a):s===&amp;quot;Z&amp;quot;&amp;amp;&amp;amp;t.closePath()}),n?.fill&amp;amp;&amp;amp;t.fill(),n?.stroke&amp;amp;&amp;amp;t.stroke()}_pathsToCommands(t,r){let n=[];for(let s=0;s&amp;lt;t.length;s++){let a=t[s],{x:o,y:u,path:h}=a,{crds:l,cmds:c}=h;for(let p=0,f=0;f&amp;lt;c.length;f++){let d=c[f],m={type:d,data:[]};if(d==&amp;quot;M&amp;quot;||d==&amp;quot;L&amp;quot;)m.data.push(o+l[p]*r,u+l[p+1]*-r),p+=2;else if(d==&amp;quot;C&amp;quot;){for(let g=0;g&amp;lt;6;g+=2)m.data.push(o+l[p+g]*r,u+l[p+g+1]*-r);p+=6}else if(d==&amp;quot;Q&amp;quot;){for(let g=0;g&amp;lt;4;g+=2)m.data.push(o+l[p+g]*r,u+l[p+g+1]*-r);p+=4}n.push(m)}}return n}};async function Zl(i,t,r,n,s){let a=bE(t,r,n,s);return a.status!==&amp;quot;loaded&amp;quot;&amp;amp;&amp;amp;await a.load(),document.fonts.add(a),new oa(i,a,t,r,s)}function bE(i,t,r,n){i.includes(&amp;quot; &amp;quot;)&amp;amp;&amp;amp;(i=&amp;quot;&amp;#39;&amp;quot;+i+&amp;quot;&amp;#39;&amp;quot;);let s=n?._compressedData??n?._data;if(!s){if(!yE.test(t))throw Error(iy);t.startsWith(&amp;quot;url(&amp;quot;)||(t=&amp;quot;url(&amp;quot;+t+&amp;quot;)&amp;quot;),s=t}if((n?.fvar?.length??0)&amp;gt;0){r=r||{};for(let[o,u,h,l,c,p]of n.fvar[0])o===&amp;quot;wght&amp;quot;?r.weight=`${u} ${l}`:o===&amp;quot;wdth&amp;quot;&amp;amp;&amp;amp;(r.stretch=`${u}% ${l}%`)}let a=new FontFace(i,s,r);if(a.status===&amp;quot;error&amp;quot;)throw Error(&amp;#39;Failed to create FontFace for &amp;quot;&amp;#39;+i+&amp;#39;&amp;quot;&amp;#39;);return a}function _E(i,t){let r,n=i?.name;if(n){if(n.fullName)return n.fullName;n.familyName&amp;amp;&amp;amp;(r=n.familyName)}if(!r){let s=vE.exec(t);s&amp;amp;&amp;amp;s.length&amp;gt;=3?r=s[1]:r=t}return r.includes(&amp;quot; &amp;quot;)&amp;amp;&amp;amp;(r=r.replace(/ /g,&amp;quot;_&amp;quot;)),r}function wE(i,t,r){let n=(f,d)=&amp;gt;{if(typeof f!=&amp;quot;object&amp;quot;)f=d;else for(let m in d)typeof f[m]&amp;gt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;(f[m]=d[m]);return f},s=(f,d)=&amp;gt;{let m=f.length;return f[d&amp;lt;0?d%m+m:d%m]},a=(f,d)=&amp;gt;{d=d||0;let m=0;for(let g=f.length-1;f.length&amp;gt;3&amp;amp;&amp;amp;g&amp;gt;=0;--g)collinear(s(f,g-1),s(f,g),s(f,g+1),d)&amp;amp;&amp;amp;(f.splice(g%f.length,1),m++);return m},o=(0,ty.createFromCommands)(Lp(i)),u=n(t,{sampleFactor:.1,simplifyThreshold:0}),h=Math.max(1,Math.ceil(o.getTotalLength()*u.sampleFactor)),l=[],c=r._pInst.angleMode(),p=r._pInst.DEGREES;for(let f=0;f&amp;lt;h;f++){let d=o.getTotalLength()*(h===1?0:f/(h-1));l.push({...o.getPointAtLength(d),get angle(){let m=o.getAngleAtLength(d);return c===p?m*180/Math.PI:m},get alpha(){return this.angle}})}return u.simplifyThreshold&amp;amp;&amp;amp;a(l,u.simplifyThreshold),l}function CE(i){return(i.startsWith(&amp;#39;&amp;quot;&amp;#39;)||i.startsWith(&amp;quot;&amp;#39;&amp;quot;))&amp;amp;&amp;amp;i.at(0)===i.at(-1)?i.slice(1,-1).replace(/\/([&amp;#39;&amp;quot;])/g,&amp;quot;$1&amp;quot;):i}function EE(...i){let t=i.shift();(typeof t!=&amp;quot;string&amp;quot;||t.length===0)&amp;amp;&amp;amp;p5._friendlyError(iy,&amp;quot;p5.loadFont&amp;quot;);let r;typeof i[0]==&amp;quot;string&amp;quot;&amp;amp;&amp;amp;(r=i.shift());let n,s,a;for(let o=0;o&amp;lt;i.length;o++){let u=i[o];typeof u==&amp;quot;function&amp;quot;?n?s=u:n=u:typeof u==&amp;quot;object&amp;quot;&amp;amp;&amp;amp;(a=u)}return{path:t,name:r,success:n,error:s,options:a}}function Mp(i,t){i.Font=oa,t.parseFontData=async function(r){let n=r instanceof Uint8Array?r:await t.loadBytes(r);if(!n)throw Error(&amp;quot;Failed to load font data&amp;quot;);let s=oe.parse(n);if(s.length===0||s[0].cmap===void 0)throw Error(&amp;quot;parsing font data&amp;quot;);return s[0]},t.loadFont=async function(...r){let{path:n,name:s,success:a,error:o,options:{sets:u,...h}={}}=EE(...r),l=n.includes(&amp;quot;@font-face&amp;quot;);if(l||(await fetch(n,{method:&amp;quot;HEAD&amp;quot;})).headers.get(&amp;quot;content-type&amp;quot;)?.startsWith(&amp;quot;text/css&amp;quot;)&amp;amp;&amp;amp;(l=!0,n=await fetch(n).then(d=&amp;gt;d.text())),l){let p=new CSSStyleSheet;await p.replace(n);let f=[];for(let _ of p.cssRules)if(_ instanceof CSSFontFaceRule){let b=_.style,I=CE(b.getPropertyValue(&amp;quot;font-family&amp;quot;)),E=b.getPropertyValue(&amp;quot;src&amp;quot;),A={...h||{}};for(let C of b){if(C===&amp;quot;font-family&amp;quot;||C===&amp;quot;src&amp;quot;)continue;let T=C.replace(/^font-/,&amp;quot;&amp;quot;).split(&amp;quot;-&amp;quot;).map((D,F)=&amp;gt;F===0?D:`${D[0].toUpperCase()}${D.slice(1)}`).join(&amp;quot;&amp;quot;);A[T]=b.getPropertyValue(C)}f.push({name:I,src:E,fontDescriptors:A,loadWithData:async()=&amp;gt;{let C;try{let T=/url\(([^\)]+)\)/.exec(E);if(T){let D=T[1];/^[&amp;#39;&amp;quot;]/.exec(D)&amp;amp;&amp;amp;D.at(0)===D.at(-1)&amp;amp;&amp;amp;(D=D.slice(1,-1)),C=await t.parseFontData(D)}}catch{}return Zl(this,I,E,A,C)},loadWithoutData:()=&amp;gt;Zl(this,I,E,A)})}u=u||[&amp;quot;latin&amp;quot;];let d=(u instanceof Array?u:[u]).map(_=&amp;gt;_.toLowerCase()),m=kg.filter(_=&amp;gt;d.some(b=&amp;gt;_.category.includes(b)&amp;amp;&amp;amp;_.category.includes(&amp;quot;ext&amp;quot;)===b.includes(&amp;quot;ext&amp;quot;))),g=new Set(kp.UnicodeRange.parse(m.map(_=&amp;gt;`U+${_.hexrange[0]}-${_.hexrange[1]}`))),v=0,w=0,y;for(let _ of f){if(!_.fontDescriptors.unicodeRange)continue;let I=[...new Set(kp.UnicodeRange.parse(_.fontDescriptors.unicodeRange.split(/,\s*/g))).values()].filter(C=&amp;gt;g.has(C)).length,E={style:&amp;quot;normal&amp;quot;,weight:400,...h},A=Object.keys(_.fontDescriptors).filter(C=&amp;gt;_.fontDescriptors[C]===E[C]).length;(A&amp;gt;w||A===w&amp;amp;&amp;amp;I&amp;gt;=v)&amp;amp;&amp;amp;(w=A,v=I,y=_)}let S=y||f.at(-1);for(let _ of f)_!==S&amp;amp;&amp;amp;_.loadWithoutData();return S?.loadWithData()}let c;try{let p=await t.parseFontData(n);s=s||_E(p,n),c=await Zl(this,s,n,h,p)}catch{let f=s||n.substring(n.lastIndexOf(&amp;quot;/&amp;quot;)+1).replace(/\.[^/.]+$/,&amp;quot;&amp;quot;);console.warn(`WARN: No glyph data for &amp;#39;${f}&amp;#39;, retrying as FontFace`);try{c=await Zl(this,f,n,h)}catch(d){if(o)return o(d);throw d}}return a?a(c):c}}var Lp=i=&amp;gt;i.map(t=&amp;gt;{let r=t[0];switch(r){case&amp;quot;Z&amp;quot;:return{type:r};case&amp;quot;M&amp;quot;:case&amp;quot;L&amp;quot;:{let[,n,s]=t;return{type:r,x:n,y:s}}case&amp;quot;Q&amp;quot;:{let[,n,s,a,o]=t;return{type:r,x1:n,y1:s,x:a,y:o}}case&amp;quot;C&amp;quot;:{let[,n,s,a,o,u,h]=t;return{type:r,x1:n,y1:s,x2:a,y2:o,x:u,y:h}}default:throw new Error(`Unexpected path command: ${r}`)}});typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;Mp(p5,p5.prototype);var PP=Se(Bt());var HP=Se(or());var qP=Se(ur());var nO=Se(lr());var lO=Se(Xs());var pO=Se(aa());function ny(i,t){Le.prototype.maxCachedGlyphs=function(){return 200},oa.prototype._getFontInfo=function(m){this._fontInfos=this._fontInfos||{};let g=JSON.stringify(m);if(this._fontInfos[g])return this._fontInfos[g];{let v=new d(this,{axs:m});return this._fontInfos[g]=v,v}};let r=9,n=r,s=64,a=64,o=64,u=64,h=64,l=64;class c{constructor(g,v){this.width=g,this.height=v,this.infos=[]}findImage(g){let v=this.width*this.height;if(g&amp;gt;v)throw new Error(&amp;quot;font is too complex to render in 3D&amp;quot;);let w,y;for(let _=this.infos.length-1;_&amp;gt;=0;--_){let b=this.infos[_];if(b.index+g&amp;lt;v){w=b,y=b.imageData;break}}if(!w){try{y=new ImageData(this.width,this.height)}catch{let b=document.getElementsByTagName(&amp;quot;canvas&amp;quot;)[0],I=!b;b||(b=document.createElement(&amp;quot;canvas&amp;quot;),b.style.display=&amp;quot;none&amp;quot;,document.body.appendChild(b));let E=b.getContext(&amp;quot;2d&amp;quot;);E&amp;amp;&amp;amp;(y=E.createImageData(this.width,this.height)),I&amp;amp;&amp;amp;document.body.removeChild(b)}w={index:0,imageData:y},this.infos.push(w)}let S=w.index;return w.index+=g,y._dirty=!0,{imageData:y,index:S}}}function p(m,g,v,w,y){let _=m.imageData.data,b=m.index++*4;_[b++]=g,_[b++]=v,_[b++]=w,_[b++]=y}let f=Math.sqrt(3);class d{constructor(g,{axs:v}={}){this.font=g,this.axs=v,this.strokeImageInfos=new c(s,a),this.colDimImageInfos=new c(o,u),this.rowDimImageInfos=new c(o,u),this.colCellImageInfos=new c(h,l),this.rowCellImageInfos=new c(h,l),this.glyphInfos={}}getGlyphInfo(g){let v=this.glyphInfos[g.index];if(v)return v;let w=this.axs,{glyph:{path:{commands:y}}}=this.font._singleShapeToPath(g.shape,{axs:w}),S=1/0,_=-1/0,b=1/0,I=-1/0;for(let ie of y)for(let ee=1;ee&amp;lt;ie.length;ee+=2)S=Math.min(S,ie[ee]),_=Math.max(_,ie[ee]),b=Math.min(b,ie[ee+1]),I=Math.max(I,ie[ee+1]);if(S&amp;gt;=_||b&amp;gt;=I||!y.length)return this.glyphInfos[g.index]={};let E=_-S,A=I-b,C=Lp(y),T,D=[],F=[],N=[];for(T=r-1;T&amp;gt;=0;--T)N.push([]);for(T=n-1;T&amp;gt;=0;--T)F.push([]);function B(ie,ee,se){let ce=D.length;D.push(se);function ue(ve,ge,Te){for(let xe=ve.length;xe-- &amp;gt;0;){let Ie=ve[xe];ge&amp;gt;Ie&amp;amp;&amp;amp;(ge=Ie),Te&amp;lt;Ie&amp;amp;&amp;amp;(Te=Ie)}return{min:ge,max:Te}}let pe=.5,O=ue(ie,1,0),P=Math.max(Math.floor(O.min*r-pe),0),z=Math.min(Math.ceil(O.max*r+pe),r);for(let ve=P;ve&amp;lt;z;++ve)N[ve].push(ce);let $=ue(ee,1,0),ne=Math.max(Math.floor($.min*n-pe),0),K=Math.min(Math.ceil($.max*n+pe),n);for(let ve=ne;ve&amp;lt;K;++ve)F[ve].push(ce)}function U(ie,ee,se){return ie&amp;lt;ee?ee:ie&amp;gt;se?se:ie}function j(ie){return U(255*ie,0,255)}class W{constructor(ee,se,ce,ue){this.p0=ee,this.c0=se,this.c1=ce,this.p1=ue}toQuadratic(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:((this.c0.x+this.c1.x)*3-(this.p0.x+this.p1.x))/4,cy:((this.c0.y+this.c1.y)*3-(this.p0.y+this.p1.y))/4}}quadError(){return H.sub(H.sub(this.p1,this.p0),H.mult(H.sub(this.c1,this.c0),3)).mag()/2}split(ee){let se=H.lerp(this.p0,this.c0,ee),ce=H.lerp(this.c0,this.c1,ee),ue=H.lerp(se,ce,ee);this.c1=H.lerp(this.c1,this.p1,ee),this.c0=H.lerp(ce,this.c1,ee);let pe=H.lerp(ue,this.c0,ee),O=new W(this.p0,se,ue,pe);return this.p0=pe,O}splitInflections(){let ee=H.sub(this.c0,this.p0),se=H.sub(H.sub(this.c1,this.c0),ee),ce=H.sub(H.sub(H.sub(this.p1,this.c1),ee),H.mult(se,2)),ue=[],pe=se.x*ce.y-se.y*ce.x;if(pe!==0){let O=ee.x*ce.y-ee.y*ce.x,P=ee.x*se.y-ee.y*se.x,z=O*O-4*pe*P;if(z&amp;gt;=0){pe&amp;lt;0&amp;amp;&amp;amp;(pe=-pe,O=-O,P=-P);let $=Math.sqrt(z),ne=(-O-$)/(2*pe),K=(-O+$)/(2*pe);ne&amp;gt;0&amp;amp;&amp;amp;ne&amp;lt;1&amp;amp;&amp;amp;(ue.push(this.split(ne)),K=1-(1-K)/(1-ne)),K&amp;gt;0&amp;amp;&amp;amp;K&amp;lt;1&amp;amp;&amp;amp;ue.push(this.split(K))}}return ue.push(this),ue}}function te(ie,ee,se,ce,ue,pe,O,P){let z=new W(new H(ie,ee),new H(se,ce),new H(ue,pe),new H(O,P)).splitInflections(),$=[],ne=30/f;for(let K of z){let ve=[],ge;for(;ge=ne/K.quadError(),!(ge&amp;gt;=.5*.5*.5);){let Te=Math.pow(ge,1/3),xe=K.split(Te),Ie=K.split(1-Te/(1-Te));$.push(xe),ve.push(K),K=Ie}ge&amp;lt;1&amp;amp;&amp;amp;$.push(K.split(.5)),$.push(K),Array.prototype.push.apply($,ve.reverse())}return $}function X(ie,ee,se,ce){let ue=(ie+se)/2,pe=(ee+ce)/2;B([ie,se],[ee,ce],{x:ie,y:ee,cx:ue,cy:pe})}function Z(ie,ee,se,ce){return Math.abs(se-ie)&amp;lt;1e-5&amp;amp;&amp;amp;Math.abs(ce-ee)&amp;lt;1e-5}let G,q,J,Y;for(let ie of C){let ee=(ie.x-S)/E,se=(ie.y-b)/A;if(!Z(G,q,ee,se)){switch(ie.type){case&amp;quot;M&amp;quot;:{J=ee,Y=se;break}case&amp;quot;L&amp;quot;:{X(G,q,ee,se);break}case&amp;quot;Q&amp;quot;:{let ce=(ie.x1-S)/E,ue=(ie.y1-b)/A;B([G,ee,ce],[q,se,ue],{x:G,y:q,cx:ce,cy:ue});break}case&amp;quot;Z&amp;quot;:{Z(G,q,J,Y)?D.push({x:G,y:q}):(X(G,q,J,Y),D.push({x:J,y:Y}));break}case&amp;quot;C&amp;quot;:{let ce=(ie.x1-S)/E,ue=(ie.y1-b)/A,pe=(ie.x2-S)/E,O=(ie.y2-b)/A,P=te(G,q,ce,ue,pe,O,ee,se);for(let z=0;z&amp;lt;P.length;z++){let $=P[z].toQuadratic();B([$.x,$.x1,$.cx],[$.y,$.y1,$.cy],$)}break}default:throw new Error(`unknown command type: ${ie.type}`)}G=ee,q=se}}let Q=D.length,fe=this.strokeImageInfos.findImage(Q),de=fe.index;for(let ie=0;ie&amp;lt;Q;++ie){let ee=D[ie];p(fe,j(ee.x),j(ee.y),j(ee.cx),j(ee.cy))}function me(ie,ee,se){let ce=ie.length,ue=ee.findImage(ce),pe=ue.index,O=0;for(let z=0;z&amp;lt;ce;++z)O+=ie[z].length;let P=se.findImage(O);for(let z=0;z&amp;lt;ce;++z){let $=ie[z],ne=$.length,K=P.index;p(ue,K&amp;gt;&amp;gt;7,K&amp;amp;127,ne&amp;gt;&amp;gt;7,ne&amp;amp;127);for(let ve=0;ve&amp;lt;ne;++ve){let ge=$[ve]+de;p(P,ge&amp;gt;&amp;gt;7,ge&amp;amp;127,0,0)}}return{cellImageInfo:P,dimOffset:pe,dimImageInfo:ue}}return v=this.glyphInfos[g.index]={glyph:g,uGlyphRect:[S,b,_,I],strokeImageInfo:fe,strokes:D,colInfo:me(N,this.colDimImageInfos,this.colCellImageInfos),rowInfo:me(F,this.rowDimImageInfos,this.rowCellImageInfos)},v.uGridOffset=[v.colInfo.dimOffset,v.rowInfo.dimOffset],v}}Le.prototype._renderText=function(m,g,v,w,y){if(!this.states.textFont||typeof this.states.textFont==&amp;quot;string&amp;quot;){console.log(&amp;quot;WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.&amp;quot;);return}if(v&amp;gt;=w||!this.states.fillColor)return;if(!i.Font.hasGlyphData(this.states.textFont)){console.log(&amp;quot;WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts with glyph data are supported&amp;quot;);return}this.push();let S=this.states.strokeColor,_=this.states.drawMode;this.states.setValue(&amp;quot;strokeColor&amp;quot;,null),this.states.setValue(&amp;quot;drawMode&amp;quot;,os);let{font:b}=this.states.textFont;if(!b)throw new Error(&amp;quot;In WebGL mode, textFont() needs to be given the result of loadFont() instead of a font family name.&amp;quot;);let I=b._currentAxes(this),E=b._getFontInfo(I),A={x:g,y:v},T=this.states.textSize/(b.data?.head?.unitsPerEm||1e3);this.translate(A.x,A.y,0),this.scale(T,T,1);let D=this.GL,F=!this._defaultFontShader,N=this._getFontShader();N.init(),N.bindShader(),F&amp;amp;&amp;amp;(N.setUniform(&amp;quot;uGridImageSize&amp;quot;,[o,u]),N.setUniform(&amp;quot;uCellsImageSize&amp;quot;,[h,l]),N.setUniform(&amp;quot;uStrokeImageSize&amp;quot;,[s,a]),N.setUniform(&amp;quot;uGridSize&amp;quot;,[r,n]));let B=this.states.fillSet?this.states.curFillColor:[0,0,0,255];this._setGlobalUniforms(N),this._applyColorBlend(B);let U=this.geometryBufferCache.getGeometryByID(&amp;quot;glyph&amp;quot;);U||(U=this._textGeom=new dt(1,1,function(){for(let j=0;j&amp;lt;=1;j++)for(let W=0;W&amp;lt;=1;W++)this.vertices.push(new H(W,j,0)),this.uvs.push(W,j)},this),U.gid=&amp;quot;glyph&amp;quot;,U.computeFaces().computeNormals(),this.geometryBufferCache.ensureCached(U));for(let j of this.buffers.text)j._prepareBuffer(U,N);this._bindBuffer(this.geometryBufferCache.cache.glyph.indexBuffer,D.ELEMENT_ARRAY_BUFFER),N.setUniform(&amp;quot;uMaterialColor&amp;quot;,B),D.pixelStorei(D.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),this.glyphDataCache=this.glyphDataCache||new Set;try{let j=b._positionGlyphs(m);for(let W of j){let te=E.getGlyphInfo(W);if(te.uGlyphRect){let X=te.rowInfo,Z=te.colInfo,G=[te.strokeImageInfo.imageData,X.cellImageInfo.imageData,X.dimImageInfo.imageData,Z.cellImageInfo.imageData,Z.dimImageInfo.imageData];for(let q of G)this.glyphDataCache.delete(q),this.glyphDataCache.add(q);for(;this.glyphDataCache.size&amp;gt;this.maxCachedGlyphs();){let q=this.glyphDataCache.values().next().value;this.glyphDataCache.delete(q);let J=this.textures.get(q);J&amp;amp;&amp;amp;(J.remove(),this.textures.delete(q))}N.setUniform(&amp;quot;uSamplerStrokes&amp;quot;,te.strokeImageInfo.imageData),N.setUniform(&amp;quot;uSamplerRowStrokes&amp;quot;,X.cellImageInfo.imageData),N.setUniform(&amp;quot;uSamplerRows&amp;quot;,X.dimImageInfo.imageData),N.setUniform(&amp;quot;uSamplerColStrokes&amp;quot;,Z.cellImageInfo.imageData),N.setUniform(&amp;quot;uSamplerCols&amp;quot;,Z.dimImageInfo.imageData),N.setUniform(&amp;quot;uGridOffset&amp;quot;,te.uGridOffset),N.setUniform(&amp;quot;uGlyphRect&amp;quot;,te.uGlyphRect),N.setUniform(&amp;quot;uGlyphOffset&amp;quot;,W.x),N.bindTextures(),D.drawElements(D.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)}}}finally{N.unbindShader(),this.states.setValue(&amp;quot;strokeColor&amp;quot;,S),this.states.setValue(&amp;quot;drawMode&amp;quot;,_),D.pixelStorei(D.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this.pop()}}}var Oy=Se(th());function Yp(i,t){let r,n,s=i.Shader.prototype.modify;i.Shader.prototype.modify=function(O,P={parser:!0,srcLocations:!1}){if(O instanceof Function){let z;if(P.parser){let K=O.toString(),ve=Ll(K,{ecmaVersion:2021,locations:P.srcLocations});Cg(ve,u,void 0,{varyings:{}});let ge=Oy.default.generate(ve);z=new Function(ge.slice(ge.indexOf(&amp;quot;{&amp;quot;)+1,ge.lastIndexOf(&amp;quot;}&amp;quot;)).replaceAll(&amp;quot;;&amp;quot;,&amp;quot;&amp;quot;))}else z=O;let ne=new J(z,this,P.srcLocations).generate();return s.call(this,ne)}else return s.call(this,O)};function a(O){switch(O){case&amp;quot;+&amp;quot;:return&amp;quot;add&amp;quot;;case&amp;quot;-&amp;quot;:return&amp;quot;sub&amp;quot;;case&amp;quot;*&amp;quot;:return&amp;quot;mult&amp;quot;;case&amp;quot;/&amp;quot;:return&amp;quot;div&amp;quot;;case&amp;quot;%&amp;quot;:return&amp;quot;mod&amp;quot;;case&amp;quot;==&amp;quot;:case&amp;quot;===&amp;quot;:return&amp;quot;equalTo&amp;quot;;case&amp;quot;&amp;gt;&amp;quot;:return&amp;quot;greaterThan&amp;quot;;case&amp;quot;&amp;gt;=&amp;quot;:return&amp;quot;greaterThanEqualTo&amp;quot;;case&amp;quot;&amp;lt;&amp;quot;:return&amp;quot;lessThan&amp;quot;;case&amp;quot;&amp;amp;&amp;amp;&amp;quot;:return&amp;quot;and&amp;quot;;case&amp;quot;||&amp;quot;:return&amp;quot;or&amp;quot;}}function o(O){return O.type===&amp;quot;CallExpression&amp;quot;&amp;amp;&amp;amp;O.callee?.type===&amp;quot;Identifier&amp;quot;&amp;amp;&amp;amp;O.callee?.name.startsWith(&amp;quot;uniform&amp;quot;)}let u={UnaryExpression(O,P,z){if(z.some(o))return;let $={type:&amp;quot;Literal&amp;quot;,value:O.operator},ne=K=&amp;gt;{K.type=&amp;quot;CallExpression&amp;quot;,K.callee={type:&amp;quot;Identifier&amp;quot;,name:&amp;quot;unaryNode&amp;quot;},K.arguments=[K.argument,$]};if(O.type===&amp;quot;MemberExpression&amp;quot;){let K=O.argument.property.name;[[&amp;quot;x&amp;quot;,&amp;quot;y&amp;quot;,&amp;quot;z&amp;quot;,&amp;quot;w&amp;quot;],[&amp;quot;r&amp;quot;,&amp;quot;g&amp;quot;,&amp;quot;b&amp;quot;,&amp;quot;a&amp;quot;],[&amp;quot;s&amp;quot;,&amp;quot;t&amp;quot;,&amp;quot;p&amp;quot;,&amp;quot;q&amp;quot;]].some(Te=&amp;gt;[...K].every(xe=&amp;gt;Te.includes(xe)))&amp;amp;&amp;amp;O.argument.type===&amp;quot;MemberExpression&amp;quot;?(O.type=&amp;quot;MemberExpression&amp;quot;,O.object={type:&amp;quot;CallExpression&amp;quot;,callee:{type:&amp;quot;Identifier&amp;quot;,name:&amp;quot;unaryNode&amp;quot;},arguments:[O.argument.object,$]},O.property={type:&amp;quot;Identifier&amp;quot;,name:K}):ne(O)}else ne(O);delete O.argument,delete O.operator},VariableDeclarator(O,P,z){if(O.init.callee&amp;amp;&amp;amp;O.init.callee.name?.startsWith(&amp;quot;uniform&amp;quot;)){let $={type:&amp;quot;Literal&amp;quot;,value:O.id.name};O.init.arguments.unshift($)}if(O.init.callee&amp;amp;&amp;amp;O.init.callee.name?.startsWith(&amp;quot;varying&amp;quot;)){let $={type:&amp;quot;Literal&amp;quot;,value:O.id.name};O.init.arguments.unshift($),P.varyings[O.id.name]=$}},Identifier(O,P,z){P.varyings[O.name]&amp;amp;&amp;amp;!z.some($=&amp;gt;$.type===&amp;quot;AssignmentExpression&amp;quot;&amp;amp;&amp;amp;$.left===O)&amp;amp;&amp;amp;(O.type=&amp;quot;ExpressionStatement&amp;quot;,O.expression={type:&amp;quot;CallExpression&amp;quot;,callee:{type:&amp;quot;MemberExpression&amp;quot;,object:{type:&amp;quot;Identifier&amp;quot;,name:O.name},property:{type:&amp;quot;Identifier&amp;quot;,name:&amp;quot;getValue&amp;quot;}},arguments:[]})},ArrayExpression(O,P,z){let $=JSON.parse(JSON.stringify(O));O.type=&amp;quot;CallExpression&amp;quot;,O.callee={type:&amp;quot;Identifier&amp;quot;,name:&amp;quot;dynamicNode&amp;quot;},O.arguments=[$]},AssignmentExpression(O,P,z){if(O.operator!==&amp;quot;=&amp;quot;){let $=a(O.operator.replace(&amp;quot;=&amp;quot;,&amp;quot;&amp;quot;)),ne={type:&amp;quot;CallExpression&amp;quot;,callee:{type:&amp;quot;MemberExpression&amp;quot;,object:O.left,property:{type:&amp;quot;Identifier&amp;quot;,name:$}},arguments:[O.right]};O.operator=&amp;quot;=&amp;quot;,O.right=ne}P.varyings[O.left.name]&amp;amp;&amp;amp;(O.type=&amp;quot;ExpressionStatement&amp;quot;,O.expression={type:&amp;quot;CallExpression&amp;quot;,callee:{type:&amp;quot;MemberExpression&amp;quot;,object:{type:&amp;quot;Identifier&amp;quot;,name:O.left.name},property:{type:&amp;quot;Identifier&amp;quot;,name:&amp;quot;bridge&amp;quot;}},arguments:[O.right]})},BinaryExpression(O,P,z){if(z.some(o))return;if([&amp;quot;Literal&amp;quot;,&amp;quot;ArrayExpression&amp;quot;,&amp;quot;Identifier&amp;quot;].includes(O.left.type)){let ne={type:&amp;quot;CallExpression&amp;quot;,callee:{type:&amp;quot;Identifier&amp;quot;,name:&amp;quot;dynamicNode&amp;quot;},arguments:[O.left]};O.left=ne}O.type=&amp;quot;CallExpression&amp;quot;,O.callee={type:&amp;quot;MemberExpression&amp;quot;,object:O.left,property:{type:&amp;quot;Identifier&amp;quot;,name:a(O.operator)}},O.arguments=[O.right]}};class h{constructor(P,z){if(new.target===h)throw new TypeError(&amp;quot;Cannot construct BaseNode instances directly. This is an abstract class.&amp;quot;);if(this.type=z,this.componentNames=[],this.componentsChanged=!1,this.isInternal=P,this.usedIn=[],this.dependsOn=[],this.srcLine=null,this.usedInConditional=!1,r.srcLocations===!0&amp;amp;&amp;amp;P===!1)try{throw new Error(&amp;quot;StackCapture&amp;quot;)}catch($){let ne=$.stack.split(`
<a href="#l2332" class="line" id="l2332">   2332</a> &lt;a href=&quot;#l2313&quot; class=&quot;line&quot; id=&quot;l2313&quot;&gt;   2313&lt;/a&gt; `),K=5;B(this)&amp;amp;&amp;amp;K--,this.srcLine=ne[K].trim()}}addVectorComponents(){if(this.type.startsWith(&amp;quot;vec&amp;quot;)){let P=parseInt(this.type.slice(3));this.componentNames=[&amp;quot;x&amp;quot;,&amp;quot;y&amp;quot;,&amp;quot;z&amp;quot;,&amp;quot;w&amp;quot;].slice(0,P);let z=this;for(let $ of this.componentNames){let ne=new m(z,$,&amp;quot;float&amp;quot;,!0);Object.defineProperty(this,$,{get(){return ne},set(K){this.componentsChanged=!0,G(this)?this.node.value=K:ne=K}})}}}forceTemporaryVariable(){(!(F(this)&amp;amp;&amp;amp;Z(this.parent))||!U(this))&amp;amp;&amp;amp;(this.useTemp=!0)}assertUsedInConditional(P){this.usedInConditional=!0,this.usedIn.push(P),this.forceTemporaryVariable()}isUsedInConditional(){return this.usedInConditional}checkConditionalDependencies(P){P.ifs.forEach(z=&amp;gt;{let $=()=&amp;gt;z.usedInSatisfied.length&amp;gt;=1,ne=()=&amp;gt;z.dependsOn.length===z.dependsOnSatisfied.length;z.insertionPoint&amp;gt;-1||!z.usedIn.length||(z.dependsOn.some(K=&amp;gt;K.node===this)&amp;amp;&amp;amp;!z.dependsOnSatisfied.includes(this)&amp;amp;&amp;amp;z.dependsOnSatisfied.push(this),z.usedIn.includes(this)&amp;amp;&amp;amp;!z.usedInSatisfied.includes(this)&amp;amp;&amp;amp;z.usedInSatisfied.push(this),ne()&amp;amp;&amp;amp;$()&amp;amp;&amp;amp;z.saveState(P,ne(),$()))})}toGLSLBase(P){let z;if(this.shouldUseTemporaryVariable()){let $=P.declarations.length;z=this.getTemporaryVariable(P);let ne=P.declarations.length-1-$;ne=ne&amp;gt;0?ne:void 0,this.dependsOn.forEach(K=&amp;gt;{if(K.isVector){let ve=K.originalComponents.map((ge,Te)=&amp;gt;ge===K.currentComponents[Te]);P.updateComponents(K.node,ne,ve)}else P.updateComponents(K.node,ne)})}else z=this.toGLSL(P);return this.checkConditionalDependencies(P),z}shouldUseTemporaryVariable(){if(this.componentsChanged||W(this)||this.useTemp)return!0;if(this.isInternal||U(this)||j(this)||this.type===&amp;quot;sampler2D&amp;quot;)return!1;let P=0;return P+=X(this)*2,P+=B(this)*2,P+=N(this)*3,P+=this.usedIn.length,P&amp;gt;=4}getTemporaryVariable(P){if(!this.temporaryVariable){this.temporaryVariable=`temp_${P.getNextID()}`;let z=&amp;quot;&amp;quot;;this.srcLine&amp;amp;&amp;amp;(z+=`
<a href="#l2333" class="line" id="l2333">   2333</a> &lt;a href=&quot;#l2314&quot; class=&quot;line&quot; id=&quot;l2314&quot;&gt;   2314&lt;/a&gt; // From ${this.srcLine}
<a href="#l2334" class="line" id="l2334">   2334</a> &lt;a href=&quot;#l2315&quot; class=&quot;line&quot; id=&quot;l2315&quot;&gt;   2315&lt;/a&gt; `),z+=&amp;quot;  &amp;quot;+this.type+&amp;quot; &amp;quot;+this.temporaryVariable+&amp;quot; = &amp;quot;+this.toGLSL(P)+&amp;quot;;&amp;quot;,P.declarations.push(z)}return this.temporaryVariable}add(P){return ee(this,this.enforceType(P),&amp;quot;+&amp;quot;)}sub(P){return ee(this,this.enforceType(P),&amp;quot;-&amp;quot;)}mult(P){return ee(this,this.enforceType(P),&amp;quot;*&amp;quot;)}div(P){return ee(this,this.enforceType(P),&amp;quot;/&amp;quot;)}mod(P){return ee(this,this.enforceType(P),&amp;quot;%&amp;quot;)}enforceType(P){if(C(P)){if(!q(P.type))throw new TypeError(`You&amp;#39;ve tried to perform an operation on a struct of type: ${P.type}. Try accessing a member on that struct with &amp;#39;.&amp;#39;`);if(!q(P.type))throw new TypeError(`You&amp;#39;ve tried to perform an operation on a struct of type: ${P.type}. Try accessing a member on that struct with &amp;#39;.&amp;#39;`);return(D(this)||N(this))&amp;amp;&amp;amp;T(P)?new c(P):P}else return typeof P==&amp;quot;number&amp;quot;?T(this)?new l(P):new c(P):Array.isArray(P)?ue.dynamicVector(P):ue[this.type](P)}toFloat(){if(D(this))return this;if(T(this))return new c(this)}toGLSL(P){throw new TypeError(&amp;quot;Not supposed to call this function on BaseNode, which is an abstract class.&amp;quot;)}}class l extends h{constructor(P=0,z=!1){super(z,&amp;quot;int&amp;quot;),this.x=P}toGLSL(P){if(C(this.x)){let z=this.x.toGLSLBase(P);return T(this.x.type)?z:`int(${z})`}else return typeof this.x==&amp;quot;number&amp;quot;?`${Math.floor(this.x)}`:`int(${this.x})`}}class c extends h{constructor(P=0,z=!1,$=!1){if(super(z,&amp;quot;float&amp;quot;),Array.isArray(P)&amp;amp;&amp;amp;(P=P[0]),$){let{parent:ne,name:K}=$;this.name=K,this.parent=ne}this.x=P}toGLSL(P){if(C(this.x)){let z=this.x.toGLSLBase(P);return D(this.x)?z:`float(${z})`}else return typeof this.x==&amp;quot;number&amp;quot;?`${this.x.toFixed(4)}`:`float(${this.x})`}}class p extends h{constructor(P,z,$=!1){super($,z),this.originalValues=fe(P,parseInt(z.slice(3))),this.componentNames=[&amp;quot;x&amp;quot;,&amp;quot;y&amp;quot;,&amp;quot;z&amp;quot;,&amp;quot;w&amp;quot;].slice(0,this.originalValues.length)}addVectorComponents(){let P=this.originalValues;this.componentsChanged=!1,this.componentNames.forEach((z,$)=&amp;gt;{let ne={name:z,parent:this},K=F(P[$])?P[$]:new c(P[$],!0,ne);Object.defineProperty(this,z,{get(){return K},set(ve){this.componentsChanged=!0,G(this)?this.node.value=ve:K=F(ve)?ve:new c(ve,!0,ne)}})}),this.originalValues=this.componentNames.map(z=&amp;gt;this[z])}toGLSL(P){if((!this.componentsChanged||!this.defined)&amp;amp;&amp;amp;!this.oldName){let z=this.componentNames.map(($,ne)=&amp;gt;this.originalValues[ne].toGLSLBase(P)).join(&amp;quot;, &amp;quot;);return this.defined=!0,`${this.type}(${z})`}else return this.temporaryVariable}}class f extends h{constructor(P,z,$,ne=!1){let K,ve=ge=&amp;gt;{let Te,xe=0,Ie=z.every((Ce,Ge)=&amp;gt;{let Me=E(Ce),nt=ge.args[Ge];return nt===&amp;quot;genType&amp;quot;&amp;amp;&amp;amp;((Te===void 0||Te===&amp;quot;float&amp;quot;&amp;amp;&amp;amp;Me.startsWith(&amp;quot;vec&amp;quot;))&amp;amp;&amp;amp;(Te=Me),nt=Te),xe+=Me===nt,Me===nt||Me===&amp;quot;float&amp;quot;&amp;amp;&amp;amp;nt.startsWith(&amp;quot;vec&amp;quot;)});return{...ge,valid:Ie,similarity:xe,genType:Te}};if(Array.isArray($)){let ge=$.filter(xe=&amp;gt;xe.args.length===z.length);if(ge.length===0){let xe=new Set,Ie=[];$.forEach(Ge=&amp;gt;xe.add(Ge.args.length)),xe.forEach(Ge=&amp;gt;Ie.push(`${Ge}`));let Ce=Ie.join(&amp;quot; or &amp;quot;);throw new Error(`Function &amp;#39;${P}&amp;#39; has ${$.length} variants which expect ${Ce} arguments, but ${z.length} arguments were provided.`)}let Te=function(xe,Ie){return Ie=ve(Ie),Ie.valid&amp;amp;&amp;amp;(!xe||Ie.similarity&amp;gt;xe.similarity)&amp;amp;&amp;amp;(xe=Ie),xe};K=ge.reduce(Te,null)}else K=ve($);if(!K||!K.valid){let ge=Ie=&amp;gt;`(${Ie.map(Ce=&amp;gt;Ce).join(&amp;quot;, &amp;quot;)})`,Te=Array.isArray($)?$.map(Ie=&amp;gt;ge(Ie.args)).join(&amp;quot; or &amp;quot;):ge($.args),xe=ge(z.map(Ie=&amp;gt;E(Ie)));throw new Error(`Function &amp;#39;${P}&amp;#39; was called with wrong arguments. Most likely, you provided mixed lengths vectors as arguments.
<a href="#l2335" class="line" id="l2335">   2335</a> &lt;a href=&quot;#l2316&quot; class=&quot;line&quot; id=&quot;l2316&quot;&gt;   2316&lt;/a&gt; Expected argument types: ${Te}
<a href="#l2336" class="line" id="l2336">   2336</a> &lt;a href=&quot;#l2317&quot; class=&quot;line&quot; id=&quot;l2317&quot;&gt;   2317&lt;/a&gt; Provided argument types: ${xe}
<a href="#l2337" class="line" id="l2337">   2337</a> &lt;a href=&quot;#l2318&quot; class=&quot;line&quot; id=&quot;l2318&quot;&gt;   2318&lt;/a&gt; All of the arguments with expected type &amp;#39;genType&amp;#39; should have a matching type. If one of those is different, try to find where it was created.
<a href="#l2338" class="line" id="l2338">   2338</a> &lt;a href=&quot;#l2319&quot; class=&quot;line&quot; id=&quot;l2319&quot;&gt;   2319&lt;/a&gt;         `)}if(z.length!==K.args.length)throw new Error(`Function &amp;#39;${P}&amp;#39; expects ${K.args.length} arguments, but ${z.length} were provided.`);z=z.map((ge,Te)=&amp;gt;{if(C(ge))D(ge)&amp;amp;&amp;amp;K.args[Te]===&amp;quot;genType&amp;quot;&amp;amp;&amp;amp;K.genType!==&amp;quot;float&amp;quot;&amp;amp;&amp;amp;(ge=ue[K.genType](ge));else{let xe=K.args[Te]===&amp;quot;genType&amp;quot;?K.genType:K.args[Te];ge=ue[xe](ge)}return ge}),K.returnType===&amp;quot;genType&amp;quot;&amp;amp;&amp;amp;(K.returnType=K.genType),super(ne,K.returnType),this.name=P,this.args=z,this.argumentTypes=K.args}deconstructArgs(P){return this.args.map(($,ne)=&amp;gt;(T($)&amp;amp;&amp;amp;this.argumentTypes[ne]!=&amp;quot;float&amp;quot;&amp;amp;&amp;amp;($=$.toFloat()),$.toGLSLBase(P),$.toGLSLBase(P))).join(&amp;quot;, &amp;quot;)}toGLSL(P){return`${this.name}(${this.deconstructArgs(P)})`}}class d extends h{constructor(P,z,$=!1){super($,z),this.name=P}toGLSL(P){return`${this.name}`}}class m extends h{constructor(P,z,$,ne=!1){super(ne,$),this.parent=P,this.componentName=z,this.type=$}toGLSL(P){let z=this.parent.toGLSLBase(P);return!U(this.parent)&amp;amp;&amp;amp;!W(this.parent)&amp;amp;&amp;amp;(z=`(${z})`),`${z}.${this.componentName}`}}class g extends d{constructor(P,z,$=!1){super(P,z,$),this.timesChanged=0,this.tempVars=0}getValue(){let P=r.context;if(!P.varyings[this.name]||!this.timesChanged)return this;let z=P.varyings[this.name].splice(0,this.timesChanged),$;return z.forEach((ne,K)=&amp;gt;{let{value:ve}=ne;if(P.declarations.push(`  ${this.name} = ${ve.toGLSLBase(P)};`),K===z.length-1){let ge=`${this.name}_${this.tempVars++}`;$=ie(new d(ge,this.type,!0)),P.declarations.push(`  ${this.type} ${ge} = ${this.name};`)}}),this.timesChanged=0,$}bridge(P){(!C(P)||this.type.startsWith(&amp;quot;vec&amp;quot;)&amp;amp;&amp;amp;E(P)===&amp;quot;float&amp;quot;)&amp;amp;&amp;amp;(P=ue[this.type](P)),r.registerVarying(this,P),this.timesChanged+=1}}class v extends h{constructor(P,z,$,ne=!1){super(ne,null),this.operator=$,this.left=P,this.right=z;for(let K of[P,z])K.usedIn.push(this);this.type=this.determineType()}determineType(){if([&amp;quot;==&amp;quot;,&amp;quot;&amp;gt;&amp;quot;,&amp;quot;&amp;gt;=&amp;quot;,&amp;quot;&amp;lt;&amp;quot;,&amp;quot;&amp;lt;=&amp;quot;,&amp;quot;||&amp;quot;,&amp;quot;!&amp;quot;,&amp;quot;&amp;amp;&amp;amp;&amp;quot;].includes(this.operator))return&amp;quot;bool&amp;quot;;if(this.left.type===this.right.type)return this.left.type;if(N(this.left)&amp;amp;&amp;amp;D(this.right))return this.left.type;if(N(this.right)&amp;amp;&amp;amp;D(this.left))return this.right.type;if(D(this.left)&amp;amp;&amp;amp;T(this.right)||T(this.left)&amp;amp;&amp;amp;D(this.right))return&amp;quot;float&amp;quot;;throw new Error(&amp;quot;Incompatible types for binary operator&amp;quot;)}processOperand(P,z){if(P.temporaryVariable)return P.temporaryVariable;let $=P.toGLSLBase(z);return B(P)&amp;amp;&amp;amp;!P.temporaryVariable&amp;amp;&amp;amp;($=`(${$})`),this.type===&amp;quot;float&amp;quot;&amp;amp;&amp;amp;T(P)&amp;amp;&amp;amp;($=`float(${$})`),$}toGLSL(P){let z=this.processOperand(this.left,P),$=this.processOperand(this.right,P);return`${z} ${this.operator} ${$}`}}class w extends v{constructor(P,z,$){super(P,z,$)}toGLSL(P){return N(this)||D(this)?`mod(${this.left.toGLSLBase(P)}, ${this.right.toGLSLBase(P)})`:`${this.processOperand(P,this.left)} % ${this.processOperand(P,this.right)}`}}class y extends h{constructor(P,z,$=!1){super($,P.type),this.node=P,this.operator=z}toGLSL(P){let z=this.node.toGLSLBase(P);return!U(this.node)&amp;amp;&amp;amp;!W(this.node)&amp;amp;&amp;amp;!te(this.node)&amp;amp;&amp;amp;(z=`(${z})`),`${this.operator}${z}`}}h.prototype.equalTo=function(O){return ee(this,this.enforceType(O),&amp;quot;==&amp;quot;)},h.prototype.greaterThan=function(O){return ee(this,this.enforceType(O),&amp;quot;&amp;gt;&amp;quot;)},h.prototype.greaterThanEqualTo=function(O){return ee(this,this.enforceType(O),&amp;quot;&amp;gt;=&amp;quot;)},h.prototype.lessThan=function(O){return ee(this,this.enforceType(O),&amp;quot;&amp;lt;&amp;quot;)},h.prototype.lessThanEqualTo=function(O){return ee(this,this.enforceType(O),&amp;quot;&amp;lt;=&amp;quot;)},h.prototype.not=function(){return new y(this.condition,&amp;quot;!&amp;quot;,!0)},h.prototype.or=function(O){return new ee(this,this.enforceType(O),&amp;quot;||&amp;quot;,!0)},h.prototype.and=function(O){return new ee(this,this.enforceType(O),&amp;quot;&amp;amp;&amp;amp;&amp;quot;,!0)};function S(O){let P=new b;return O(),n=null,P}class _{constructor(P,z){this.dependsOn=[],this.usedIn=[],this.dependsOnSatisfied=[],this.usedInSatisfied=[],this.states=[],this.if(P,z),this.insertionPoint=-1,this.elseIfs=[],this.elseBranch=null,r.context.ifs.push(this)}if(P,z){this.condition=P,this.conditionString=P.toGLSL(r.context),this.ifBranch=S(z),this.ifBranch.parent=this}elseIf(P,z){let $=S(z);return z.parent=this,this.elseIfs.push({condition:P,elseBranch:$}),this}else(P){return this.elseBranch=S(P),this.elseBranch.parent=this,this}thenDiscard(){return new I(this.condition)}saveState(P,z,$){this.states.push({line:P.declarations.length,usedInSatisfied:z,dependsOnSatisfied:$}),this.insertionPoint=P.declarations.length-1}toGLSL(P){let z=P.declarations.length;this.dependsOn.forEach(ve=&amp;gt;P.updateComponents(ve.node));let ne=P.declarations.length-z;this.insertionPoint+=ne;let K=[`
<a href="#l2339" class="line" id="l2339">   2339</a> &lt;a href=&quot;#l2320&quot; class=&quot;line&quot; id=&quot;l2320&quot;&gt;   2320&lt;/a&gt;   if (${this.conditionString}) {`,`
<a href="#l2340" class="line" id="l2340">   2340</a> &lt;a href=&quot;#l2321&quot; class=&quot;line&quot; id=&quot;l2321&quot;&gt;   2321&lt;/a&gt;     ${this.ifBranch.toGLSL(P)}`,`
<a href="#l2341" class="line" id="l2341">   2341</a> &lt;a href=&quot;#l2322&quot; class=&quot;line&quot; id=&quot;l2322&quot;&gt;   2322&lt;/a&gt;   }`];return this.elseIfs.length&amp;amp;&amp;amp;this.elseIfs.forEach(ve=&amp;gt;{let{condition:ge,elseBranch:Te}=ve;K.push(` else if (${ge.toGLSL(P)}) {`),K.push(`
<a href="#l2342" class="line" id="l2342">   2342</a> &lt;a href=&quot;#l2323&quot; class=&quot;line&quot; id=&quot;l2323&quot;&gt;   2323&lt;/a&gt;     ${Te.toGLSL(P)}`),K.push(`
<a href="#l2343" class="line" id="l2343">   2343</a> &lt;a href=&quot;#l2324&quot; class=&quot;line&quot; id=&quot;l2324&quot;&gt;   2324&lt;/a&gt;   }`)}),this.elseBranch&amp;amp;&amp;amp;(K.push(&amp;quot; else {&amp;quot;),K.push(`
<a href="#l2344" class="line" id="l2344">   2344</a> &lt;a href=&quot;#l2325&quot; class=&quot;line&quot; id=&quot;l2325&quot;&gt;   2325&lt;/a&gt;     ${this.elseBranch.toGLSL(P)}`),K.push(`
<a href="#l2345" class="line" id="l2345">   2345</a> &lt;a href=&quot;#l2326&quot; class=&quot;line&quot; id=&quot;l2326&quot;&gt;   2326&lt;/a&gt;   }
<a href="#l2346" class="line" id="l2346">   2346</a> &lt;a href=&quot;#l2327&quot; class=&quot;line&quot; id=&quot;l2327&quot;&gt;   2327&lt;/a&gt; `)),K.push(`
<a href="#l2347" class="line" id="l2347">   2347</a> &lt;a href=&quot;#l2328&quot; class=&quot;line&quot; id=&quot;l2328&quot;&gt;   2328&lt;/a&gt; `),K.flat().join(&amp;quot;&amp;quot;)}}t.assign=function(O,P){if(!n)throw new error(&amp;#39;assign() is supposed to be used inside of conditional branchs. Use the &amp;quot;=&amp;quot; operator as normal otherwise.&amp;#39;);n.assign(O,P)};class b{constructor(){n=this,this.statements=[],this.assignments=[],this.dependsOn=[],this.declarations=[];let P=null;Object.defineProperty(this,&amp;quot;parent&amp;quot;,{get(){return P},set(z){z.dependsOn.push(...this.dependsOn),P=z}})}assign(P,z){!C(z)||z.type!==P.type?(z=ue[P.type](z),this.declarations.push(z),this.assignments.push({node:P})):this.assignments.push({node:P,value:z}),P=P.parent?P.parent:P,z=z.parent?z.parent:z,![P,z].some($=&amp;gt;this.dependsOn.some(ne=&amp;gt;ne.node===$))&amp;amp;&amp;amp;(P.assertUsedInConditional(this),this.dependsOn.push(Y(P)),z.shouldUseTemporaryVariable()&amp;amp;&amp;amp;(z.assertUsedInConditional(this),this.dependsOn.push(Y(z))))}toGLSL(P){let z=0;return this.assignments.forEach(({node:$,value:ne})=&amp;gt;{let K,ve;if(ne)ve=ne.toGLSLBase(P);else{let ge=this.declarations[z];z++,ge.temporaryVariable=`temp_${P.getNextID()}`,this.statements.push(`${ge.type} ${ge.temporaryVariable} = ${ge.toGLSL(P)};`),ve=ge.toGLSLBase(P)}U($)||W($)?K=`${$.toGLSLBase(P)} = ${ve};`:F($)&amp;amp;&amp;amp;$.name?K=`${$.parent.toGLSLBase(P)}.${$.name} = ${ve};`:($.temporaryVariable=`temp_${P.getNextID()}`,K=`${$.type} ${$.toGLSLBase(P)} = ${ve};`),this.statements.push(K)}),this.statements.join(`
<a href="#l2348" class="line" id="l2348">   2348</a> &lt;a href=&quot;#l2329&quot; class=&quot;line&quot; id=&quot;l2329&quot;&gt;   2329&lt;/a&gt;     `)}}class I{constructor(P){this.condition=P}toGLSL(P){P.discardConditions.push(`if (${this.condition}{discard;})`)}}function E(O){if(C(O))return O.type;if(Array.isArray(O)&amp;amp;&amp;amp;O.length&amp;gt;1)return`vec${O.length}`;if(typeof O==&amp;quot;number&amp;quot;||Array.isArray(O)&amp;amp;&amp;amp;O.length===1)return&amp;quot;float&amp;quot;}function A(O){let P=0;if(Array.isArray(O))for(let z of O)N(z)?P+=parseInt(z.type.slice(3)):P+=1;else N(O)&amp;amp;&amp;amp;(P+=parseInt(val.type.slice(3)));if(![2,3,4].includes(P))throw new Error(`You have attempted to construct a vector with ${P} values. Only vec2, vec3, and vec4 types are supported.`);return P}t.dynamicNode=function(O){if(C(O))return O;if(typeof O==&amp;quot;number&amp;quot;)return new c(O);if(Array.isArray(O))return ue.dynamicVector(O)},t.unaryNode=function(O,P){return O=dynamicNode(O),ie(new y(O,P))};function C(O){return O instanceof h}function T(O){return C(O)&amp;amp;&amp;amp;O.type===&amp;quot;int&amp;quot;}function D(O){return C(O)&amp;amp;&amp;amp;O.type===&amp;quot;float&amp;quot;}function F(O){return O instanceof c}function N(O){return C(O)&amp;amp;&amp;amp;(O.type===&amp;quot;vec2&amp;quot;||O.type===&amp;quot;vec3&amp;quot;||O.type===&amp;quot;vec4&amp;quot;)}function B(O){return O instanceof v}function U(O){return O instanceof d||O instanceof m}function j(O){return O instanceof _||O instanceof b}function W(O){return O.temporaryVariable}function te(O){return O instanceof c||O instanceof l||O instanceof p}function X(O){return O instanceof f}function Z(O){return O instanceof p}function G(O){return O instanceof y}function q(O){return[&amp;quot;int&amp;quot;,&amp;quot;float&amp;quot;,&amp;quot;vec2&amp;quot;,&amp;quot;vec3&amp;quot;,&amp;quot;vec4&amp;quot;,&amp;quot;sampler2D&amp;quot;].includes(O)}class J{constructor(P,z,$){r=this,this.userCallback=P,this.srcLocations=$,this.cleanup=()=&amp;gt;{},this.generateHookOverrides(z),this.output={vertexDeclarations:new Set,fragmentDeclarations:new Set,uniforms:{}},this.uniformNodes=[],this.resetGLSLContext(),this.isGenerating=!1}generate(){let P=i.disableFriendlyErrors;return i.disableFriendlyErrors=!0,this.isGenerating=!0,this.userCallback(),this.output.vertexDeclarations=[...this.output.vertexDeclarations].join(`
<a href="#l2349" class="line" id="l2349">   2349</a> &lt;a href=&quot;#l2330&quot; class=&quot;line&quot; id=&quot;l2330&quot;&gt;   2330&lt;/a&gt; `),this.output.fragmentDeclarations=[...this.output.fragmentDeclarations].join(`
<a href="#l2350" class="line" id="l2350">   2350</a> &lt;a href=&quot;#l2331&quot; class=&quot;line&quot; id=&quot;l2331&quot;&gt;   2331&lt;/a&gt; `),this.isGenerating=!1,this.cleanup(),i.disableFriendlyErrors=P,this.output}generateHookOverrides(P){let z={...P.hooks.vertex,...P.hooks.fragment},$={};Object.keys(z).forEach(ne=&amp;gt;{let K=P.hookTypes(ne);this[K.name]=function(ve){let ge=[],Te=[];K.parameters.forEach(Me=&amp;gt;{if(q(Me.type.typeName))ge.push(se(Me.name,Me.type.typeName,!0));else{let Gt={};Me.type.properties.forEach(ft=&amp;gt;{Gt[ft.name]=se(`${Me.name}.${ft.name}`,ft.type.typeName,!0)}),ge.push(Gt)}let nt=Me.type.qualifiers.length&amp;gt;0?Me.type.qualifiers.join(&amp;quot; &amp;quot;):&amp;quot;&amp;quot;;Te.push(`${nt} ${Me.type.typeName} ${Me.name}`.trim())});let xe=ve(...ge),Ie=K.returnType,Ce={};q(Ie.typeName)?(C(xe)?D(xe)&amp;amp;&amp;amp;Ie.typeName.startsWith(&amp;quot;vec&amp;quot;)&amp;amp;&amp;amp;(xe=ue[Ie.typeName](xe)):xe=ue[Ie.typeName](xe),Ce.notAProperty=xe.toGLSLBase(this.context),this.context.updateComponents(xe)):Object.entries(xe).forEach(([Me,nt])=&amp;gt;{nt=dynamicNode(nt),Ce[Me]=nt.toGLSLBase(this.context),this.context.updateComponents(nt)}),this.context.ifs.forEach(Me=&amp;gt;{if(Me.usedIn.length===0)return;let nt=Me.toGLSL(this.context);this.context.declarations.splice(Me.insertionPoint,0,nt)});let Ge=[`(${Te.join(&amp;quot;, &amp;quot;)}) {`,...this.context.declarations,`
<a href="#l2351" class="line" id="l2351">   2351</a> &lt;a href=&quot;#l2332&quot; class=&quot;line&quot; id=&quot;l2332&quot;&gt;   2332&lt;/a&gt;   ${K.returnType.typeName} finalReturnValue;`];Object.entries(Ce).forEach(([Me,nt])=&amp;gt;{let Gt=Ie.properties?`.${Me}`:&amp;quot;&amp;quot;;Ge.push(`  finalReturnValue${Gt} = ${nt};`)}),this.context.declarations=[];for(let Me in this.context.varyings){let nt=this.context.varyings[Me],Gt=[];nt.forEach(ft=&amp;gt;{let{node:Ri,value:Bi}=ft;Gt.push(`  ${Ri.name} = ${Bi.toGLSLBase(this.context)};`),Gt.unshift(...this.context.declarations),Ri.timesChanged=0}),Ge.push(...Gt)}Ge.push(&amp;quot;  return finalReturnValue;&amp;quot;,&amp;quot;}&amp;quot;),this.output[ne]=Ge.join(`
<a href="#l2352" class="line" id="l2352">   2352</a> &lt;a href=&quot;#l2333&quot; class=&quot;line&quot; id=&quot;l2333&quot;&gt;   2333&lt;/a&gt; `),this.resetGLSLContext()},$[K.name]=window[K.name],window[K.name]=function(ve){r[K.name](ve)}}),this.cleanup=()=&amp;gt;{for(let ne in $)window[ne]=$[ne]}}registerVarying(P,z){Array.isArray(this.context.varyings[P.name])||(this.context.varyings[P.name]=[]),this.context.varyings[P.name].push({node:P,value:z}),this.output.vertexDeclarations.add(`OUT ${P.type} ${P.name};`),this.output.fragmentDeclarations.add(`IN ${P.type} ${P.name};`)}resetGLSLContext(){this.uniformNodes.forEach(P=&amp;gt;{P.usedIn=[],P.temporaryVariable=void 0}),this.context={id:0,getNextID(){return this.id++},declarations:[],varyings:[],ifs:[],updateComponents:function(P,z,$){if(P.componentsChanged){$||($=P.componentNames.map(()=&amp;gt;!0));let ne=[];if(Z(P))P.componentNames.forEach((K,ve)=&amp;gt;{if($[ve]&amp;amp;&amp;amp;P[K]!==P.originalValues[ve]){let ge=ue.float(P[K]),Te=`  ${P.temporaryVariable}.${K} = ${ge.toGLSLBase(this)};`;ne.push(Te)}});else{let K=P.componentNames.map(Te=&amp;gt;P[Te]),ve=ue[P.type](K),ge=`  ${P.temporaryVariable} = ${ve.toGLSLBase(this)};`;ne.push(ge)}z?this.declarations.splice(z,0,...ne):this.declarations.push(...ne),P.componentsChanged=!1}}},this.uniformNodes=[]}}function Y(O){return N(O)?{node:O,isVector:!0,originalComponents:[...O.componentNames.map(P=&amp;gt;O[P])],get currentComponents(){return O.componentNames.map(P=&amp;gt;O[P])}}:{node:O,isVector:!1}}function Q(O){return O.map(P=&amp;gt;Y(P))}function fe(O,P){return Array.isArray(O)||(O=[O]),O=O.flat(),O=O.map(z=&amp;gt;N(z)?z.componentNames.map(ne=&amp;gt;z[ne]):z).flat(),O.length===1&amp;amp;&amp;amp;!Z(O[0])&amp;amp;&amp;amp;(O=Array(P).fill(O[0])),O}function de(O){let P=[[&amp;quot;x&amp;quot;,&amp;quot;y&amp;quot;,&amp;quot;z&amp;quot;,&amp;quot;w&amp;quot;],[&amp;quot;r&amp;quot;,&amp;quot;g&amp;quot;,&amp;quot;b&amp;quot;,&amp;quot;a&amp;quot;],[&amp;quot;s&amp;quot;,&amp;quot;t&amp;quot;,&amp;quot;p&amp;quot;,&amp;quot;q&amp;quot;]].map(z=&amp;gt;z.slice(0,O));return{get(z,$,ne){if($ in z)return Reflect.get(...arguments);for(let K of P)if([...$].every(ve=&amp;gt;K.includes(ve))){if($.length===1)return z[P[0][K.indexOf($[0])]];let ve=[...$].map(Te=&amp;gt;{let xe=K.indexOf(Te),Ie=P[0][xe];return z[Ie]}),ge=`vec${$.length}`;return ue[ge](ve)}},set(z,$,ne,K){for(let ve of P){let ge=[...$];if(ge.every(Te=&amp;gt;ve.includes(Te))){let Te=Array.isArray(ne)?ne:Array($.length).fill(ne);return ge.forEach((xe,Ie)=&amp;gt;{let Ce=ve.indexOf(xe),Ge=P[0][Ce];Reflect.set(z,Ge,Te[Ie],K)}),!0}}return Reflect.set(...arguments)}}}t.If=function(O,P){return new _(O,P)},t.instanceID=function(){return se(&amp;quot;gl_InstanceID&amp;quot;,&amp;quot;int&amp;quot;)},t.getTexture=function(...O){return ce(&amp;quot;getTexture&amp;quot;,O,{args:[&amp;quot;sampler2D&amp;quot;,&amp;quot;vec2&amp;quot;],returnType:&amp;quot;vec4&amp;quot;,isp5Function:!0})};let me={int:&amp;quot;Int&amp;quot;,float:&amp;quot;Float&amp;quot;,vec2:&amp;quot;Vector2&amp;quot;,vec3:&amp;quot;Vector3&amp;quot;,vec4:&amp;quot;Vector4&amp;quot;,sampler2D:&amp;quot;Texture&amp;quot;};function ie(O,P){if(O.type.startsWith(&amp;quot;vec&amp;quot;)||P){let z=parseInt(O.type.slice(3));O=new Proxy(O,de(z)),O.addVectorComponents()}return O}function ee(O,P,z,$){let ne;return z===&amp;quot;%&amp;quot;?ne=new w(O,P):ne=new v(O,P,z,$),ie(ne)}function se(O,P,z){let $=new d(O,P,z);return ie($)}function ce(O,P,z,$){let ne=new f(O,P,z,$);return ne=ie(ne),ne.dependsOn=Q(ne.args),ne.args.map(ve=&amp;gt;ve.usedIn.filter(Te=&amp;gt;j(Te)).map(Te=&amp;gt;Te instanceof b?Te.parent:Te)).flat().forEach(ve=&amp;gt;ve.usedIn.push(ne)),ne}let ue={int:O=&amp;gt;new l(O),float:O=&amp;gt;new c(O),vec2:O=&amp;gt;ie(new p(O,&amp;quot;vec2&amp;quot;)),vec3:O=&amp;gt;ie(new p(O,&amp;quot;vec3&amp;quot;)),vec4:O=&amp;gt;ie(new p(O,&amp;quot;vec4&amp;quot;)),dynamicVector:function(O){let P=A(O);return this[`vec${P}`](O)}};for(let O in me){let P=me[O],z=`uniform${P}`;if(J.prototype[z]=function(...K){let[ve,...ge]=K;O.startsWith(&amp;quot;vec&amp;quot;)&amp;amp;&amp;amp;!(ge[0]instanceof Function)?(ge=fe(ge,parseInt(O.slice(3))),this.output.uniforms[`${O} ${ve}`]=ge):this.output.uniforms[`${O} ${ve}`]=ge[0];let Te=se(ve,O,!1);return this.uniformNodes.push(Te),Te},t[z]=function(...K){return r[z](...K)},O===&amp;quot;sampler2D&amp;quot;)continue;let $=`varying${P}`;J.prototype[$]=function(K){return ie(new g(K,O,!1))},t[$]=function(K){return r[$](K)};let ne=t[O];t[O]=function(...K){if(r?.isGenerating)return O.startsWith(&amp;quot;vec&amp;quot;)?K=fe(K,parseInt(O.slice(3))):K=K[0],ue[O](K);if(ne)return ne.apply(this,K);i._friendlyError(`It looks like you&amp;#39;ve called ${O} outside of a shader&amp;#39;s modify() function.`)}}Object.entries({acos:{args:[&amp;quot;genType&amp;quot;],returnType:&amp;quot;genType&amp;quot;,isp5Function:!0},acosh:{args:[&amp;quot;genType&amp;quot;],returnType:&amp;quot;genType&amp;quot;,isp5Function:!1},asin:{args:[&amp;quot;genType&amp;quot;],returnType:&amp;quot;genType&amp;quot;,isp5Function:!0},asinh:{args:[&amp;quot;genType&amp;quot;],returnType:&amp;quot;genType&amp;quot;,isp5Function:!1},atan:[{args:[&amp;quot;genType&amp;quot;],returnType:&amp;quot;genType&amp;quot;,isp5Function:!1},{args:[&amp;quot;genType&amp;quot;,&amp;quot;genType&amp;quot;],returnType:&amp;quot;genType&amp;quot;,isp5Function:!1}],atanh:{args:[&amp;quot;genType&amp;quot;],returnType:&amp;quot;genType&amp;quot;,isp5Function:!1},cos:{args:[&amp;quot;genType&amp;quot;],returnType:&amp;quot;genType&amp;quot;,isp5Function:!0},cosh:{args:[&amp;quot;genType&amp;quot;],returnType:&amp;quot;genType&amp;quot;,isp5Function:!1},degrees:{args:[&amp;quot;genType&amp;quot;],returnType:&amp;quot;genType&amp;quot;,isp5Function:!0},radians:{args:[&amp;quot;genType&amp;quot;],returnType:&amp;quot;genType&amp;quot;,isp5Function:!0},sin:{args:[&amp;quot;genType&amp;quot;],returnType:&amp;quot;genType&amp;quot;,isp5Function:!0},sinh:{args:[&amp;quot;genType&amp;quot;],returnType:&amp;quot;genType&amp;quot;,isp5Function:!1},tan:{args:[&amp;quot;genType&amp;quot;],returnType:&amp;quot;genType&amp;quot;,isp5Function:!0},tanh:{args:[&amp;quot;genType&amp;quot;],returnType:&amp;quot;genType&amp;quot;,isp5Function:!1},abs:{args:[&amp;quot;genType&amp;quot;],returnType:&amp;quot;genType&amp;quot;,isp5Function:!0},ceil:{args:[&amp;quot;genType&amp;quot;],returnType:&amp;quot;genType&amp;quot;,isp5Function:!0},clamp:{args:[&amp;quot;genType&amp;quot;,&amp;quot;genType&amp;quot;,&amp;quot;genType&amp;quot;],returnType:&amp;quot;genType&amp;quot;,isp5Function:!1},dFdx:{args:[&amp;quot;genType&amp;quot;],returnType:&amp;quot;genType&amp;quot;,isp5Function:!1},dFdy:{args:[&amp;quot;genType&amp;quot;],returnType:&amp;quot;genType&amp;quot;,isp5Function:!1},exp:{args:[&amp;quot;genType&amp;quot;],returnType:&amp;quot;genType&amp;quot;,isp5Function:!0},exp2:{args:[&amp;quot;genType&amp;quot;],returnType:&amp;quot;genType&amp;quot;,isp5Function:!1},floor:{args:[&amp;quot;genType&amp;quot;],returnType:&amp;quot;genType&amp;quot;,isp5Function:!0},fma:{args:[&amp;quot;genType&amp;quot;,&amp;quot;genType&amp;quot;,&amp;quot;genType&amp;quot;],returnType:&amp;quot;genType&amp;quot;,isp5Function:!1},fract:{args:[&amp;quot;genType&amp;quot;],returnType:&amp;quot;genType&amp;quot;,isp5Function:!0},fwidth:{args:[&amp;quot;genType&amp;quot;],returnType:&amp;quot;genType&amp;quot;,isp5Function:!1},inversesqrt:{args:[&amp;quot;genType&amp;quot;],returnType:&amp;quot;genType&amp;quot;,isp5Function:!0},log:{args:[&amp;quot;genType&amp;quot;],returnType:&amp;quot;genType&amp;quot;,isp5Function:!0},log2:{args:[&amp;quot;genType&amp;quot;],returnType:&amp;quot;genType&amp;quot;,isp5Function:!1},max:[{args:[&amp;quot;genType&amp;quot;,&amp;quot;genType&amp;quot;],returnType:&amp;quot;genType&amp;quot;,isp5Function:!0},{args:[&amp;quot;genType&amp;quot;,&amp;quot;float&amp;quot;],returnType:&amp;quot;genType&amp;quot;,isp5Function:!0}],min:[{args:[&amp;quot;genType&amp;quot;,&amp;quot;genType&amp;quot;],returnType:&amp;quot;genType&amp;quot;,isp5Function:!0},{args:[&amp;quot;genType&amp;quot;,&amp;quot;float&amp;quot;],returnType:&amp;quot;genType&amp;quot;,isp5Function:!0}],mix:[{args:[&amp;quot;genType&amp;quot;,&amp;quot;genType&amp;quot;,&amp;quot;genType&amp;quot;],returnType:&amp;quot;genType&amp;quot;,isp5Function:!1},{args:[&amp;quot;genType&amp;quot;,&amp;quot;genType&amp;quot;,&amp;quot;float&amp;quot;],returnType:&amp;quot;genType&amp;quot;,isp5Function:!1}],pow:{args:[&amp;quot;genType&amp;quot;,&amp;quot;genType&amp;quot;],returnType:&amp;quot;genType&amp;quot;,isp5Function:!0},round:{args:[&amp;quot;genType&amp;quot;],returnType:&amp;quot;genType&amp;quot;,isp5Function:!0},roundEven:{args:[&amp;quot;genType&amp;quot;],returnType:&amp;quot;genType&amp;quot;,isp5Function:!1},smoothstep:[{args:[&amp;quot;genType&amp;quot;,&amp;quot;genType&amp;quot;,&amp;quot;genType&amp;quot;],returnType:&amp;quot;genType&amp;quot;,isp5Function:!1},{args:[&amp;quot;float&amp;quot;,&amp;quot;float&amp;quot;,&amp;quot;genType&amp;quot;],returnType:&amp;quot;genType&amp;quot;,isp5Function:!1}],sqrt:{args:[&amp;quot;genType&amp;quot;],returnType:&amp;quot;genType&amp;quot;,isp5Function:!0},step:{args:[&amp;quot;genType&amp;quot;,&amp;quot;genType&amp;quot;],returnType:&amp;quot;genType&amp;quot;,isp5Function:!1},trunc:{args:[&amp;quot;genType&amp;quot;],returnType:&amp;quot;genType&amp;quot;,isp5Function:!1},cross:{args:[&amp;quot;vec3&amp;quot;,&amp;quot;vec3&amp;quot;],returnType:&amp;quot;vec3&amp;quot;,isp5Function:!0},distance:{args:[&amp;quot;genType&amp;quot;,&amp;quot;genType&amp;quot;],returnType:&amp;quot;float&amp;quot;,isp5Function:!0},dot:{args:[&amp;quot;genType&amp;quot;,&amp;quot;genType&amp;quot;],returnType:&amp;quot;float&amp;quot;,isp5Function:!0},faceforward:{args:[&amp;quot;genType&amp;quot;,&amp;quot;genType&amp;quot;,&amp;quot;genType&amp;quot;],returnType:&amp;quot;genType&amp;quot;,isp5Function:!1},length:{args:[&amp;quot;genType&amp;quot;],returnType:&amp;quot;float&amp;quot;,isp5Function:!1},normalize:{args:[&amp;quot;genType&amp;quot;],returnType:&amp;quot;genType&amp;quot;,isp5Function:!0},reflect:{args:[&amp;quot;genType&amp;quot;,&amp;quot;genType&amp;quot;],returnType:&amp;quot;genType&amp;quot;,isp5Function:!1},refract:{args:[&amp;quot;genType&amp;quot;,&amp;quot;genType&amp;quot;,&amp;quot;float&amp;quot;],returnType:&amp;quot;genType&amp;quot;,isp5Function:!1},texture:{args:[&amp;quot;sampler2D&amp;quot;,&amp;quot;vec2&amp;quot;],returnType:&amp;quot;vec4&amp;quot;,isp5Function:!0}}).forEach(([O,P])=&amp;gt;{if(Array.isArray(P)?P[0].isp5Function:P.isp5Function){let $=t[O];t[O]=function(...ne){return r?.isGenerating?ce(O,ne,P):$.apply(this,ne)}}else t[O]=function(...$){if(r?.isGenerating)return new ce(O,$,P);i._friendlyError(`It looks like you&amp;#39;ve called ${O} outside of a shader&amp;#39;s modify() function.`)}})}typeof p5&amp;lt;&amp;quot;u&amp;quot;&amp;amp;&amp;amp;p5.registerAddon(Yp);var n6=Se(Bt());var f6=Se(or());var d6=Se(ur());var _6=Se(lr());var D6=Se(Xs());var I6=Se(aa());var L6=Se(th());function Vy(i){Vc(i,i.prototype),ul(i,i.prototype),Kf(i,i.prototype),ll(i,i.prototype),Jf(i,i.prototype),Uc(i,i.prototype),ny(i,i.prototype),hc(i,i.prototype),lc(i,i.prototype),ac(i,i.prototype),uc(i,i.prototype),Sc(i,i.prototype),Gc(i,i.prototype),oc(i,i.prototype),io(i,i.prototype),no(i,i.prototype),Yp(i,i.prototype)}var q6=Se(Bt()),Z6=Se(Xs());var J6=Se(aa());function Uy(i){i.registerAddon(Qf),i.registerAddon(Mp)}var v9=Se(Bt());var A9=Se(or());var F9=Se(ur());var V9=Se(lr());var Gy=()=&amp;gt;{if(typeof window._setupDone&amp;lt;&amp;quot;u&amp;quot;){console.warn(&amp;quot;p5.js seems to have been imported multiple times. Please remove the duplicate import&amp;quot;);return}if(!window.mocha){let i=new Event(&amp;quot;p5Ready&amp;quot;);window.dispatchEvent(i),(window.setup&amp;amp;&amp;amp;typeof window.setup==&amp;quot;function&amp;quot;||window.draw&amp;amp;&amp;amp;typeof window.draw==&amp;quot;function&amp;quot;)&amp;amp;&amp;amp;!$e.instance&amp;amp;&amp;amp;new $e}},zy=()=&amp;gt;new Promise((i,t)=&amp;gt;{document.readyState===&amp;quot;complete&amp;quot;?i():window.addEventListener(&amp;quot;load&amp;quot;,i,!1)}),jy=typeof IS_MINIFIED&amp;gt;&amp;quot;u&amp;quot;?S0():Promise.resolve();var EV=Se(Bt());var kV=Se(or());var LV=Se(ur());var HV=Se(lr());var k7=Se(Xs());var B7=Se(aa());var O7=Se(th());Wm($e);Zm($e);Ym($e);Eg($e);Sg($e);Ag($e);Dg($e);Fg($e);Tg($e);Ng($e);Ig($e);Vy($e);Uy($e);Promise.all([zy(),jy]).then(Gy);var HE=i=&amp;gt;{i.setup=()=&amp;gt;{i.createCanvas(400,400).parent(&amp;quot;sketch-holder&amp;quot;),i.background(220)},i.draw=()=&amp;gt;{i.fill(0,102,204),i.ellipse(i.mouseX,i.mouseY,50,50)}};new $e(HE);})();
<a href="#l2353" class="line" id="l2353">   2353</a> &lt;a href=&quot;#l2334&quot; class=&quot;line&quot; id=&quot;l2334&quot;&gt;   2334&lt;/a&gt; /*! Bundled license information:
<a href="#l2354" class="line" id="l2354">   2354</a> &lt;a href=&quot;#l2335&quot; class=&quot;line&quot; id=&quot;l2335&quot;&gt;   2335&lt;/a&gt; 
<a href="#l2355" class="line" id="l2355">   2355</a> &lt;a href=&quot;#l2336&quot; class=&quot;line&quot; id=&quot;l2336&quot;&gt;   2336&lt;/a&gt; file-saver/FileSaver.js:
<a href="#l2356" class="line" id="l2356">   2356</a> &lt;a href=&quot;#l2337&quot; class=&quot;line&quot; id=&quot;l2337&quot;&gt;   2337&lt;/a&gt;   (*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js *)
<a href="#l2357" class="line" id="l2357">   2357</a> &lt;a href=&quot;#l2338&quot; class=&quot;line&quot; id=&quot;l2338&quot;&gt;   2338&lt;/a&gt; 
<a href="#l2358" class="line" id="l2358">   2358</a> &lt;a href=&quot;#l2339&quot; class=&quot;line&quot; id=&quot;l2339&quot;&gt;   2339&lt;/a&gt; pako/dist/pako.esm.mjs:
<a href="#l2359" class="line" id="l2359">   2359</a> &lt;a href=&quot;#l2340&quot; class=&quot;line&quot; id=&quot;l2340&quot;&gt;   2340&lt;/a&gt;   (*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) *)
<a href="#l2360" class="line" id="l2360">   2360</a> &lt;a href=&quot;#l2341&quot; class=&quot;line&quot; id=&quot;l2341&quot;&gt;   2341&lt;/a&gt; */
<a href="#l2361" class="line" id="l2361">   2361</a> &lt;/pre&gt;
<a href="#l2362" class="line" id="l2362">   2362</a> &lt;/div&gt;
<a href="#l2363" class="line" id="l2363">   2363</a> &lt;/body&gt;
<a href="#l2364" class="line" id="l2364">   2364</a> &lt;/html&gt;
</pre>
</div>
</body>
</html>
